(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[998],{9662:function(e,t,r){var o=r(614),i=r(6330),n=TypeError;e.exports=function(e){if(o(e))return e;throw n(i(e)+" is not a function")}},6077:function(e,t,r){var o=r(614),i=String,n=TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw n("Can't set "+i(e)+" as a prototype")}},5787:function(e,t,r){var o=r(7976),i=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},9670:function(e,t,r){var o=r(111),i=String,n=TypeError;e.exports=function(e){if(o(e))return e;throw n(i(e)+" is not an object")}},3013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,r){"use strict";var o,i,n,a=r(3013),s=r(9781),l=r(7854),c=r(614),u=r(111),d=r(2597),h=r(648),p=r(6330),f=r(8880),g=r(8052),v=r(7045),m=r(7976),b=r(9518),y=r(7674),w=r(5112),C=r(9711),E=r(9909),S=E.enforce,x=E.get,T=l.Int8Array,k=T&&T.prototype,_=l.Uint8ClampedArray,R=_&&_.prototype,O=T&&b(T),D=k&&b(k),A=Object.prototype,P=l.TypeError,M=w("toStringTag"),L=C("TYPED_ARRAY_TAG"),F="TypedArrayConstructor",I=a&&!!y&&"Opera"!==h(l.opera),N=!1,H={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},G={BigInt64Array:8,BigUint64Array:8},V=function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(H,t)||d(G,t)},z=function(e){var t=b(e);if(u(t)){var r=x(t);return r&&d(r,F)?r[F]:z(t)}},B=function(e){if(!u(e))return!1;var t=h(e);return d(H,t)||d(G,t)},j=function(e){if(B(e))return e;throw P("Target is not a typed array")},W=function(e){if(c(e)&&(!y||m(O,e)))return e;throw P(p(e)+" is not a typed array constructor")},U=function(e,t,r,o){if(s){if(r)for(var i in H){var n=l[i];if(n&&d(n.prototype,e))try{delete n.prototype[e]}catch(a){try{n.prototype[e]=t}catch(c){}}}D[e]&&!r||g(D,e,r?t:I&&k[e]||t,o)}},$=function(e,t,r){var o,i;if(s){if(y){if(r)for(o in H)if(i=l[o],i&&d(i,e))try{delete i[e]}catch(n){}if(O[e]&&!r)return;try{return g(O,e,r?t:I&&O[e]||t)}catch(n){}}for(o in H)i=l[o],!i||i[e]&&!r||g(i,e,t)}};for(o in H)i=l[o],n=i&&i.prototype,n?S(n)[F]=i:I=!1;for(o in G)i=l[o],n=i&&i.prototype,n&&(S(n)[F]=i);if((!I||!c(O)||O===Function.prototype)&&(O=function(){throw P("Incorrect invocation")},I))for(o in H)l[o]&&y(l[o],O);if((!I||!D||D===A)&&(D=O.prototype,I))for(o in H)l[o]&&y(l[o].prototype,D);if(I&&b(R)!==D&&y(R,D),s&&!d(D,M))for(o in N=!0,v(D,M,{configurable:!0,get:function(){return u(this)?this[L]:void 0}}),H)l[o]&&f(l[o],L,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:N&&L,aTypedArray:j,aTypedArrayConstructor:W,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:$,getTypedArrayConstructor:z,isView:V,isTypedArray:B,TypedArray:O,TypedArrayPrototype:D}},7745:function(e,t,r){var o=r(6244);e.exports=function(e,t){var r=0,i=o(t),n=new e(i);while(i>r)n[r]=t[r++];return n}},1318:function(e,t,r){var o=r(5656),i=r(1400),n=r(6244),a=function(e){return function(t,r,a){var s,l=o(t),c=n(l),u=i(a,c);if(e&&r!=r){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3658:function(e,t,r){"use strict";var o=r(9781),i=r(3157),n=TypeError,a=Object.getOwnPropertyDescriptor,s=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw n("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},1843:function(e,t,r){var o=r(6244);e.exports=function(e,t){for(var r=o(e),i=new t(r),n=0;n<r;n++)i[n]=e[r-n-1];return i}},1572:function(e,t,r){var o=r(6244),i=r(9303),n=RangeError;e.exports=function(e,t,r,a){var s=o(e),l=i(r),c=l<0?s+l:l;if(c>=s||c<0)throw n("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===c?a:e[d];return u}},4326:function(e,t,r){var o=r(1702),i=o({}.toString),n=o("".slice);e.exports=function(e){return n(i(e),8,-1)}},648:function(e,t,r){var o=r(1694),i=r(614),n=r(4326),a=r(5112),s=a("toStringTag"),l=Object,c="Arguments"==n(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(r){}};e.exports=o?n:function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=l(e),s))?r:c?n(t):"Object"==(o=n(t))&&i(t.callee)?"Arguments":o}},9920:function(e,t,r){var o=r(2597),i=r(3887),n=r(1236),a=r(3070);e.exports=function(e,t,r){for(var s=i(t),l=a.f,c=n.f,u=0;u<s.length;u++){var d=s[u];o(e,d)||r&&o(r,d)||l(e,d,c(t,d))}}},8544:function(e,t,r){var o=r(7293);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,r){var o=r(9781),i=r(3070),n=r(9114);e.exports=o?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,r){"use strict";var o=r(4948),i=r(3070),n=r(9114);e.exports=function(e,t,r){var a=o(t);a in e?i.f(e,a,n(0,r)):e[a]=r}},7045:function(e,t,r){var o=r(6339),i=r(3070);e.exports=function(e,t,r){return r.get&&o(r.get,t,{getter:!0}),r.set&&o(r.set,t,{setter:!0}),i.f(e,t,r)}},8052:function(e,t,r){var o=r(614),i=r(3070),n=r(6339),a=r(3072);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(o(r)&&n(r,c,s),s.global)l?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:function(e,t,r){var o=r(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(o,e,{value:t,configurable:!0,writable:!0})}catch(r){o[e]=t}return t}},9781:function(e,t,r){var o=r(7293);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,r="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},317:function(e,t,r){var o=r(7854),i=r(111),n=o.document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},7207:function(e){var t=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw t("Maximum allowed index exceeded");return e}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7871:function(e,t,r){var o=r(3823),i=r(5268);e.exports=!o&&!i&&"object"==typeof window&&"object"==typeof document},3823:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},5268:function(e,t,r){var o=r(4326);e.exports="undefined"!=typeof process&&"process"==o(process)},8113:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(e,t,r){var o,i,n=r(7854),a=r(8113),s=n.process,l=n.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(o=u.split("."),i=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&a&&(o=a.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/),o&&(i=+o[1]))),e.exports=i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(e,t,r){var o=r(1702),i=Error,n=o("".replace),a=function(e){return String(i(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=n(e,s,"");return e}},2914:function(e,t,r){var o=r(7293),i=r(9114);e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},2109:function(e,t,r){var o=r(7854),i=r(1236).f,n=r(8880),a=r(8052),s=r(3072),l=r(9920),c=r(4705);e.exports=function(e,t){var r,u,d,h,p,f,g=e.target,v=e.global,m=e.stat;if(u=v?o:m?o[g]||s(g,{}):(o[g]||{}).prototype,u)for(d in t){if(p=t[d],e.dontCallGetSet?(f=i(u,d),h=f&&f.value):h=u[d],r=c(v?d:g+(m?".":"#")+d,e.forced),!r&&void 0!==h){if(typeof p==typeof h)continue;l(p,h)}(e.sham||h&&h.sham)&&n(p,"sham",!0),a(u,d,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},9974:function(e,t,r){var o=r(1470),i=r(9662),n=r(4374),a=o(o.bind);e.exports=function(e,t){return i(e),void 0===t?e:n?a(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,r){var o=r(7293);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,r){var o=r(4374),i=Function.prototype.call;e.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(e,t,r){var o=r(9781),i=r(2597),n=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=i(n,"name"),l=s&&"something"===function(){}.name,c=s&&(!o||o&&a(n,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},5668:function(e,t,r){var o=r(1702),i=r(9662);e.exports=function(e,t,r){try{return o(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}}},1470:function(e,t,r){var o=r(4326),i=r(1702);e.exports=function(e){if("Function"===o(e))return i(e)}},1702:function(e,t,r){var o=r(4374),i=Function.prototype,n=i.call,a=o&&i.bind.bind(n,n);e.exports=o?a:function(e){return function(){return n.apply(e,arguments)}}},5005:function(e,t,r){var o=r(7854),i=r(614),n=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?n(o[e]):o[e]&&o[e][t]}},1246:function(e,t,r){var o=r(648),i=r(8173),n=r(8554),a=r(7497),s=r(5112),l=s("iterator");e.exports=function(e){if(!n(e))return i(e,l)||i(e,"@@iterator")||a[o(e)]}},4121:function(e,t,r){var o=r(6916),i=r(9662),n=r(9670),a=r(6330),s=r(1246),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return n(o(r,e));throw l(a(e)+" is not iterable")}},8173:function(e,t,r){var o=r(9662),i=r(8554);e.exports=function(e,t){var r=e[t];return i(r)?void 0:o(r)}},7854:function(e,t,r){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},2597:function(e,t,r){var o=r(1702),i=r(7908),n=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return n(i(e),t)}},3501:function(e){e.exports={}},4664:function(e,t,r){var o=r(9781),i=r(7293),n=r(317);e.exports=!o&&!i((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,r){var o=r(1702),i=r(7293),n=r(4326),a=Object,s=o("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?s(e,""):a(e)}:a},9587:function(e,t,r){var o=r(614),i=r(111),n=r(7674);e.exports=function(e,t,r){var a,s;return n&&o(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&n(e,s),e}},2788:function(e,t,r){var o=r(1702),i=r(614),n=r(5465),a=o(Function.toString);i(n.inspectSource)||(n.inspectSource=function(e){return a(e)}),e.exports=n.inspectSource},9909:function(e,t,r){var o,i,n,a=r(4811),s=r(7854),l=r(111),c=r(8880),u=r(2597),d=r(5465),h=r(6200),p=r(3501),f="Object already initialized",g=s.TypeError,v=s.WeakMap,m=function(e){return n(e)?i(e):o(e,{})},b=function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}};if(a||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,o=function(e,t){if(y.has(e))throw g(f);return t.facade=e,y.set(e,t),t},i=function(e){return y.get(e)||{}},n=function(e){return y.has(e)}}else{var w=h("state");p[w]=!0,o=function(e,t){if(u(e,w))throw g(f);return t.facade=e,c(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},n=function(e){return u(e,w)}}e.exports={set:o,get:i,has:n,enforce:m,getterFor:b}},7659:function(e,t,r){var o=r(5112),i=r(7497),n=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[n]===e)}},3157:function(e,t,r){var o=r(4326);e.exports=Array.isArray||function(e){return"Array"==o(e)}},4067:function(e,t,r){var o=r(648);e.exports=function(e){var t=o(e);return"BigInt64Array"==t||"BigUint64Array"==t}},614:function(e,t,r){var o=r(4154),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4411:function(e,t,r){var o=r(1702),i=r(7293),n=r(614),a=r(648),s=r(5005),l=r(2788),c=function(){},u=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=o(h.exec),f=!h.exec(c),g=function(e){if(!n(e))return!1;try{return d(c,u,e),!0}catch(t){return!1}},v=function(e){if(!n(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,l(e))}catch(t){return!0}};v.sham=!0,e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?v:g},4705:function(e,t,r){var o=r(7293),i=r(614),n=/#|\.prototype\./,a=function(e,t){var r=l[s(e)];return r==u||r!=c&&(i(t)?o(t):!!t)},s=a.normalize=function(e){return String(e).replace(n,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,r){var o=r(614),i=r(4154),n=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:o(e)||e===n}:function(e){return"object"==typeof e?null!==e:o(e)}},1913:function(e){e.exports=!1},2190:function(e,t,r){var o=r(5005),i=r(614),n=r(7976),a=r(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&n(t.prototype,s(e))}},408:function(e,t,r){var o=r(9974),i=r(6916),n=r(9670),a=r(6330),s=r(7659),l=r(6244),c=r(7976),u=r(4121),d=r(1246),h=r(9212),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var v,m,b,y,w,C,E,S=r&&r.that,x=!(!r||!r.AS_ENTRIES),T=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),_=!(!r||!r.INTERRUPTED),R=o(t,S),O=function(e){return v&&h(v,"normal",e),new f(!0,e)},D=function(e){return x?(n(e),_?R(e[0],e[1],O):R(e[0],e[1])):_?R(e,O):R(e)};if(T)v=e.iterator;else if(k)v=e;else{if(m=d(e),!m)throw p(a(e)+" is not iterable");if(s(m)){for(b=0,y=l(e);y>b;b++)if(w=D(e[b]),w&&c(g,w))return w;return new f(!1)}v=u(e,m)}C=T?e.next:v.next;while(!(E=i(C,v)).done){try{w=D(E.value)}catch(A){h(v,"throw",A)}if("object"==typeof w&&w&&c(g,w))return w}return new f(!1)}},9212:function(e,t,r){var o=r(6916),i=r(9670),n=r(8173);e.exports=function(e,t,r){var a,s;i(e);try{if(a=n(e,"return"),!a){if("throw"===t)throw r;return r}a=o(a,e)}catch(l){s=!0,a=l}if("throw"===t)throw r;if(s)throw a;return i(a),r}},7497:function(e){e.exports={}},6244:function(e,t,r){var o=r(7466);e.exports=function(e){return o(e.length)}},6339:function(e,t,r){var o=r(1702),i=r(7293),n=r(614),a=r(2597),s=r(9781),l=r(6530).CONFIGURABLE,c=r(2788),u=r(9909),d=u.enforce,h=u.get,p=String,f=Object.defineProperty,g=o("".slice),v=o("".replace),m=o([].join),b=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===g(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&a(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var o=d(e);return a(o,"source")||(o.source=m(y,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return n(this)&&h(this).source||c(this)}),"toString")},5706:function(e,t,r){var o=r(1702),i=Map.prototype;e.exports={Map:Map,set:o(i.set),get:o(i.get),has:o(i.has),remove:o(i["delete"]),proto:i}},4758:function(e){var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?r:t)(o)}},6277:function(e,t,r){var o=r(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},3070:function(e,t,r){var o=r(9781),i=r(4664),n=r(3353),a=r(9670),s=r(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=o?n?function(e,t,r){if(a(e),t=s(t),a(r),"function"===typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var o=u(e,t);o&&o[p]&&(e[t]=r.value,r={configurable:h in r?r[h]:o[h],enumerable:d in r?r[d]:o[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),i)try{return c(e,t,r)}catch(o){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:function(e,t,r){var o=r(9781),i=r(6916),n=r(5296),a=r(9114),s=r(5656),l=r(4948),c=r(2597),u=r(4664),d=Object.getOwnPropertyDescriptor;t.f=o?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(r){}if(c(e,t))return a(!i(n.f,e,t),e[t])}},8006:function(e,t,r){var o=r(6324),i=r(748),n=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,n)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,r){var o=r(2597),i=r(614),n=r(7908),a=r(6200),s=r(8544),l=a("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=n(e);if(o(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},7976:function(e,t,r){var o=r(1702);e.exports=o({}.isPrototypeOf)},6324:function(e,t,r){var o=r(1702),i=r(2597),n=r(5656),a=r(1318).indexOf,s=r(3501),l=o([].push);e.exports=function(e,t){var r,o=n(e),c=0,u=[];for(r in o)!i(s,r)&&i(o,r)&&l(u,r);while(t.length>c)i(o,r=t[c++])&&(~a(u,r)||l(u,r));return u}},5296:function(e,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},7674:function(e,t,r){var o=r(5668),i=r(9670),n=r(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=o(Object.prototype,"__proto__","set"),e(r,[]),t=r instanceof Array}catch(a){}return function(r,o){return i(r),n(o),t?e(r,o):r.__proto__=o,r}}():void 0)},2140:function(e,t,r){var o=r(6916),i=r(614),n=r(111),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!n(s=o(r,e)))return s;if(i(r=e.valueOf)&&!n(s=o(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!n(s=o(r,e)))return s;throw a("Can't convert object to primitive value")}},3887:function(e,t,r){var o=r(5005),i=r(1702),n=r(8006),a=r(5181),s=r(9670),l=i([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=n.f(s(e)),r=a.f;return r?l(t,r(e)):t}},7066:function(e,t,r){"use strict";var o=r(9670);e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4706:function(e,t,r){var o=r(6916),i=r(2597),n=r(7976),a=r(7066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!n(s,e)?t:o(a,e)}},4488:function(e,t,r){var o=r(8554),i=TypeError;e.exports=function(e){if(o(e))throw i("Can't call method on "+e);return e}},9405:function(e,t,r){var o=r(1702),i=Set.prototype;e.exports={Set:Set,add:o(i.add),has:o(i.has),remove:o(i["delete"]),proto:i}},6200:function(e,t,r){var o=r(2309),i=r(9711),n=o("keys");e.exports=function(e){return n[e]||(n[e]=i(e))}},5465:function(e,t,r){var o=r(7854),i=r(3072),n="__core-js_shared__",a=o[n]||i(n,{});e.exports=a},2309:function(e,t,r){var o=r(1913),i=r(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:o?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"})},4124:function(e,t,r){var o=r(7854),i=r(7293),n=r(7392),a=r(7871),s=r(3823),l=r(5268),c=o.structuredClone;e.exports=!!c&&!i((function(){if(s&&n>92||l&&n>94||a&&n>97)return!1;var e=new ArrayBuffer(8),t=c(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength}))},6293:function(e,t,r){var o=r(7392),i=r(7293),n=r(7854),a=n.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},1400:function(e,t,r){var o=r(9303),i=Math.max,n=Math.min;e.exports=function(e,t){var r=o(e);return r<0?i(r+t,0):n(r,t)}},4599:function(e,t,r){var o=r(7593),i=TypeError;e.exports=function(e){var t=o(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},5656:function(e,t,r){var o=r(8361),i=r(4488);e.exports=function(e){return o(i(e))}},9303:function(e,t,r){var o=r(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:o(t)}},7466:function(e,t,r){var o=r(9303),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},7908:function(e,t,r){var o=r(4488),i=Object;e.exports=function(e){return i(o(e))}},7593:function(e,t,r){var o=r(6916),i=r(111),n=r(2190),a=r(8173),s=r(2140),l=r(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||n(e))return e;var r,l=a(e,u);if(l){if(void 0===t&&(t="default"),r=o(l,e,t),!i(r)||n(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:function(e,t,r){var o=r(7593),i=r(2190);e.exports=function(e){var t=o(e,"string");return i(t)?t:t+""}},1694:function(e,t,r){var o=r(5112),i=o("toStringTag"),n={};n[i]="z",e.exports="[object z]"===String(n)},1340:function(e,t,r){var o=r(648),i=String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},9711:function(e,t,r){var o=r(1702),i=0,n=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+n,36)}},3307:function(e,t,r){var o=r(6293);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,r){var o=r(9781),i=r(7293);e.exports=o&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(e){var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},4811:function(e,t,r){var o=r(7854),i=r(614),n=o.WeakMap;e.exports=i(n)&&/native code/.test(String(n))},5112:function(e,t,r){var o=r(7854),i=r(2309),n=r(2597),a=r(9711),s=r(6293),l=r(3307),c=o.Symbol,u=i("wks"),d=l?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){return n(u,e)||(u[e]=s&&n(c,e)?c[e]:d("Symbol."+e)),u[e]}},7658:function(e,t,r){"use strict";var o=r(2109),i=r(7908),n=r(6244),a=r(3658),s=r(7207),l=r(7293),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=c||!u();o({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=i(this),r=n(t),o=arguments.length;s(r+o);for(var l=0;l<o;l++)t[r]=arguments[l],r++;return a(t,r),r}})},2087:function(e,t,r){var o=r(7854),i=r(9781),n=r(7045),a=r(7066),s=r(7293),l=o.RegExp,c=l.prototype,u=i&&s((function(){var e=!0;try{l(".","d")}catch(u){e=!1}var t={},r="",o=e?"dgimsy":"gimsy",i=function(e,o){Object.defineProperty(t,e,{get:function(){return r+=o,!0}})},n={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(n.hasIndices="d"),n)i(a,n[a]);var s=Object.getOwnPropertyDescriptor(c,"flags").get.call(t);return s!==o||r!==o}));u&&n(c,"flags",{configurable:!0,get:a})},1439:function(e,t,r){"use strict";var o=r(1843),i=r(260),n=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",(function(){return o(n(this),s(this))}))},7585:function(e,t,r){"use strict";var o=r(260),i=r(1702),n=r(9662),a=r(7745),s=o.aTypedArray,l=o.getTypedArrayConstructor,c=o.exportTypedArrayMethod,u=i(o.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&n(e);var t=s(this),r=a(l(t),t);return u(r,e)}))},5315:function(e,t,r){"use strict";var o=r(1572),i=r(260),n=r(4067),a=r(9303),s=r(4599),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=l(this),i=a(e),u=n(r)?s(t):+t;return o(r,c(r),i,u)}}["with"],!d)},2801:function(e,t,r){"use strict";var o=r(2109),i=r(7854),n=r(5005),a=r(9114),s=r(3070).f,l=r(2597),c=r(5787),u=r(9587),d=r(6277),h=r(3678),p=r(1060),f=r(9781),g=r(1913),v="DOMException",m=n("Error"),b=n(v),y=function(){c(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),r=d(e<2?void 0:arguments[1],"Error"),o=new b(t,r),i=m(t);return i.name=v,s(o,"stack",a(1,p(i.stack,1))),u(o,this,y),o},w=y.prototype=b.prototype,C="stack"in m(v),E="stack"in new b(1,2),S=b&&f&&Object.getOwnPropertyDescriptor(i,v),x=!!S&&!(S.writable&&S.configurable),T=C&&!x&&!E;o({global:!0,constructor:!0,forced:g||T},{DOMException:T?y:b});var k=n(v),_=k.prototype;if(_.constructor!==k)for(var R in g||s(_,"constructor",a(1,k)),h)if(l(h,R)){var O=h[R],D=O.s;l(k,D)||s(k,D,a(6,O.c))}},1295:function(e,t,r){var o=r(1913),i=r(2109),n=r(7854),a=r(5005),s=r(1702),l=r(7293),c=r(9711),u=r(614),d=r(4411),h=r(8554),p=r(111),f=r(2190),g=r(408),v=r(9670),m=r(648),b=r(2597),y=r(6135),w=r(8880),C=r(6244),E=r(8053),S=r(4706),x=r(5706),T=r(9405),k=r(2914),_=r(4124),R=n.Object,O=n.Array,D=n.Date,A=n.Error,P=n.EvalError,M=n.RangeError,L=n.ReferenceError,F=n.SyntaxError,I=n.TypeError,N=n.URIError,H=n.PerformanceMark,G=n.WebAssembly,V=G&&G.CompileError||A,z=G&&G.LinkError||A,B=G&&G.RuntimeError||A,j=a("DOMException"),W=x.Map,U=x.has,$=x.get,K=x.set,Y=T.Set,q=T.add,X=a("Object","keys"),J=s([].push),Q=s((!0).valueOf),Z=s(1..valueOf),ee=s("".valueOf),te=s(D.prototype.getTime),re=c("structuredClone"),oe="DataCloneError",ie="Transferring",ne=function(e){return!l((function(){var t=new n.Set([7]),r=e(t),o=e(R(7));return r==t||!r.has(7)||"object"!=typeof o||7!=o}))&&e},ae=function(e,t){return!l((function(){var r=new t,o=e({a:r,b:r});return!(o&&o.a===o.b&&o.a instanceof t&&o.a.stack===r.stack)}))},se=function(e){return!l((function(){var t=e(new n.AggregateError([1],re,{cause:3}));return"AggregateError"!=t.name||1!=t.errors[0]||t.message!=re||3!=t.cause}))},le=n.structuredClone,ce=o||!ae(le,A)||!ae(le,j)||!se(le),ue=!le&&ne((function(e){return new H(re,{detail:e}).detail})),de=ne(le)||ue,he=function(e){throw new j("Uncloneable type: "+e,oe)},pe=function(e,t){throw new j((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",oe)},fe=function(e,t){return de||pe(t),de(e)},ge=function(){var e;try{e=new n.DataTransfer}catch(t){try{e=new n.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},ve=function(e,t,r){if(U(t,e))return $(t,e);var o,i,a,s,l,c,u=r||m(e);if("SharedArrayBuffer"===u)o=de?de(e):e;else{var d=n.DataView;d||"function"==typeof e.slice||pe("ArrayBuffer");try{if("function"!=typeof e.slice||e.resizable){i=e.byteLength,a="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,o=new ArrayBuffer(i,a),s=new d(e),l=new d(o);for(c=0;c<i;c++)l.setUint8(c,s.getUint8(c))}else o=e.slice(0)}catch(h){throw new j("ArrayBuffer is detached",oe)}}return K(t,e,o),o},me=function(e,t,r,o,i){var a=n[t];return p(a)||pe(t),new a(ve(e.buffer,i),r,o)},be=function(e,t,r){this.object=e,this.type=t,this.metadata=r},ye=function(e,t,r){if(f(e)&&he("Symbol"),!p(e))return e;if(t){if(U(t,e))return $(t,e)}else t=new W;var o,i,s,l,c,d,h,g,v=m(e);switch(v){case"Array":s=O(C(e));break;case"Object":s={};break;case"Map":s=new W;break;case"Set":s=new Y;break;case"RegExp":s=new RegExp(e.source,S(e));break;case"Error":switch(i=e.name,i){case"AggregateError":s=a("AggregateError")([]);break;case"EvalError":s=P();break;case"RangeError":s=M();break;case"ReferenceError":s=L();break;case"SyntaxError":s=F();break;case"TypeError":s=I();break;case"URIError":s=N();break;case"CompileError":s=V();break;case"LinkError":s=z();break;case"RuntimeError":s=B();break;default:s=A()}break;case"DOMException":s=new j(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":s=r?new be(e,v):ve(e,t,v);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":d="DataView"===v?e.byteLength:e.length,s=r?new be(e,v,{offset:e.byteOffset,length:d}):me(e,v,e.byteOffset,d,t);break;case"DOMQuad":try{s=new DOMQuad(ye(e.p1,t,r),ye(e.p2,t,r),ye(e.p3,t,r),ye(e.p4,t,r))}catch(E){s=fe(e,v)}break;case"File":if(de)try{s=de(e),m(s)!==v&&(s=void 0)}catch(E){}if(!s)try{s=new File([e],e.name,e)}catch(E){}s||pe(v);break;case"FileList":if(l=ge(),l){for(c=0,d=C(e);c<d;c++)l.items.add(ye(e[c],t,r));s=l.files}else s=fe(e,v);break;case"ImageData":try{s=new ImageData(ye(e.data,t,r),e.width,e.height,{colorSpace:e.colorSpace})}catch(E){s=fe(e,v)}break;default:if(de)s=de(e);else switch(v){case"BigInt":s=R(e.valueOf());break;case"Boolean":s=R(Q(e));break;case"Number":s=R(Z(e));break;case"String":s=R(ee(e));break;case"Date":s=new D(te(e));break;case"Blob":try{s=e.slice(0,e.size,e.type)}catch(E){pe(v)}break;case"DOMPoint":case"DOMPointReadOnly":o=n[v];try{s=o.fromPoint?o.fromPoint(e):new o(e.x,e.y,e.z,e.w)}catch(E){pe(v)}break;case"DOMRect":case"DOMRectReadOnly":o=n[v];try{s=o.fromRect?o.fromRect(e):new o(e.x,e.y,e.width,e.height)}catch(E){pe(v)}break;case"DOMMatrix":case"DOMMatrixReadOnly":o=n[v];try{s=o.fromMatrix?o.fromMatrix(e):new o(e)}catch(E){pe(v)}break;case"AudioData":case"VideoFrame":u(e.clone)||pe(v);try{s=e.clone()}catch(E){he(v)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":pe(v);default:he(v)}}switch(K(t,e,s),v){case"Array":case"Object":for(h=X(e),c=0,d=C(h);c<d;c++)g=h[c],y(s,g,ye(e[g],t,r));break;case"Map":e.forEach((function(e,o){K(s,ye(o,t,r),ye(e,t,r))}));break;case"Set":e.forEach((function(e){q(s,ye(e,t,r))}));break;case"Error":w(s,"message",ye(e.message,t,r)),b(e,"cause")&&w(s,"cause",ye(e.cause,t,r)),"AggregateError"==i&&(s.errors=ye(e.errors,t,r));case"DOMException":k&&w(s,"stack",ye(e.stack,t,r))}return s},we=function(e,t){if(!p(e))return e;if(U(t,e))return $(t,e);var r,o,i,n,a,s,l,c;if(e instanceof be)switch(r=e.type,o=e.object,r){case"ArrayBuffer":case"SharedArrayBuffer":c=ve(o,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=e.metadata,c=me(o,r,i.offset,i.length,t)}else switch(m(e)){case"Array":case"Object":for(s=X(e),n=0,a=C(s);n<a;n++)l=s[n],e[l]=we(e[l],t);break;case"Map":c=new W,e.forEach((function(e,r){K(c,we(r,t),we(e,t))}));break;case"Set":c=new Y,e.forEach((function(e){q(c,we(e,t))}));break;case"Error":e.message=we(e.message,t),b(e,"cause")&&(e.cause=we(e.cause,t)),"AggregateError"==e.name&&(e.errors=we(e.errors,t));case"DOMException":k&&(e.stack=we(e.stack,t))}return K(t,e,c||e),c||e},Ce=function(e,t){if(!p(e))throw I("Transfer option cannot be converted to a sequence");var r=[];g(e,(function(e){J(r,v(e))}));var o,i,a,s,l,c,h=0,f=C(r),b=[];while(h<f)if(o=r[h++],i=m(o),"ArrayBuffer"!==i){if(U(t,o))throw new j("Duplicate transferable",oe);if(_)s=le(o,{transfer:[o]});else switch(i){case"ImageBitmap":a=n.OffscreenCanvas,d(a)||pe(i,ie);try{l=new a(o.width,o.height),c=l.getContext("bitmaprenderer"),c.transferFromImageBitmap(o),s=l.transferToImageBitmap()}catch(y){}break;case"AudioData":case"VideoFrame":u(o.clone)&&u(o.close)||pe(i,ie);try{s=o.clone(),o.close()}catch(y){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":pe(i,ie)}if(void 0===s)throw new j("This object cannot be transferred: "+i,oe);K(t,o,s)}else J(b,o);return b},Ee=function(e,t){var r,o,i=0,n=C(e);while(i<n){if(r=e[i++],U(t,r))throw new j("Duplicate transferable",oe);_?o=le(r,{transfer:[r]}):(u(r.transfer)||pe("ArrayBuffer",ie),o=r.transfer()),K(t,r,o)}};i({global:!0,enumerable:!0,sham:!_,forced:ce},{structuredClone:function(e){var t,r,o=E(arguments.length,1)>1&&!h(arguments[1])?v(arguments[1]):void 0,i=o?o.transfer:void 0,n=!1;void 0!==i&&(t=new W,r=Ce(i,t),n=!!C(r));var a=ye(e,t,n);return n&&(t=new W,Ee(i,t),a=we(a,t)),a}})},6229:function(e,t,r){"use strict";var o=r(8052),i=r(1702),n=r(1340),a=r(8053),s=URLSearchParams,l=s.prototype,c=i(l.append),u=i(l["delete"]),d=i(l.forEach),h=i([].push),p=new s("a=1&a=2");p["delete"]("a",1),p+""!=="a=2"&&o(l,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return u(this,e);var o=[];d(this,(function(e,t){h(o,{key:t,value:e})})),a(t,1);var i,s=n(e),l=n(r),p=0,f=0,g=!1,v=o.length;while(p<v)i=o[p++],g||i.key===s?(g=!0,u(this,i.key)):f++;while(f<v)i=o[f++],i.key===s&&i.value===l||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7330:function(e,t,r){"use strict";var o=r(8052),i=r(1702),n=r(1340),a=r(8053),s=URLSearchParams,l=s.prototype,c=i(l.getAll),u=i(l.has),d=new s("a=1");d.has("a",2)&&o(l,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return u(this,e);var o=c(this,e);a(t,1);var i=n(r),s=0;while(s<o.length)if(o[s++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},2062:function(e,t,r){"use strict";var o=r(9781),i=r(1702),n=r(7045),a=URLSearchParams.prototype,s=i(a.forEach);o&&!("size"in a)&&n(a,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},4870:function(e,t,r){"use strict";r.d(t,{Bj:function(){return n},EB:function(){return l},Fl:function(){return Je},IU:function(){return Pe},Jd:function(){return T},PG:function(){return Re},SU:function(){return je},Um:function(){return Te},Vh:function(){return Ye},WL:function(){return Ue},X$:function(){return O},X3:function(){return Ae},XI:function(){return Ve},Xl:function(){return Me},dq:function(){return He},iH:function(){return Ge},j:function(){return _},lk:function(){return k},nZ:function(){return s},qj:function(){return xe},qq:function(){return C},yT:function(){return De}});r(7658);var o=r(7139);let i;class n{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function a(e,t=i){t&&t.active&&t.effects.push(e)}function s(){return i}function l(e){i&&i.cleanups.push(e)}const c=e=>{const t=new Set(e);return t.w=0,t.n=0,t},u=e=>(e.w&v)>0,d=e=>(e.n&v)>0,h=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},p=e=>{const{deps:t}=e;if(t.length){let r=0;for(let o=0;o<t.length;o++){const i=t[o];u(i)&&!d(i)?i.delete(e):t[r++]=i,i.w&=~v,i.n&=~v}t.length=r}},f=new WeakMap;let g=0,v=1;const m=30;let b;const y=Symbol(""),w=Symbol("");class C{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,r)}run(){if(!this.active)return this.fn();let e=b,t=S;while(e){if(e===this)return;e=e.parent}try{return this.parent=b,b=this,S=!0,v=1<<++g,g<=m?h(this):E(this),this.fn()}finally{g<=m&&p(this),v=1<<--g,b=this.parent,S=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(E(this),this.onStop&&this.onStop(),this.active=!1)}}function E(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let S=!0;const x=[];function T(){x.push(S),S=!1}function k(){const e=x.pop();S=void 0===e||e}function _(e,t,r){if(S&&b){let t=f.get(e);t||f.set(e,t=new Map);let o=t.get(r);o||t.set(r,o=c());const i=void 0;R(o,i)}}function R(e,t){let r=!1;g<=m?d(e)||(e.n|=v,r=!u(e)):r=!e.has(b),r&&(e.add(b),b.deps.push(e))}function O(e,t,r,i,n,a){const s=f.get(e);if(!s)return;let l=[];if("clear"===t)l=[...s.values()];else if("length"===r&&(0,o.kJ)(e)){const e=Number(i);s.forEach(((t,r)=>{("length"===r||r>=e)&&l.push(t)}))}else switch(void 0!==r&&l.push(s.get(r)),t){case"add":(0,o.kJ)(e)?(0,o.S0)(r)&&l.push(s.get("length")):(l.push(s.get(y)),(0,o._N)(e)&&l.push(s.get(w)));break;case"delete":(0,o.kJ)(e)||(l.push(s.get(y)),(0,o._N)(e)&&l.push(s.get(w)));break;case"set":(0,o._N)(e)&&l.push(s.get(y));break}if(1===l.length)l[0]&&D(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);D(c(e))}}function D(e,t){const r=(0,o.kJ)(e)?e:[...e];for(const o of r)o.computed&&A(o,t);for(const o of r)o.computed||A(o,t)}function A(e,t){(e!==b||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function P(e,t){var r;return null==(r=f.get(e))?void 0:r.get(t)}const M=(0,o.fY)("__proto__,__v_isRef,__isVue"),L=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(o.yk)),F=z(),I=z(!1,!0),N=z(!0),H=G();function G(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const r=Pe(this);for(let t=0,i=this.length;t<i;t++)_(r,"get",t+"");const o=r[t](...e);return-1===o||!1===o?r[t](...e.map(Pe)):o}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){T();const r=Pe(this)[t].apply(this,e);return k(),r}})),e}function V(e){const t=Pe(this);return _(t,"has",e),t.hasOwnProperty(e)}function z(e=!1,t=!1){return function(r,i,n){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&n===(e?t?Ce:we:t?ye:be).get(r))return r;const a=(0,o.kJ)(r);if(!e){if(a&&(0,o.RI)(H,i))return Reflect.get(H,i,n);if("hasOwnProperty"===i)return V}const s=Reflect.get(r,i,n);return((0,o.yk)(i)?L.has(i):M(i))?s:(e||_(r,"get",i),t?s:He(s)?a&&(0,o.S0)(i)?s:s.value:(0,o.Kn)(s)?e?ke(s):xe(s):s)}}const B=W(),j=W(!0);function W(e=!1){return function(t,r,i,n){let a=t[r];if(Oe(a)&&He(a)&&!He(i))return!1;if(!e&&(De(i)||Oe(i)||(a=Pe(a),i=Pe(i)),!(0,o.kJ)(t)&&He(a)&&!He(i)))return a.value=i,!0;const s=(0,o.kJ)(t)&&(0,o.S0)(r)?Number(r)<t.length:(0,o.RI)(t,r),l=Reflect.set(t,r,i,n);return t===Pe(n)&&(s?(0,o.aU)(i,a)&&O(t,"set",r,i,a):O(t,"add",r,i)),l}}function U(e,t){const r=(0,o.RI)(e,t),i=e[t],n=Reflect.deleteProperty(e,t);return n&&r&&O(e,"delete",t,void 0,i),n}function $(e,t){const r=Reflect.has(e,t);return(0,o.yk)(t)&&L.has(t)||_(e,"has",t),r}function K(e){return _(e,"iterate",(0,o.kJ)(e)?"length":y),Reflect.ownKeys(e)}const Y={get:F,set:B,deleteProperty:U,has:$,ownKeys:K},q={get:N,set(e,t){return!0},deleteProperty(e,t){return!0}},X=(0,o.l7)({},Y,{get:I,set:j}),J=e=>e,Q=e=>Reflect.getPrototypeOf(e);function Z(e,t,r=!1,o=!1){e=e["__v_raw"];const i=Pe(e),n=Pe(t);r||(t!==n&&_(i,"get",t),_(i,"get",n));const{has:a}=Q(i),s=o?J:r?Fe:Le;return a.call(i,t)?s(e.get(t)):a.call(i,n)?s(e.get(n)):void(e!==i&&e.get(t))}function ee(e,t=!1){const r=this["__v_raw"],o=Pe(r),i=Pe(e);return t||(e!==i&&_(o,"has",e),_(o,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function te(e,t=!1){return e=e["__v_raw"],!t&&_(Pe(e),"iterate",y),Reflect.get(e,"size",e)}function re(e){e=Pe(e);const t=Pe(this),r=Q(t),o=r.has.call(t,e);return o||(t.add(e),O(t,"add",e,e)),this}function oe(e,t){t=Pe(t);const r=Pe(this),{has:i,get:n}=Q(r);let a=i.call(r,e);a||(e=Pe(e),a=i.call(r,e));const s=n.call(r,e);return r.set(e,t),a?(0,o.aU)(t,s)&&O(r,"set",e,t,s):O(r,"add",e,t),this}function ie(e){const t=Pe(this),{has:r,get:o}=Q(t);let i=r.call(t,e);i||(e=Pe(e),i=r.call(t,e));const n=o?o.call(t,e):void 0,a=t.delete(e);return i&&O(t,"delete",e,void 0,n),a}function ne(){const e=Pe(this),t=0!==e.size,r=void 0,o=e.clear();return t&&O(e,"clear",void 0,void 0,r),o}function ae(e,t){return function(r,o){const i=this,n=i["__v_raw"],a=Pe(n),s=t?J:e?Fe:Le;return!e&&_(a,"iterate",y),n.forEach(((e,t)=>r.call(o,s(e),s(t),i)))}}function se(e,t,r){return function(...i){const n=this["__v_raw"],a=Pe(n),s=(0,o._N)(a),l="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=n[e](...i),d=r?J:t?Fe:Le;return!t&&_(a,"iterate",c?w:y),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function le(e){return function(...t){return"delete"!==e&&this}}function ce(){const e={get(e){return Z(this,e)},get size(){return te(this)},has:ee,add:re,set:oe,delete:ie,clear:ne,forEach:ae(!1,!1)},t={get(e){return Z(this,e,!1,!0)},get size(){return te(this)},has:ee,add:re,set:oe,delete:ie,clear:ne,forEach:ae(!1,!0)},r={get(e){return Z(this,e,!0)},get size(){return te(this,!0)},has(e){return ee.call(this,e,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:ae(!0,!1)},o={get(e){return Z(this,e,!0,!0)},get size(){return te(this,!0)},has(e){return ee.call(this,e,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:ae(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=se(i,!1,!1),r[i]=se(i,!0,!1),t[i]=se(i,!1,!0),o[i]=se(i,!0,!0)})),[e,r,t,o]}const[ue,de,he,pe]=ce();function fe(e,t){const r=t?e?pe:he:e?de:ue;return(t,i,n)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,o.RI)(r,i)&&i in t?r:t,i,n)}const ge={get:fe(!1,!1)},ve={get:fe(!1,!0)},me={get:fe(!0,!1)};const be=new WeakMap,ye=new WeakMap,we=new WeakMap,Ce=new WeakMap;function Ee(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Se(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ee((0,o.W7)(e))}function xe(e){return Oe(e)?e:_e(e,!1,Y,ge,be)}function Te(e){return _e(e,!1,X,ve,ye)}function ke(e){return _e(e,!0,q,me,we)}function _e(e,t,r,i,n){if(!(0,o.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=n.get(e);if(a)return a;const s=Se(e);if(0===s)return e;const l=new Proxy(e,2===s?i:r);return n.set(e,l),l}function Re(e){return Oe(e)?Re(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Oe(e){return!(!e||!e["__v_isReadonly"])}function De(e){return!(!e||!e["__v_isShallow"])}function Ae(e){return Re(e)||Oe(e)}function Pe(e){const t=e&&e["__v_raw"];return t?Pe(t):e}function Me(e){return(0,o.Nj)(e,"__v_skip",!0),e}const Le=e=>(0,o.Kn)(e)?xe(e):e,Fe=e=>(0,o.Kn)(e)?ke(e):e;function Ie(e){S&&b&&(e=Pe(e),R(e.dep||(e.dep=c())))}function Ne(e,t){e=Pe(e);const r=e.dep;r&&D(r)}function He(e){return!(!e||!0!==e.__v_isRef)}function Ge(e){return ze(e,!1)}function Ve(e){return ze(e,!0)}function ze(e,t){return He(e)?e:new Be(e,t)}class Be{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Pe(e),this._value=t?e:Le(e)}get value(){return Ie(this),this._value}set value(e){const t=this.__v_isShallow||De(e)||Oe(e);e=t?e:Pe(e),(0,o.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Le(e),Ne(this,e))}}function je(e){return He(e)?e.value:e}const We={get:(e,t,r)=>je(Reflect.get(e,t,r)),set:(e,t,r,o)=>{const i=e[t];return He(i)&&!He(r)?(i.value=r,!0):Reflect.set(e,t,r,o)}};function Ue(e){return Re(e)?e:new Proxy(e,We)}class $e{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return P(Pe(this._object),this._key)}}class Ke{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ye(e,t,r){return He(e)?e:(0,o.mf)(e)?new Ke(e):(0,o.Kn)(e)&&arguments.length>1?qe(e,t,r):Ge(e)}function qe(e,t,r){const o=e[t];return He(o)?o:new $e(e,t,r)}class Xe{constructor(e,t,r,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this._dirty=!0,this.effect=new C(e,(()=>{this._dirty||(this._dirty=!0,Ne(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!o,this["__v_isReadonly"]=r}get value(){const e=Pe(this);return Ie(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Je(e,t,r=!1){let i,n;const a=(0,o.mf)(e);a?(i=e,n=o.dG):(i=e.get,n=e.set);const s=new Xe(i,n,a||!n,r);return s}},3396:function(e,t,r){"use strict";r.d(t,{$d:function(){return a},Ah:function(){return Re},Cn:function(){return I},F4:function(){return br},FN:function(){return Ar},Fl:function(){return Xr},HY:function(){return Jt},JJ:function(){return vt},Ko:function(){return Ge},LL:function(){return Ie},Nv:function(){return Ve},P$:function(){return ie},Q6:function(){return ue},Rr:function(){return Ye},U2:function(){return ae},Uk:function(){return wr},Us:function(){return Nt},WI:function(){return ze},Wm:function(){return vr},Xn:function(){return Te},Y3:function(){return b},Y8:function(){return ee},YP:function(){return K},_:function(){return gr},aZ:function(){return de},bv:function(){return xe},dD:function(){return F},dG:function(){return Tr},f3:function(){return mt},h:function(){return Jr},iD:function(){return lr},ic:function(){return ke},j4:function(){return cr},kq:function(){return Cr},lR:function(){return qt},mx:function(){return je},nJ:function(){return re},nK:function(){return ce},up:function(){return Le},w5:function(){return N},wF:function(){return Se},wg:function(){return or},wy:function(){return Q}});r(7658);var o=r(4870),i=r(7139);function n(e,t,r,o){let i;try{i=o?e(...o):e()}catch(n){s(n,t,r)}return i}function a(e,t,r,o){if((0,i.mf)(e)){const a=n(e,t,r,o);return a&&(0,i.tI)(a)&&a.catch((e=>{s(e,t,r)})),a}const l=[];for(let i=0;i<e.length;i++)l.push(a(e[i],t,r,o));return l}function s(e,t,r,o=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=r;while(o){const t=o.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,i,a))return;o=o.parent}const s=t.appContext.config.errorHandler;if(s)return void n(s,null,10,[e,i,a])}l(e,r,i,o)}function l(e,t,r,o=!0){console.error(e)}let c=!1,u=!1;const d=[];let h=0;const p=[];let f=null,g=0;const v=Promise.resolve();let m=null;function b(e){const t=m||v;return e?t.then(this?e.bind(this):e):t}function y(e){let t=h+1,r=d.length;while(t<r){const o=t+r>>>1,i=k(d[o]);i<e?t=o+1:r=o}return t}function w(e){d.length&&d.includes(e,c&&e.allowRecurse?h+1:h)||(null==e.id?d.push(e):d.splice(y(e.id),0,e),C())}function C(){c||u||(u=!0,m=v.then(R))}function E(e){const t=d.indexOf(e);t>h&&d.splice(t,1)}function S(e){(0,i.kJ)(e)?p.push(...e):f&&f.includes(e,e.allowRecurse?g+1:g)||p.push(e),C()}function x(e,t=(c?h+1:0)){for(0;t<d.length;t++){const e=d[t];e&&e.pre&&(d.splice(t,1),t--,e())}}function T(e){if(p.length){const e=[...new Set(p)];if(p.length=0,f)return void f.push(...e);for(f=e,f.sort(((e,t)=>k(e)-k(t))),g=0;g<f.length;g++)f[g]();f=null,g=0}}const k=e=>null==e.id?1/0:e.id,_=(e,t)=>{const r=k(e)-k(t);if(0===r){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function R(e){u=!1,c=!0,d.sort(_);i.dG;try{for(h=0;h<d.length;h++){const e=d[h];e&&!1!==e.active&&n(e,null,14)}}finally{h=0,d.length=0,T(e),c=!1,m=null,(d.length||p.length)&&R(e)}}function O(e,t,...r){if(e.isUnmounted)return;const o=e.vnode.props||i.kT;let n=r;const s=t.startsWith("update:"),l=s&&t.slice(7);if(l&&l in o){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:a}=o[e]||i.kT;a&&(n=r.map((e=>(0,i.HD)(e)?e.trim():e))),t&&(n=r.map(i.h5))}let c;let u=o[c=(0,i.hR)(t)]||o[c=(0,i.hR)((0,i._A)(t))];!u&&s&&(u=o[c=(0,i.hR)((0,i.rs)(t))]),u&&a(u,e,6,n);const d=o[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,a(d,e,6,n)}}function D(e,t,r=!1){const o=t.emitsCache,n=o.get(e);if(void 0!==n)return n;const a=e.emits;let s={},l=!1;if(!(0,i.mf)(e)){const o=e=>{const r=D(e,t,!0);r&&(l=!0,(0,i.l7)(s,r))};!r&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return a||l?((0,i.kJ)(a)?a.forEach((e=>s[e]=null)):(0,i.l7)(s,a),(0,i.Kn)(e)&&o.set(e,s),s):((0,i.Kn)(e)&&o.set(e,null),null)}function A(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let P=null,M=null;function L(e){const t=P;return P=e,M=e&&e.type.__scopeId||null,t}function F(e){M=e}function I(){M=null}function N(e,t=P,r){if(!t)return e;if(e._n)return e;const o=(...r)=>{o._d&&ar(-1);const i=L(t);let n;try{n=e(...r)}finally{L(i),o._d&&ar(1)}return n};return o._n=!0,o._c=!0,o._d=!0,o}function H(e){const{type:t,vnode:r,proxy:o,withProxy:n,props:a,propsOptions:[l],slots:c,attrs:u,emit:d,render:h,renderCache:p,data:f,setupState:g,ctx:v,inheritAttrs:m}=e;let b,y;const w=L(e);try{if(4&r.shapeFlag){const e=n||o;b=Er(h.call(e,e,p,a,g,f,v)),y=u}else{const e=t;0,b=Er(e.length>1?e(a,{attrs:u,slots:c,emit:d}):e(a,null)),y=t.props?u:G(u)}}catch(E){tr.length=0,s(E,e,1),b=vr(Zt)}let C=b;if(y&&!1!==m){const e=Object.keys(y),{shapeFlag:t}=C;e.length&&7&t&&(l&&e.some(i.tR)&&(y=V(y,l)),C=yr(C,y))}return r.dirs&&(C=yr(C),C.dirs=C.dirs?C.dirs.concat(r.dirs):r.dirs),r.transition&&(C.transition=r.transition),b=C,L(w),b}const G=e=>{let t;for(const r in e)("class"===r||"style"===r||(0,i.F7)(r))&&((t||(t={}))[r]=e[r]);return t},V=(e,t)=>{const r={};for(const o in e)(0,i.tR)(o)&&o.slice(9)in t||(r[o]=e[o]);return r};function z(e,t,r){const{props:o,children:i,component:n}=e,{props:a,children:s,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&l>=0))return!(!i&&!s||s&&s.$stable)||o!==a&&(o?!a||B(o,a,c):!!a);if(1024&l)return!0;if(16&l)return o?B(o,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(a[r]!==o[r]&&!A(c,r))return!0}}return!1}function B(e,t,r){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const n=o[i];if(t[n]!==e[n]&&!A(r,n))return!0}return!1}function j({vnode:e,parent:t},r){while(t&&t.subTree===e)(e=t.vnode).el=r,t=t.parent}const W=e=>e.__isSuspense;function U(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):S(e)}const $={};function K(e,t,r){return Y(e,t,r)}function Y(e,t,{immediate:r,deep:s,flush:l,onTrack:c,onTrigger:u}=i.kT){var d;const h=(0,o.nZ)()===(null==(d=Dr)?void 0:d.scope)?Dr:null;let p,f,g=!1,v=!1;if((0,o.dq)(e)?(p=()=>e.value,g=(0,o.yT)(e)):(0,o.PG)(e)?(p=()=>e,s=!0):(0,i.kJ)(e)?(v=!0,g=e.some((e=>(0,o.PG)(e)||(0,o.yT)(e))),p=()=>e.map((e=>(0,o.dq)(e)?e.value:(0,o.PG)(e)?J(e):(0,i.mf)(e)?n(e,h,2):void 0))):p=(0,i.mf)(e)?t?()=>n(e,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),a(e,h,3,[b])}:i.dG,t&&s){const e=p;p=()=>J(e())}let m,b=e=>{f=S.onStop=()=>{n(e,h,4)}};if(Vr){if(b=i.dG,t?r&&a(t,h,3,[p(),v?[]:void 0,b]):p(),"sync"!==l)return i.dG;{const e=Zr();m=e.__watcherHandles||(e.__watcherHandles=[])}}let y=v?new Array(e.length).fill($):$;const C=()=>{if(S.active)if(t){const e=S.run();(s||g||(v?e.some(((e,t)=>(0,i.aU)(e,y[t]))):(0,i.aU)(e,y)))&&(f&&f(),a(t,h,3,[e,y===$?void 0:v&&y[0]===$?[]:y,b]),y=e)}else S.run()};let E;C.allowRecurse=!!t,"sync"===l?E=C:"post"===l?E=()=>It(C,h&&h.suspense):(C.pre=!0,h&&(C.id=h.uid),E=()=>w(C));const S=new o.qq(p,E);t?r?C():y=S.run():"post"===l?It(S.run.bind(S),h&&h.suspense):S.run();const x=()=>{S.stop(),h&&h.scope&&(0,i.Od)(h.scope.effects,S)};return m&&m.push(x),x}function q(e,t,r){const o=this.proxy,n=(0,i.HD)(e)?e.includes(".")?X(o,e):()=>o[e]:e.bind(o,o);let a;(0,i.mf)(t)?a=t:(a=t.handler,r=t);const s=Dr;Fr(this);const l=Y(n,a.bind(o),r);return s?Fr(s):Ir(),l}function X(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function J(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,o.dq)(e))J(e.value,t);else if((0,i.kJ)(e))for(let r=0;r<e.length;r++)J(e[r],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{J(e,t)}));else if((0,i.PO)(e))for(const r in e)J(e[r],t);return e}function Q(e,t){const r=P;if(null===r)return e;const o=Kr(r)||r.proxy,n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,r,s,l=i.kT]=t[a];e&&((0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&J(r),n.push({dir:e,instance:o,value:r,oldValue:void 0,arg:s,modifiers:l}))}return e}function Z(e,t,r,i){const n=e.dirs,s=t&&t.dirs;for(let l=0;l<n.length;l++){const c=n[l];s&&(c.oldValue=s[l].value);let u=c.dir[i];u&&((0,o.Jd)(),a(u,r,8,[e.el,c,e,t]),(0,o.lk)())}}function ee(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xe((()=>{e.isMounted=!0})),_e((()=>{e.isUnmounting=!0})),e}const te=[Function,Array],re={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:te,onEnter:te,onAfterEnter:te,onEnterCancelled:te,onBeforeLeave:te,onLeave:te,onAfterLeave:te,onLeaveCancelled:te,onBeforeAppear:te,onAppear:te,onAfterAppear:te,onAppearCancelled:te},oe={name:"BaseTransition",props:re,setup(e,{slots:t}){const r=Ar(),i=ee();let n;return()=>{const a=t.default&&ue(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==Zt){0,s=t,e=!0;break}}const l=(0,o.IU)(e),{mode:c}=l;if(i.isLeaving)return se(s);const u=le(s);if(!u)return se(s);const d=ae(u,l,i,r);ce(u,d);const h=r.subTree,p=h&&le(h);let f=!1;const{getTransitionKey:g}=u.type;if(g){const e=g();void 0===n?n=e:e!==n&&(n=e,f=!0)}if(p&&p.type!==Zt&&(!dr(u,p)||f)){const e=ae(p,l,i,r);if(ce(p,e),"out-in"===c)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==r.update.active&&r.update()},se(s);"in-out"===c&&u.type!==Zt&&(e.delayLeave=(e,t,r)=>{const o=ne(i,p);o[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=r})}return s}}},ie=oe;function ne(e,t){const{leavingVNodes:r}=e;let o=r.get(t.type);return o||(o=Object.create(null),r.set(t.type,o)),o}function ae(e,t,r,o){const{appear:n,mode:s,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:p,onLeave:f,onAfterLeave:g,onLeaveCancelled:v,onBeforeAppear:m,onAppear:b,onAfterAppear:y,onAppearCancelled:w}=t,C=String(e.key),E=ne(r,e),S=(e,t)=>{e&&a(e,o,9,t)},x=(e,t)=>{const r=t[1];S(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&r():e.length<=1&&r()},T={mode:s,persisted:l,beforeEnter(t){let o=c;if(!r.isMounted){if(!n)return;o=m||c}t._leaveCb&&t._leaveCb(!0);const i=E[C];i&&dr(e,i)&&i.el._leaveCb&&i.el._leaveCb(),S(o,[t])},enter(e){let t=u,o=d,i=h;if(!r.isMounted){if(!n)return;t=b||u,o=y||d,i=w||h}let a=!1;const s=e._enterCb=t=>{a||(a=!0,S(t?i:o,[e]),T.delayedLeave&&T.delayedLeave(),e._enterCb=void 0)};t?x(t,[e,s]):s()},leave(t,o){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),r.isUnmounting)return o();S(p,[t]);let n=!1;const a=t._leaveCb=r=>{n||(n=!0,o(),S(r?v:g,[t]),t._leaveCb=void 0,E[i]===e&&delete E[i])};E[i]=e,f?x(f,[t,a]):a()},clone(e){return ae(e,t,r,o)}};return T}function se(e){if(pe(e))return e=yr(e),e.children=null,e}function le(e){return pe(e)?e.children?e.children[0]:void 0:e}function ce(e,t){6&e.shapeFlag&&e.component?ce(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ue(e,t=!1,r){let o=[],i=0;for(let n=0;n<e.length;n++){let a=e[n];const s=null==r?a.key:String(r)+String(null!=a.key?a.key:n);a.type===Jt?(128&a.patchFlag&&i++,o=o.concat(ue(a.children,t,s))):(t||a.type!==Zt)&&o.push(null!=s?yr(a,{key:s}):a)}if(i>1)for(let n=0;n<o.length;n++)o[n].patchFlag=-2;return o}function de(e,t){return(0,i.mf)(e)?(()=>(0,i.l7)({name:e.name},t,{setup:e}))():e}const he=e=>!!e.type.__asyncLoader;const pe=e=>e.type.__isKeepAlive;RegExp,RegExp;function fe(e,t){return(0,i.kJ)(e)?e.some((e=>fe(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!(0,i.Kj)(e)&&e.test(t)}function ge(e,t){me(e,"a",t)}function ve(e,t){me(e,"da",t)}function me(e,t,r=Dr){const o=e.__wdc||(e.__wdc=()=>{let t=r;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Ce(t,o,r),r){let e=r.parent;while(e&&e.parent)pe(e.parent.vnode)&&be(o,t,r,e),e=e.parent}}function be(e,t,r,o){const n=Ce(t,e,o,!0);Re((()=>{(0,i.Od)(o[t],n)}),r)}function ye(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function we(e){return 128&e.shapeFlag?e.ssContent:e}function Ce(e,t,r=Dr,i=!1){if(r){const n=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(r.isUnmounted)return;(0,o.Jd)(),Fr(r);const n=a(t,r,e,i);return Ir(),(0,o.lk)(),n});return i?n.unshift(s):n.push(s),s}}const Ee=e=>(t,r=Dr)=>(!Vr||"sp"===e)&&Ce(e,((...e)=>t(...e)),r),Se=Ee("bm"),xe=Ee("m"),Te=Ee("bu"),ke=Ee("u"),_e=Ee("bum"),Re=Ee("um"),Oe=Ee("sp"),De=Ee("rtg"),Ae=Ee("rtc");function Pe(e,t=Dr){Ce("ec",e,t)}const Me="components";function Le(e,t){return Ne(Me,e,!0,t)||e}const Fe=Symbol.for("v-ndc");function Ie(e){return(0,i.HD)(e)?Ne(Me,e,!1)||e:e||Fe}function Ne(e,t,r=!0,o=!1){const n=P||Dr;if(n){const r=n.type;if(e===Me){const e=Yr(r,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return r}const a=He(n[e]||r[e],t)||He(n.appContext[e],t);return!a&&o?r:a}}function He(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}function Ge(e,t,r,o){let n;const a=r&&r[o];if((0,i.kJ)(e)||(0,i.HD)(e)){n=new Array(e.length);for(let r=0,o=e.length;r<o;r++)n[r]=t(e[r],r,void 0,a&&a[r])}else if("number"===typeof e){0,n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,a&&a[r])}else if((0,i.Kn)(e))if(e[Symbol.iterator])n=Array.from(e,((e,r)=>t(e,r,void 0,a&&a[r])));else{const r=Object.keys(e);n=new Array(r.length);for(let o=0,i=r.length;o<i;o++){const i=r[o];n[o]=t(e[i],i,o,a&&a[o])}}else n=[];return r&&(r[o]=n),n}function Ve(e,t){for(let r=0;r<t.length;r++){const o=t[r];if((0,i.kJ)(o))for(let t=0;t<o.length;t++)e[o[t].name]=o[t].fn;else o&&(e[o.name]=o.key?(...e)=>{const t=o.fn(...e);return t&&(t.key=o.key),t}:o.fn)}return e}function ze(e,t,r={},o,i){if(P.isCE||P.parent&&he(P.parent)&&P.parent.isCE)return"default"!==t&&(r.name=t),vr("slot",r,o&&o());let n=e[t];n&&n._c&&(n._d=!1),or();const a=n&&Be(n(r)),s=cr(Jt,{key:r.key||a&&a.key||`_${t}`},a||(o?o():[]),a&&1===e._?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),n&&n._c&&(n._d=!0),s}function Be(e){return e.some((e=>!ur(e)||e.type!==Zt&&!(e.type===Jt&&!Be(e.children))))?e:null}function je(e,t){const r={};for(const o in e)r[t&&/[A-Z]/.test(o)?`on:${o}`:(0,i.hR)(o)]=e[o];return r}const We=e=>e?Nr(e)?Kr(e)||e.proxy:We(e.parent):null,Ue=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>We(e.parent),$root:e=>We(e.root),$emit:e=>e.emit,$options:e=>rt(e),$forceUpdate:e=>e.f||(e.f=()=>w(e.update)),$nextTick:e=>e.n||(e.n=b.bind(e.proxy)),$watch:e=>q.bind(e)}),$e=(e,t)=>e!==i.kT&&!e.__isScriptSetup&&(0,i.RI)(e,t),Ke={get({_:e},t){const{ctx:r,setupState:n,data:a,props:s,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const o=l[t];if(void 0!==o)switch(o){case 1:return n[t];case 2:return a[t];case 4:return r[t];case 3:return s[t]}else{if($e(n,t))return l[t]=1,n[t];if(a!==i.kT&&(0,i.RI)(a,t))return l[t]=2,a[t];if((d=e.propsOptions[0])&&(0,i.RI)(d,t))return l[t]=3,s[t];if(r!==i.kT&&(0,i.RI)(r,t))return l[t]=4,r[t];Je&&(l[t]=0)}}const h=Ue[t];let p,f;return h?("$attrs"===t&&(0,o.j)(e,"get",t),h(e)):(p=c.__cssModules)&&(p=p[t])?p:r!==i.kT&&(0,i.RI)(r,t)?(l[t]=4,r[t]):(f=u.config.globalProperties,(0,i.RI)(f,t)?f[t]:void 0)},set({_:e},t,r){const{data:o,setupState:n,ctx:a}=e;return $e(n,t)?(n[t]=r,!0):o!==i.kT&&(0,i.RI)(o,t)?(o[t]=r,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:o,appContext:n,propsOptions:a}},s){let l;return!!r[s]||e!==i.kT&&(0,i.RI)(e,s)||$e(t,s)||(l=a[0])&&(0,i.RI)(l,s)||(0,i.RI)(o,s)||(0,i.RI)(Ue,s)||(0,i.RI)(n.config.globalProperties,s)},defineProperty(e,t,r){return null!=r.get?e._.accessCache[t]=0:(0,i.RI)(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Ye(){return qe().slots}function qe(){const e=Ar();return e.setupContext||(e.setupContext=$r(e))}function Xe(e){return(0,i.kJ)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let Je=!0;function Qe(e){const t=rt(e),r=e.proxy,n=e.ctx;Je=!1,t.beforeCreate&&et(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:l,watch:c,provide:u,inject:d,created:h,beforeMount:p,mounted:f,beforeUpdate:g,updated:v,activated:m,deactivated:b,beforeDestroy:y,beforeUnmount:w,destroyed:C,unmounted:E,render:S,renderTracked:x,renderTriggered:T,errorCaptured:k,serverPrefetch:_,expose:R,inheritAttrs:O,components:D,directives:A,filters:P}=t,M=null;if(d&&Ze(d,n,M),l)for(const o in l){const e=l[o];(0,i.mf)(e)&&(n[o]=e.bind(r))}if(a){0;const t=a.call(r,r);0,(0,i.Kn)(t)&&(e.data=(0,o.qj)(t))}if(Je=!0,s)for(const o in s){const e=s[o],t=(0,i.mf)(e)?e.bind(r,r):(0,i.mf)(e.get)?e.get.bind(r,r):i.dG;0;const a=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(r):i.dG,l=Xr({get:t,set:a});Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const o in c)tt(c[o],n,r,o);if(u){const e=(0,i.mf)(u)?u.call(r):u;Reflect.ownKeys(e).forEach((t=>{vt(t,e[t])}))}function L(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(h&&et(h,e,"c"),L(Se,p),L(xe,f),L(Te,g),L(ke,v),L(ge,m),L(ve,b),L(Pe,k),L(Ae,x),L(De,T),L(_e,w),L(Re,E),L(Oe,_),(0,i.kJ)(R))if(R.length){const t=e.exposed||(e.exposed={});R.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===i.dG&&(e.render=S),null!=O&&(e.inheritAttrs=O),D&&(e.components=D),A&&(e.directives=A)}function Ze(e,t,r=i.dG){(0,i.kJ)(e)&&(e=st(e));for(const n in e){const r=e[n];let a;a=(0,i.Kn)(r)?"default"in r?mt(r.from||n,r.default,!0):mt(r.from||n):mt(r),(0,o.dq)(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[n]=a}}function et(e,t,r){a((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function tt(e,t,r,o){const n=o.includes(".")?X(r,o):()=>r[o];if((0,i.HD)(e)){const r=t[e];(0,i.mf)(r)&&K(n,r)}else if((0,i.mf)(e))K(n,e.bind(r));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>tt(e,t,r,o)));else{const o=(0,i.mf)(e.handler)?e.handler.bind(r):t[e.handler];(0,i.mf)(o)&&K(n,o,e)}else 0}function rt(e){const t=e.type,{mixins:r,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,l=a.get(t);let c;return l?c=l:n.length||r||o?(c={},n.length&&n.forEach((e=>ot(c,e,s,!0))),ot(c,t,s)):c=t,(0,i.Kn)(t)&&a.set(t,c),c}function ot(e,t,r,o=!1){const{mixins:i,extends:n}=t;n&&ot(e,n,r,!0),i&&i.forEach((t=>ot(e,t,r,!0)));for(const a in t)if(o&&"expose"===a);else{const o=it[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const it={data:nt,props:ut,emits:ut,methods:ct,computed:ct,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:ct,directives:ct,watch:dt,provide:nt,inject:at};function nt(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function at(e,t){return ct(st(e),st(t))}function st(e){if((0,i.kJ)(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function lt(e,t){return e?[...new Set([].concat(e,t))]:t}function ct(e,t){return e?(0,i.l7)(Object.create(null),e,t):t}function ut(e,t){return e?(0,i.kJ)(e)&&(0,i.kJ)(t)?[...new Set([...e,...t])]:(0,i.l7)(Object.create(null),Xe(e),Xe(null!=t?t:{})):t}function dt(e,t){if(!e)return t;if(!t)return e;const r=(0,i.l7)(Object.create(null),e);for(const o in t)r[o]=lt(e[o],t[o]);return r}function ht(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pt=0;function ft(e,t){return function(r,o=null){(0,i.mf)(r)||(r=(0,i.l7)({},r)),null==o||(0,i.Kn)(o)||(o=null);const n=ht();const a=new Set;let s=!1;const l=n.app={_uid:pt++,_component:r,_props:o,_container:null,_context:n,_instance:null,version:eo,get config(){return n.config},set config(e){0},use(e,...t){return a.has(e)||(e&&(0,i.mf)(e.install)?(a.add(e),e.install(l,...t)):(0,i.mf)(e)&&(a.add(e),e(l,...t))),l},mixin(e){return n.mixins.includes(e)||n.mixins.push(e),l},component(e,t){return t?(n.components[e]=t,l):n.components[e]},directive(e,t){return t?(n.directives[e]=t,l):n.directives[e]},mount(i,a,c){if(!s){0;const u=vr(r,o);return u.appContext=n,a&&t?t(u,i):e(u,i,c),s=!0,l._container=i,i.__vue_app__=l,Kr(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return n.provides[e]=t,l},runWithContext(e){gt=l;try{return e()}finally{gt=null}}};return l}}let gt=null;function vt(e,t){if(Dr){let r=Dr.provides;const o=Dr.parent&&Dr.parent.provides;o===r&&(r=Dr.provides=Object.create(o)),r[e]=t}else 0}function mt(e,t,r=!1){const o=Dr||P;if(o||gt){const n=o?null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:gt._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return r&&(0,i.mf)(t)?t.call(o&&o.proxy):t}else 0}function bt(e,t,r,n=!1){const a={},s={};(0,i.Nj)(s,hr,1),e.propsDefaults=Object.create(null),wt(e,t,a,s);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);r?e.props=n?a:(0,o.Um)(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function yt(e,t,r,n){const{props:a,attrs:s,vnode:{patchFlag:l}}=e,c=(0,o.IU)(a),[u]=e.propsOptions;let d=!1;if(!(n||l>0)||16&l){let o;wt(e,t,a,s)&&(d=!0);for(const n in c)t&&((0,i.RI)(t,n)||(o=(0,i.rs)(n))!==n&&(0,i.RI)(t,o))||(u?!r||void 0===r[n]&&void 0===r[o]||(a[n]=Ct(u,c,n,void 0,e,!0)):delete a[n]);if(s!==c)for(const e in s)t&&(0,i.RI)(t,e)||(delete s[e],d=!0)}else if(8&l){const r=e.vnode.dynamicProps;for(let o=0;o<r.length;o++){let n=r[o];if(A(e.emitsOptions,n))continue;const l=t[n];if(u)if((0,i.RI)(s,n))l!==s[n]&&(s[n]=l,d=!0);else{const t=(0,i._A)(n);a[t]=Ct(u,c,t,l,e,!1)}else l!==s[n]&&(s[n]=l,d=!0)}}d&&(0,o.X$)(e,"set","$attrs")}function wt(e,t,r,n){const[a,s]=e.propsOptions;let l,c=!1;if(t)for(let o in t){if((0,i.Gg)(o))continue;const u=t[o];let d;a&&(0,i.RI)(a,d=(0,i._A)(o))?s&&s.includes(d)?(l||(l={}))[d]=u:r[d]=u:A(e.emitsOptions,o)||o in n&&u===n[o]||(n[o]=u,c=!0)}if(s){const t=(0,o.IU)(r),n=l||i.kT;for(let o=0;o<s.length;o++){const l=s[o];r[l]=Ct(a,t,l,n[l],e,!(0,i.RI)(n,l))}}return c}function Ct(e,t,r,o,n,a){const s=e[r];if(null!=s){const e=(0,i.RI)(s,"default");if(e&&void 0===o){const e=s.default;if(s.type!==Function&&!s.skipFactory&&(0,i.mf)(e)){const{propsDefaults:i}=n;r in i?o=i[r]:(Fr(n),o=i[r]=e.call(null,t),Ir())}else o=e}s[0]&&(a&&!e?o=!1:!s[1]||""!==o&&o!==(0,i.rs)(r)||(o=!0))}return o}function Et(e,t,r=!1){const o=t.propsCache,n=o.get(e);if(n)return n;const a=e.props,s={},l=[];let c=!1;if(!(0,i.mf)(e)){const o=e=>{c=!0;const[r,o]=Et(e,t,!0);(0,i.l7)(s,r),o&&l.push(...o)};!r&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!a&&!c)return(0,i.Kn)(e)&&o.set(e,i.Z6),i.Z6;if((0,i.kJ)(a))for(let d=0;d<a.length;d++){0;const e=(0,i._A)(a[d]);St(e)&&(s[e]=i.kT)}else if(a){0;for(const e in a){const t=(0,i._A)(e);if(St(t)){const r=a[e],o=s[t]=(0,i.kJ)(r)||(0,i.mf)(r)?{type:r}:(0,i.l7)({},r);if(o){const e=kt(Boolean,o.type),r=kt(String,o.type);o[0]=e>-1,o[1]=r<0||e<r,(e>-1||(0,i.RI)(o,"default"))&&l.push(t)}}}}const u=[s,l];return(0,i.Kn)(e)&&o.set(e,u),u}function St(e){return"$"!==e[0]}function xt(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Tt(e,t){return xt(e)===xt(t)}function kt(e,t){return(0,i.kJ)(t)?t.findIndex((t=>Tt(t,e))):(0,i.mf)(t)&&Tt(t,e)?0:-1}const _t=e=>"_"===e[0]||"$stable"===e,Rt=e=>(0,i.kJ)(e)?e.map(Er):[Er(e)],Ot=(e,t,r)=>{if(t._n)return t;const o=N(((...e)=>Rt(t(...e))),r);return o._c=!1,o},Dt=(e,t,r)=>{const o=e._ctx;for(const n in e){if(_t(n))continue;const r=e[n];if((0,i.mf)(r))t[n]=Ot(n,r,o);else if(null!=r){0;const e=Rt(r);t[n]=()=>e}}},At=(e,t)=>{const r=Rt(t);e.slots.default=()=>r},Pt=(e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=(0,o.IU)(t),(0,i.Nj)(t,"_",r)):Dt(t,e.slots={})}else e.slots={},t&&At(e,t);(0,i.Nj)(e.slots,hr,1)},Mt=(e,t,r)=>{const{vnode:o,slots:n}=e;let a=!0,s=i.kT;if(32&o.shapeFlag){const e=t._;e?r&&1===e?a=!1:((0,i.l7)(n,t),r||1!==e||delete n._):(a=!t.$stable,Dt(t,n)),s=t}else t&&(At(e,t),s={default:1});if(a)for(const i in n)_t(i)||i in s||delete n[i]};function Lt(e,t,r,a,s=!1){if((0,i.kJ)(e))return void e.forEach(((e,o)=>Lt(e,t&&((0,i.kJ)(t)?t[o]:t),r,a,s)));if(he(a)&&!s)return;const l=4&a.shapeFlag?Kr(a.component)||a.component.proxy:a.el,c=s?null:l,{i:u,r:d}=e;const h=t&&t.r,p=u.refs===i.kT?u.refs={}:u.refs,f=u.setupState;if(null!=h&&h!==d&&((0,i.HD)(h)?(p[h]=null,(0,i.RI)(f,h)&&(f[h]=null)):(0,o.dq)(h)&&(h.value=null)),(0,i.mf)(d))n(d,u,12,[c,p]);else{const t=(0,i.HD)(d),n=(0,o.dq)(d);if(t||n){const o=()=>{if(e.f){const r=t?(0,i.RI)(f,d)?f[d]:p[d]:d.value;s?(0,i.kJ)(r)&&(0,i.Od)(r,l):(0,i.kJ)(r)?r.includes(l)||r.push(l):t?(p[d]=[l],(0,i.RI)(f,d)&&(f[d]=p[d])):(d.value=[l],e.k&&(p[e.k]=d.value))}else t?(p[d]=c,(0,i.RI)(f,d)&&(f[d]=c)):n&&(d.value=c,e.k&&(p[e.k]=c))};c?(o.id=-1,It(o,r)):o()}else 0}}function Ft(){}const It=U;function Nt(e){return Ht(e)}function Ht(e,t){Ft();const r=(0,i.E9)();r.__VUE__=!0;const{insert:n,remove:a,patchProp:s,createElement:l,createText:c,createComment:u,setText:d,setElementText:h,parentNode:p,nextSibling:f,setScopeId:g=i.dG,insertStaticContent:v}=e,m=(e,t,r,o=null,i=null,n=null,a=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!dr(e,t)&&(o=Q(e),K(e,i,n,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Qt:b(e,t,r,o);break;case Zt:y(e,t,r,o);break;case er:null==e&&C(t,r,o,a);break;case Jt:L(e,t,r,o,i,n,a,s,l);break;default:1&d?_(e,t,r,o,i,n,a,s,l):6&d?F(e,t,r,o,i,n,a,s,l):(64&d||128&d)&&c.process(e,t,r,o,i,n,a,s,l,te)}null!=u&&i&&Lt(u,e&&e.ref,n,t||e,!t)},b=(e,t,r,o)=>{if(null==e)n(t.el=c(t.children),r,o);else{const r=t.el=e.el;t.children!==e.children&&d(r,t.children)}},y=(e,t,r,o)=>{null==e?n(t.el=u(t.children||""),r,o):t.el=e.el},C=(e,t,r,o)=>{[e.el,e.anchor]=v(e.children,t,r,o,e.el,e.anchor)},S=({el:e,anchor:t},r,o)=>{let i;while(e&&e!==t)i=f(e),n(e,r,o),e=i;n(t,r,o)},k=({el:e,anchor:t})=>{let r;while(e&&e!==t)r=f(e),a(e),e=r;a(t)},_=(e,t,r,o,i,n,a,s,l)=>{a=a||"svg"===t.type,null==e?R(t,r,o,i,n,a,s,l):A(e,t,i,n,a,s,l)},R=(e,t,r,o,a,c,u,d)=>{let p,f;const{type:g,props:v,shapeFlag:m,transition:b,dirs:y}=e;if(p=e.el=l(e.type,c,v&&v.is,v),8&m?h(p,e.children):16&m&&D(e.children,p,null,o,a,c&&"foreignObject"!==g,u,d),y&&Z(e,null,o,"created"),O(p,e,e.scopeId,u,o),v){for(const t in v)"value"===t||(0,i.Gg)(t)||s(p,t,null,v[t],c,e.children,o,a,J);"value"in v&&s(p,"value",null,v.value),(f=v.onVnodeBeforeMount)&&kr(f,o,e)}y&&Z(e,null,o,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&b&&!b.persisted;w&&b.beforeEnter(p),n(p,t,r),((f=v&&v.onVnodeMounted)||w||y)&&It((()=>{f&&kr(f,o,e),w&&b.enter(p),y&&Z(e,null,o,"mounted")}),a)},O=(e,t,r,o,i)=>{if(r&&g(e,r),o)for(let n=0;n<o.length;n++)g(e,o[n]);if(i){let r=i.subTree;if(t===r){const t=i.vnode;O(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},D=(e,t,r,o,i,n,a,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?Sr(e[c]):Er(e[c]);m(null,l,t,r,o,i,n,a,s)}},A=(e,t,r,o,n,a,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||i.kT,g=t.props||i.kT;let v;r&&Gt(r,!1),(v=g.onVnodeBeforeUpdate)&&kr(v,r,t,e),p&&Z(t,e,r,"beforeUpdate"),r&&Gt(r,!0);const m=n&&"foreignObject"!==t.type;if(d?P(e.dynamicChildren,d,c,r,o,m,a):l||B(e,t,c,null,r,o,m,a,!1),u>0){if(16&u)M(c,t,f,g,r,o,n);else if(2&u&&f.class!==g.class&&s(c,"class",null,g.class,n),4&u&&s(c,"style",f.style,g.style,n),8&u){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const a=i[t],l=f[a],u=g[a];u===l&&"value"!==a||s(c,a,l,u,n,e.children,r,o,J)}}1&u&&e.children!==t.children&&h(c,t.children)}else l||null!=d||M(c,t,f,g,r,o,n);((v=g.onVnodeUpdated)||p)&&It((()=>{v&&kr(v,r,t,e),p&&Z(t,e,r,"updated")}),o)},P=(e,t,r,o,i,n,a)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===Jt||!dr(l,c)||70&l.shapeFlag)?p(l.el):r;m(l,c,u,null,o,i,n,a,!0)}},M=(e,t,r,o,n,a,l)=>{if(r!==o){if(r!==i.kT)for(const c in r)(0,i.Gg)(c)||c in o||s(e,c,r[c],null,l,t.children,n,a,J);for(const c in o){if((0,i.Gg)(c))continue;const u=o[c],d=r[c];u!==d&&"value"!==c&&s(e,c,d,u,l,t.children,n,a,J)}"value"in o&&s(e,"value",r.value,o.value)}},L=(e,t,r,o,i,a,s,l,u)=>{const d=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(n(d,r,o),n(h,r,o),D(t.children,r,h,i,a,s,l,u)):p>0&&64&p&&f&&e.dynamicChildren?(P(e.dynamicChildren,f,r,i,a,s,l),(null!=t.key||i&&t===i.subTree)&&Vt(e,t,!0)):B(e,t,r,h,i,a,s,l,u)},F=(e,t,r,o,i,n,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,r,o,a,l):I(t,r,o,i,n,a,l):N(e,t,l)},I=(e,t,r,o,i,n,a)=>{const s=e.component=Or(e,o,i);if(pe(e)&&(s.ctx.renderer=te),zr(s),s.asyncDep){if(i&&i.registerDep(s,G),!e.el){const e=s.subTree=vr(Zt);y(null,e,t,r)}}else G(s,e,t,r,i,n,a)},N=(e,t,r)=>{const o=t.component=e.component;if(z(e,t,r)){if(o.asyncDep&&!o.asyncResolved)return void V(o,t,r);o.next=t,E(o.update),o.update()}else t.el=e.el,o.vnode=t},G=(e,t,r,n,a,s,l)=>{const c=()=>{if(e.isMounted){let t,{next:r,bu:o,u:n,parent:c,vnode:u}=e,d=r;0,Gt(e,!1),r?(r.el=u.el,V(e,r,l)):r=u,o&&(0,i.ir)(o),(t=r.props&&r.props.onVnodeBeforeUpdate)&&kr(t,c,r,u),Gt(e,!0);const h=H(e);0;const f=e.subTree;e.subTree=h,m(f,h,p(f.el),Q(f),e,a,s),r.el=h.el,null===d&&j(e,h.el),n&&It(n,a),(t=r.props&&r.props.onVnodeUpdated)&&It((()=>kr(t,c,r,u)),a)}else{let o;const{el:l,props:c}=t,{bm:u,m:d,parent:h}=e,p=he(t);if(Gt(e,!1),u&&(0,i.ir)(u),!p&&(o=c&&c.onVnodeBeforeMount)&&kr(o,h,t),Gt(e,!0),l&&oe){const r=()=>{e.subTree=H(e),oe(l,e.subTree,e,a,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&r())):r()}else{0;const o=e.subTree=H(e);0,m(null,o,r,n,e,a,s),t.el=o.el}if(d&&It(d,a),!p&&(o=c&&c.onVnodeMounted)){const e=t;It((()=>kr(o,h,e)),a)}(256&t.shapeFlag||h&&he(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&It(e.a,a),e.isMounted=!0,t=r=n=null}},u=e.effect=new o.qq(c,(()=>w(d)),e.scope),d=e.update=()=>u.run();d.id=e.uid,Gt(e,!0),d()},V=(e,t,r)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,yt(e,t.props,i,r),Mt(e,t.children,r),(0,o.Jd)(),x(),(0,o.lk)()},B=(e,t,r,o,i,n,a,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void U(c,d,r,o,i,n,a,s,l);if(256&p)return void W(c,d,r,o,i,n,a,s,l)}8&f?(16&u&&J(c,i,n),d!==c&&h(r,d)):16&u?16&f?U(c,d,r,o,i,n,a,s,l):J(c,i,n,!0):(8&u&&h(r,""),16&f&&D(d,r,o,i,n,a,s,l))},W=(e,t,r,o,n,a,s,l,c)=>{e=e||i.Z6,t=t||i.Z6;const u=e.length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const o=t[p]=c?Sr(t[p]):Er(t[p]);m(e[p],o,r,null,n,a,s,l,c)}u>d?J(e,n,a,!0,!1,h):D(t,r,o,n,a,s,l,c,h)},U=(e,t,r,o,n,a,s,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;while(u<=h&&u<=p){const o=e[u],i=t[u]=c?Sr(t[u]):Er(t[u]);if(!dr(o,i))break;m(o,i,r,null,n,a,s,l,c),u++}while(u<=h&&u<=p){const o=e[h],i=t[p]=c?Sr(t[p]):Er(t[p]);if(!dr(o,i))break;m(o,i,r,null,n,a,s,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,i=e<d?t[e].el:o;while(u<=p)m(null,t[u]=c?Sr(t[u]):Er(t[u]),r,i,n,a,s,l,c),u++}}else if(u>p)while(u<=h)K(e[u],n,a,!0),u++;else{const f=u,g=u,v=new Map;for(u=g;u<=p;u++){const e=t[u]=c?Sr(t[u]):Er(t[u]);null!=e.key&&v.set(e.key,u)}let b,y=0;const w=p-g+1;let C=!1,E=0;const S=new Array(w);for(u=0;u<w;u++)S[u]=0;for(u=f;u<=h;u++){const o=e[u];if(y>=w){K(o,n,a,!0);continue}let i;if(null!=o.key)i=v.get(o.key);else for(b=g;b<=p;b++)if(0===S[b-g]&&dr(o,t[b])){i=b;break}void 0===i?K(o,n,a,!0):(S[i-g]=u+1,i>=E?E=i:C=!0,m(o,t[i],r,null,n,a,s,l,c),y++)}const x=C?zt(S):i.Z6;for(b=x.length-1,u=w-1;u>=0;u--){const e=g+u,i=t[e],h=e+1<d?t[e+1].el:o;0===S[u]?m(null,i,r,h,n,a,s,l,c):C&&(b<0||u!==x[b]?$(i,r,h,2):b--)}}},$=(e,t,r,o,i=null)=>{const{el:a,type:s,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void $(e.component.subTree,t,r,o);if(128&u)return void e.suspense.move(t,r,o);if(64&u)return void s.move(e,t,r,te);if(s===Jt){n(a,t,r);for(let e=0;e<c.length;e++)$(c[e],t,r,o);return void n(e.anchor,t,r)}if(s===er)return void S(e,t,r);const d=2!==o&&1&u&&l;if(d)if(0===o)l.beforeEnter(a),n(a,t,r),It((()=>l.enter(a)),i);else{const{leave:e,delayLeave:o,afterLeave:i}=l,s=()=>n(a,t,r),c=()=>{e(a,(()=>{s(),i&&i()}))};o?o(a,s,c):c()}else n(a,t,r)},K=(e,t,r,o=!1,i=!1)=>{const{type:n,props:a,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=s&&Lt(s,null,r,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&h,f=!he(e);let g;if(f&&(g=a&&a.onVnodeBeforeUnmount)&&kr(g,t,e),6&u)X(e.component,r,o);else{if(128&u)return void e.suspense.unmount(r,o);p&&Z(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,r,i,te,o):c&&(n!==Jt||d>0&&64&d)?J(c,t,r,!1,!0):(n===Jt&&384&d||!i&&16&u)&&J(l,t,r),o&&Y(e)}(f&&(g=a&&a.onVnodeUnmounted)||p)&&It((()=>{g&&kr(g,t,e),p&&Z(e,null,t,"unmounted")}),r)},Y=e=>{const{type:t,el:r,anchor:o,transition:i}=e;if(t===Jt)return void q(r,o);if(t===er)return void k(e);const n=()=>{a(r),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:o}=i,a=()=>t(r,n);o?o(e.el,n,a):a()}else n()},q=(e,t)=>{let r;while(e!==t)r=f(e),a(e),e=r;a(t)},X=(e,t,r)=>{const{bum:o,scope:n,update:a,subTree:s,um:l}=e;o&&(0,i.ir)(o),n.stop(),a&&(a.active=!1,K(s,e,t,r)),l&&It(l,t),It((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,r,o=!1,i=!1,n=0)=>{for(let a=n;a<e.length;a++)K(e[a],t,r,o,i)},Q=e=>6&e.shapeFlag?Q(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),ee=(e,t,r)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):m(t._vnode||null,e,t,null,null,null,r),x(),T(),t._vnode=e},te={p:m,um:K,m:$,r:Y,mt:I,mc:D,pc:B,pbc:P,n:Q,o:e};let re,oe;return t&&([re,oe]=t(te)),{render:ee,hydrate:re,createApp:ft(ee,re)}}function Gt({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Vt(e,t,r=!1){const o=e.children,n=t.children;if((0,i.kJ)(o)&&(0,i.kJ)(n))for(let i=0;i<o.length;i++){const e=o[i];let t=n[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=n[i]=Sr(n[i]),t.el=e.el),r||Vt(e,t)),t.type===Qt&&(t.el=e.el)}}function zt(e){const t=e.slice(),r=[0];let o,i,n,a,s;const l=e.length;for(o=0;o<l;o++){const l=e[o];if(0!==l){if(i=r[r.length-1],e[i]<l){t[o]=i,r.push(o);continue}n=0,a=r.length-1;while(n<a)s=n+a>>1,e[r[s]]<l?n=s+1:a=s;l<e[r[n]]&&(n>0&&(t[o]=r[n-1]),r[n]=o)}}n=r.length,a=r[n-1];while(n-- >0)r[n]=a,a=t[a];return r}const Bt=e=>e.__isTeleport,jt=e=>e&&(e.disabled||""===e.disabled),Wt=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Ut=(e,t)=>{const r=e&&e.to;if((0,i.HD)(r)){if(t){const e=t(r);return e}return null}return r},$t={__isTeleport:!0,process(e,t,r,o,i,n,a,s,l,c){const{mc:u,pc:d,pbc:h,o:{insert:p,querySelector:f,createText:g,createComment:v}}=c,m=jt(t.props);let{shapeFlag:b,children:y,dynamicChildren:w}=t;if(null==e){const e=t.el=g(""),c=t.anchor=g("");p(e,r,o),p(c,r,o);const d=t.target=Ut(t.props,f),h=t.targetAnchor=g("");d&&(p(h,d),a=a||Wt(d));const v=(e,t)=>{16&b&&u(y,e,t,i,n,a,s,l)};m?v(r,c):d&&v(d,h)}else{t.el=e.el;const o=t.anchor=e.anchor,u=t.target=e.target,p=t.targetAnchor=e.targetAnchor,g=jt(e.props),v=g?r:u,b=g?o:p;if(a=a||Wt(u),w?(h(e.dynamicChildren,w,v,i,n,a,s),Vt(e,t,!0)):l||d(e,t,v,b,i,n,a,s,!1),m)g||Kt(t,r,o,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Ut(t.props,f);e&&Kt(t,e,null,c,0)}else g&&Kt(t,u,p,c,1)}Xt(t)},remove(e,t,r,o,{um:i,o:{remove:n}},a){const{shapeFlag:s,children:l,anchor:c,targetAnchor:u,target:d,props:h}=e;if(d&&n(u),(a||!jt(h))&&(n(c),16&s))for(let p=0;p<l.length;p++){const e=l[p];i(e,t,r,!0,!!e.dynamicChildren)}},move:Kt,hydrate:Yt};function Kt(e,t,r,{o:{insert:o},m:i},n=2){0===n&&o(e.targetAnchor,t,r);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=e,d=2===n;if(d&&o(a,t,r),(!d||jt(u))&&16&l)for(let h=0;h<c.length;h++)i(c[h],t,r,2);d&&o(s,t,r)}function Yt(e,t,r,o,i,n,{o:{nextSibling:a,parentNode:s,querySelector:l}},c){const u=t.target=Ut(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(jt(t.props))t.anchor=c(a(e),t,s(e),r,o,i,n),t.targetAnchor=l;else{t.anchor=a(e);let s=l;while(s)if(s=a(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,u._lpa=t.targetAnchor&&a(t.targetAnchor);break}c(l,t,u,r,o,i,n)}Xt(t)}return t.anchor&&a(t.anchor)}const qt=$t;function Xt(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;while(r!==e.targetAnchor)1===r.nodeType&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Jt=Symbol.for("v-fgt"),Qt=Symbol.for("v-txt"),Zt=Symbol.for("v-cmt"),er=Symbol.for("v-stc"),tr=[];let rr=null;function or(e=!1){tr.push(rr=e?null:[])}function ir(){tr.pop(),rr=tr[tr.length-1]||null}let nr=1;function ar(e){nr+=e}function sr(e){return e.dynamicChildren=nr>0?rr||i.Z6:null,ir(),nr>0&&rr&&rr.push(e),e}function lr(e,t,r,o,i,n){return sr(gr(e,t,r,o,i,n,!0))}function cr(e,t,r,o,i){return sr(vr(e,t,r,o,i,!0))}function ur(e){return!!e&&!0===e.__v_isVNode}function dr(e,t){return e.type===t.type&&e.key===t.key}const hr="__vInternal",pr=({key:e})=>null!=e?e:null,fr=({ref:e,ref_key:t,ref_for:r})=>("number"===typeof e&&(e=""+e),null!=e?(0,i.HD)(e)||(0,o.dq)(e)||(0,i.mf)(e)?{i:P,r:e,k:t,f:!!r}:e:null);function gr(e,t=null,r=null,o=0,n=null,a=(e===Jt?0:1),s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&pr(t),ref:t&&fr(t),scopeId:M,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:P};return l?(xr(c,r),128&a&&e.normalize(c)):r&&(c.shapeFlag|=(0,i.HD)(r)?8:16),nr>0&&!s&&rr&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&rr.push(c),c}const vr=mr;function mr(e,t=null,r=null,n=0,a=null,s=!1){if(e&&e!==Fe||(e=Zt),ur(e)){const o=yr(e,t,!0);return r&&xr(o,r),nr>0&&!s&&rr&&(6&o.shapeFlag?rr[rr.indexOf(e)]=o:rr.push(o)),o.patchFlag|=-2,o}if(qr(e)&&(e=e.__vccOpts),t){t=br(t);let{class:e,style:r}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(r)&&((0,o.X3)(r)&&!(0,i.kJ)(r)&&(r=(0,i.l7)({},r)),t.style=(0,i.j5)(r))}const l=(0,i.HD)(e)?1:W(e)?128:Bt(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return gr(e,t,r,n,a,l,s,!0)}function br(e){return e?(0,o.X3)(e)||hr in e?(0,i.l7)({},e):e:null}function yr(e,t,r=!1){const{props:o,ref:n,patchFlag:a,children:s}=e,l=t?Tr(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&pr(l),ref:t&&t.ref?r&&n?(0,i.kJ)(n)?n.concat(fr(t)):[n,fr(t)]:fr(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Jt?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yr(e.ssContent),ssFallback:e.ssFallback&&yr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c}function wr(e=" ",t=0){return vr(Qt,null,e,t)}function Cr(e="",t=!1){return t?(or(),cr(Zt,null,e)):vr(Zt,null,e)}function Er(e){return null==e||"boolean"===typeof e?vr(Zt):(0,i.kJ)(e)?vr(Jt,null,e.slice()):"object"===typeof e?Sr(e):vr(Qt,null,String(e))}function Sr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:yr(e)}function xr(e,t){let r=0;const{shapeFlag:o}=e;if(null==t)t=null;else if((0,i.kJ)(t))r=16;else if("object"===typeof t){if(65&o){const r=t.default;return void(r&&(r._c&&(r._d=!1),xr(e,r()),r._c&&(r._d=!0)))}{r=32;const o=t._;o||hr in t?3===o&&P&&(1===P.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=P}}else(0,i.mf)(t)?(t={default:t,_ctx:P},r=32):(t=String(t),64&o?(r=16,t=[wr(t)]):r=8);e.children=t,e.shapeFlag|=r}function Tr(...e){const t={};for(let r=0;r<e.length;r++){const o=e[r];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=(0,i.C_)([t.class,o.class]));else if("style"===e)t.style=(0,i.j5)([t.style,o.style]);else if((0,i.F7)(e)){const r=t[e],n=o[e];!n||r===n||(0,i.kJ)(r)&&r.includes(n)||(t[e]=r?[].concat(r,n):n)}else""!==e&&(t[e]=o[e])}return t}function kr(e,t,r,o=null){a(e,t,7,[r,o])}const _r=ht();let Rr=0;function Or(e,t,r){const n=e.type,a=(t?t.appContext:e.appContext)||_r,s={uid:Rr++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new o.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Et(n,a),emitsOptions:D(n,a),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:n.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=O.bind(null,s),e.ce&&e.ce(s),s}let Dr=null;const Ar=()=>Dr||P;let Pr,Mr,Lr="__VUE_INSTANCE_SETTERS__";(Mr=(0,i.E9)()[Lr])||(Mr=(0,i.E9)()[Lr]=[]),Mr.push((e=>Dr=e)),Pr=e=>{Mr.length>1?Mr.forEach((t=>t(e))):Mr[0](e)};const Fr=e=>{Pr(e),e.scope.on()},Ir=()=>{Dr&&Dr.scope.off(),Pr(null)};function Nr(e){return 4&e.vnode.shapeFlag}let Hr,Gr,Vr=!1;function zr(e,t=!1){Vr=t;const{props:r,children:o}=e.vnode,i=Nr(e);bt(e,r,i,t),Pt(e,o);const n=i?Br(e,t):void 0;return Vr=!1,n}function Br(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=(0,o.Xl)(new Proxy(e.ctx,Ke));const{setup:a}=r;if(a){const r=e.setupContext=a.length>1?$r(e):null;Fr(e),(0,o.Jd)();const l=n(a,e,0,[e.props,r]);if((0,o.lk)(),Ir(),(0,i.tI)(l)){if(l.then(Ir,Ir),t)return l.then((r=>{jr(e,r,t)})).catch((t=>{s(t,e,0)}));e.asyncDep=l}else jr(e,l,t)}else Wr(e,t)}function jr(e,t,r){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,o.WL)(t)),Wr(e,r)}function Wr(e,t,r){const n=e.type;if(!e.render){if(!t&&Hr&&!n.render){const t=n.template||rt(e).template;if(t){0;const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:s}=n,l=(0,i.l7)((0,i.l7)({isCustomElement:r,delimiters:a},o),s);n.render=Hr(t,l)}}e.render=n.render||i.dG,Gr&&Gr(e)}Fr(e),(0,o.Jd)(),Qe(e),(0,o.lk)(),Ir()}function Ur(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return(0,o.j)(e,"get","$attrs"),t[r]}}))}function $r(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return Ur(e)},slots:e.slots,emit:e.emit,expose:t}}function Kr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,o.WL)((0,o.Xl)(e.exposed)),{get(t,r){return r in t?t[r]:r in Ue?Ue[r](e):void 0},has(e,t){return t in e||t in Ue}}))}function Yr(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function qr(e){return(0,i.mf)(e)&&"__vccOpts"in e}const Xr=(e,t)=>(0,o.Fl)(e,t,Vr);function Jr(e,t,r){const o=arguments.length;return 2===o?(0,i.Kn)(t)&&!(0,i.kJ)(t)?ur(t)?vr(e,null,[t]):vr(e,t):vr(e,null,t):(o>3?r=Array.prototype.slice.call(arguments,2):3===o&&ur(r)&&(r=[r]),vr(e,t,r))}const Qr=Symbol.for("v-scx"),Zr=()=>{{const e=mt(Qr);return e}};const eo="3.3.4"},9242:function(e,t,r){"use strict";r.d(t,{D2:function(){return be},F8:function(){return ye},W3:function(){return te},e8:function(){return ue},iM:function(){return ve},nr:function(){return ce},ri:function(){return Te},sY:function(){return xe},uT:function(){return F}});r(7658);var o=r(7139),i=r(3396),n=r(4870);const a="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,l=s&&s.createElement("template"),c={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,o)=>{const i=t?s.createElementNS(a,e):s.createElement(e,r?{is:r}:void 0);return"select"===e&&o&&null!=o.multiple&&i.setAttribute("multiple",o.multiple),i},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,o,i,n){const a=r?r.previousSibling:t.lastChild;if(i&&(i===n||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),r),i===n||!(i=i.nextSibling))break}else{l.innerHTML=o?`<svg>${e}</svg>`:e;const i=l.content;if(o){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function u(e,t,r){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function d(e,t,r){const i=e.style,n=(0,o.HD)(r);if(r&&!n){if(t&&!(0,o.HD)(t))for(const e in t)null==r[e]&&p(i,e,"");for(const e in r)p(i,e,r[e])}else{const o=i.display;n?t!==r&&(i.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=o)}}const h=/\s*!important$/;function p(e,t,r){if((0,o.kJ)(r))r.forEach((r=>p(e,t,r)));else if(null==r&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=v(e,t);h.test(r)?e.setProperty((0,o.rs)(i),r.replace(h,""),"important"):e[i]=r}}const f=["Webkit","Moz","ms"],g={};function v(e,t){const r=g[t];if(r)return r;let i=(0,o._A)(t);if("filter"!==i&&i in e)return g[t]=i;i=(0,o.kC)(i);for(let o=0;o<f.length;o++){const r=f[o]+i;if(r in e)return g[t]=r}return t}const m="http://www.w3.org/1999/xlink";function b(e,t,r,i,n){if(i&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(m,t.slice(6,t.length)):e.setAttributeNS(m,t,r);else{const i=(0,o.Pq)(t);null==r||i&&!(0,o.yA)(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function y(e,t,r,i,n,a,s){if("innerHTML"===t||"textContent"===t)return i&&s(i,n,a),void(e[t]=null==r?"":r);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=r;const o="OPTION"===l?e.getAttribute("value"):e.value,i=null==r?"":r;return o!==i&&(e.value=i),void(null==r&&e.removeAttribute(t))}let c=!1;if(""===r||null==r){const i=typeof e[t];"boolean"===i?r=(0,o.yA)(r):null==r&&"string"===i?(r="",c=!0):"number"===i&&(r=0,c=!0)}try{e[t]=r}catch(u){0}c&&e.removeAttribute(t)}function w(e,t,r,o){e.addEventListener(t,r,o)}function C(e,t,r,o){e.removeEventListener(t,r,o)}function E(e,t,r,o,i=null){const n=e._vei||(e._vei={}),a=n[t];if(o&&a)a.value=o;else{const[r,s]=x(t);if(o){const a=n[t]=R(o,i);w(e,r,a,s)}else a&&(C(e,r,a,s),n[t]=void 0)}}const S=/(?:Once|Passive|Capture)$/;function x(e){let t;if(S.test(e)){let r;t={};while(r=e.match(S))e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}const r=":"===e[2]?e.slice(3):(0,o.rs)(e.slice(2));return[r,t]}let T=0;const k=Promise.resolve(),_=()=>T||(k.then((()=>T=0)),T=Date.now());function R(e,t){const r=e=>{if(e._vts){if(e._vts<=r.attached)return}else e._vts=Date.now();(0,i.$d)(O(e,r.value),t,5,[e])};return r.value=e,r.attached=_(),r}function O(e,t){if((0,o.kJ)(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const D=/^on[a-z]/,A=(e,t,r,i,n=!1,a,s,l,c)=>{"class"===t?u(e,i,n):"style"===t?d(e,r,i):(0,o.F7)(t)?(0,o.tR)(t)||E(e,t,r,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):P(e,t,i,n))?y(e,t,i,a,s,l,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),b(e,t,i,n))};function P(e,t,r,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&D.test(t)&&(0,o.mf)(r)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!D.test(t)||!(0,o.HD)(r))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const M="transition",L="animation",F=(e,{slots:t})=>(0,i.h)(i.P$,V(e),t);F.displayName="Transition";const I={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},N=F.props=(0,o.l7)({},i.nJ,I),H=(e,t=[])=>{(0,o.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},G=e=>!!e&&((0,o.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function V(e){const t={};for(const o in e)o in I||(t[o]=e[o]);if(!1===e.css)return t;const{name:r="v",type:i,duration:n,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:c=a,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=e,g=z(n),v=g&&g[0],m=g&&g[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:w,onLeave:C,onLeaveCancelled:E,onBeforeAppear:S=b,onAppear:x=y,onAppearCancelled:T=w}=t,k=(e,t,r)=>{W(e,t?d:l),W(e,t?u:s),r&&r()},_=(e,t)=>{e._isLeaving=!1,W(e,h),W(e,f),W(e,p),t&&t()},R=e=>(t,r)=>{const o=e?x:y,n=()=>k(t,e,r);H(o,[t,n]),U((()=>{W(t,e?c:a),j(t,e?d:l),G(o)||K(t,i,v,n)}))};return(0,o.l7)(t,{onBeforeEnter(e){H(b,[e]),j(e,a),j(e,s)},onBeforeAppear(e){H(S,[e]),j(e,c),j(e,u)},onEnter:R(!1),onAppear:R(!0),onLeave(e,t){e._isLeaving=!0;const r=()=>_(e,t);j(e,h),J(),j(e,p),U((()=>{e._isLeaving&&(W(e,h),j(e,f),G(C)||K(e,i,m,r))})),H(C,[e,r])},onEnterCancelled(e){k(e,!1),H(w,[e])},onAppearCancelled(e){k(e,!0),H(T,[e])},onLeaveCancelled(e){_(e),H(E,[e])}})}function z(e){if(null==e)return null;if((0,o.Kn)(e))return[B(e.enter),B(e.leave)];{const t=B(e);return[t,t]}}function B(e){const t=(0,o.He)(e);return t}function j(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function W(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function U(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let $=0;function K(e,t,r,o){const i=e._endId=++$,n=()=>{i===e._endId&&o()};if(r)return setTimeout(n,r);const{type:a,timeout:s,propCount:l}=Y(e,t);if(!a)return o();const c=a+"end";let u=0;const d=()=>{e.removeEventListener(c,h),n()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),s+1),e.addEventListener(c,h)}function Y(e,t){const r=window.getComputedStyle(e),o=e=>(r[e]||"").split(", "),i=o(`${M}Delay`),n=o(`${M}Duration`),a=q(i,n),s=o(`${L}Delay`),l=o(`${L}Duration`),c=q(s,l);let u=null,d=0,h=0;t===M?a>0&&(u=M,d=a,h=n.length):t===L?c>0&&(u=L,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?M:L:null,h=u?u===M?n.length:l.length:0);const p=u===M&&/\b(transform|all)(,|$)/.test(o(`${M}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:p}}function q(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,r)=>X(t)+X(e[r]))))}function X(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function J(){return document.body.offsetHeight}const Q=new WeakMap,Z=new WeakMap,ee={name:"TransitionGroup",props:(0,o.l7)({},N,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=(0,i.FN)(),o=(0,i.Y8)();let a,s;return(0,i.ic)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!ne(a[0].el,r.vnode.el,t))return;a.forEach(re),a.forEach(oe);const o=a.filter(ie);J(),o.forEach((e=>{const r=e.el,o=r.style;j(r,t),o.transform=o.webkitTransform=o.transitionDuration="";const i=r._moveCb=e=>{e&&e.target!==r||e&&!/transform$/.test(e.propertyName)||(r.removeEventListener("transitionend",i),r._moveCb=null,W(r,t))};r.addEventListener("transitionend",i)}))})),()=>{const l=(0,n.IU)(e),c=V(l);let u=l.tag||i.HY;a=s,s=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,c,o,r))}if(a)for(let e=0;e<a.length;e++){const t=a[e];(0,i.nK)(t,(0,i.U2)(t,c,o,r)),Q.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(u,null,s)}}};ee.props;const te=ee;function re(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function oe(e){Z.set(e,e.el.getBoundingClientRect())}function ie(e){const t=Q.get(e),r=Z.get(e),o=t.left-r.left,i=t.top-r.top;if(o||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${o}px,${i}px)`,t.transitionDuration="0s",e}}function ne(e,t,r){const o=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&o.classList.remove(e)))})),r.split(/\s+/).forEach((e=>e&&o.classList.add(e))),o.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(o);const{hasTransform:n}=Y(o);return i.removeChild(o),n}const ae=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,o.kJ)(t)?e=>(0,o.ir)(t,e):t};function se(e){e.target.composing=!0}function le(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ce={created(e,{modifiers:{lazy:t,trim:r,number:i}},n){e._assign=ae(n);const a=i||n.props&&"number"===n.props.type;w(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;r&&(i=i.trim()),a&&(i=(0,o.h5)(i)),e._assign(i)})),r&&w(e,"change",(()=>{e.value=e.value.trim()})),t||(w(e,"compositionstart",se),w(e,"compositionend",le),w(e,"change",le))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:i,number:n}},a){if(e._assign=ae(a),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(r)return;if(i&&e.value.trim()===t)return;if((n||"number"===e.type)&&(0,o.h5)(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},ue={deep:!0,created(e,t,r){e._assign=ae(r),w(e,"change",(()=>{const t=e._modelValue,r=he(e),i=e.checked,n=e._assign;if((0,o.kJ)(t)){const e=(0,o.hq)(t,r),a=-1!==e;if(i&&!a)n(t.concat(r));else if(!i&&a){const r=[...t];r.splice(e,1),n(r)}}else if((0,o.DM)(t)){const e=new Set(t);i?e.add(r):e.delete(r),n(e)}else n(pe(e,i))}))},mounted:de,beforeUpdate(e,t,r){e._assign=ae(r),de(e,t,r)}};function de(e,{value:t,oldValue:r},i){e._modelValue=t,(0,o.kJ)(t)?e.checked=(0,o.hq)(t,i.props.value)>-1:(0,o.DM)(t)?e.checked=t.has(i.props.value):t!==r&&(e.checked=(0,o.WV)(t,pe(e,!0)))}function he(e){return"_value"in e?e._value:e.value}function pe(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const fe=["ctrl","shift","alt","meta"],ge={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>fe.some((r=>e[`${r}Key`]&&!t.includes(r)))},ve=(e,t)=>(r,...o)=>{for(let e=0;e<t.length;e++){const o=ge[t[e]];if(o&&o(r,t))return}return e(r,...o)},me={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},be=(e,t)=>r=>{if(!("key"in r))return;const i=(0,o.rs)(r.key);return t.some((e=>e===i||me[e]===i))?e(r):void 0},ye={beforeMount(e,{value:t},{transition:r}){e._vod="none"===e.style.display?"":e.style.display,r&&t?r.beforeEnter(e):we(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:o}){!t!==!r&&(o?t?(o.beforeEnter(e),we(e,!0),o.enter(e)):o.leave(e,(()=>{we(e,!1)})):we(e,t))},beforeUnmount(e,{value:t}){we(e,t)}};function we(e,t){e.style.display=t?e._vod:"none"}const Ce=(0,o.l7)({patchProp:A},c);let Ee;function Se(){return Ee||(Ee=(0,i.Us)(Ce))}const xe=(...e)=>{Se().render(...e)},Te=(...e)=>{const t=Se().createApp(...e);const{mount:r}=t;return t.mount=e=>{const i=ke(e);if(!i)return;const n=t._component;(0,o.mf)(n)||n.render||n.template||(n.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function ke(e){if((0,o.HD)(e)){const t=document.querySelector(e);return t}return e}},7139:function(e,t,r){"use strict";r.d(t,{C_:function(){return Q},DM:function(){return m},E9:function(){return W},F7:function(){return c},Gg:function(){return D},HD:function(){return C},He:function(){return B},Kj:function(){return y},Kn:function(){return S},NO:function(){return s},Nj:function(){return V},Od:function(){return h},PO:function(){return R},Pq:function(){return te},RI:function(){return f},S0:function(){return O},W7:function(){return _},WV:function(){return ie},Z6:function(){return n},_A:function(){return M},_N:function(){return v},aU:function(){return H},dG:function(){return a},e1:function(){return $},fY:function(){return o},h5:function(){return z},hR:function(){return N},hq:function(){return ne},ir:function(){return G},j5:function(){return K},kC:function(){return I},kJ:function(){return g},kT:function(){return i},l7:function(){return d},mf:function(){return w},rs:function(){return F},tI:function(){return x},tR:function(){return u},vs:function(){return Z},yA:function(){return re},yk:function(){return E},zw:function(){return ae}});r(7658);function o(e,t){const r=Object.create(null),o=e.split(",");for(let i=0;i<o.length;i++)r[o[i]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}const i={},n=[],a=()=>{},s=()=>!1,l=/^on[^a-z]/,c=e=>l.test(e),u=e=>e.startsWith("onUpdate:"),d=Object.assign,h=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},p=Object.prototype.hasOwnProperty,f=(e,t)=>p.call(e,t),g=Array.isArray,v=e=>"[object Map]"===k(e),m=e=>"[object Set]"===k(e),b=e=>"[object Date]"===k(e),y=e=>"[object RegExp]"===k(e),w=e=>"function"===typeof e,C=e=>"string"===typeof e,E=e=>"symbol"===typeof e,S=e=>null!==e&&"object"===typeof e,x=e=>S(e)&&w(e.then)&&w(e.catch),T=Object.prototype.toString,k=e=>T.call(e),_=e=>k(e).slice(8,-1),R=e=>"[object Object]"===k(e),O=e=>C(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,D=o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A=e=>{const t=Object.create(null);return r=>{const o=t[r];return o||(t[r]=e(r))}},P=/-(\w)/g,M=A((e=>e.replace(P,((e,t)=>t?t.toUpperCase():"")))),L=/\B([A-Z])/g,F=A((e=>e.replace(L,"-$1").toLowerCase())),I=A((e=>e.charAt(0).toUpperCase()+e.slice(1))),N=A((e=>e?`on${I(e)}`:"")),H=(e,t)=>!Object.is(e,t),G=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},V=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},z=e=>{const t=parseFloat(e);return isNaN(t)?e:t},B=e=>{const t=C(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const W=()=>j||(j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{});const U="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",$=o(U);function K(e){if(g(e)){const t={};for(let r=0;r<e.length;r++){const o=e[r],i=C(o)?J(o):K(o);if(i)for(const e in i)t[e]=i[e]}return t}return C(e)||S(e)?e:void 0}const Y=/;(?![^(]*\))/g,q=/:([^]+)/,X=/\/\*[^]*?\*\//g;function J(e){const t={};return e.replace(X,"").split(Y).forEach((e=>{if(e){const r=e.split(q);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function Q(e){let t="";if(C(e))t=e;else if(g(e))for(let r=0;r<e.length;r++){const o=Q(e[r]);o&&(t+=o+" ")}else if(S(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function Z(e){if(!e)return null;let{class:t,style:r}=e;return t&&!C(t)&&(e.class=Q(t)),r&&(e.style=K(r)),e}const ee="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",te=o(ee);function re(e){return!!e||""===e}function oe(e,t){if(e.length!==t.length)return!1;let r=!0;for(let o=0;r&&o<e.length;o++)r=ie(e[o],t[o]);return r}function ie(e,t){if(e===t)return!0;let r=b(e),o=b(t);if(r||o)return!(!r||!o)&&e.getTime()===t.getTime();if(r=E(e),o=E(t),r||o)return e===t;if(r=g(e),o=g(t),r||o)return!(!r||!o)&&oe(e,t);if(r=S(e),o=S(t),r||o){if(!r||!o)return!1;const i=Object.keys(e).length,n=Object.keys(t).length;if(i!==n)return!1;for(const r in e){const o=e.hasOwnProperty(r),i=t.hasOwnProperty(r);if(o&&!i||!o&&i||!ie(e[r],t[r]))return!1}}return String(e)===String(t)}function ne(e,t){return e.findIndex((e=>ie(e,t)))}const ae=e=>C(e)?e:null==e?"":g(e)||S(e)&&(e.toString===T||!w(e.toString))?JSON.stringify(e,se,2):String(e),se=(e,t)=>t&&t.__v_isRef?se(e,t.value):v(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,r])=>(e[`${t} =>`]=r,e)),{})}:m(t)?{[`Set(${t.size})`]:[...t.values()]}:!S(t)||g(t)||R(t)?t:String(t)},6732:function(e,t,r){"use strict";r.d(t,{n:function(){return Yy}});r(7658);var o=r(3396),i=r(4870);r(6229),r(7330),r(2062),r(1439),r(7585),r(5315),r(2801);
/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.1.0
          * @link https://www.ag-grid.com/
          * @license MIT
          */
function n(e){return null==e||""===e?null:e}function a(e,t){return void 0===t&&(t=!1),null!=e&&(""!==e||t)}function s(e){return!a(e)}function l(e){return null==e||0===e.length}function c(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function u(e){if(void 0!==e){if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;var t=parseInt(e,10);return isNaN(t)?void 0:t}}function d(e){if(void 0!==e)return null!==e&&""!==e&&("boolean"===typeof e?e:/true/i.test(e))}function h(e){if(null!=e&&""!==e)return e}function p(e,t){return null==e&&null==t||(null!=e||null==t)&&((null==e||null!=t)&&e===t)}function f(e,t){var r=e?JSON.stringify(e):null,o=t?JSON.stringify(t):null;return r===o}function g(e,t,r){void 0===r&&(r=!1);var o=null==e,i=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),o&&i)return 0;if(o)return-1;if(i)return 1;function n(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return n(e,t);if(!r)return n(e,t);try{return e.localeCompare(t)}catch(a){return n(e,t)}}function v(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach((function(e){return t.push(e)})),t}return Object.values(e)}var m=Object.freeze({__proto__:null,makeNull:n,exists:a,missing:s,missingOrEmpty:l,toStringOrNull:c,attrToNumber:u,attrToBoolean:d,attrToString:h,referenceCompare:p,jsonEquals:f,defaultComparator:g,values:v}),b=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=c(e);var r=0;while(1){var o=void 0;if(e?(o=e,0!==r&&(o+="_"+r)):t?(o=t,0!==r&&(o+="_"+r)):o=r,!this.existingKeys[o])return this.existingKeys[o]=!0,String(o);r++}},e}(),y=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},w=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a};function C(e,t){var r,o;if(null!=e)if(Array.isArray(e))for(var i=0;i<e.length;i++)t(i.toString(),e[i]);else try{for(var n=y(Object.entries(e)),a=n.next();!a.done;a=n.next()){var s=w(a.value,2),l=s[0],c=s[1];t(l,c)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}}function E(e){for(var t={},r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],n=e[i];t[i]=n}return t}function S(e){return JSON.parse(JSON.stringify(e))}function x(e,t){if(e){var r=e,o={};return Object.keys(r).forEach((function(e){if(!(t&&t.indexOf(e)>=0)){var i=r[e],n=N(i)&&i.constructor===Object;o[e]=n?x(i):i}})),o}}function T(e,t){return e[t]}function k(e,t,r){e[t]=r}function _(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];r.forEach((function(r){return R(e,t,r)}))}function R(e,t,r,o){var i=T(e,r);void 0!==i&&k(t,r,o?o(i):i)}function O(e){var t={};return e.filter((function(e){return null!=e})).forEach((function(e){Object.keys(e).forEach((function(e){return t[e]=null}))})),Object.keys(t)}function D(e){if(!e)return[];var t=Object;if("function"===typeof t.values)return t.values(e);var r=[];for(var o in e)e.hasOwnProperty(o)&&e.propertyIsEnumerable(o)&&r.push(e[o]);return r}function A(e,t,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1),a(t)&&C(t,(function(t,i){var n=e[t];if(n!==i){if(o){var a=null==n&&null!=i;if(a){var s="object"===typeof i&&i.constructor===Object,l=s;l&&(n={},e[t]=n)}}N(i)&&N(n)&&!Array.isArray(n)?A(n,i,r,o):(r||void 0!==i)&&(e[t]=i)}}))}function P(e){return s(e)||0===Object.keys(e).length}function M(e,t,r){if(null==e)return r;var o=t.split("."),i=e;while(o.length>1)if(i=i[o.shift()],null==i)return r;var n=i[o[0]];return null!=n?n:r}function L(e,t,r){if(null!=e){var o=t.split("."),i=e;o.forEach((function(e,t){i[e]||(i[e]={}),t<o.length-1&&(i=i[e])})),i[o[o.length-1]]=r}}function F(e,t,r){if(t&&e){if(!r)return e[t];for(var o=t.split("."),i=e,n=0;n<o.length;n++){if(null==i)return;i=i[o[n]]}return i}}function I(e,t){Object.keys(e).forEach((function(t){var r=e[t];"object"===typeof r&&(e[t]=void 0)}));var r=Object.getPrototypeOf(e),o={};Object.keys(r).forEach((function(e){var i=r[e];if("function"===typeof i){var n=function(){console.warn("AG Grid: "+t+" function "+e+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")};o[e]={value:n,writable:!0}}})),Object.defineProperties(e,o)}function N(e){return"object"===typeof e&&null!==e}var H=Object.freeze({__proto__:null,iterateObject:C,cloneObject:E,deepCloneObject:S,deepCloneDefinition:x,getProperty:T,setProperty:k,copyPropertiesIfPresent:_,copyPropertyIfPresent:R,getAllKeysInObjects:O,getAllValuesInObject:D,mergeDeep:A,missingOrEmptyObject:P,get:M,set:L,getValueUsingField:F,removeAllReferences:I,isNonNullObject:N}),G={};function V(e,t){G[t]||(e(),G[t]=!0)}function z(e){if(e.name)return e.name;var t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function B(e){return!!(e&&e.constructor&&e.call&&e.apply)}function j(e){K(e,400)}var W=[],U=!1;function $(e){W.push(e),U||(U=!0,window.setTimeout((function(){var e=W.slice();W.length=0,U=!1,e.forEach((function(e){return e()}))}),0))}function K(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout((function(){return e.forEach((function(e){return e()}))}),t)}function Y(e,t){var r;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var n=this;window.clearTimeout(r),r=window.setTimeout((function(){e.apply(n,o)}),t)}}function q(e,t){var r=0;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var n=this,a=(new Date).getTime();a-r<t||(r=a,e.apply(n,o))}}function X(e,t,r,o){void 0===r&&(r=100);var i=(new Date).getTime(),n=null,a=!1,s=function(){var s=(new Date).getTime()-i>r;(e()||s)&&(t(),a=!0,null!=n&&(window.clearInterval(n),n=null),s&&o&&console.warn(o))};s(),a||(n=window.setInterval(s,10))}function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}}function Q(e){e&&e()}var Z,ee=function(){},te=Object.freeze({__proto__:null,doOnce:V,getFunctionName:z,isFunction:B,executeInAWhile:j,executeNextVMTurn:$,executeAfter:K,debounce:Y,throttle:q,waitUntil:X,compose:J,callIfPresent:Q,noop:ee});(function(e){e["CommunityCoreModule"]="@ag-grid-community/core",e["InfiniteRowModelModule"]="@ag-grid-community/infinite-row-model",e["ClientSideRowModelModule"]="@ag-grid-community/client-side-row-model",e["CsvExportModule"]="@ag-grid-community/csv-export",e["EnterpriseCoreModule"]="@ag-grid-enterprise/core",e["RowGroupingModule"]="@ag-grid-enterprise/row-grouping",e["ColumnsToolPanelModule"]="@ag-grid-enterprise/column-tool-panel",e["FiltersToolPanelModule"]="@ag-grid-enterprise/filter-tool-panel",e["MenuModule"]="@ag-grid-enterprise/menu",e["SetFilterModule"]="@ag-grid-enterprise/set-filter",e["MultiFilterModule"]="@ag-grid-enterprise/multi-filter",e["StatusBarModule"]="@ag-grid-enterprise/status-bar",e["SideBarModule"]="@ag-grid-enterprise/side-bar",e["RangeSelectionModule"]="@ag-grid-enterprise/range-selection",e["MasterDetailModule"]="@ag-grid-enterprise/master-detail",e["RichSelectModule"]="@ag-grid-enterprise/rich-select",e["GridChartsModule"]="@ag-grid-enterprise/charts",e["ViewportRowModelModule"]="@ag-grid-enterprise/viewport-row-model",e["ServerSideRowModelModule"]="@ag-grid-enterprise/server-side-row-model",e["ExcelExportModule"]="@ag-grid-enterprise/excel-export",e["ClipboardModule"]="@ag-grid-enterprise/clipboard",e["SparklinesModule"]="@ag-grid-enterprise/sparklines",e["AdvancedFilterModule"]="@ag-grid-enterprise/advanced-filter",e["AngularModule"]="@ag-grid-community/angular",e["ReactModule"]="@ag-grid-community/react",e["VueModule"]="@ag-grid-community/vue"})(Z||(Z={}));var re=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},oe=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},ie=function(){function e(){}return e.register=function(t){e.__register(t,!0,void 0)},e.registerModules=function(t){e.__registerModules(t,!0,void 0)},e.__register=function(t,r,o){e.runVersionChecks(t),void 0!==o?(e.areGridScopedModules=!0,void 0===e.gridModulesMap[o]&&(e.gridModulesMap[o]={}),e.gridModulesMap[o][t.moduleName]=t):e.globalModulesMap[t.moduleName]=t,e.setModuleBased(r)},e.__unRegisterGridModules=function(t){delete e.gridModulesMap[t]},e.__registerModules=function(t,r,o){e.setModuleBased(r),t&&t.forEach((function(t){return e.__register(t,r,o)}))},e.isValidModuleVersion=function(t){var r=re(t.version.split(".")||[],2),o=r[0],i=r[1],n=re(e.currentModuleVersion.split(".")||[],2),a=n[0],s=n[1];return o===a&&i===s},e.runVersionChecks=function(t){if(e.currentModuleVersion||(e.currentModuleVersion=t.version),t.version?e.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is version "+t.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is incompatible. Please update all modules to the same version."),t.validate){var r=t.validate();if(!r.isValid){var o=r;console.error("AG Grid: "+o.message)}}},e.setModuleBased=function(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&V((function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")}),"ModulePackageCheck")},e.__setIsBundled=function(){e.isBundled=!0},e.__assertRegistered=function(t,r,o){var i;if(this.__isRegistered(t,o))return!0;var n,a=r+t;if(e.isBundled)n="AG Grid: unable to use "+r+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(e.moduleBased||void 0===e.moduleBased){var s=null===(i=Object.entries(Z).find((function(e){var r=re(e,2);r[0];var o=r[1];return o===t})))||void 0===i?void 0:i[0];n="AG Grid: unable to use "+r+" as the "+s+" is not registered"+(e.areGridScopedModules?" for gridId: "+o:"")+". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+s+" } from '"+t+"';\n    \n    ModuleRegistry.registerModules([ "+s+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else n="AG Grid: unable to use "+r+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return V((function(){console.warn(n)}),a),!1},e.__isRegistered=function(t,r){var o;return!!e.globalModulesMap[t]||!!(null===(o=e.gridModulesMap[r])||void 0===o?void 0:o[t])},e.__getRegisteredModules=function(t){return oe(oe([],re(v(e.globalModulesMap))),re(v(e.gridModulesMap[t]||{})))},e.__getGridRegisteredModules=function(t){var r;return v(null!==(r=e.gridModulesMap[t])&&void 0!==r?r:{})||[]},e.__isPackageBased=function(){return!e.moduleBased},e.globalModulesMap={},e.gridModulesMap={},e.areGridScopedModules=!1,e}(),ne=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},ae=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},se=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return v(this.beanWrappers).map((function(e){return e.beanInstance}))},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),a(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),C(this.beanWrappers,(function(t,r){var o;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=r.bean.__agBeanMetaData.autowireMethods.agConstructor);var i=e.getBeansForParameters(o,r.bean.name),n=new(r.bean.bind.apply(r.bean,ae([null],ne(i))));r.beanInstance=n}));var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var r=void 0;return r=e.prototype.constructor?z(e.prototype.constructor):""+e,void console.error("Context item "+r+" is not a bean")}var o={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=o},e.prototype.autoWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(r,o){var i=r.agClassAttributes;i&&i.forEach((function(r){var i=t.lookupBeanInstance(o,r.beanName,r.optional);e[r.attributeName]=i}))}))}))},e.prototype.methodWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(r,o){C(r.autowireMethods,(function(r,i){if("agConstructor"!==r){var n=t.getBeansForParameters(i,o);e[r].apply(e,n)}}))}))}))},e.prototype.forEachMetaDataInHierarchy=function(e,t){var r=Object.getPrototypeOf(e);while(null!=r){var o=r.constructor;if(o.hasOwnProperty("__agBeanMetaData")){var i=o.__agBeanMetaData,n=this.getBeanName(o);t(i,n)}r=Object.getPrototypeOf(r)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),r=t.substring(9,t.indexOf("("));return r},e.prototype.getBeansForParameters=function(e,t){var r=this,o=[];return e&&C(e,(function(e,i){var n=r.lookupBeanInstance(t,i);o[Number(e)]=n})),o},e.prototype.lookupBeanInstance=function(e,t,r){if(void 0===r&&(r=!1),this.destroyed)return this.logger.log("AG Grid: bean reference "+t+" is used after the grid is destroyed!"),null;if("context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var o=this.beanWrappers[t];return o?o.beanInstance:(r||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var r=this;e.forEach((function(e){return r.callLifeCycleMethodsOnBean(e,t)}))},e.prototype.callLifeCycleMethodsOnBean=function(e,t,r){var o={};this.forEachMetaDataInHierarchy(e,(function(e){var i=e[t];i&&i.forEach((function(e){e!=r&&(o[e]=!0)}))}));var i=Object.keys(o);i.forEach((function(t){return e[t]()}))},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,ie.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach((function(e){t.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy");var r=e;"function"===typeof r.destroy&&r.destroy()})),[]):[]},e.prototype.isDestroyed=function(){return this.destroyed},e.prototype.getGridId=function(){return this.contextParams.gridId},e}();function le(e,t,r){var o=ve(e.constructor);o.preConstructMethods||(o.preConstructMethods=[]),o.preConstructMethods.push(t)}function ce(e,t,r){var o=ve(e.constructor);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(t)}function ue(e,t,r){var o=ve(e.constructor);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(t)}function de(e){return function(t){var r=ve(t);r.beanName=e}}function he(e){return function(t,r,o){fe(t,e,!1,t,r,null)}}function pe(e){return function(t,r,o){fe(t,e,!0,t,r,null)}}function fe(e,t,r,o,i,n){if(null!==t)if("number"!==typeof n){var a=ve(e.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:i,beanName:t,optional:r})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function ge(e){return function(t,r,o){var i,n="function"==typeof t?t:t.constructor;if("number"===typeof o){var a=void 0;r?(i=ve(n),a=r):(i=ve(n),a="agConstructor"),i.autowireMethods||(i.autowireMethods={}),i.autowireMethods[a]||(i.autowireMethods[a]={}),i.autowireMethods[a][o]=e}}}function ve(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var me=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},be=function(e,t){return function(r,o){t(r,o,e)}},ye=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,r,o){if(void 0===o&&(o=null),this.frameworkOverrides=r,this.gridOptionsService=t,o){var i=t.useAsyncEvents();this.addGlobalListener(o,i)}},e.prototype.getListeners=function(e,t,r){var o=t?this.allAsyncListeners:this.allSyncListeners,i=o.get(e);return!i&&r&&(i=new Set,o.set(e,i)),i},e.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},e.prototype.addEventListener=function(e,t,r){void 0===r&&(r=!1),this.getListeners(e,r,!0).add(t)},e.prototype.removeEventListener=function(e,t,r){void 0===r&&(r=!1);var o=this.getListeners(e,r,!1);if(o&&(o.delete(t),0===o.size)){var i=r?this.allAsyncListeners:this.allSyncListeners;i.delete(e)}},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){var t=e;if(this.gridOptionsService){var r=this.gridOptionsService,o=r.api,i=r.columnApi,n=r.context;t.api=o,t.columnApi=i,t.context=n}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var r=this,o=e.type;if(t&&"event"in e){var i=e.event;i instanceof Event&&(e.eventPath=i.composedPath())}var n=function(o){return o.forEach((function(o){t?r.dispatchAsync((function(){return o(e)})):o(e)}))},a=new Set(this.getListeners(o,t,!1));a&&n(a);var s=new Set(t?this.globalAsyncListeners:this.globalSyncListeners);s.forEach((function(i){t?r.dispatchAsync((function(){return r.frameworkOverrides.dispatchEvent(o,(function(){return i(o,e)}),!0)})):r.frameworkOverrides.dispatchEvent(o,(function(){return i(o,e)}),!0)}))},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((function(e){return e()}))},me([be(0,ge("loggerFactory")),be(1,ge("gridOptionsService")),be(2,ge("frameworkOverrides")),be(3,ge("globalEventListener"))],e.prototype,"setBeans",null),e=me([de("eventService")],e),e}(),we=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ce=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Ee=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Se=0;function xe(){return Se++}var Te=function(){function e(e,t,r,o){this.instanceId=xe(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new ye,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=o,this.setState(e)}return e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setState=function(e){void 0!==e.sort?"asc"!==e.sort&&"desc"!==e.sort||(this.sort=e.sort):"asc"!==e.initialSort&&"desc"!==e.initialSort||(this.sort=e.initialSort);var t=u(e.sortIndex),r=u(e.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==r&&(this.sortIndex=r);var o=d(e.hide),i=d(e.initialHide);this.visible=void 0!==o?!o:!i,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var n=u(e.flex),a=u(e.initialFlex);void 0!==n?this.flex=n:void 0!==a&&(this.flex=a)},e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},e.prototype.initDotNotation=function(){var e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=a(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=a(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},e.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},e.prototype.initTooltip=function(){this.tooltipEnabled=a(this.colDef.tooltipField)||a(this.colDef.tooltipValueGetter)||a(this.colDef.tooltipComponent)},e.prototype.resetActualWidth=function(e){void 0===e&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){if(s(this.colDef)||s(this.colDef.showRowGroup))return!1;var t=!0===this.colDef.showRowGroup,r=this.colDef.showRowGroup===e;return t||r},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter;return e},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function t(e,t,r){V((function(){r?console.warn(e,r):V((function(){return console.warn(e)}),t)}),t)}var r=this.gridOptionsService.isRowModelType("clientSide");if(r&&!ie.__isRegistered(Z.RowGroupingModule,this.gridOptionsService.getGridId())){var o=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"],i=o.filter((function(t){return a(e[t])}));i.length>0&&ie.__assertRegistered(Z.RowGroupingModule,i.map((function(e){return"colDef."+e})).join(", "),this.gridOptionsService.getGridId())}if("agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||ie.__assertRegistered(Z.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.isTreeData()){var n=["rowGroup","rowGroupIndex","pivot","pivotIndex"];i=n.filter((function(t){return a(e[t])}));i.length>0&&t("AG Grid: "+i.join()+" is not possible when doing tree data, your column definition should not have "+i.join(),"TreeDataCannotRowGroup")}if(a(e.menuTabs))if(Array.isArray(e.menuTabs)){var s=["filterMenuTab"],l=["columnsMenuTab","generalMenuTab"];i=l.filter((function(t){return e.menuTabs.includes(t)}));i.length>0&&ie.__assertRegistered(Z.MenuModule,"menuTab(s): "+i.map((function(e){return"'"+e+"'"})).join(),this.gridOptionsService.getGridId()),e.menuTabs.forEach((function(e){l.includes(e)||s.includes(e)||t("AG Grid: '"+e+"' is not valid for 'colDef.menuTabs'. Valid values are: "+Ee(Ee([],Ce(s)),Ce(l)).map((function(e){return"'"+e+"'"})).join()+".","wrongValue_menuTabs_"+e)}))}else t("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof e.menuTabs,"wrongType_menuTabs");a(e.columnsMenuParams)&&ie.__assertRegistered(Z.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),a(e.columnsMenuParams)&&ie.__assertRegistered(Z.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),a(this.colDef.width)&&"number"!==typeof this.colDef.width&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),a(e.columnGroupShow)&&"closed"!==e.columnGroupShow&&"open"!==e.columnGroupShow&&t("AG Grid: '"+e.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},e.prototype.isSuppressNavigable=function(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var t=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isSuppressFillHandle=function(){return!!d(this.colDef.suppressFillHandle)},e.prototype.isAutoHeight=function(){return!!d(this.colDef.autoHeight)},e.prototype.isAutoHeaderHeight=function(){return!!d(this.colDef.autoHeaderHeight)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!!d(this.colDef.resizable)},e.prototype.isColumnFunc=function(e,t){if("boolean"===typeof t)return t;if("function"===typeof t){var r=this.createColumnFunctionCallbackParams(e),o=t;return o(r)}return!1},e.prototype.setMoving=function(e,t){void 0===t&&(t="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},e.prototype.createColumnEvent=function(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(e,t){void 0===t&&(t="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")},e.prototype.setMenuVisible=function(e,t){void 0===t&&(t="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return"asc"===this.sort},e.prototype.isSortDescending=function(){return"desc"===this.sort},e.prototype.isSortNone=function(){return s(this.sort)},e.prototype.isSorting=function(){return a(this.sort)},e.prototype.getSortIndex=function(){return this.sortIndex},e.prototype.setSortIndex=function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")},e.prototype.setAggFunc=function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(e,t){void 0===t&&(t="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(e,t,r){void 0===t&&(t="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var o=this.createColumnEvent("filterChanged",t);r&&A(o,r),this.eventService.dispatchEvent(o)},e.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},e.prototype.setPinned=function(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")},e.prototype.setFirstRightPinned=function(e,t){void 0===t&&(t="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},e.prototype.setLastLeftPinned=function(e,t){void 0===t&&(t="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},e.prototype.isPinnedLeft=function(){return"left"===this.pinned},e.prototype.isPinnedRight=function(){return"right"===this.pinned},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(e,t){void 0===t&&(t="api");var r=!0===e;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")},e.prototype.isVisible=function(){return this.visible},e.prototype.isSpanHeaderHeight=function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.colId},e.prototype.getUniqueId=function(){return this.colId},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},e.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},e.prototype.createBaseColDefParams=function(e){var t={node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return t},e.prototype.getColSpan=function(e){if(s(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)},e.prototype.getRowSpan=function(e){if(s(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)},e.prototype.setActualWidth=function(e,t,r){void 0===t&&(t="api"),void 0===r&&(r=!1),null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")},e.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),a(this.minWidth)&&this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(e,t){void 0===t&&(t="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(e,t){void 0===t&&(t="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(e,t){void 0===t&&(t="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:e.EVENT_STATE_UPDATED,key:t})},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_COL_DEF_CHANGED="colDefChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",e.EVENT_STATE_UPDATED="columnStateUpdated",we([he("gridOptionsService")],e.prototype,"gridOptionsService",void 0),we([he("columnUtils")],e.prototype,"columnUtils",void 0),we([he("columnHoverService")],e.prototype,"columnHoverService",void 0),we([ce],e.prototype,"initialise",null),e}(),ke=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},_e=function(){function e(e,t,r,o){this.localEventService=new ye,this.expandable=!1,this.instanceId=xe(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=o}return e.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},e.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some((function(e){return e.isVisible()}))},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t;var r={type:e.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(r)},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach((function(r){r instanceof Te?t.push(r):r instanceof e&&r.addLeafColumns(t)}))},e.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((function(e){return e.addEventListener("visibleChanged",t)})),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach((function(e){return e.removeEventListener("visibleChanged",t)})),e.expandableListenerRemoveCallback=null}},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,r=!1,o=!1,i=this.findChildrenRemovingPadding(),n=0,a=i.length;n<a;n++){var s=i[n];if(s.isVisible()){var l=s.getColumnGroupShow();"open"===l?(t=!0,o=!0):"closed"===l?(r=!0,o=!0):(t=!0,r=!0)}}var c=t&&r&&o;if(this.expandable!==c){this.expandable=c;var u={type:e.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(u)}}},e.prototype.findChildrenRemovingPadding=function(){var t=[],r=function(o){o.forEach((function(o){var i=o instanceof e&&o.isPadding();i?r(o.children):t.push(o)}))};return r(this.children),t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",ke([ue],e.prototype,"destroy",null),e}(),Re={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++){var o=e[r];if(a(o))return o}return null}function De(e){return null!=e&&e.length>0}function Ae(e){if(e&&e.length)return e[e.length-1]}function Pe(e,t,r){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((function(e,o){return r?r(e,t[o]):t[o]===e}))}function Me(e,t){return Pe(e,t)}function Le(e){return e.sort((function(e,t){return e-t}))}function Fe(e,t){if(e)for(var r=e.length-2;r>=0;r--){var o=e[r]===t,i=e[r+1]===t;o&&i&&e.splice(r+1,1)}}function Ie(e,t){var r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.pop())}function Ne(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function He(e,t){for(var r=0;r<t.length;r++)Ie(e,t[r])}function Ge(e,t){for(var r=0;r<t.length;r++)Ne(e,t[r])}function Ve(e,t,r){e.splice(r,0,t)}function ze(e,t,r){if(null!=e&&null!=t)for(var o=t.length-1;o>=0;o--){var i=t[o];Ve(e,i,r)}}function Be(e,t,r){Ge(e,t),t.slice().reverse().forEach((function(t){return Ve(e,t,r)}))}function je(e,t){return e.indexOf(t)>-1}function We(e){return[].concat.apply([],e)}function Ue(e,t){null!=t&&null!=e&&t.forEach((function(t){return e.push(t)}))}function $e(e){return e.map(c)}function Ke(e,t){if(null!=e)for(var r=e.length-1;r>=0;r--)t(e[r],r)}var Ye=Object.freeze({__proto__:null,firstExistingValue:Oe,existsAndNotEmpty:De,last:Ae,areEqual:Pe,shallowCompare:Me,sortNumerically:Le,removeRepeatsFromArray:Fe,removeFromUnorderedArray:Ie,removeFromArray:Ne,removeAllFromUnorderedArray:He,removeAllFromArray:Ge,insertIntoArray:Ve,insertArrayIntoArray:ze,moveInArray:Be,includes:je,flatten:We,pushAll:Ue,toStrings:$e,forEachReverse:Ke}),qe="__ag_Grid_Stop_Propagation",Xe=["touchstart","touchend","touchmove","touchcancel","scroll"],Je={};function Qe(e){e[qe]=!0}function Ze(e){return!0===e[qe]}var et=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},t=function(t){if("boolean"===typeof Je[t])return Je[t];var r=document.createElement(e[t]||"div");return t="on"+t,Je[t]=t in r};return t}();function tt(e,t,r){var o=t;while(o){var i=e.getDomData(o,r);if(i)return i;o=o.parentElement}return null}function rt(e,t){return!(!t||!e)&&it(t).indexOf(e)>=0}function ot(e){var t=[],r=e.target;while(r)t.push(r),r=r.parentElement;return t}function it(e){var t=e;return t.path?t.path:t.composedPath?t.composedPath():ot(t)}function nt(e,t,r,o){var i=je(Xe,r),n=i?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,r,o,n)}var at=Object.freeze({__proto__:null,stopPropagationForAgGrid:Qe,isStopPropagationForAgGrid:Ze,isEventSupported:et,getCtrlForEventTarget:tt,isElementInEventPath:rt,createEventPath:ot,getEventPath:it,addSafePassiveEventListener:nt}),st=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},lt=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.getContext=function(){return this.context},e.prototype.destroy=function(){this.destroyFunctions.forEach((function(e){return e()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new ye),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout((function(){return t.dispatchEvent(e)}),0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,r){var o=this;if(!this.destroyed){e instanceof HTMLElement?nt(this.getFrameworkOverrides(),e,t,r):e.addEventListener(t,r);var i=function(){return e.removeEventListener(t,r),o.destroyFunctions=o.destroyFunctions.filter((function(e){return e!==i})),null};return this.destroyFunctions.push(i),i}},e.prototype.addManagedPropertyListener=function(e,t){var r=this;if(!this.destroyed){this.gridOptionsService.addEventListener(e,t);var o=function(){return r.gridOptionsService.removeEventListener(e,t),r.destroyFunctions=r.destroyFunctions.filter((function(e){return e!==o})),null};return this.destroyFunctions.push(o),o}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r},e.prototype.createBean=function(e,t,r){return(t||this.getContext()).createBean(e,r)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var r=this;return e&&e.forEach((function(e){return r.destroyBean(e,t)})),[]},e.EVENT_DESTROYED="destroyed",st([he("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),st([he("context")],e.prototype,"context",void 0),st([he("eventService")],e.prototype,"eventService",void 0),st([he("gridOptionsService")],e.prototype,"gridOptionsService",void 0),st([he("localeService")],e.prototype,"localeService",void 0),st([he("environment")],e.prototype,"environment",void 0),st([ue],e.prototype,"destroy",null),e}(),ct=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ut=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},dt=function(e,t){return function(r,o){t(r,o,e)}},ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ct(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,r){var o=new b,i=this.extractExistingTreeData(r),n=i.existingCols,a=i.existingGroups,s=i.existingColKeys;o.addExistingKeys(s);var l=this.recursivelyCreateColumns(e,0,t,n,o,a),c=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+c);var u=this.balanceColumnTree(l,0,c,o),d=function(e,t){e instanceof _e&&e.setupExpandable(),e.setOriginalParent(t)};return this.columnUtils.depthFirstOriginalTreeSearch(null,u,d),{columnTree:u,treeDept:c}},t.prototype.extractExistingTreeData=function(e){var t=[],r=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(e){if(e instanceof _e){var i=e;r.push(i)}else{var n=e;o.push(n.getId()),t.push(n)}})),{existingCols:t,existingGroups:r,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,t){var r=this;return e.map((function(e){return r.createAutoGroupTreeItem(t,e)}))},t.prototype.createAutoGroupTreeItem=function(e,t){for(var r=this.findDepth(e),o=t,i=r-1;i>=0;i--){var n=new _e(null,"FAKE_PATH_"+t.getId()+"}_"+i,!0,i);this.createBean(n),n.setChildren([o]),o.setOriginalParent(n),o=n}return 0===r&&t.setOriginalParent(null),o},t.prototype.findDepth=function(e){var t=0,r=e;while(r&&r[0]&&r[0]instanceof _e)t++,r=r[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,r,o){for(var i=[],n=0;n<e.length;n++){var a=e[n];if(a instanceof _e){var s=a,l=this.balanceColumnTree(s.getChildren(),t+1,r,o);s.setChildren(l),i.push(s)}else{for(var c=void 0,u=void 0,d=r-1;d>=t;d--){var h=o.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),f=new _e(p,h,!0,t);this.createBean(f),u&&u.setChildren([f]),u=f,c||(c=u)}if(c&&u){i.push(c);var g=e.some((function(e){return e instanceof _e}));if(g){u.setChildren([a]);continue}u.setChildren(e);break}i.push(a)}}return i},t.prototype.findMaxDept=function(e,t){for(var r=t,o=0;o<e.length;o++){var i=e[o];if(i instanceof _e){var n=i,a=this.findMaxDept(n.getChildren(),t+1);r<a&&(r=a)}}return r},t.prototype.recursivelyCreateColumns=function(e,t,r,o,i,n){if(!e)return[];for(var a=new Array(e.length),s=0;s<a.length;s++){var l=e[s];this.isColumnGroup(l)?a[s]=this.createColumnGroup(r,l,t,o,i,n):a[s]=this.createColumn(r,l,o,i)}return a},t.prototype.createColumnGroup=function(e,t,r,o,i,n){var a=this.createMergedColGroupDef(t),s=i.getUniqueKey(a.groupId||null,null),l=new _e(a,s,!1,r);this.createBean(l);var c=this.findExistingGroup(t,n);c&&Ne(n,c),c&&c.isExpanded()&&l.setExpanded(!0);var u=this.recursivelyCreateColumns(a.children,r+1,e,o,i,n);return l.setChildren(u),l},t.prototype.createMergedColGroupDef=function(e){var t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t},t.prototype.createColumn=function(e,t,r,o){var i=this.findExistingColumn(t,r);if(r&&i&&Ne(r,i),i){a=this.addColumnDefaultAndTypes(t,i.getColId());i.setColDef(a,t),this.applyColumnState(i,a)}else{var n=o.getUniqueKey(t.colId,t.field),a=this.addColumnDefaultAndTypes(t,n);i=new Te(a,t,n,e),this.context.createBean(i)}return this.dataTypeService.addColumnListeners(i),i},t.prototype.applyColumnState=function(e,t){var r=u(t.flex);void 0!==r&&e.setFlex(r);var o=e.getFlex()<=0;if(o){var i=u(t.width);if(null!=i)e.setActualWidth(i);else{var n=e.getActualWidth();e.setActualWidth(n)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort):e.setSort(void 0));var a=u(t.sortIndex);void 0!==a&&e.setSortIndex(a);var s=d(t.hide);void 0!==s&&e.setVisible(!s),void 0!==t.pinned&&e.setPinned(t.pinned)},t.prototype.findExistingColumn=function(e,t){if(t)for(var r=0;r<t.length;r++){var o=t[r].getUserProvidedColDef();if(o){var i=null!=e.colId;if(i){if(t[r].getId()===e.colId)return t[r]}else{var n=null!=e.field;if(n){if(o.field===e.field)return t[r]}else if(o===e)return t[r]}}}},t.prototype.findExistingGroup=function(e,t){return t.find((function(t){var r=t.getColGroupDef();if(!r)return!1;var o=null!=e.groupId;return!!o&&t.getId()===e.groupId}))},t.prototype.addColumnDefaultAndTypes=function(e,t){var r={},o=this.gridOptionsService.get("defaultColDef");A(r,o,!1,!0);var i=this.dataTypeService.updateColDefAndGetColumnType(r,e,t);i&&this.assignColumnTypes(i,r),A(r,e,!1,!0);var n=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&n&&a&&A(r,{sort:n.sort,initialSort:n.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r},t.prototype.assignColumnTypes=function(e,t){if(e.length){var r=Object.assign({},Re),o=this.gridOptionsService.get("columnTypes")||{};C(o,(function(e,t){e in r?console.warn("AG Grid: the column type '"+e+"' is a default column type and cannot be overridden."):r[e]=t})),e.forEach((function(e){var o=r[e.trim()];o?A(t,o,!1,!0):console.warn("AG Grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},ut([he("columnUtils")],t.prototype,"columnUtils",void 0),ut([he("dataTypeService")],t.prototype,"dataTypeService",void 0),ut([dt(0,ge("loggerFactory"))],t.prototype,"setBeans",null),t=ut([de("columnFactory")],t),t}(lt),pt=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ft=function(){function e(e,t,r,o){this.displayedChildren=[],this.localEventService=new ye,this.groupId=t,this.partId=r,this.providedColumnGroup=e,this.pinned=o}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.partId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((function(e){return e.isMoving()}))},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(t){t instanceof e&&t.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var t=Ae(this.displayedChildren),r=t.getLeft();this.setLeft(r)}else{var o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getPartId=function(){return this.partId},e.prototype.isChildInThisGroupDeepSearch=function(t){var r=!1;return this.children.forEach((function(o){t===o&&(r=!0),o instanceof e&&o.isChildInThisGroupDeepSearch(t)&&(r=!0)})),r},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach((function(t){e+=t.getActualWidth()})),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach((function(t){t.isResizable()&&(e=!0)})),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach((function(t){e+=t.getMinWidth()||0})),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach((function(r){r instanceof Te?t.push(r):r instanceof e&&r.addDisplayedLeafColumns(t)}))},e.prototype.addLeafColumns=function(t){this.children.forEach((function(r){r instanceof Te?t.push(r):r instanceof e&&r.addLeafColumns(t)}))},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},e.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];var r=this;while(null!=r&&r.isPadding())r=r.getParent();var o=!!r&&r.providedColumnGroup.isExpandable();if(!o)return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((function(o){var i=o instanceof e&&(!o.displayedChildren||!o.displayedChildren.length);if(!i){var n=o.getColumnGroupShow();switch(n){case"open":r.providedColumnGroup.isExpanded()&&t.displayedChildren.push(o);break;case"closed":r.providedColumnGroup.isExpanded()||t.displayedChildren.push(o);break;default:t.displayedChildren.push(o);break}}})),this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",pt([he("gridOptionsService")],e.prototype,"gridOptionsService",void 0),e}(),gt=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",e.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",e.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_CUT_START="cutStart",e.EVENT_CUT_END="cutEnd",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_RANGE_DELETE_START="rangeDeleteStart",e.EVENT_RANGE_DELETE_END="rangeDeleteEnd",e.EVENT_UNDO_STARTED="undoStarted",e.EVENT_UNDO_ENDED="undoEnded",e.EVENT_REDO_STARTED="redoStarted",e.EVENT_REDO_ENDED="redoEnded",e.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",e.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_CELL_EDIT_REQUEST="cellEditRequest",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",e.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_TOOLTIP_SHOW="tooltipShow",e.EVENT_TOOLTIP_HIDE="tooltipHide",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_BODY_SCROLL_END="bodyScrollEnd",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_STORE_REFRESHED="storeRefreshed",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",e.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",e.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",e.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",e.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",e.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",e.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e.EVENT_STORE_UPDATED="storeUpdated",e.EVENT_FILTER_DESTROYED="filterDestroyed",e.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",e.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",e.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",e.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",e.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",e}(),vt=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,r=this.existingIds[e];return t="number"!==typeof r?0:r+1,this.existingIds[e]=t,t},e}(),mt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bt=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},yt="ag-Grid-AutoColumn",wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mt(t,e),t.prototype.createAutoGroupColumns=function(e){var t=this,r=[],o=this.gridOptionsService.isTreeData(),i=this.gridOptionsService.isGroupMultiAutoColumn();return o&&i&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),i=!1),i?e.forEach((function(e,o){r.push(t.createOneAutoGroupColumn(e,o))})):r.push(this.createOneAutoGroupColumn()),r},t.prototype.updateAutoGroupColumns=function(e){var t=this;e.forEach((function(e,r){return t.updateOneAutoGroupColumn(e,r)}))},t.prototype.createOneAutoGroupColumn=function(e,t){var r;r=e?yt+"-"+e.getId():yt;var o=this.createAutoGroupColDef(r,e,t);o.colId=r;var i=new Te(o,null,r,!0);return this.context.createBean(i),i},t.prototype.updateOneAutoGroupColumn=function(e,t){var r=e.getColDef(),o="string"==typeof r.showRowGroup?r.showRowGroup:void 0,i=null!=o?this.columnModel.getPrimaryColumn(o):void 0,n=this.createAutoGroupColDef(e.getId(),null!==i&&void 0!==i?i:void 0,t);e.setColDef(n,null),this.columnFactory.applyColumnState(e,n)},t.prototype.createAutoGroupColDef=function(e,t,r){var o=this.createBaseColDef(t),i=this.gridOptionsService.get("autoGroupColumnDef");if(A(o,i),o=this.columnFactory.addColumnDefaultAndTypes(o,e),!this.gridOptionsService.isTreeData()){var n=s(o.field)&&s(o.valueGetter)&&s(o.filterValueGetter)&&"agGroupColumnFilter"!==o.filter;n&&(o.filter=!1)}r&&r>0&&(o.headerCheckboxSelection=!1);var a=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=o.valueGetter||null!=o.field;return a&&!l&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var t=this.gridOptionsService.get("autoGroupColumnDef"),r=this.localeService.getLocaleTextFunc(),o={headerName:r("group","Group")},i=t&&(t.cellRenderer||t.cellRendererSelector);if(i||(o.cellRenderer="agGroupCellRenderer"),e){var n=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:n.headerValueGetter}),n.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:n.cellRenderer,innerRendererParams:n.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},bt([he("columnModel")],t.prototype,"columnModel",void 0),bt([he("columnFactory")],t.prototype,"columnFactory",void 0),t=bt([de("autoGroupColService")],t),t}(lt),Ct=/[&<>"']/g,Et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function St(e){var t=String.fromCharCode;function r(e){var t=[];if(!e)return[];var r,o,i=e.length,n=0;while(n<i)r=e.charCodeAt(n++),r>=55296&&r<=56319&&n<i?(o=e.charCodeAt(n++),56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)):t.push(r);return t}function o(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function i(e,r){return t(e>>r&63|128)}function n(e){if(e>=0&&e<=31&&10!==e){var r=e.toString(16).toUpperCase(),n=r.padStart(4,"0");return"_x"+n+"_"}if(0==(4294967168&e))return t(e);var a="";return 0==(4294965248&e)?a=t(e>>6&31|192):0==(4294901760&e)?(o(e),a=t(e>>12&15|224),a+=i(e,6)):0==(4292870144&e)&&(a=t(e>>18&7|240),a+=i(e,12),a+=i(e,6)),a+=t(63&e|128),a}var a,s=r(e),l=s.length,c=-1,u="";while(++c<l)a=s[c],u+=n(a);return u}function xt(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}function Tt(e,t){if(null==e)return null;var r=e.toString().toString();return t?r:r.replace(Ct,(function(e){return Et[e]}))}function kt(e){if(!e||null==e)return null;var t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g,o=e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ");return o.map((function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")})).join(" ")}function _t(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLocaleLowerCase()}))}var Rt=Object.freeze({__proto__:null,utf8_encode:St,capitalise:xt,escapeString:Tt,camelCaseToHumanText:kt,camelCaseToHyphenated:_t});function Ot(e){var t=new Map;return e.forEach((function(e){return t.set(e[0],e[1])})),t}function Dt(e,t){var r=new Map;return e.forEach((function(e){return r.set(t(e),e)})),r}function At(e){var t=[];return e.forEach((function(e,r){return t.push(r)})),t}var Pt=Object.freeze({__proto__:null,convertToMap:Ot,mapById:Dt,keys:At}),Mt=function(){function e(){}return e.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},e.ALL_PROPERTIES=Object.keys(e.ColDefPropertyMap),e}(),Lt=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Ft=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},It=function(){function e(){}return e.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],e.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent"],e.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],e.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"],e.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer"],e.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],e.FUNCTION_PROPERTIES=Ft(Ft([],Lt(e.FUNCTIONAL_PROPERTIES)),Lt(e.CALLBACK_PROPERTIES)),e.ALL_PROPERTIES=Ft(Ft(Ft(Ft(Ft(Ft([],Lt(e.ARRAY_PROPERTIES)),Lt(e.OBJECT_PROPERTIES)),Lt(e.STRING_PROPERTIES)),Lt(e.NUMBER_PROPERTIES)),Lt(e.FUNCTION_PROPERTIES)),Lt(e.BOOLEAN_PROPERTIES)),e}(),Nt=function(){return Nt=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nt.apply(this,arguments)},Ht=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Gt=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Vt=function(){function e(){}return e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.getCoercionLookup=function(){var t={};return Gt(Gt(Gt(Gt(Gt([],Ht(e.ARRAY_PROPERTIES)),Ht(e.OBJECT_PROPERTIES)),Ht(e.STRING_PROPERTIES)),Ht(e.FUNCTION_PROPERTIES)),Ht(e.EVENT_CALLBACKS)).forEach((function(e){return t[e]="none"})),e.BOOLEAN_PROPERTIES.forEach((function(e){return t[e]="boolean"})),e.NUMBER_PROPERTIES.forEach((function(e){return t[e]="number"})),t},e.getValue=function(t,r){var o=e.coercionLookup[t];if(o){var i=r;switch(o){case"number":i=e.toNumber(r);break;case"boolean":i=e.toBoolean(r);break;case"none":"groupAggFiltering"===t&&"function"!==typeof r&&(i=e.toBoolean(r));break}return i}},e.getGridOptionKeys=function(t,r){return r?Object.keys(e.coercionLookup):Object.keys(t)},e.copyAttributesToGridOptions=function(t,r,o){void 0===o&&(o=!1),"object"!==typeof t&&(t={});var i=t,n=e.getGridOptionKeys(r,o);return n.forEach((function(t){var o=r[t];if("undefined"!==typeof o){var n=e.getValue(t,o);void 0!==n&&(i[t]=n)}})),t},e.processOnChange=function(t,r){if(t&&0!==Object.keys(t).length){var o=Nt({},t);o.columnTypes&&(r.setColumnTypes(o.columnTypes.currentValue,"gridOptionsChanged"),delete o.columnTypes),o.autoGroupColumnDef&&(r.setAutoGroupColumnDef(o.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete o.autoGroupColumnDef),o.defaultColDef&&(r.setDefaultColDef(o.defaultColDef.currentValue,"gridOptionsChanged"),delete o.defaultColDef),o.columnDefs&&(r.setColumnDefs(o.columnDefs.currentValue,"gridOptionsChanged"),delete o.columnDefs),Object.keys(o).forEach((function(t){var i=t,n=e.getValue(i,o[i].currentValue);r.__setProperty(i,n)}));var i={type:gt.EVENT_COMPONENT_STATE_CHANGED};C(t,(function(e,t){i[e]=t})),r.dispatchEvent(i)}},e.toBoolean=function(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"===typeof e?e:"string"===typeof e?Number(e):void 0},e.EVENTS=v(gt),e.EXCLUDED_INTERNAL_EVENTS=[gt.EVENT_SCROLLBAR_WIDTH_CHANGED,gt.EVENT_CHECKBOX_CHANGED,gt.EVENT_HEIGHT_SCALE_CHANGED,gt.EVENT_BODY_HEIGHT_CHANGED,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,gt.EVENT_SCROLL_VISIBILITY_CHANGED,gt.EVENT_COLUMN_HOVER_CHANGED,gt.EVENT_FLASH_CELLS,gt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,gt.EVENT_DISPLAYED_ROWS_CHANGED,gt.EVENT_LEFT_PINNED_WIDTH_CHANGED,gt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,gt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,gt.EVENT_POPUP_TO_FRONT,gt.EVENT_KEYBOARD_FOCUS,gt.EVENT_MOUSE_FOCUS,gt.EVENT_STORE_UPDATED,gt.EVENT_COLUMN_PANEL_ITEM_DRAG_START,gt.EVENT_COLUMN_PANEL_ITEM_DRAG_END,gt.EVENT_FILL_START,gt.EVENT_FILL_END,gt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,gt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,gt.EVENT_FULL_WIDTH_ROW_FOCUSED,gt.EVENT_HEADER_HEIGHT_CHANGED,gt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,gt.EVENT_CELL_FOCUS_CLEARED,gt.EVENT_GRID_STYLES_CHANGED,gt.EVENT_FILTER_DESTROYED,gt.EVENT_ROW_DATA_UPDATE_STARTED,gt.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,gt.EVENT_DATA_TYPES_INFERRED,gt.EVENT_FIELD_VALUE_CHANGED,gt.EVENT_FIELD_PICKER_VALUE_SELECTED],e.PUBLIC_EVENTS=e.EVENTS.filter((function(t){return!je(e.EXCLUDED_INTERNAL_EVENTS,t)})),e.EVENT_CALLBACKS=e.EVENTS.map((function(t){return e.getCallbackForEvent(t)})),e.STRING_PROPERTIES=It.STRING_PROPERTIES,e.OBJECT_PROPERTIES=It.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=It.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=It.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=It.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=It.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=It.ALL_PROPERTIES,e.ALL_PROPERTIES_SET=new Set(It.ALL_PROPERTIES),e.coercionLookup=e.getCoercionLookup(),e}();function zt(e,t,r){var o={},i=e.filter((function(e){return!t.some((function(t){return t===e}))}));return i.length>0&&i.forEach((function(e){return o[e]=Bt(e,r)})),o}function Bt(e,t,r,o){var i=t.map((function(t){return{value:t,relevance:jt(e.toLowerCase(),t.toLocaleLowerCase())}}));if(i.sort((function(e,t){return t.relevance-e.relevance})),r&&(i=i.filter((function(e){return 0!==e.relevance}))),i.length>0&&o&&o>0){var n=i[0].relevance,a=n*o;i=i.filter((function(e){return a-e.relevance<0}))}return i.map((function(e){return e.value}))}function jt(e,t){for(var r=e.replace(/\s/g,""),o=t.replace(/\s/g,""),i=0,n=-1,a=0;a<r.length;a++){var s=o.indexOf(r[a],n+1);-1!==s&&(n=s,i+=100-100*n/1e4*100)}return i}var Wt=Object.freeze({__proto__:null,fuzzyCheckStrings:zt,fuzzySuggestions:Bt}),Ut=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},$t=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Kt=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e};function Yt(e,t,r,o){var i=r?"Please use '"+r+"' instead. ":"";V((function(){return console.warn("AG Grid: since v"+e+", '"+t+"' is deprecated. "+i+(null!==o&&void 0!==o?o:""))}),"Deprecated_"+t)}var qt=["__ob__","__v_skip","__metadata__"],Xt=function(){function e(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0}}}return e.prototype.pickOneWarning=function(e,t){console.warn("AG Grid: "+e+" and "+t+" do not work with each other, you need to pick one.")},e.prototype.init=function(){var e=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var t=function(e,t){return"AG Grid: '"+e+"' is not supported on the Server-Side Row Model."+(t?" Please use "+t+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?ie.__assertRegistered(Z.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var r=function(t,r){return e.gridOptionsService.exists(t)&&ie.__assertRegistered(r,t,e.gridOptionsService.getGridId())};r("sideBar",Z.SideBarModule),r("statusBar",Z.StatusBarModule),r("enableCharts",Z.GridChartsModule),r("getMainMenuItems",Z.MenuModule),r("getContextMenuItems",Z.MenuModule),r("allowContextMenuWithControlKey",Z.MenuModule),r("enableAdvancedFilter",Z.AdvancedFilterModule)},e.prototype.checkColumnDefProperties=function(){var e=this;if(null!=this.gridOptions.columnDefs){var t=Mt.ALL_PROPERTIES,r=function(o,i){var n=Object.getOwnPropertyNames(o);e.checkProperties(n,Kt(Kt([],$t(t)),$t(qt)),t,i,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),o.children&&o.children.forEach((function(e){return r(e,"columnDefs.children")}))};this.gridOptions.columnDefs.forEach((function(e){return r(e,"columnDefs")})),this.gridOptions.defaultColDef&&r(this.gridOptions.defaultColDef,"defaultColDef")}},e.prototype.checkColumnDefViolations=function(){var e,t=null!==(e=this.gridOptionsService.get("rowModelType"))&&void 0!==e?e:"clientSide",r={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]},o=r[t];if(null===o||void 0===o?void 0:o.length){var i=function(e){o.forEach((function(r){r in e&&e[r]&&console.warn("AG Grid: Column property "+r+" is not supported with the row model type "+t+".")}))};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(e){return i(e)})),null!=this.gridOptions.autoGroupColumnDef&&i(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&i(this.gridOptions.defaultColDef)}},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=Kt(Kt([],$t(It.ALL_PROPERTIES)),$t(Vt.EVENT_CALLBACKS)),r=Kt(Kt(Kt(Kt([],$t(t)),["api","columnApi"]),$t(qt)),$t(Object.keys(this.deprecatedProperties)));this.checkProperties(e,r,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},e.prototype.checkProperties=function(e,t,r,o,i){var n=zt(e,t,r);C(n,(function(e,t){V((function(){return console.warn("AG Grid: invalid "+o+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))}),"invalidProperty"+o+e)})),Object.keys(n).length>0&&V((function(){return console.warn("AG Grid: to see all the valid "+o+" properties please check: "+i)}),"invalidProperties"+o+i)},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach((function(t){var r,o=$t(t,2),i=o[0],n=o[1],a=e[i];a&&(Yt(n.version,i,n.newProp,n.message),n.copyToNewProp&&n.newProp&&null==e[n.newProp]&&(e[n.newProp]=null!==(r=n.newPropValue)&&void 0!==r?r:a))})),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll="partial"!==e.serverSideStoreType)},e.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},Ut([he("gridOptions")],e.prototype,"gridOptions",void 0),Ut([he("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Ut([ce],e.prototype,"init",null),e=Ut([de("gridOptionsValidator")],e),e}();function Jt(e,t){var r=["groupRows","multipleColumns","custom","singleColumn"];return r.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid groupDisplayType value - possible values are: '"+r.join("', '")+"'"),!1):t===e}function Qt(e,t){var r=["auto","custom"];return r.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid treeDataDisplayType value - possible values are: '"+r.join("', '")+"'"),!1):t===e}var Zt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),er=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},tr=function(e,t){return function(r,o){t(r,o,e)}},rr=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]])}return r},or=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},ir=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},nr=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ar=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.shouldQueueResizeOperations=!1,t.resizeOperationQueue=[],t}return Zt(t,e),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var t=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",(function(){return e.onGroupDisplayTypeChanged()})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return e.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("defaultColDef",(function(t){return e.onSharedColDefChanged(t.source)})),this.addManagedPropertyListener("columnTypes",(function(t){return e.onSharedColDefChanged(t.source)}))},t.prototype.onGroupDisplayTypeChanged=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},t.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},t.prototype.onSharedColDefChanged=function(e){void 0===e&&(e="api"),this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,e)},t.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var r=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(r,t)},t.prototype.recreateColumnDefs=function(e){void 0===e&&(e="api"),this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,t){var r={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(e){r[e.getInstanceId()]=e})),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(e){r[e.getInstanceId()]=null}));var o=Object.values(r).filter((function(e){return null!=e}));this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,t){var r=this;void 0===t&&(t="api");var o=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var i=this.primaryColumns,n=this.primaryColumnTree,a=this.columnFactory.createColumnTree(this.columnDefs,!0,n);this.destroyOldColumns(this.primaryColumnTree,a.columnTree),this.primaryColumnTree=a.columnTree,this.primaryHeaderRowCount=a.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(e){return r.primaryColumnsMap[e.getId()]=e})),this.extractRowGroupColumns(t,i),this.extractPivotColumns(t,i),this.extractValueColumns(t,i),this.ready=!0;var s=void 0===this.gridColsArePrimary,l=this.gridColsArePrimary||s;l&&(this.updateGridColumns(),e&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),o&&o(),this.dispatchNewColumnsLoaded(t)},t.prototype.dispatchNewColumnsLoaded=function(e){var t={type:gt.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(t)},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api");var t={type:gt.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,t=this.primaryColumns;if(t){var r=t.filter((function(t){return e.gridColumns.indexOf(t)>=0})),o=this.gridColumns.filter((function(e){return r.indexOf(e)<0}));this.gridColumns=ir(ir([],or(o)),or(r)),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){var t=e,r=[];while(null!=t)r.push(t),t=this.getDisplayedColAfter(t);return r},t.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var e=this.extractViewport();if(e){var t={type:gt.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}}},t.prototype.setViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){if(void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);var r={type:gt.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(r)}},t.prototype.getSecondaryPivotColumn=function(e,t){if(s(this.secondaryColumns))return null;var r=this.getPrimaryColumn(t),o=null;return this.secondaryColumns.forEach((function(t){var i=t.getColDef().pivotKeys,n=t.getColDef().pivotValueColumn,a=Pe(i,e),s=n===r;a&&s&&(o=t)})),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,r;this.gridOptionsService.is("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?Ae(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?Ae(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(o){o.setLastLeftPinned(o===t,e),o.setFirstRightPinned(o===r,e)}))},t.prototype.autoSizeColumns=function(e){var t=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push((function(){return t.autoSizeColumns(e)}));else{var r=e.columns,o=e.skipHeader,i=e.skipHeaderGroups,n=e.stopAtGroup,a=e.source,s=void 0===a?"api":a;this.animationFrameService.flushAllFrames();var l=[],c=-1,u=null!=o?o:this.gridOptionsService.is("skipHeaderOnAutoSize"),d=null!=i?i:u;while(0!==c)c=0,this.actionOnGridColumns(r,(function(e){if(l.indexOf(e)>=0)return!1;var r=t.autoWidthCalculator.getPreferredWidthForColumn(e,u);if(r>0){var o=t.normaliseColumnWidth(e,r);e.setActualWidth(o,s),l.push(e),c++}return!0}),s);d||this.autoSizeColumnGroupsByColumns(r,s,n),this.dispatchColumnResizedEvent(l,!0,"autosizeColumns")}},t.prototype.dispatchColumnResizedEvent=function(e,t,r,o){if(void 0===o&&(o=null),e&&e.length){var i={type:gt.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:o,finished:t,source:r};this.eventService.dispatchEvent(i)}},t.prototype.dispatchColumnChangedEvent=function(e,t,r){var o={type:e,columns:t,column:t&&1==t.length?t[0]:null,source:r};this.eventService.dispatchEvent(o)},t.prototype.dispatchColumnMovedEvent=function(e){var t=e.movedColumns,r=e.source,o=e.toIndex,i=e.finished,n={type:gt.EVENT_COLUMN_MOVED,columns:t,column:t&&1===t.length?t[0]:null,toIndex:o,finished:i,source:r};this.eventService.dispatchEvent(n)},t.prototype.dispatchColumnPinnedEvent=function(e,t){if(e.length){var r=1===e.length?e[0]:null,o=this.getCommonValue(e,(function(e){return e.getPinned()})),i={type:gt.EVENT_COLUMN_PINNED,pinned:null!=o?o:null,columns:e,column:r,source:t};this.eventService.dispatchEvent(i)}},t.prototype.dispatchColumnVisibleEvent=function(e,t){if(e.length){var r=1===e.length?e[0]:null,o=this.getCommonValue(e,(function(e){return e.isVisible()})),i={type:gt.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:r,source:t};this.eventService.dispatchEvent(i)}},t.prototype.autoSizeColumn=function(e,t,r){void 0===r&&(r="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:r})},t.prototype.autoSizeColumnGroupsByColumns=function(e,t,r){var o,i,n,a,s,l=new Set,c=this.getGridColumns(e);c.forEach((function(e){var t=e.getParent();while(t&&t!=r)t.isPadding()||l.add(t),t=t.getParent()}));var u=[];try{for(var d=nr(l),h=d.next();!h.done;h=d.next()){var p=h.value;try{for(var f=(n=void 0,nr(this.ctrlsService.getHeaderRowContainerCtrls())),g=f.next();!g.done;g=f.next()){var v=g.value;if(s=v.getHeaderCtrlForColumn(p),s)break}}catch(m){n={error:m}}finally{try{g&&!g.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}s&&s.resizeLeafColumnsToFit(t)}}catch(b){o={error:b}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return u},t.prototype.autoSizeAllColumns=function(e,t){var r=this;if(void 0===t&&(t="api"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push((function(){return r.autoSizeAllColumns(e,t)}));else{var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:e,source:t})}},t.prototype.getColumnsFromTree=function(e){var t=[],r=function(e){for(var o=0;o<e.length;o++){var i=e[o];i instanceof Te?t.push(i):i instanceof _e&&r(i.getChildren())}};return r(e),t},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,t,r,o){for(var i,n=[],a=null,s=function(s){var l,c=t[s],u=t.length-s,d=Math.min(c.getColSpan(e),u),h=[c];if(d>1){for(var p=d-1,f=1;f<=p;f++)h.push(t[s+f]);s+=p}if(r?(l=!1,h.forEach((function(e){r(e)&&(l=!0)}))):l=!0,l){if(0===n.length&&a){var g=!!o&&o(c);g&&n.push(a)}n.push(c)}a=c,i=s},l=0;l<t.length;l++)s(l),l=i;return n},t.prototype.getViewportCenterColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var r=function(e){var r=e.getLeft();return a(r)&&r>t.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,r)},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var t=e.getLeft()||0,r=t+e.getActualWidth(),o=this.viewportLeft-200,i=this.viewportRight+200,n=t<o&&r<o,a=t>i&&r>i;return!n&&!a},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,t,r,o,i,n){var a=this;if(void 0===n&&(n="api"),e&&!l(e)){var s=!1;if(e.forEach((function(e){var i=a.getPrimaryColumn(e);if(i){if(r){if(t.indexOf(i)>=0)return;t.push(i)}else{if(t.indexOf(i)<0)return;Ne(t,i)}o(i),s=!0}})),s){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(n);var c={type:i,columns:t,column:1===t.length?t[0]:null,source:n};this.eventService.dispatchEvent(c)}}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,r){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,r),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(t,!1,r),e||this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnVisible(t,!0,r))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),gt.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),gt.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,(function(e){return e.setPivotActive(!0,t)}),gt.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,gt.EVENT_COLUMN_PIVOT_CHANGED,!0,(function(e,r){r.setPivotActive(e,t)}),t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,(function(e){return e.setPivotActive(!1,t)}),gt.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,r,o,i,n){var s=this,l=new Map;t.forEach((function(e,t){return l.set(e,t)})),t.length=0,a(e)&&e.forEach((function(e){var r=s.getPrimaryColumn(e);r&&t.push(r)})),t.forEach((function(e,t){var r=l.get(e);void 0!==r?o&&r!==t||l.delete(e):l.set(e,0)})),(this.primaryColumns||[]).forEach((function(e){var r=t.indexOf(e)>=0;i(r,e)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(n),this.dispatchColumnChangedEvent(r,ir([],or(l.keys())),n)},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,gt.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,r){if(e!==t.isValueActive()&&(t.setValueActive(e,r),e&&!t.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(o)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),gt.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),gt.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){var r=e.getMinWidth();a(r)&&t<r&&(t=r);var o=e.getMaxWidth();return a(o)&&e.isGreaterThanMax(t)&&(t=o),t},t.prototype.getPrimaryOrGridColumn=function(e){var t=this.getPrimaryColumn(e);return t||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,r,o){var i=this;void 0===o&&(o="api");var n=[];e.forEach((function(e){var r=i.getPrimaryOrGridColumn(e.key);if(r){n.push({width:e.newWidth,ratios:[1],columns:[r]});var o="shift"===i.gridOptionsService.get("colResizeDefault");if(o&&(t=!t),t){var a=i.getDisplayedColAfter(r);if(!a)return;var s=r.getActualWidth()-e.newWidth,l=a.getActualWidth()+s;n.push({width:l,ratios:[1],columns:[a]})}}})),0!==n.length&&this.resizeColumnSets({resizeSets:n,finished:r,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.columns,r=e.width,o=0,i=0,n=!0;t.forEach((function(e){var t=e.getMinWidth();o+=t||0;var r=e.getMaxWidth();a(r)&&r>0?i+=r:n=!1}));var s=r>=o,l=!n||r<=i;return s&&l},t.prototype.resizeColumnSets=function(e){var t=this,r=e.resizeSets,o=e.finished,i=e.source,n=!r||r.every((function(e){return t.checkMinAndMaxWidthsForSet(e)}));if(n){var s=[],l=[];r.forEach((function(e){var t=e.width,r=e.columns,o=e.ratios,n={},c={};r.forEach((function(e){return l.push(e)}));var u=!0,d=0,h=function(){if(d++,d>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";u=!1;var e=[],i=0,s=t;r.forEach((function(t,r){var a=c[t.getId()];if(a)s-=n[t.getId()];else{e.push(t);var l=o[r];i+=l}}));var l=1/i;e.forEach((function(r,i){var d,h=i===e.length-1;h?d=s:(d=Math.round(o[i]*t*l),s-=d);var p=r.getMinWidth(),f=r.getMaxWidth();a(p)&&d<p?(d=p,c[r.getId()]=!0,u=!0):a(f)&&f>0&&d>f&&(d=f,c[r.getId()]=!0,u=!0),n[r.getId()]=d}))};while(u){var p=h();if("break"===p)break}r.forEach((function(e){var t=n[e.getId()],r=e.getActualWidth();r!==t&&(e.setActualWidth(t,i),s.push(e))}))}));var c=s.length>0,u=[];c&&(u=this.refreshFlexedColumns({resizingCols:l,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());var d=l.concat(u);(c||o)&&this.dispatchColumnResizedEvent(d,o,i,u)}else if(o){var h=r&&r.length>0?r[0].columns:null;this.dispatchColumnResizedEvent(h,o,i)}},t.prototype.setColumnAggFunc=function(e,t,r){if(void 0===r&&(r="api"),e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(t),this.dispatchColumnChangedEvent(gt.EVENT_COLUMN_VALUE_CHANGED,[o],r))}},t.prototype.moveRowGroupColumn=function(e,t,r){void 0===r&&(r="api");var o=this.rowGroupColumns[e],i=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,o);var n={type:gt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:i,column:1===i.length?i[0]:null,source:r};this.eventService.dispatchEvent(n)},t.prototype.moveColumns=function(e,t,r,o){if(void 0===r&&(r="api"),void 0===o&&(o=!0),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var i=this.getGridColumns(e),n=!this.doesMovePassRules(i,t);n||(Be(this.gridColumns,i,t),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:i,source:r,toIndex:t,finished:o}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,t){var r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)},t.prototype.doesOrderPassRules=function(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)},t.prototype.getProposedColumnOrder=function(e,t){var r=this.gridColumns.slice();return Be(r,e,t),r},t.prototype.sortColumnsLikeGridColumns=function(e){var t=this;if(e&&!(e.length<=1)){var r=e.filter((function(e){return t.gridColumns.indexOf(e)<0})).length>0;r||e.sort((function(e,r){var o=t.gridColumns.indexOf(e),i=t.gridColumns.indexOf(r);return o-i}))}},t.prototype.doesMovePassLockedPositions=function(e){var t=0,r=!0,o=function(e){return e?!0===e||"left"===e?0:2:1};return e.forEach((function(e){var i=o(e.getColDef().lockPosition);i<t&&(r=!1),t=i})),r},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(r){if(r instanceof _e){var o=r,i=o.getColGroupDef(),n=i&&i.marryChildren;if(n){var a=[];o.getLeafColumns().forEach((function(t){var r=e.indexOf(t);a.push(r)}));var s=Math.max.apply(Math,a),l=Math.min.apply(Math,a),c=s-l,u=o.getLeafColumns().length-1;c>u&&(t=!1)}}})),t},t.prototype.moveColumn=function(e,t,r){void 0===r&&(r="api"),this.moveColumns([e],t,r)},t.prototype.moveColumnByIndex=function(e,t,r){void 0===r&&(r="api");var o=this.gridColumns[e];this.moveColumn(o,t,r)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((function(t,r){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(r)})):this.lastPrimaryOrder&&t.sort((function(t,r){return e.lastPrimaryOrder.indexOf(t)-e.lastPrimaryOrder.indexOf(r)})),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var o=this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r;if(o){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r;var i={type:gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return l(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return l(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,r){void 0===r&&(r="api"),this.setColumnsVisible([e],t,r)},t.prototype.setColumnsVisible=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r="api"),this.applyColumnState({state:e.map((function(e){return{colId:"string"===typeof e?e:e.getColId(),hide:!t}}))},r)},t.prototype.setColumnPinned=function(e,t,r){void 0===r&&(r="api"),e&&this.setColumnsPinned([e],t,r)},t.prototype.setColumnsPinned=function(e,t,r){var o;(void 0===r&&(r="api"),this.gridOptionsService.isDomLayout("print"))?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),o=!0===t||"left"===t?"left":"right"===t?"right":null,this.actionOnGridColumns(e,(function(e){return e.getPinned()!==o&&(e.setPinned(o),!0)}),r,(function(){var e={type:gt.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:r};return e})),this.columnAnimationService.finish())},t.prototype.actionOnGridColumns=function(e,t,r,o){var i=this;if(!l(e)){var n=[];if(e.forEach((function(e){var r=i.getGridColumn(e);if(r){var o=t(r);!1!==o&&n.push(r)}})),n.length&&(this.updateDisplayedColumns(r),a(o)&&o)){var s=o();s.columns=n,s.column=1===n.length?n[0]:null,this.eventService.dispatchEvent(s)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),r=t.indexOf(e);return r>0?t[r-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),r=t.indexOf(e);return r<t.length-1?t[r+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){var r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),i="After"===t?Ae(o):o[0],n="getDisplayedCol"+t;while(1){var a=this[n](i);if(!a)return null;var s=this.getColumnGroupAtLevel(a,r);if(s!==e)return s}},t.prototype.getColumnGroupAtLevel=function(e,t){var r,o,i=e.getParent();while(1){var n=i.getProvidedColumnGroup();if(r=n.getLevel(),o=i.getPaddingLevel(),r+o<=t)break;i=i.getParent()}return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,r=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,i=null!=e.getSort()?e.getSort():null,n=null!=e.getSortIndex()?e.getSortIndex():null,a=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null,s={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:i,sortIndex:n,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:r,flex:a};return s},t.prototype.getColumnState=function(){if(s(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),t=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t},t.prototype.orderColumnStateList=function(e){var t=Ot(this.gridColumns.map((function(e,t){return[e.getColId(),t]})));e.sort((function(e,r){var o=t.has(e.colId)?t.get(e.colId):-1,i=t.has(r.colId)?t.get(r.colId):-1;return o-i}))},t.prototype.resetColumnState=function(e){var t=this;void 0===e&&(e="api");var r=this.getColumnsFromTree(this.primaryColumnTree),o=[],i=1e3,n=1e3,a=[];this.groupAutoColumns&&(a=a.concat(this.groupAutoColumns)),r&&(a=a.concat(r)),a.forEach((function(e){var r=t.getColumnStateFromColDef(e);s(r.rowGroupIndex)&&r.rowGroup&&(r.rowGroupIndex=i++),s(r.pivotIndex)&&r.pivot&&(r.pivotIndex=n++),o.push(r)})),this.applyColumnState({state:o,applyOrder:!0},e)},t.prototype.getColumnStateFromColDef=function(e){var t=function(e,t){return null!=e?e:null!=t?t:null},r=e.getColDef(),o=t(r.sort,r.initialSort),i=t(r.sortIndex,r.initialSortIndex),n=t(r.hide,r.initialHide),a=t(r.pinned,r.initialPinned),s=t(r.width,r.initialWidth),l=t(r.flex,r.initialFlex),c=t(r.rowGroupIndex,r.initialRowGroupIndex),u=t(r.rowGroup,r.initialRowGroup);null!=c||null!=u&&0!=u||(c=null,u=null);var d=t(r.pivotIndex,r.initialPivotIndex),h=t(r.pivot,r.initialPivot);null!=d||null!=h&&0!=h||(d=null,h=null);var p=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:i,hide:n,pinned:a,width:s,flex:l,rowGroup:u,rowGroupIndex:c,pivot:h,pivotIndex:d,aggFunc:p}},t.prototype.applyColumnState=function(e,t){var r=this;if(l(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(o,i,n){var a=r.compareColumnStatesAndDispatchEvents(t);r.autoGroupsNeedBuilding=!0;var s=i.slice(),l={},c={},u=[],d=[],h=0,p=r.rowGroupColumns.slice(),f=r.pivotColumns.slice();o.forEach((function(o){var i=o.colId||"",a=i.startsWith(yt);if(a)return u.push(o),void d.push(o);var p=n(i);p?(r.syncColumnWithStateItem(p,o,e.defaultState,l,c,!1,t),Ne(s,p)):(d.push(o),h+=1)}));var g=function(o){return r.syncColumnWithStateItem(o,null,e.defaultState,l,c,!1,t)};s.forEach(g);var v=function(e,t,r,o){var i=e[r.getId()],n=e[o.getId()],a=null!=i,s=null!=n;if(a&&s)return i-n;if(a)return-1;if(s)return 1;var l=t.indexOf(r),c=t.indexOf(o),u=l>=0,d=c>=0;return u&&d?l-c:u?-1:1};r.rowGroupColumns.sort(v.bind(r,l,p)),r.pivotColumns.sort(v.bind(r,c,f)),r.updateGridColumns();var m=r.groupAutoColumns?r.groupAutoColumns.slice():[];return u.forEach((function(o){var i=r.getAutoColumn(o.colId);Ne(m,i),r.syncColumnWithStateItem(i,o,e.defaultState,null,null,!0,t)})),m.forEach(g),r.applyOrderAfterApplyState(e),r.updateDisplayedColumns(t),r.dispatchEverythingChanged(t),a(),{unmatchedAndAutoStates:d,unmatchedCount:h}};this.columnAnimationService.start();var i=o(e.state||[],this.primaryColumns||[],(function(e){return r.getPrimaryColumn(e)})),n=i.unmatchedAndAutoStates,s=i.unmatchedCount;return(n.length>0||a(e.defaultState))&&(s=o(n,this.secondaryColumns||[],(function(e){return r.getSecondaryColumn(e)})).unmatchedCount),this.columnAnimationService.finish(),0===s},t.prototype.applyOrderAfterApplyState=function(e){var t=this;if(e.applyOrder&&e.state){var r=[],o={};e.state.forEach((function(e){if(e.colId&&!o[e.colId]){var i=t.gridColumnsMap[e.colId];i&&(r.push(i),o[e.colId]=!0)}}));var i=0;this.gridColumns.forEach((function(e){var t=e.getColId(),n=null!=o[t];if(!n){var a=t.startsWith(yt);a?Ve(r,e,i++):r.push(e)}})),r=this.placeLockedColumns(r),this.doesMovePassMarryChildren(r)?this.gridColumns=r:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var t=this,r={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),i={};return o.forEach((function(e){i[e.colId]=e})),function(){var n=t.getPrimaryAndSecondaryAndAutoColumns(),a=function(r,o,i,n){var a=o.map(n),s=i.map(n),l=Pe(a,s);if(!l){var c=new Set(o);i.forEach((function(e){c.delete(e)||c.add(e)}));var u=ir([],or(c)),d={type:r,columns:u,column:1===u.length?u[0]:null,source:e};t.eventService.dispatchEvent(d)}},s=function(e){var t=[];return n.forEach((function(r){var o=i[r.getColId()];o&&e(o,r)&&t.push(r)})),t},l=function(e){return e.getColId()};a(gt.EVENT_COLUMN_ROW_GROUP_CHANGED,r.rowGroupColumns,t.rowGroupColumns,l),a(gt.EVENT_COLUMN_PIVOT_CHANGED,r.pivotColumns,t.pivotColumns,l);var c=function(e,t){var r=null!=e.aggFunc,o=r!=t.isValueActive(),i=r&&e.aggFunc!=t.getAggFunc();return o||i},u=s(c);u.length>0&&t.dispatchColumnChangedEvent(gt.EVENT_COLUMN_VALUE_CHANGED,u,e);var d=function(e,t){return e.width!=t.getActualWidth()};t.dispatchColumnResizedEvent(s(d),!0,e);var h=function(e,t){return e.pinned!=t.getPinned()};t.dispatchColumnPinnedEvent(s(h),e);var p=function(e,t){return e.hide==t.isVisible()};t.dispatchColumnVisibleEvent(s(p),e);var f=function(e,t){return e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()};s(f).length>0&&t.sortController.dispatchSortChangedEvents(e),t.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,t){if(e&&0!=e.length){for(var r=t(e[0]),o=1;o<e.length;o++)if(r!==t(e[o]))return;return r}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,t){var r=this,o=this.getColumnState(),i={};o.forEach((function(e){return i[e.colId]=e}));var n={};e.forEach((function(e){i[e.colId]&&(n[e.colId]=!0)}));var a=e.filter((function(e){return n[e.colId]})),s=o.filter((function(e){return n[e.colId]})),l=[];s.forEach((function(e,t){var o=a&&a[t];if(o&&o.colId!==e.colId){var i=r.getGridColumn(o.colId);i&&l.push(i)}})),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:t,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,t,r,o,i,n,s){if(e){var l=function(e,o){var i={value1:void 0,value2:void 0},n=!1;return t&&(void 0!==t[e]&&(i.value1=t[e],n=!0),a(o)&&void 0!==t[o]&&(i.value2=t[o],n=!0)),!n&&r&&(void 0!==r[e]&&(i.value1=r[e]),a(o)&&void 0!==r[o]&&(i.value2=r[o])),i},c=l("hide").value1;void 0!==c&&e.setVisible(!c,s);var u=l("pinned").value1;void 0!==u&&e.setPinned(u);var d=this.columnUtils.calculateColMinWidth(e.getColDef()),h=l("flex").value1;void 0!==h&&e.setFlex(h);var p=e.getFlex()<=0;if(p){var f=l("width").value1;null!=f&&null!=d&&f>=d&&e.setActualWidth(f,s)}var g=l("sort").value1;void 0!==g&&("desc"===g||"asc"===g?e.setSort(g,s):e.setSort(void 0,s));var v=l("sortIndex").value1;if(void 0!==v&&e.setSortIndex(v),!n&&e.isPrimary()){var m=l("aggFunc").value1;void 0!==m&&("string"===typeof m?(e.setAggFunc(m),e.isValueActive()||(e.setValueActive(!0,s),this.valueColumns.push(e))):(a(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),Ne(this.valueColumns,e))));var b=l("rowGroup","rowGroupIndex"),y=b.value1,w=b.value2;void 0===y&&void 0===w||("number"===typeof w||y?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),this.rowGroupColumns.push(e)),o&&"number"===typeof w&&(o[e.getId()]=w)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),Ne(this.rowGroupColumns,e)));var C=l("pivot","pivotIndex"),E=C.value1,S=C.value2;void 0===E&&void 0===S||("number"===typeof S||E?(e.isPivotActive()||(e.setPivotActive(!0,s),this.pivotColumns.push(e)),i&&"number"===typeof S&&(i[e.getId()]=S)):e.isPivotActive()&&(e.setPivotActive(!1,s),Ne(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var r=[];return e&&e.forEach((function(e){var o=t(e);o&&r.push(o)})),r},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,t,r){if(!e)return null;if("string"==typeof e&&r[e])return r[e];for(var o=0;o<t.length;o++)if(this.columnsMatch(t[o],e))return t[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupColumns.slice(0);var r=this.getPrimaryColumn(t);return r?[r]:null},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&a(this.groupAutoColumns)&&!s(this.groupAutoColumns)&&this.groupAutoColumns.find((function(r){return t.columnsMatch(r,e)}))||null},t.prototype.columnsMatch=function(e,t){var r=e===t,o=e.getColDef()===t,i=e.getColId()==t;return r||o||i},t.prototype.getDisplayNameForColumn=function(e,t,r){if(void 0===r&&(r=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,t);return r?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,t,r){var o=t?t.getColGroupDef():null;return o?this.getHeaderName(o,null,e,t,r):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,r,o,i){var n=e.headerValueGetter;if(n){var a={colDef:e,column:t,columnGroup:r,providedColumnGroup:o,location:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"===typeof n?n(a):"string"===typeof n?this.expressionService.evaluate(n,a):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?kt(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return t;var r,o=e.getColDef().pivotValueColumn,i=a(o),n=null;if(i){var s=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,l=void 0!==e.getColDef().pivotTotalColumnIds;if(s&&!l)return t;n=o?o.getAggFunc():null,r=!0}else{var c=e.isValueActive(),u=this.pivotMode||!this.isRowGroupEmpty();c&&u?(n=e.getAggFunc(),r=!0):r=!1}if(r){var d="string"===typeof n?n:"func",h=this.localeService.getLocaleTextFunc(),p=h(d,d);return p+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof ft)return e;var r=this.getAllDisplayedTrees(),o="number"===typeof t,i=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,(function(r){if(r instanceof ft){var n=r,a=void 0;a=o?e===n.getGroupId()&&t===n.getPartId():e===n.getGroupId(),a&&(i=n)}})),i},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(function(t,r){return t.setValueActive(r,e)}),(function(){}),(function(){}),(function(e){var t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(function(e){return null!=e.initialAggFunc&&""!=e.initialAggFunc})),this.valueColumns.forEach((function(e){var t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(function(t,r){return t.setRowGroupActive(r,e)}),(function(e){return e.rowGroupIndex}),(function(e){return e.initialRowGroupIndex}),(function(e){return e.rowGroup}),(function(e){return e.initialRowGroup}))},t.prototype.extractColumns=function(e,t,r,o,i,n,a){void 0===e&&(e=[]),void 0===t&&(t=[]);var s=[],l=[];(this.primaryColumns||[]).forEach((function(r){var c,h=e.indexOf(r)<0,p=r.getColDef(),f=d(n(p)),g=d(a(p)),v=u(o(p)),m=u(i(p)),b=void 0!==f,y=void 0!==v,w=void 0!==g,C=void 0!==m;if(c=b?f:y?null!==v&&v>=0:h?w?g:!!C&&(null!=m&&m>=0):t.indexOf(r)>=0,c){var E=h?null!=v||null!=m:null!=v;E?s.push(r):l.push(r)}}));var c=function(e){var t=o(e.getColDef()),r=i(e.getColDef());return null!=t?t:r};s.sort((function(e,t){var r=c(e),o=c(t);return r===o?0:r<o?-1:1}));var h=[].concat(s);return t.forEach((function(e){l.indexOf(e)>=0&&h.push(e)})),l.forEach((function(e){h.indexOf(e)<0&&h.push(e)})),t.forEach((function(e){h.indexOf(e)<0&&r(e,!1)})),h.forEach((function(e){t.indexOf(e)<0&&r(e,!0)})),h},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(function(t,r){return t.setPivotActive(r,e)}),(function(e){return e.pivotIndex}),(function(e){return e.initialPivotIndex}),(function(e){return e.pivot}),(function(e){return e.initialPivot}))},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(e){if(e instanceof _e){var r=e.getColGroupDef(),o={groupId:e.getGroupId(),open:r?r.openByDefault:void 0};t.push(o)}})),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(t){t instanceof _e&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e},t.prototype.setColumnGroupState=function(e,t){var r=this;void 0===t&&(t="api"),this.columnAnimationService.start();var o=[];e.forEach((function(e){var t=e.groupId,i=e.open,n=r.getProvidedColumnGroup(t);n&&n.isExpanded()!==i&&(r.logger.log("columnGroupOpened("+n.getGroupId()+","+i+")"),n.setExpanded(i),o.push(n))})),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),o.forEach((function(e){var t={type:gt.EVENT_COLUMN_GROUP_OPENED,columnGroup:e};r.eventService.dispatchEvent(t)})),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,r){var o;void 0===r&&(r="api"),o=e instanceof _e?e.getId():e||"",this.setColumnGroupState([{groupId:o,open:t}],r)},t.prototype.getProvidedColumnGroup=function(e){"string"!==typeof e&&console.error("AG Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(r){r instanceof _e&&r.getId()===e&&(t=r)})),t},t.prototype.calculateColumnsForDisplay=function(){var e,t=this;return e=this.pivotMode&&s(this.secondaryColumns)?this.gridColumns.filter((function(e){var r=t.groupAutoColumns&&je(t.groupAutoColumns,e),o=t.valueColumns&&je(t.valueColumns,e);return r||o})):this.gridColumns.filter((function(e){var r=t.groupAutoColumns&&je(t.groupAutoColumns,e);return r||e.isVisible()})),e},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach((function(e){a(e.getColDef().colSpan)&&(t=!0)})),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var t=function(t){var r=t.getColDef(),o=r.showRowGroup;r&&a(o)&&(e.groupDisplayColumns.push(t),"string"===typeof o?e.groupDisplayColumnsMap[o]=t:!0===o&&e.getRowGroupColumns().forEach((function(r){e.groupDisplayColumnsMap[r.getId()]=t})))};this.gridColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return a(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,t){var r=this;void 0===t&&(t="api");var o=e&&e.length>0;if(o||!s(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(e);var i=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,i.columnTree),this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((function(e){return r.secondaryColumnsMap[e.getId()]=e})),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(t||r){var o=function(e){e.forEach((function(e){var i=a(e.children);if(i){var n=e;r&&r(n),o(n.children)}else{var s=e;t&&t(s)}}))};e&&o(e)}},t.prototype.updateGridColumns=function(){var e,t=this,r=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every((function(e){return void 0!==t.gridColumnsMap[e.getColId()]}));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(e=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,e=this.lastPrimaryOrder);var i=this.createGroupAutoColumnsIfNeeded();if(i&&e){var n=Ot(this.groupAutoColumns.map((function(e){return[e,!0]})));e=e.filter((function(e){return!n.has(e)})),e=ir(ir([],or(this.groupAutoColumns)),or(e))}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(e),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(e){return t.gridColumnsMap[e.getId()]=e})),this.setAutoHeightActive(),!Pe(r,this.gridBalancedTree)){var a={type:gt.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(a)}},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter((function(e){return e.isAutoHeight()})).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");if(!e){var t="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";V((function(){return console.warn(t)}),"autoHeightActive.wrongRowModel")}}},t.prototype.orderGridColsLike=function(e){if(!s(e)){var t=Ot(e.map((function(e,t){return[e,t]}))),r=!0;if(this.gridColumns.forEach((function(e){t.has(e)&&(r=!1)})),!r){var o=Ot(this.gridColumns.map((function(e){return[e,!0]}))),i=e.filter((function(e){return o.has(e)})),n=Ot(i.map((function(e){return[e,!0]}))),a=this.gridColumns.filter((function(e){return!n.has(e)})),l=i.slice();a.forEach((function(e){var t=e.getOriginalParent();if(t){var r=[];while(!r.length&&t){var o=t.getLeafColumns();o.forEach((function(e){var t=l.indexOf(e)>=0,o=r.indexOf(e)<0;t&&o&&r.push(e)})),t=t.getOriginalParent()}if(r.length){var i=r.map((function(e){return l.indexOf(e)})),n=Math.max.apply(Math,ir([],or(i)));Ve(l,e,n+1)}else l.push(e)}else l.push(e)})),this.gridColumns=l}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,t=null!==(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==e?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?t:t.filter((function(e){return e.isVisible()||e.isRowGroupActive()}))},t.prototype.placeLockedColumns=function(e){var t=[],r=[],o=[];return e.forEach((function(e){var i=e.getColDef().lockPosition;"right"===i?o.push(e):"left"===i||!0===i?t.push(e):r.push(e)})),ir(ir(ir([],or(t)),or(r)),or(o))},t.prototype.addAutoGroupToGridColumns=function(){if(s(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var t={type:gt.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter((function(e){return e.isAutoHeight()}))},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this;if(this.primaryColumns){var r=this.primaryColumns.slice(0),o=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(i){if(o){var n=t.getWidthOfColsInList(i);i.forEach((function(t){n-=t.getActualWidth(),t.setLeft(n,e)}))}else{var a=0;i.forEach((function(t){t.setLeft(a,e),a+=t.getActualWidth()}))}He(r,i)})),r.forEach((function(t){t.setLeft(null,e)}))}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(e){e.forEach((function(e){if(e instanceof ft){var t=e;t.checkLeft()}}))}))},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,(function(e){e instanceof Te&&t.push(e)}))},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,t){var r;switch(e){case"left":r=this.viewportRowLeft[t];break;case"right":r=this.viewportRowRight[t];break;default:r=this.viewportRowCenter[t];break}return s(r)&&(r=[]),r},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach((function(t){return e[t.getId()]=!0}));var t=function(r,o,i){for(var n=!1,a=0;a<r.length;a++){var s=r[a],l=!1;if(s instanceof Te)l=!0===e[s.getId()];else{var c=s,u=c.getDisplayedChildren();u&&(l=t(u,o,i+1))}l&&(n=!0,o[i]||(o[i]=[]),o[i].push(s))}return n};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){var e=function(e){return e.getId()+"-"+(e.getPinned()||"normal")};this.extractViewportColumns();var t=this.viewportColumns.map(e).join("#"),r=this.viewportColumnsHash!==t;return r&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),r},t.prototype.refreshFlexedColumns=function(e){var t;void 0===e&&(e={});var r=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols)for(var i=new Set(e.resizingCols),n=this.displayedColumnsCenter,s=n.length-1;s>=0;s--)if(i.has(n[s])){o=s;break}var l=0,c=[],u=0,d=0;for(s=0;s<this.displayedColumnsCenter.length;s++){var h=this.displayedColumnsCenter[s].getFlex()&&s>o;h?(c.push(this.displayedColumnsCenter[s]),d+=this.displayedColumnsCenter[s].getFlex(),u+=null!==(t=this.displayedColumnsCenter[s].getMinWidth())&&void 0!==t?t:0):l+=this.displayedColumnsCenter[s].getActualWidth()}if(!c.length)return[];var p=[];l+u>this.flexViewportWidth&&(c.forEach((function(e){var t;return e.setActualWidth(null!==(t=e.getMinWidth())&&void 0!==t?t:0,r)})),p=c,c=[]);var f,g=[];e:while(1){f=this.flexViewportWidth-l;var v=f/d;for(s=0;s<c.length;s++){var m=c[s],b=v*m.getFlex(),y=0,w=m.getMinWidth(),C=m.getMaxWidth();if(a(w)&&b<w?y=w:a(C)&&b>C&&(y=C),y){m.setActualWidth(y,r),Ie(c,m),d-=m.getFlex(),p.push(m),l+=m.getActualWidth();continue e}g[s]=Math.round(b)}break}var E=f;return c.forEach((function(e,t){e.setActualWidth(Math.min(g[t],E),r),p.push(e),E-=g[t]})),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(p,!0,r,c),c},t.prototype.sizeColumnsToFit=function(e,t,r,o){var i,n,s,l,c,u=this;if(void 0===t&&(t="sizeColumnsToFit"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push((function(){return u.sizeColumnsToFit(e,t,r,o)}));else{var d={};o&&(null===(i=null===o||void 0===o?void 0:o.columnLimits)||void 0===i||i.forEach((function(e){var t=e.key,r=rr(e,["key"]);d["string"===typeof t?t:t.getColId()]=r})));var h=this.getAllDisplayedColumns(),p=e===this.getWidthOfColsInList(h);if(!(e<=0||!h.length||p)){var f=[],g=[];h.forEach((function(e){!0===e.getColDef().suppressSizeToFit?g.push(e):f.push(e)}));var v=f.slice(0),m=!1,b=function(e){Ne(f,e),g.push(e)};f.forEach((function(e){var r,i;e.resetActualWidth(t);var n=null===d||void 0===d?void 0:d[e.getId()],a=null!==(r=null===n||void 0===n?void 0:n.minWidth)&&void 0!==r?r:null===o||void 0===o?void 0:o.defaultMinWidth,s=null!==(i=null===n||void 0===n?void 0:n.maxWidth)&&void 0!==i?i:null===o||void 0===o?void 0:o.defaultMaxWidth,l=e.getActualWidth();"number"===typeof a&&l<a?e.setActualWidth(a,t,!0):"number"===typeof s&&l>s&&e.setActualWidth(s,t,!0)}));while(!m){m=!0;var y=e-this.getWidthOfColsInList(g);if(y<=0)f.forEach((function(e){var r,i,n=null!==(i=null===(r=null===d||void 0===d?void 0:d[e.getId()])||void 0===r?void 0:r.minWidth)&&void 0!==i?i:null===o||void 0===o?void 0:o.defaultMinWidth;"number"!==typeof n?e.setMinimum(t):e.setActualWidth(n,t,!0)}));else for(var w=y/this.getWidthOfColsInList(f),C=y,E=f.length-1;E>=0;E--){var S=f[E],x=null===d||void 0===d?void 0:d[S.getId()],T=null!==(n=null===x||void 0===x?void 0:x.minWidth)&&void 0!==n?n:null===o||void 0===o?void 0:o.defaultMinWidth,k=null!==(s=null===x||void 0===x?void 0:x.maxWidth)&&void 0!==s?s:null===o||void 0===o?void 0:o.defaultMaxWidth,_=null!==(l=S.getMinWidth())&&void 0!==l?l:0,R=null!==(c=S.getMaxWidth())&&void 0!==c?c:Number.MAX_VALUE,O="number"===typeof T&&T>_?T:S.getMinWidth(),D="number"===typeof k&&k<R?k:S.getMaxWidth(),A=Math.round(S.getActualWidth()*w);a(O)&&A<O?(A=O,b(S),m=!1):a(D)&&A>D?(A=D,b(S),m=!1):0===E&&(A=C),S.setActualWidth(A,t,!0),C-=A}}v.forEach((function(e){e.fireColumnWidthChangedEvent(t)})),this.setLeftValues(t),this.updateBodyWidths(),r||this.dispatchColumnResizedEvent(v,!0,t)}}},t.prototype.buildDisplayedTrees=function(e){var t=[],r=[],o=[];e.forEach((function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":r.push(e);break;default:o.push(e);break}}));var i=new vt;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,i,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,i,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,i,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var t=function(t){e.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)},t.prototype.isDisplayed=function(e){var t=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return t===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,(function(e){e instanceof ft&&e.calculateDisplayedColumns()}))},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.usingTreeData,i=o&&!r&&!t;if(i){var n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),a=!this.autoColsEqual(n,this.groupAutoColumns);if(a||e)return this.groupAutoColumns=n,!0}else this.groupAutoColumns=null;return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType"),t=!!e&&Jt("custom",e);if(t)return!0;var r=this.gridOptionsService.get("treeDataDisplayType");return!!r&&Qt("custom",r)},t.prototype.autoColsEqual=function(e,t){return Pe(e,t,(function(e,t){return e.getColId()===t.getColId()}))},t.prototype.getWidthOfColsInList=function(e){return e.reduce((function(e,t){return e+t.getActualWidth()}),0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.is("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var r=0;r<t.length;r++){var o=this[t[r]]();if(o.length)return e?Ae(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,t){var r=e.setAutoHeaderHeight(t);if(r){var o={type:gt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter((function(e){return e.isAutoHeaderHeight()})).map((function(e){return e.getAutoHeaderHeight()||0}));return Math.max.apply(Math,ir([e],or(t)))},t.prototype.getHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((function(e){return e()})),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e){var t=e.getUserProvidedColDef();if(!t)return!1;var r=this.columnFactory.addColumnDefaultAndTypes(t,e.getColId());return e.setColDef(r,t),!0},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,t){var r=this,o={},i=function(e,t,i,n,a,s){if(!t.length||!r.primaryColumns)return[];for(var l=Object.keys(e),c=new Set(l),u=new Set(l),d=new Set(t.map((function(e){var t=e.getColId();return u.delete(t),t})).concat(l)),h=[],p={},f=0,g=0;g<r.primaryColumns.length;g++){var v=r.primaryColumns[g].getColId();d.has(v)&&(h.push(v),p[v]=f++)}var m=1e3,b=!1,y=0,w=function(t){for(var r=p[t],o=y;o<r;o++){var i=h[o];u.has(i)&&(e[i][a]=m++,u.delete(i))}y=r};t.forEach((function(t){var r=t.getColId();if(c.has(r))w(r),e[r][a]=m++;else{var l=t.getColDef(),d=null===l[a]||void 0===l[a]&&null==l[s];if(d){if(!b){var f=l[i]||void 0===l[i]&&l[n];f?w(r):(u.forEach((function(t){e[t][a]=m+p[t]})),m+=h.length,b=!0)}o[r]||(o[r]={colId:r}),o[r][a]=m++}}}))};return i(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),i(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},er([he("expressionService")],t.prototype,"expressionService",void 0),er([he("columnFactory")],t.prototype,"columnFactory",void 0),er([he("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),er([he("ctrlsService")],t.prototype,"ctrlsService",void 0),er([he("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),er([he("columnUtils")],t.prototype,"columnUtils",void 0),er([he("columnAnimationService")],t.prototype,"columnAnimationService",void 0),er([he("autoGroupColService")],t.prototype,"autoGroupColService",void 0),er([pe("aggFuncService")],t.prototype,"aggFuncService",void 0),er([pe("valueCache")],t.prototype,"valueCache",void 0),er([pe("animationFrameService")],t.prototype,"animationFrameService",void 0),er([he("sortController")],t.prototype,"sortController",void 0),er([he("columnDefFactory")],t.prototype,"columnDefFactory",void 0),er([ce],t.prototype,"init",null),er([ue],t.prototype,"destroyColumns",null),er([tr(0,ge("loggerFactory"))],t.prototype,"setBeans",null),t=er([de("columnModel")],t),t}(lt),sr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lr=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sr(t,e),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var t,r=this.calculateColMinWidth(e),o=this.calculateColMaxWidth(e),i=u(e.width),n=u(e.initialWidth);return t=null!=i?i:null!=n?n:200,Math.max(Math.min(t,o),r)},t.prototype.getOriginalPathForColumn=function(e,t){var r=[],o=!1,i=function(t,n){for(var a=0;a<t.length;a++){if(o)return;var s=t[a];if(s instanceof _e){var l=s;i(l.getChildren(),n+1),r[n]=s}else s===e&&(o=!0)}};return i(t,0),o?r:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,r){var o=this;t&&t.forEach((function(t){t instanceof _e&&o.depthFirstOriginalTreeSearch(t,t.getChildren(),r),r(t,e)}))},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var r=this;e&&e.forEach((function(e){e instanceof ft&&r.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)}))},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var r=this;e&&e.forEach((function(e){e instanceof ft&&r.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)}))},t=lr([de("columnUtils")],t),t}(lt),ur=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),dr=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ur(t,e),t.prototype.createDisplayedGroups=function(e,t,r,o){var i=this,n=this.mapOldGroupsById(o),a=[],s=e,l=function(){var e=s;s=[];for(var o=0,l=function(l){var c=o;o=l;var u=e[c],d=u instanceof ft?u.getProvidedColumnGroup():u,h=d.getOriginalParent();if(null!=h){var p=i.createColumnGroup(h,t,n,r);for(f=c;f<l;f++)p.addChild(e[f]);s.push(p)}else for(var f=c;f<l;f++)a.push(e[f])},c=1;c<e.length;c++){var u=e[c],d=u instanceof ft?u.getProvidedColumnGroup():u,h=d.getOriginalParent(),p=e[o],f=p instanceof ft?p.getProvidedColumnGroup():p,g=f.getOriginalParent();h!==g&&l(c)}o<e.length&&l(e.length)};while(s.length)l();return this.setupParentsIntoColumns(a,null),a},t.prototype.createColumnGroup=function(e,t,r,o){var i=e.getGroupId(),n=t.getInstanceIdForKey(i),s=ft.createUniqueId(i,n),l=r[s];return l&&l.getProvidedColumnGroup()!==e&&(l=null),a(l)?l.reset():(l=new ft(e,i,n,o),this.context.createBean(l)),l},t.prototype.mapOldGroupsById=function(e){var t={},r=function(e){e.forEach((function(e){if(e instanceof ft){var o=e;t[e.getUniqueId()]=o,r(o.getChildren())}}))};return e&&r(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var r=this;e.forEach((function(e){if(e.setParent(t),e instanceof ft){var o=e;r.setupParentsIntoColumns(o.getChildren(),o)}}))},t=dr([de("displayedGroupCreator")],t),t}(lt),pr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fr=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},gr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return pr(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach((function(e){return t.addComponent(e)}))},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.toUpperCase();this.componentsMappedByName[r]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=fr([de("agStackComponentsRegistry")],t),t}(lt);function vr(e,t,r){null==r||""==r?br(e,t):mr(e,t,r)}function mr(e,t,r){e.setAttribute(yr(t),r.toString())}function br(e,t){e.removeAttribute(yr(t))}function yr(e){return"aria-"+e}function wr(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Cr(e){var t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}function Er(e){return parseInt(e.getAttribute("aria-level"),10)}function Sr(e){return parseInt(e.getAttribute("aria-posinset"),10)}function xr(e){return e.getAttribute("aria-describedby")||""}function Tr(e,t){vr(e,"label",t)}function kr(e,t){vr(e,"labelledby",t)}function _r(e,t){vr(e,"description",t)}function Rr(e,t){vr(e,"describedby",t)}function Or(e,t){vr(e,"live",t)}function Dr(e,t){vr(e,"level",t)}function Ar(e,t){vr(e,"disabled",t)}function Pr(e,t){vr(e,"hidden",t)}function Mr(e,t){mr(e,"expanded",t)}function Lr(e){br(e,"expanded")}function Fr(e,t){mr(e,"setsize",t)}function Ir(e,t){mr(e,"posinset",t)}function Nr(e,t){mr(e,"multiselectable",t)}function Hr(e,t){mr(e,"rowcount",t)}function Gr(e,t){mr(e,"rowindex",t)}function Vr(e,t){mr(e,"colcount",t)}function zr(e,t){mr(e,"colindex",t)}function Br(e,t){mr(e,"colspan",t)}function jr(e,t){mr(e,"sort",t)}function Wr(e){br(e,"sort")}function Ur(e,t){vr(e,"selected",t)}function $r(e,t){mr(e,"checked",void 0===t?"mixed":t)}function Kr(e,t){vr(e,"controls",t.id),kr(t,e.id)}function Yr(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var qr,Xr,Jr,Qr,Zr,eo,to,ro,oo=Object.freeze({__proto__:null,setAriaRole:wr,getAriaSortState:Cr,getAriaLevel:Er,getAriaPosInSet:Sr,getAriaDescribedBy:xr,setAriaLabel:Tr,setAriaLabelledBy:kr,setAriaDescription:_r,setAriaDescribedBy:Rr,setAriaLive:Or,setAriaLevel:Dr,setAriaDisabled:Ar,setAriaHidden:Pr,setAriaExpanded:Mr,removeAriaExpanded:Lr,setAriaSetSize:Fr,setAriaPosInSet:Ir,setAriaMultiSelectable:Nr,setAriaRowCount:Hr,setAriaRowIndex:Gr,setAriaColCount:Vr,setAriaColIndex:zr,setAriaColSpan:Br,setAriaSort:jr,removeAriaSort:Wr,setAriaSelected:Ur,setAriaChecked:$r,setAriaControls:Kr,getAriaCheckboxStateName:Yr});function io(){return void 0===qr&&(qr=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),qr}function no(){if(void 0===Xr)if(io()){var e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Xr=null!=e[1]?parseFloat(e[1]):0)}else Xr=0;return Xr}function ao(){if(void 0===Jr){var e=window;Jr=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Jr}function so(){return void 0===Qr&&(Qr=/(firefox)/i.test(navigator.userAgent)),Qr}function lo(){return void 0===Zr&&(Zr=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Zr}function co(){return void 0===eo&&(eo=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),eo}function uo(){return!io()||no()>=15}function ho(e){if(!e)return null;var t=e.tabIndex,r=e.getAttribute("tabIndex");return-1!==t||null!==r&&(""!==r||so())?t.toString():null}function po(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");document.body.appendChild(r);while(1){var o=2*e;if(r.style.height=o+"px",o>t||r.clientHeight!==o)break;e=o}return document.body.removeChild(r),e}function fo(){var e,t,r;return null!==(t=null===(e=document.body)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(r=document.documentElement)||void 0===r?void 0:r.clientWidth)||-1}function go(){var e,t,r;return null!==(t=null===(e=document.body)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(r=document.documentElement)||void 0===r?void 0:r.clientHeight)||-1}function vo(){return null==ro&&mo(),ro}function mo(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var r=t.offsetWidth-t.clientWidth;0===r&&0===t.clientWidth&&(r=null),t.parentNode&&t.parentNode.removeChild(t),null!=r&&(ro=r,to=0===r)}function bo(){return null==to&&mo(),to}var yo=Object.freeze({__proto__:null,isBrowserSafari:io,getSafariVersion:no,isBrowserChrome:ao,isBrowserFirefox:so,isMacOsUserAgent:lo,isIOSUserAgent:co,browserSupportsPreventScroll:uo,getTabIndex:ho,getMaxDivHeight:po,getBodyWidth:fo,getBodyHeight:go,getScrollbarWidth:vo,isInvisibleScrollbar:bo});function wo(e,t){return e.toString().padStart(t,"0")}function Co(e,t){for(var r=[],o=e;o<=t;o++)r.push(o);return r}function Eo(e){return"string"===typeof e&&(e=parseInt(e,10)),"number"===typeof e?Math.floor(e):null}function So(e,t){for(var r="",o=0;o<t;o++)r+=String.fromCharCode(255&e),e>>>=8;return r}function xo(e,t,r){return"number"!==typeof e?"":To(Math.round(100*e)/100,t,r)}function To(e,t,r){return"number"!==typeof e?"":e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}function ko(e){return null==e?null:e.reduce((function(e,t){return e+t}),0)}function _o(e,t){return e>=0?e:t}function Ro(e,t){var r=parseInt(e,10);return!isNaN(r)&&isFinite(r)&&r>0?r:t}var Oo=Object.freeze({__proto__:null,padStartWidthZeros:wo,createArrayOfNumbers:Co,cleanNumber:Eo,decToHex:So,formatNumberTwoDecimalPlacesAndCommas:xo,formatNumberCommas:To,sum:ko,zeroOrGreater:_o,oneOrGreater:Ro}),Do=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a};function Ao(e,t,r){if(void 0===t&&(t=!0),void 0===r&&(r="-"),!e)return null;var o=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((function(e){return wo(e,2)})).join(r);return t&&(o+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((function(e){return wo(e,2)})).join(":")),o}var Po=function(e){if(e>3&&e<21)return"th";var t=e%10;switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Mo(e,t){void 0===t&&(t="YYYY-MM-DD");var r=wo(e.getFullYear(),4),o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={YYYY:function(){return r.slice(r.length-4,r.length)},YY:function(){return r.slice(r.length-2,r.length)},Y:function(){return""+e.getFullYear()},MMMM:function(){return o[e.getMonth()]},MMM:function(){return o[e.getMonth()].slice(0,3)},MM:function(){return wo(e.getMonth()+1,2)},Mo:function(){return""+(e.getMonth()+1)+Po(e.getMonth()+1)},M:function(){return""+(e.getMonth()+1)},Do:function(){return""+e.getDate()+Po(e.getDate())},DD:function(){return wo(e.getDate(),2)},D:function(){return""+e.getDate()},dddd:function(){return i[e.getDay()]},ddd:function(){return i[e.getDay()].slice(0,3)},dd:function(){return i[e.getDay()].slice(0,2)},do:function(){return""+e.getDay()+Po(e.getDay())},d:function(){return""+e.getDay()}},a=new RegExp(Object.keys(n).join("|"),"g");return t.replace(a,(function(e){return e in n?n[e]():e}))}function Lo(e){if(!e)return null;var t=Do(e.split(" "),2),r=t[0],o=t[1];if(!r)return null;var i=r.split("-").map((function(e){return parseInt(e,10)}));if(3!==i.filter((function(e){return!isNaN(e)})).length)return null;var n=Do(i,3),a=n[0],s=n[1],l=n[2],c=new Date(a,s-1,l);if(c.getFullYear()!==a||c.getMonth()!==s-1||c.getDate()!==l)return null;if(!o||"00:00:00"===o)return c;var u=Do(o.split(":").map((function(e){return parseInt(e,10)})),3),d=u[0],h=u[1],p=u[2];return d>=0&&d<24&&c.setHours(d),h>=0&&h<60&&c.setMinutes(h),p>=0&&p<60&&c.setSeconds(p),c}var Fo,Io=Object.freeze({__proto__:null,serialiseDate:Ao,dateToFormattedString:Mo,parseDateTimeFromString:Lo}),No=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ho=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a};function Go(e,t,r){var o=e.parentElement,i=o&&o.firstChild;while(i)t&&i.classList.toggle(t,i===e),r&&i.classList.toggle(r,i!==e),i=i.nextSibling}var Vo="[tabindex], input, select, button, textarea, [href]",zo=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Bo(e){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,r="input, select, button, textarea",o=t.call(e,r),i=t.call(e,zo),n=ni(e),a=o&&!i&&n;return a}function jo(e,t,r){void 0===r&&(r={});var o=r.skipAriaHidden;e.classList.toggle("ag-hidden",!t),o||Pr(e,!t)}function Wo(e,t,r){void 0===r&&(r={});var o=r.skipAriaHidden;e.classList.toggle("ag-invisible",!t),o||Pr(e,!t)}function Uo(e,t){var r="disabled",o=t?function(e){return e.setAttribute(r,"")}:function(e){return e.removeAttribute(r)};o(e),_i(e.querySelectorAll("input"),(function(e){return o(e)}))}function $o(e,t,r){var o=0;while(e){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof r){if(++o>r)break}else if(e===r)break}return!1}function Ko(e){var t=window.getComputedStyle(e),r=t.height,o=t.width,i=t.borderTopWidth,n=t.borderRightWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.paddingTop,c=t.paddingRight,u=t.paddingBottom,d=t.paddingLeft,h=t.marginTop,p=t.marginRight,f=t.marginBottom,g=t.marginLeft,v=t.boxSizing;return{height:parseFloat(r),width:parseFloat(o),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(n),borderBottomWidth:parseFloat(a),borderLeftWidth:parseFloat(s),paddingTop:parseFloat(l),paddingRight:parseFloat(c),paddingBottom:parseFloat(u),paddingLeft:parseFloat(d),marginTop:parseFloat(h),marginRight:parseFloat(p),marginBottom:parseFloat(f),marginLeft:parseFloat(g),boxSizing:v}}function Yo(e){var t=Ko(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function qo(e){var t=Ko(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Xo(e){var t=Ko(e),r=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+r)}function Jo(e){var t=Ko(e),r=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+r)}function Qo(e){var t=e.getBoundingClientRect(),r=Ko(e),o=r.borderTopWidth,i=r.borderLeftWidth,n=r.borderRightWidth,a=r.borderBottomWidth;return{top:t.top+(o||0),left:t.left+(i||0),right:t.right+(n||0),bottom:t.bottom+(a||0)}}function Zo(){if("boolean"===typeof Fo)return Fo;var e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Fo=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Fo}function ei(e,t){var r=e.scrollLeft;return t&&(r=Math.abs(r),ao()&&!Zo()&&(r=e.scrollWidth-e.clientWidth-r)),r}function ti(e,t,r){r&&(Zo()?t*=-1:(io()||ao())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function ri(e){while(e&&e.firstChild)e.removeChild(e.firstChild)}function oi(e,t){ii(e.querySelector(t))}function ii(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ni(e){return null!==e.offsetParent}function ai(e){var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function si(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t}function li(e,t){if(e.attributes&&e.attributes[t]){var r=e.attributes[t];return r.value}return null}function ci(e){return e&&e.clientHeight?e.clientHeight:0}function ui(e){return e&&e.clientWidth?e.clientWidth:0}function di(e,t,r){if(!r||r.nextSibling!==t){var o=document.activeElement,i=t.contains(o);r?r.nextSibling?e.insertBefore(t,r.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t),i&&o&&uo()&&o.focus({preventScroll:!0})}}function hi(e,t){for(var r=0;r<t.length;r++){var o=t[r],i=e.children[r];i!==o&&e.insertBefore(o,i)}}function pi(e,t,r){r?r.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function fi(e,t){a(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)}function gi(e,t){var r,o;if(t)try{for(var i=No(Object.entries(t)),n=i.next();!n.done;n=i.next()){var a=Ho(n.value,2),s=a[0],l=a[1];if(s&&s.length&&null!=l){var c=_t(s),u=l.toString(),d=u.replace(/\s*!important/g,""),h=d.length!=u.length?"important":void 0;e.style.setProperty(c,d,h)}}}catch(p){r={error:p}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}}function vi(e){return e.clientWidth<e.scrollWidth}function mi(e){return e.clientHeight<e.scrollHeight}function bi(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):yi(e,t)}function yi(e,t){t=Ei(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function wi(e,t){"flex"===t?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):Ci(e,t)}function Ci(e,t){t=Ei(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Ei(e){return"number"===typeof e?e+"px":e}function Si(e){return e instanceof Node||e instanceof HTMLElement}function xi(e){if(null==e)return[];var t=[];return _i(e,(function(e){return t.push(e)})),t}function Ti(e,t){if(e)for(var r=0;r<e.length;r++){var o=e[r];t(o.name,o.value)}}function ki(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r.toString())}function _i(e,t){if(null!=e)for(var r=0;r<e.length;r++)t(e[r])}function Ri(e,t){e.then((function(e){var r=e.getGui();null!=r&&("object"===typeof r?t.appendChild(r):t.innerHTML=r)}))}var Oi=Object.freeze({__proto__:null,radioCssClass:Go,FOCUSABLE_SELECTOR:Vo,FOCUSABLE_EXCLUDE:zo,isFocusableFormField:Bo,setDisplayed:jo,setVisible:Wo,setDisabled:Uo,isElementChildOfClass:$o,getElementSize:Ko,getInnerHeight:Yo,getInnerWidth:qo,getAbsoluteHeight:Xo,getAbsoluteWidth:Jo,getElementRectWithOffset:Qo,isRtlNegativeScroll:Zo,getScrollLeft:ei,setScrollLeft:ti,clearElement:ri,removeElement:oi,removeFromParent:ii,isVisible:ni,loadTemplate:ai,appendHtml:si,getElementAttribute:li,offsetHeight:ci,offsetWidth:ui,ensureDomOrder:di,setDomChildOrder:hi,insertWithDomOrder:pi,prependDC:fi,addStylesToElement:gi,isHorizontalScrollShowing:vi,isVerticalScrollShowing:mi,setElementWidth:bi,setFixedWidth:yi,setElementHeight:wi,setFixedHeight:Ci,formatSize:Ei,isNodeOrElement:Si,copyNodeList:xi,iterateNamedNodeMap:Ti,addOrRemoveAttribute:ki,nodeListForEach:_i,bindCellRendererToHtmlElement:Ri}),Di={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Ai(e,t,r){var o=Pi(e,t,r);if(o){var i=o.className;if("string"===typeof i&&i.indexOf("ag-icon")>-1||"object"===typeof i&&i["ag-icon"])return o}var n=document.createElement("span");return n.appendChild(o),n}function Pi(e,t,r,o){var i=null,n=r&&r.getColDef().icons;if(n&&(i=n[e]),t&&!i){var a=t.get("icons");a&&(i=a[e])}if(!i){var s=document.createElement("span"),l=Di[e];return l||(o?l=e:(console.warn("AG Grid: Did not find icon "+e),l="")),s.setAttribute("class","ag-icon ag-icon-"+l),s.setAttribute("unselectable","on"),wr(s,"presentation"),s}var c=void 0;if("function"===typeof i)c=i();else{if("string"!==typeof i)throw new Error("icon from grid options needs to be a string or a function");c=i}return"string"===typeof c?ai(c):Si(c)?c:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Mi=Object.freeze({__proto__:null,iconNameClassMap:Di,createIcon:Ai,createIconNoSpan:Pi}),Li=function(){function e(){}return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.D="KeyD",e.V="KeyV",e.X="KeyX",e.Y="KeyY",e.Z="KeyZ",e}(),Fi=65,Ii=67,Ni=86,Hi=68,Gi=90,Vi=89;function zi(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;var t=1===e.key.length;return t}function Bi(e,t,r,o,i){var n=o?o.getColDef().suppressKeyboardEvent:void 0;if(!n)return!1;var a={event:t,editing:i,column:o,api:e.api,node:r,data:r.data,colDef:o.getColDef(),context:e.context,columnApi:e.columnApi};if(n){var s=n(a);if(s)return!0}return!1}function ji(e,t,r,o){var i=o.getDefinition(),n=i&&i.suppressHeaderKeyboardEvent;if(!a(n))return!1;var s={api:e.api,columnApi:e.columnApi,context:e.context,colDef:i,column:o,headerRowIndex:r,event:t};return!!n(s)}function Wi(e){var t,r=e.keyCode;switch(r){case Fi:t=Li.A;break;case Ii:t=Li.C;break;case Ni:t=Li.V;break;case Hi:t=Li.D;break;case Gi:t=Li.Z;break;case Vi:t=Li.Y;break;default:t=e.code}return t}function Ui(e,t){return void 0===t&&(t=!1),e===Li.DELETE||!t&&e===Li.BACKSPACE&&lo()}var $i=Object.freeze({__proto__:null,isEventFromPrintableCharacter:zi,isUserSuppressingKeyboardEvent:Bi,isUserSuppressingHeaderKeyboardEvent:ji,normaliseQwertyAzerty:Wi,isDeleteKey:Ui});function Ki(e,t,r){if(0===r)return!1;var o=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(o,i)<=r}var Yi=Object.freeze({__proto__:null,areEventsNear:Ki});function qi(e,t){if(!e)return!1;for(var r,o,i=function(e,r){var o=t[e.id],i=t[r.id],n=void 0!==o,a=void 0!==i,s=n&&a,l=!n&&!a;return s?o-i:l?e.__objectId-r.__objectId:n?1:-1},n=!1,a=0;a<e.length-1;a++)if(r=e[a],o=e[a+1],i(r,o)>0){n=!0;break}return!!n&&(e.sort(i),!0)}function Xi(e,t){var r=[];function o(e){e&&e.forEach((function(e){if(e.group||e.hasChildren()){r.push(e.key);var i=r.join("|");t(e,i),o(e.childrenAfterGroup),r.pop()}}))}o(e)}var Ji=Object.freeze({__proto__:null,sortRowNodesByOrder:qi,traverseNodesWithKey:Xi});function Qi(e){var t=new Set;return e.forEach((function(e){return t.add(e)})),t}var Zi,en=Object.freeze({__proto__:null,convertToSet:Qi}),tn=function(){return tn=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tn.apply(this,arguments)},rn=tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn({},oo),Ye),yo),Io),Oi),at),te),Wt),m),Mi),$i),Pt),Yi),Oo),H),Ji),en),Rt),on=rn,nn=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();(function(e){e[e["IN_PROGRESS"]=0]="IN_PROGRESS",e[e["RESOLVED"]=1]="RESOLVED"})(Zi||(Zi={}));var an,sn,ln=function(){function e(e){var t=this;this.status=Zi.IN_PROGRESS,this.resolution=null,this.waiters=[],e((function(e){return t.onDone(e)}),(function(e){return t.onReject(e)}))}return e.all=function(t){return new e((function(e){var r=t.length,o=new Array(r);t.forEach((function(t,i){t.then((function(t){o[i]=t,r--,0===r&&e(o)}))}))}))},e.resolve=function(t){return void 0===t&&(t=null),new e((function(e){return e(t)}))},e.prototype.then=function(t){var r=this;return new e((function(e){r.status===Zi.RESOLVED?e(t(r.resolution)):r.waiters.push((function(r){return e(t(r))}))}))},e.prototype.resolveNow=function(e,t){return this.status===Zi.RESOLVED?t(this.resolution):e},e.prototype.onDone=function(e){this.status=Zi.RESOLVED,this.resolution=e,this.waiters.forEach((function(t){return t(e)}))},e.prototype.onReject=function(e){console.warn("TBI")},e}(),cn=(function(){function e(){this.timestamp=(new Date).getTime()}e.prototype.print=function(e){var t=(new Date).getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=(new Date).getTime()}}(),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),un=function(){return un=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},un.apply(this,arguments)},dn=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e[e["NOTHING"]=0]="NOTHING",e[e["WAITING_TO_SHOW"]=1]="WAITING_TO_SHOW",e[e["SHOWING"]=2]="SHOWING"})(an||(an={})),function(e){e[e["HOVER"]=0]="HOVER",e[e["FOCUS"]=1]="FOCUS"}(sn||(sn={}));var hn=function(e){function t(t,r,o){var i=e.call(this)||this;return i.parentComp=t,i.tooltipShowDelayOverride=r,i.tooltipHideDelayOverride=o,i.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,i.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,i.SHOW_QUICK_TOOLTIP_DIFF=1e3,i.FADE_OUT_TOOLTIP_TIMEOUT=1e3,i.INTERACTIVE_HIDE_DELAY=100,i.interactionEnabled=!1,i.isInteractingWithTooltip=!1,i.state=an.NOTHING,i.tooltipInstanceCount=0,i.tooltipMouseTrack=!1,i}return cn(t,e),t.prototype.postConstruct=function(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===sn.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===sn.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var t=this.gridOptionsService.getNum(e);if(a(t))return t<0&&V((function(){return console.warn("AG Grid: "+e+" should not be lower than 0")}),e+"Warn"),Math.max(200,t)},t.prototype.getTooltipDelay=function(e){var t,r,o,i;return"show"===e?null!==(r=null!==(t=this.getGridOptionsTooltipDelay("tooltipShowDelay"))&&void 0!==t?t:this.tooltipShowDelayOverride)&&void 0!==r?r:this.DEFAULT_SHOW_TOOLTIP_DELAY:null!==(i=null!==(o=this.getGridOptionsTooltipDelay("tooltipHideDelay"))&&void 0!==o?o:this.tooltipHideDelayOverride)&&void 0!==i?i:this.DEFAULT_HIDE_TOOLTIP_DELAY},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return e&&"hover"!==e?sn.FOCUS:sn.HOVER},t.prototype.onMouseEnter=function(e){var r=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),co()||(t.isLocked?this.showTooltipTimeoutId=window.setTimeout((function(){r.prepareToShowTooltip(e)}),this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===an.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var t,r=e.relatedTarget,o=this.parentComp.getGui(),i=null===(t=this.tooltipComp)||void 0===t?void 0:t.getGui();this.isInteractingWithTooltip||o.contains(r)||this.interactionEnabled&&(null===i||void 0===i?void 0:i.contains(r))||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=an.NOTHING||t.isLocked)return!1;var r=0;return e&&(r=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=an.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){var e=(new Date).getTime(),r=t.lastTooltipHideTime;return e-r<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===an.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=an.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=un({},this.parentComp.getTooltipParams());if(a(e.value)){this.state=an.SHOWING,this.tooltipInstanceCount++;var t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),r=this.userComponentFactory.getTooltipCompDetails(e);r.newAgStackInstance().then(t)}else this.setToDoNothing()},t.prototype.hideTooltip=function(e){if(e||!this.isInteractingWithTooltip){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime());var r={type:gt.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.state=an.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,t){var r=this.state!==an.SHOWING||this.tooltipInstanceCount!==e;if(r)this.getContext().destroyBean(t);else{var o=t.getGui();this.tooltipComp=t,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===sn.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var i=this.localeService.getLocaleTextFunc(),n=this.popupService.addPopup({eChild:o,ariaLabel:i("ariaLabelTooltip","Tooltip")});n&&(this.tooltipPopupDestroyFunc=n.hideFunc),this.positionTooltip(),this.tooltipTrigger===sn.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,gt.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,gt.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===sn.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var a={type:gt.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var t,r=this.parentComp.getGui(),o=null===(t=this.tooltipComp)||void 0===t?void 0:t.getGui(),i=e.relatedTarget;(null===o||void 0===o?void 0:o.contains(i))||(this.isInteractingWithTooltip=!1,r.contains(i)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(un(un({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(un(un({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,r=this.tooltipComp,o=this.tooltipTrigger===sn.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout((function(){t(),e.getContext().destroyBean(r)}),o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((function(e){e&&e()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((function(){e.unlockService(),e.setToDoNothing()}),this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,dn([he("popupService")],t.prototype,"popupService",void 0),dn([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),dn([ce],t.prototype,"postConstruct",null),t}(lt),pn=function(){function e(e){this.cssClassStates={},this.getGui=e}return e.prototype.addCssClass=function(e){var t=this,r=(e||"").split(" ");if(r.length>1)r.forEach((function(e){return t.addCssClass(e)}));else{var o=!0!==this.cssClassStates[e];if(o&&e.length){var i=this.getGui();i&&i.classList.add(e),this.cssClassStates[e]=!0}}},e.prototype.removeCssClass=function(e){var t=this,r=(e||"").split(" ");if(r.length>1)r.forEach((function(e){return t.removeCssClass(e)}));else{var o=!1!==this.cssClassStates[e];if(o&&e.length){var i=this.getGui();i&&i.classList.remove(e),this.cssClassStates[e]=!1}}},e.prototype.containsCssClass=function(e){var t=this.getGui();return!!t&&t.classList.contains(e)},e.prototype.addOrRemoveCssClass=function(e,t){var r=this;if(e){if(e.indexOf(" ")>=0){var o=(e||"").split(" ");if(o.length>1)return void o.forEach((function(e){return r.addOrRemoveCssClass(e,t)}))}var i=this.cssClassStates[e]!==t;if(i&&e.length){var n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}},e}(),fn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gn=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},vn=new nn,mn=function(e){function t(t){var r=e.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=vn.next(),r.cssClassManager=new pn((function(){return r.eGui})),t&&r.setTemplate(t),r}return fn(t,e),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,t,r){var o=this,i=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},n=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new hn(o,t,r))};this.tooltipText!=e&&(this.tooltipText&&i(),null!=e&&(this.tooltipText=e,this.tooltipText&&n()))},t.prototype.createChildComponentsFromTags=function(e,t){var r=this,o=xi(e.childNodes);o.forEach((function(o){if(o instanceof HTMLElement){var i=r.createComponentFromElement(o,(function(e){var t=e.getGui();t&&r.copyAttributesFromNode(o,e.getGui())}),t);if(i){if(i.addItems&&o.children.length){r.createChildComponentsFromTags(o,t);var n=Array.prototype.slice.call(o.children);i.addItems(n)}r.swapComponentForNode(i,e,o)}else o.childNodes&&r.createChildComponentsFromTags(o,t)}}))},t.prototype.createComponentFromElement=function(e,r,o){var i=e.nodeName,n=o?o[e.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(i);if(a){t.elementGettingCreated=e;var s=new a(n);return s.setParentComponent(this),this.createBean(s,null,r),s}return null},t.prototype.copyAttributesFromNode=function(e,t){Ti(e.attributes,(function(e,r){return t.setAttribute(e,r)}))},t.prototype.swapComponentForNode=function(e,t,r){var o=e.getGui();t.replaceChild(o,r),t.insertBefore(document.createComment(r.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var r=this;this.iterateOverQuerySelectors((function(o){r[o.attributeName]===t&&(r[o.attributeName]=e)}))},t.prototype.iterateOverQuerySelectors=function(e){var t=Object.getPrototypeOf(this);while(null!=t){var r=t.__agComponentMetaData,o=z(t.constructor);r&&r[o]&&r[o].querySelectors&&r[o].querySelectors.forEach((function(t){return e(t)})),t=Object.getPrototypeOf(t)}},t.prototype.activateTabIndex=function(e){var t=this.gridOptionsService.getNum("tabIndex")||0;e||(e=[]),e.length||e.push(this.getGui()),e.forEach((function(e){return e.setAttribute("tabindex",t.toString())}))},t.prototype.setTemplate=function(e,t){var r=ai(e);this.setTemplateFromElement(r,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors((function(r){var o=function(e){return t[r.attributeName]=e},i=r.refSelector&&e.getAttribute("ref")===r.refSelector;if(i)o(e.eGui);else{var n=e.eGui.querySelector(r.querySelector);n&&o(n.__agComponent||n)}}))}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(null!=e)if(t||(t=this.eGui),Si(e))t.appendChild(e);else{var r=e;t.appendChild(r.getGui())}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,t){if(void 0===t&&(t={}),e!==this.visible){this.visible=e;var r=t.skipAriaHidden;Wo(this.eGui,e,{skipAriaHidden:r})}},t.prototype.setDisplayed=function(e,r){if(void 0===r&&(r={}),e!==this.displayed){this.displayed=e;var o=r.skipAriaHidden;jo(this.eGui,e,{skipAriaHidden:o});var i={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(i)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t,r){var o=this;this.eGui.addEventListener(e,t,r),this.addDestroyFunc((function(){return o.eGui.removeEventListener(e,t)}))},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",gn([he("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),gn([le],t.prototype,"preConstructOnComponent",null),gn([le],t.prototype,"createChildComponentsPreConstruct",null),t}(lt);function bn(e){return yn.bind(this,"[ref="+e+"]",e)}function yn(e,t,r,o,i){null!==e?"number"!==typeof i?wn(r,"querySelectors",{attributeName:o,querySelector:e,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}function wn(e,t,r){var o=Cn(e,z(e.constructor));o[t]||(o[t]=[]),o[t].push(r)}function Cn(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}var En=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sn=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},xn=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return En(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+r("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance((function(r){if(r.getModelAsString){var o=r.getModelAsString(e);t.eFloatingFilterText.setValue(o)}})):this.eFloatingFilterText.setValue("")},t.prototype.onParamsUpdated=function(e){this.init(e)},Sn([bn("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Sn([he("columnModel")],t.prototype,"columnModel",void 0),t}(mn),Tn=function(){function e(e,t,r,o){var i=this;this.alive=!0,this.context=e,this.eParent=o;var n=t.getDateCompDetails(r),a=n.newAgStackInstance();a.then((function(t){i.alive?(i.dateComp=t,t&&(o.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),i.tempValue&&t.setDate(i.tempValue),null!=i.disabled&&i.setDateCompDisabled(i.disabled))):e.destroyBean(t)}))}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},e.prototype.setDisplayed=function(e){jo(this.eParent,e)},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},e.prototype.afterGuiAttached=function(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)},e.prototype.updateParams=function(e){var t;(null===(t=this.dateComp)||void 0===t?void 0:t.onParamsUpdated)&&"function"===typeof this.dateComp.onParamsUpdated&&this.dateComp.onParamsUpdated(e)},e.prototype.setDateCompDisabled=function(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)},e}(),kn=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach((function(t){if("string"!==typeof t){var r=[["displayKey"],["displayName"],["predicate","test"]],o=function(e){return!!e.some((function(e){return null!=t[e]}))||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+e+"'"),!1)};r.every(o)?e.customFilterOptions[t.displayKey]=t:e.filterOptions=e.filterOptions.filter((function(e){return e===t}))||[]}}))},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"===typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),_n={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Rn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),On=function(){return On=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},On.apply(this,arguments)},Dn=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},An=function(e){function t(t,r){void 0===r&&(r={});var o=e.call(this)||this;return o.eFocusableElement=t,o.callbacks=r,o.callbacks=On({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(e){if(!e.defaultPrevented){var t=o.focusService.findNextFocusableElement(o.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())}}},r),o}return Rn(t,e),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",(function(e){e.defaultPrevented||Ze(e)||(t.callbacks.shouldStopEventPropagation(e)?Qe(e):e.key===Li.TAB?t.callbacks.onTabKeyDown(e):t.callbacks.handleKeyDown&&t.callbacks.handleKeyDown(e))}))},t.FOCUS_MANAGED_CLASS="ag-focus-managed",Dn([he("focusService")],t.prototype,"focusService",void 0),Dn([ce],t.prototype,"postConstruct",null),t}(lt),Pn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mn=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ln="ag-resizer-wrapper",Fn='<div class="'+Ln+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',In=function(e){function t(t,r){var o=e.call(this)||this;return o.element=t,o.dragStartPosition={x:0,y:0},o.position={x:0,y:0},o.lastSize={width:-1,height:-1},o.positioned=!1,o.resizersAdded=!1,o.resizeListeners=[],o.boundaryEl=null,o.isResizing=!1,o.isMoving=!1,o.resizable={},o.movable=!1,o.currentResizer=null,o.config=Object.assign({},{popup:!1},r),o}return Pn(t,e),t.prototype.center=function(){var e=this.offsetParent,t=e.clientHeight,r=e.clientWidth,o=r/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(o,i)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,t=e.centered,r=e.forcePopupParentAsOffsetParent,o=e.minWidth,i=e.width,n=e.minHeight,a=e.height,s=e.x,l=e.y;this.offsetParent||this.setOffsetParent();var c=0,u=0,d=!!this.element.offsetParent;if(d){var h=this.findBoundaryElement(),p=window.getComputedStyle(h);if(null!=p.minWidth){var f=h.offsetWidth-this.element.offsetWidth;u=parseInt(p.minWidth,10)-f}if(null!=p.minHeight){var g=h.offsetHeight-this.element.offsetHeight;c=parseInt(p.minHeight,10)-g}}if(this.minHeight=n||c,this.minWidth=o||u,i&&this.setWidth(i),a&&this.setHeight(a),i&&a||this.refreshSize(),t)this.center();else if(s||l)this.offsetElement(s,l);else if(d&&r){h=this.boundaryEl;var v=!0;if(h||(h=this.findBoundaryElement(),v=!1),h){var m=parseFloat(h.style.top),b=parseFloat(h.style.left);v?this.offsetElement(isNaN(b)?0:b,isNaN(m)?0:m):this.setPosition(b,m)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,t){if(this.config.popup&&e!==this.movable){this.movable=e;var r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var t=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((function(r){var o=e,i=!!o[r],n=t.getResizerElement(r),a={dragStartPixels:0,eElement:n,onDragStart:function(e){return t.onResizeStart(e,r)},onDragging:t.onResize.bind(t),onDragStop:function(e){return t.onResizeEnd(e,r)}};(i||!t.isAlive()&&!i)&&(i?(t.dragService.addDragSource(a),t.resizeListeners.push(a),n.style.pointerEvents="all"):n.style.pointerEvents="none",t.resizable[r]=i)}))},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,t=e.height,r=e.width;-1!==r&&(this.element.style.width=r+"px"),-1!==t&&(this.element.style.height=t+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var t=this.config.popup,r=this.element,o=!1;if("string"===typeof e&&-1!==e.indexOf("%"))Ci(r,e),e=Xo(r),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(o?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?Ci(r,e):(r.style.height=e+"px",r.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,t=e.popup,r=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var i=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),a=t?this.position.y:i.top,s=t?0:n.top,l=0;if(r){var c=this.element.parentElement;if(c){var u=c.getBoundingClientRect().bottom;l=u-i.bottom}}var d=o+s-a-l;return d},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var t=this.element,r=this.config.popup,o=!1;if("string"===typeof e&&-1!==e.indexOf("%"))yi(t,e),e=Jo(t),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var i=this.offsetParent.clientWidth,n=r?this.position.x:this.element.getBoundingClientRect().left;i&&e+n>i&&(e=i-n)}this.getWidth()!==e&&(o?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?yi(t,e):(t.style.width=e+"px",t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var r=this.config.forcePopupParentAsOffsetParent,o=r?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:t}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var t=this;if(this.config.forcePopupParentAsOffsetParent){var r=function(){var e=t.getAvailableHeight();t.element.style.setProperty("max-height",e+"px")};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),r):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},t.prototype.setPosition=function(e,t){this.position.x=e,this.position.y=t},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=e.e,r=e.isLeft,o=e.isTop,i=e.anywhereWithin,n=e.topBuffer,a=t.clientX-this.dragStartPosition.x,s=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!r,!!i,a)?0:a,c=this.shouldSkipY(t,!!o,n,s)?0:s;return{movementX:l,movementY:c}},t.prototype.shouldSkipX=function(e,t,r,o){var i=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.x:i.left,l=s<=0&&n.left>=e.clientX||n.right<=e.clientX&&n.right<=a.right;return!!l||(l=t?o<0&&e.clientX>s+n.left||o>0&&e.clientX<s+n.left:r?o<0&&e.clientX>a.right||o>0&&e.clientX<s+n.left:o<0&&e.clientX>a.right||o>0&&e.clientX<a.right,l)},t.prototype.shouldSkipY=function(e,t,r,o){void 0===r&&(r=0);var i=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.y:i.top,l=s<=0&&n.top>=e.clientY||n.bottom<=e.clientY&&n.bottom<=a.bottom;return!!l||(l=t?o<0&&e.clientY>s+n.top+r||o>0&&e.clientY<s+n.top:o<0&&e.clientY>a.bottom||o>0&&e.clientY<a.bottom,l)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var t=new DOMParser,r=t.parseFromString(Fn,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector("."+Ln);e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");var r=this.config,o=r.popup,i=r.forcePopupParentAsOffsetParent;o||i||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element,t=e.parentElement;return t?Array.prototype.slice.call(t.children).filter((function(e){return!e.classList.contains("ag-hidden")})):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],t=0,r=0,o=0;o<e.length;o++){var i=e[o],n=!!i.style.flex&&"0 0 auto"!==i.style.flex;if(i!==this.element){var a=this.minHeight||0,s=this.minWidth||0;if(n){var l=window.getComputedStyle(i);l.minHeight&&(a=parseInt(l.minHeight,10)),l.minWidth&&(s=parseInt(l.minWidth,10))}else a=i.offsetHeight,s=i.offsetWidth;t+=a,r+=s}}return{height:t,width:r}},t.prototype.applySizeToSiblings=function(e){var t=null,r=this.getSiblings();if(r){for(var o=0;o<r.length;o++){var i=r[o];i!==t&&(e?i.style.height=i.offsetHeight+"px":i.style.width=i.offsetWidth+"px",i.style.flex="0 0 auto",i===this.element&&(t=r[o+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some((function(e){return e}))},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var t=this.config,r=t.popup,o=t.forcePopupParentAsOffsetParent,i=this.currentResizer,n=i.isTop,a=i.isRight,s=i.isBottom,l=i.isLeft,c=a||l,u=s||n,d=this.calculateMouseMovement({e:e,isLeft:l,isTop:n}),h=d.movementX,p=d.movementY,f=this.position.x,g=this.position.y,v=0,m=0;if(c&&h){var b=l?-1:1,y=this.getWidth(),w=y+h*b,C=!1;l&&(v=y-w,(f+v<=0||w<=this.minWidth)&&(C=!0,v=0)),C||this.setWidth(w)}if(u&&p){b=n?-1:1;var E=this.getHeight(),S=E+p*b,x=!1;n?(m=E-S,(g+m<=0||S<=this.minHeight)&&(x=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&E<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(x=!0),x||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((r||o)&&v||m)&&this.offsetElement(f+v,g+m)}},t.prototype.onResizeEnd=function(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var r={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(r)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t,r=this.position,o=r.x,i=r.y;this.config.calculateTopBuffer&&(t=this.config.calculateTopBuffer());var n=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:t}),a=n.movementX,s=n.movementY;this.offsetElement(o+a,i+s),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){var e=this.element;while(e){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){while(this.resizeListeners.length){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},Mn([he("popupService")],t.prototype,"popupService",void 0),Mn([he("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Mn([he("dragService")],t.prototype,"dragService",void 0),t}(lt),Nn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Hn=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Gn=function(e){function t(t){var r=e.call(this)||this;return r.filterNameKey=t,r.applyActive=!1,r.hidePopup=null,r.debouncePending=!1,r.appliedModel=null,r}return Nn(t,e),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new An(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new In(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);var r='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper" ref="eFilterBody">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(r,e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then((function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()}))},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(!(!t||t.length<1||this.isReadOnly())){var r=document.createElement("div");r.classList.add("ag-filter-apply-panel");var o=function(t){var o,i;switch(t){case"apply":o=e.translate("applyFilter"),i=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":o=e.translate("clearFilter"),i=function(){return e.onBtClear()};break;case"reset":o=e.translate("resetFilter"),i=function(){return e.onBtReset()};break;case"cancel":o=e.translate("cancelFilter"),i=function(t){e.onBtCancel(t)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var n="apply"===t?"submit":"button",a=ai('<button\n                    type="'+n+'"\n                    ref="'+t+'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >'+o+"\n                </button>");r.appendChild(a),e.addManagedListener(a,"click",i)};Qi(t).forEach((function(e){return o(e)})),this.getGui().appendChild(r)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,r=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),o=Y(this.checkApplyDebounce.bind(this),r);this.onBtApplyDebounce=function(){e.debouncePending=!0,o()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var t=this,r=null!=e?this.setModelIntoUi(e):this.resetUiToDefaults();return r.then((function(){t.updateUiVisibility(),t.applyModel("api")}))},t.prototype.onBtCancel=function(e){var t=this;this.resetUiToActiveModel(this.getModel(),(function(){t.handleCancelEnd(e)}))},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,t){var r=this,o=function(){r.onUiChanged(!1,"prevent"),null===t||void 0===t||t()};null!=e?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then((function(){return e.onUiChanged()}))},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var r=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(r,t)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,t,r){if(void 0===e&&(e=!1),void 0===t&&(t=!1),r&&r.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:o})}var i=this.providedFilterParams.closeOnApply;i&&this.applyActive&&!e&&!t&&this.close(r)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var t,r=e,o=r&&r.key;"Enter"!==o&&"Space"!==o||(t={keyboardEvent:r}),this.hidePopup(t),this.hidePopup=null}},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var r=this.isModelValid(this.getModelFromUi());Uo(this.getRefElement("applyFilterButton"),!r)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(null===e||void 0===e?void 0:e.container)},t.prototype.refreshFilterResizer=function(e){if(this.positionableFeature&&"toolPanel"!==e){var t="floatingFilter"===e,r=this,o=r.positionableFeature,i=r.gridOptionsService;t?(o.restoreLastSize(),o.setResizable(i.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,r){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:r},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),e.prototype.destroy.call(this)},t.prototype.translate=function(e){var t=this.localeService.getLocaleTextFunc();return t(e,_n[e])},t.prototype.getCellValue=function(e){var t=this.providedFilterParams,r=t.api,o=t.colDef,i=t.column,n=t.columnApi,a=t.context;return this.providedFilterParams.valueGetter({api:r,colDef:o,column:i,columnApi:n,context:a,data:e.data,getValue:function(t){return e.data[t]},node:e})},t.prototype.getPositionableElement=function(){return this.eFilterBody},Hn([he("rowModel")],t.prototype,"rowModel",void 0),Hn([bn("eFilterBody")],t.prototype,"eFilterBody",void 0),Hn([ce],t.prototype,"postConstruct",null),t}(mn),Vn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),zn=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Bn=function(e){function t(t,r){var o=e.call(this,r)||this;return o.labelSeparator="",o.labelAlignment="left",o.disabled=!1,o.label="",o.config=t||{},o}return Vn(t,e),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,t=e.labelSeparator,r=e.label,o=e.labelWidth,i=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=r&&this.setLabel(r),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){ri(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(jo(this.eLabel,!1),wr(this.eLabel,"presentation")):(jo(this.eLabel,!0),wr(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui(),r=t.classList;return r.toggle("ag-label-align-left","left"===e),r.toggle("ag-label-align-right","right"===e),r.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return null==this.label||bi(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return Uo(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},zn([ce],t.prototype,"postConstruct",null),t}(mn),jn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Wn=function(e){function t(t,r,o){var i=e.call(this,t,r)||this;return i.className=o,i}return jn(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var t=this;return this.addManagedListener(this,gt.EVENT_FIELD_VALUE_CHANGED,(function(){return e(t.getValue())})),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return yi(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:gt.EVENT_FIELD_VALUE_CHANGED})),this},t}(Bn),Un=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$n=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Kn=function(e){function t(t,r,o,i){var n=e.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(i?'role="'+i+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',r)||this;return n.pickerIcon=o,n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),null!=(null===t||void 0===t?void 0:t.pickerGap)&&(n.pickerGap=t.pickerGap),n}return Un(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var r="ag-"+this.getCompId()+"-display";this.eDisplayField.setAttribute("id",r),Rr(this.eWrapper,r);var o=this.getGui();this.addManagedListener(o,"mousedown",(function(e){var r;!t.skipClick&&(null===(r=t.pickerComponent)||void 0===r?void 0:r.isAlive())&&ni(t.pickerComponent.getGui())&&o.contains(e.target)&&(t.skipClick=!0)}));var i=this.getFocusableElement();if(this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"click",this.clickHandler.bind(this)),this.addManagedListener(i,"click",this.clickHandler.bind(this)),this.pickerIcon){var n=Pi(this.pickerIcon,this.gridOptionsService);n&&this.eIcon.appendChild(n)}},t.prototype.refreshLabel=function(){a(this.getLabel())?kr(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.clickHandler=function(){this.skipClick?this.skipClick=!1:this.isDisabled()||this.showPicker()},t.prototype.onKeyDown=function(e){switch(e.key){case Li.UP:case Li.DOWN:case Li.ENTER:case Li.SPACE:e.preventDefault(),this.clickHandler();break;case Li.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,t=this.gridOptionsService.getDocument(),r=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(t.body,"wheel",(function(t){r.contains(t.target)||e.hidePicker()})));var o=this.localeService.getLocaleTextFunc(),i=this.config,n=i.pickerType,a=i.pickerAriaLabelKey,s=i.pickerAriaLabelValue,l={modal:!0,eChild:r,closeOnEsc:!0,closedCallback:function(){var r=t.activeElement===t.body;e.beforeHidePicker(),r&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(a,s)},c=this.popupService.addPopup(l);return bi(r,Jo(this.eWrapper)),r.style.position="absolute",this.popupService.positionPopupByComponent({type:n,eventSource:this.eWrapper,ePopup:r,position:"under",keepWithinBounds:!0,nudgeY:this.pickerGap}),c.hideFunc},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){this.isAlive()&&(Mr(this.eWrapper,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var t;(null===(t=this.pickerComponent)||void 0===t?void 0:t.getGui().contains(e.relatedTarget))||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setAriaLabel=function(e){return Tr(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return bi(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.destroy=function(){this.hidePicker(),e.prototype.destroy.call(this)},$n([he("popupService")],t.prototype,"popupService",void 0),$n([bn("eLabel")],t.prototype,"eLabel",void 0),$n([bn("eWrapper")],t.prototype,"eWrapper",void 0),$n([bn("eDisplayField")],t.prototype,"eDisplayField",void 0),$n([bn("eIcon")],t.prototype,"eIcon",void 0),t}(Wn),Yn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),qn=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Xn=function(e){function t(t){void 0===t&&(t="default");var r=e.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return r.cssIdentifier=t,r.options=[],r.itemEls=[],r}return Yn(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var t=e.key;switch(t){case Li.ENTER:if(this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}else this.setValue(this.getValue());break;case Li.DOWN:case Li.UP:var o=t===Li.DOWN,i=void 0;if(e.preventDefault(),this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl),a=n+(o?1:-1);a=Math.min(Math.max(a,0),this.itemEls.length-1),i=this.itemEls[a]}else i=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(i);break}},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){var t=e.value,r=e.text,o=Tt(r||t);return this.options.push({value:t,text:o}),this.renderOption(t,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((function(t,r){Ir(t,r+1),Fr(t,e.length)}))},t.prototype.renderOption=function(e,t){var r=this,o=document.createElement("div");wr(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+t+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",(function(){return r.highlightItem(o)})),this.addManagedListener(o,"mouseleave",(function(){return r.clearHighlighted()})),this.addManagedListener(o,"click",(function(){return r.setValue(e)})),this.getGui().appendChild(o)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var r=this.options.findIndex((function(t){return t.value===e}));if(-1!==r){var o=this.options[r];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=this.options.findIndex((function(t){return t.value===e.value}));-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Ur(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Ur(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:gt.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",qn([ce],t.prototype,"init",null),t}(mn),Jn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qn=function(){return Qn=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qn.apply(this,arguments)},Zn=function(e){function t(t){return e.call(this,Qn({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list"},t),"ag-select","smallDown","listbox")||this}return Jn(t,e),t.prototype.postConstruct=function(){var t;e.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=null!==(t=this.gridOptionsService.getNum("tabIndex"))&&void 0!==t?t:0},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new Xn("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",(function(t){t.key===Li.TAB&&(t.preventDefault(),t.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:t.key,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,bubbles:!0})))})),this.listComponent.addManagedListener(this.listComponent,Xn.EVENT_ITEM_SELECTED,(function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})})),this.listComponent.addManagedListener(this.listComponent,gt.EVENT_FIELD_VALUE_CHANGED,(function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())}))},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){var t=this;if(this.listComponent){e.prototype.showPicker.call(this),this.listComponent.getGui().style.maxHeight=Yo(this.popupService.getPopupParent())+"px";var r=this.listComponent.getGui();this.pickerFocusOutListener=this.addManagedListener(r,"focusout",(function(e){r.contains(e.relatedTarget)||t.hidePicker()})),this.listComponent.refreshHighlighted()}},t.prototype.beforeHidePicker=function(){this.pickerFocusOutListener&&(this.pickerFocusOutListener(),this.pickerFocusOutListener=void 0),e.prototype.beforeHidePicker.call(this)},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,r,o){if(this.value===t||!this.listComponent)return this;o||this.listComponent.setValue(t,!0);var i=this.listComponent.getValue();return i===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,r))},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),e.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(Kn),ea=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ta=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ra=function(e){function t(t,r,o,i){void 0===o&&(o="text"),void 0===i&&(i="input");var n=e.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+i+' ref="eInput" class="ag-input-field-input"></'+i+">\n                </div>\n            </div>",r)||this;return n.inputType=o,n.displayFieldTag=i,n}return ea(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,r=t.width,o=t.value;null!=r&&this.setWidth(r),null!=o&&this.setValue(o),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.refreshLabel=function(){a(this.getLabel())?kr(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",(function(t){return e.setValue(t.target.value)}))},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return bi(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){var t=this.eInput;return t.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return ki(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Tr(this.eInput,e),this},t.prototype.setDisabled=function(t){return Uo(this.eInput,t),e.prototype.setDisabled.call(this,t)},t.prototype.setAutoComplete=function(e){if(!0===e)ki(this.eInput,"autocomplete",null);else{var t="string"===typeof e?e:"off";ki(this.eInput,"autocomplete",t)}return this},ta([bn("eLabel")],t.prototype,"eLabel",void 0),ta([bn("eWrapper")],t.prototype,"eWrapper",void 0),ta([bn("eInput")],t.prototype,"eInput",void 0),t}(Wn),oa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ia=function(e){function t(t,r,o){void 0===r&&(r="ag-checkbox"),void 0===o&&(o="checkbox");var i=e.call(this,t,r,o)||this;return i.labelAlignment="right",i.selected=!1,i.readOnly=!1,i.passive=!1,i}return oa(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){var t=this.getInputElement();return t.name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,t,r){this.dispatchEvent({type:gt.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:r});var o=this.getInputElement(),i={type:gt.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:t};this.eventService.dispatchEvent(i)},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(ra),na=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),aa=function(e){function t(t){return e.call(this,t,"ag-radio-button","radio")||this}return na(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,gt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(ia),sa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),la=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},ca=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},ua=function(){function e(e,t,r){this.localeService=e,this.optionsFactory=t,this.valueFormatter=r}return e.prototype.getModelAsString=function(e){var t=this;if(!e)return null;var r=null!=e.operator,o=this.localeService.getLocaleTextFunc();if(r){var i=e,n=i.conditions;if(!n){var a=i.condition1,s=i.condition2;n=[a,s]}var l=n.map((function(e){return t.getModelAsString(e)})),c="AND"===i.operator?"andCondition":"orCondition";return l.join(" "+o(c,_n[c])+" ")}if(e.type===da.BLANK||e.type===da.NOT_BLANK)return o(e.type,e.type);var u=e,d=this.optionsFactory.getCustomOption(u.type),h=d||{},p=h.displayKey,f=h.displayName,g=h.numberOfInputs;return p&&f&&0===g?(o(p,f),f):this.conditionToString(u,d)},e.prototype.updateParams=function(e){this.optionsFactory=e.optionsFactory},e.prototype.formatValue=function(e){var t;return this.valueFormatter?null!==(t=this.valueFormatter(null!==e&&void 0!==e?e:null))&&void 0!==t?t:"":String(e)},e}(),da=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eTypes=[],t.eJoinOperatorPanels=[],t.eJoinOperatorsAnd=[],t.eJoinOperatorsOr=[],t.eConditionBodies=[],t.listener=function(){return t.onUiChanged()},t.lastUiCompletePosition=null,t.joinOperatorId=0,t}return sa(t,e),t.prototype.getNumberOfInputs=function(e){var r=this.optionsFactory.getCustomOption(e);if(r){var o=r.numberOfInputs;return null!=o?o:1}var i=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&i.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var t=this;this.eTypes.forEach((function(r,o){0===o?r.setValue(e,!0):r.setValue(t.optionsFactory.getDefaultOption(),!0)}))},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map((function(e){return e.getValue()}))},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){var r=this;if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var o,i=!e.operator,n=!t.operator,a=!i&&n||i&&!n;if(a)return!1;if(i){var s=e,l=t;o=this.areSimpleModelsEqual(s,l)}else{var c=e,u=t;o=c.operator===u.operator&&Pe(c.conditions,u.conditions,(function(e,t){return r.areSimpleModelsEqual(e,t)}))}return o},t.prototype.setModelIntoUi=function(e){var t=this,r=e.operator;if(r){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var i=this.validateAndUpdateConditions(o.conditions),n=this.getNumConditions();if(i<n)this.removeConditionsAndOperators(i);else if(i>n)for(var a=n;a<i;a++)this.createJoinOperatorPanel(),this.createOption();var s="OR"===o.operator;this.eJoinOperatorsAnd.forEach((function(e){return e.setValue(!s,!0)})),this.eJoinOperatorsOr.forEach((function(e){return e.setValue(s,!0)})),o.conditions.forEach((function(e,r){t.eTypes[r].setValue(e.type,!0),t.setConditionIntoUi(e,r)}))}else{var l=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(l.type,!0),this.setConditionIntoUi(l,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ln.resolve()},t.prototype.validateAndUpdateConditions=function(e){var t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),V((function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')}),"simpleFilterSetModelMaxNumConditions"),t=this.maxNumConditions),t},t.prototype.doesFilterPass=function(e){var t,r=this,o=this.getModel();if(null==o)return!0;var i=o.operator,n=[];if(i){var a=o;n.push.apply(n,ca([],la(null!==(t=a.conditions)&&void 0!==t?t:[])))}else n.push(o);var s=i&&"OR"===i?"some":"every";return n[s]((function(t){return r.individualConditionPasses(e,t)}))},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new kn,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var t,r;null!=e.suppressAndOrCondition&&V((function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')}),"simpleFilterSuppressAndOrCondition"),null!=e.alwaysShowBothConditions&&V((function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')}),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(t=e.maxNumConditions)&&void 0!==t?t:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(V((function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')}),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(r=e.numAlwaysVisibleConditions)&&void 0!==r?r:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(V((function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')}),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(V((function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')}),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,t=this.createManagedBean(new Zn);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());var r=this.createValueElement();this.eConditionBodies.push(r),this.eFilterBody.appendChild(r),this.putOptionsIntoDropdown(t),this.resetType(t);var o=this.getNumConditions()-1;this.forEachPositionInput(o,(function(t){return e.resetInput(t)})),this.addChangedListeners(t,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,o,i),this.resetJoinOperatorOr(r,o,i),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,t,r){var o=this.createManagedBean(new aa);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-"+r),t.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return"AND"===e||"OR"===e?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map((function(t){return"string"===typeof t?e.createBoilerplateListOption(t):e.createCustomListOption(t)}))},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach((function(t){e.addOption(t)})),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var t=e.displayKey,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,t=-1,r=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?t=o:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{var i=null!==(e=this.lastUiCompletePosition)&&void 0!==e?e:this.getNumConditions()-2;if(t<i){this.removeConditionsAndOperators(i+1);var n=t+1,a=i-n;a>0&&this.removeConditionsAndOperators(n,a),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t},t.prototype.updateConditionStatusesAndValues=function(e,t){var r=this;this.eTypes.forEach((function(t,o){var i=r.isConditionDisabled(o,e);t.setDisabled(i||r.filterListOptions.length<=1),1===o&&(Uo(r.eJoinOperatorPanels[0],i),r.eJoinOperatorsAnd[0].setDisabled(i),r.eJoinOperatorsOr[0].setDisabled(i))})),this.eConditionBodies.forEach((function(e,t){jo(e,r.isConditionBodyVisible(t))}));var o="OR"===(null!==t&&void 0!==t?t:this.getJoinOperator());this.eJoinOperatorsAnd.forEach((function(e,t){e.setValue(!o,!0)})),this.eJoinOperatorsOr.forEach((function(e,t){e.setValue(o,!0)})),this.forEachInput((function(t,o,i,n){r.setElementDisplayed(t,o<n),r.setElementDisabled(t,r.isConditionDisabled(i,e))})),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,t){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);var r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,t),this.removeComponents(this.eJoinOperatorsAnd,r,t),this.removeComponents(this.eJoinOperatorsOr,r,t)}},t.prototype.removeElements=function(e,t,r){var o=this.removeItems(e,t,r);o.forEach((function(e){return ii(e)}))},t.prototype.removeComponents=function(e,t,r){var o=this,i=this.removeItems(e,t,r);i.forEach((function(e){ii(e.getGui()),o.destroyBean(e)}))},t.prototype.removeItems=function(e,t,r){return null==r?e.splice(t):e.splice(t,r)},t.prototype.afterGuiAttached=function(t){if(e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!(null===t||void 0===t?void 0:t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var r=this.getInputs(0)[0];if(!r)return;r instanceof ra&&r.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){e.prototype.afterGuiDetached.call(this);var t=this.getModel();this.areModelsEqual(t,this.getModelFromUi())&&!this.hasInvalidInputs()||this.resetUiToActiveModel(t);for(var r=-1,o=-1,i=!1,n=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))-1===r&&(r=a,o=a);else{var s=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),l=a<r;(s||l)&&(this.removeConditionsAndOperators(a,1),i=!0,l&&o--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(o===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(o,n),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=o},t.prototype.getPlaceholderText=function(e,t){var r=this.translate(e);if(B(this.filterPlaceholder)){var o=this.filterPlaceholder,i=this.eTypes[t].getValue(),n=this.translate(i);r=o({filterOptionKey:i,filterOption:n,placeholder:r})}else"string"===typeof this.filterPlaceholder&&(r=this.filterPlaceholder);return r},t.prototype.resetPlaceholder=function(){var e=this,t=this.localeService.getLocaleTextFunc();this.forEachInput((function(r,o,i,n){if(r instanceof ra){var a=0===o&&n>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",s=0===o&&n>1?t("ariaFilterFromValue","Filter from value"):0===o?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(e.getPlaceholderText(a,i)),r.setInputAriaLabel(s)}}))},t.prototype.setElementValue=function(e,t){e instanceof ra&&e.setValue(null!=t?String(t):null,!0)},t.prototype.setElementDisplayed=function(e,t){e instanceof mn&&jo(e.getGui(),t)},t.prototype.setElementDisabled=function(e,t){e instanceof mn&&Uo(e.getGui(),t)},t.prototype.attachElementOnChange=function(e,t){e instanceof ra&&e.onValueChange(t)},t.prototype.forEachInput=function(e){var t=this;this.getConditionTypes().forEach((function(r,o){t.forEachPositionTypeInput(o,r,e)}))},t.prototype.forEachPositionInput=function(e,t){var r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)},t.prototype.forEachPositionTypeInput=function(e,t,r){for(var o=this.getNumberOfInputs(t),i=this.getInputs(e),n=0;n<i.length;n++){var a=i[n];null!=a&&r(a,n,e,o)}},t.prototype.isConditionDisabled=function(e,t){return!!this.isReadOnly()||0!==e&&e>t+1},t.prototype.isConditionBodyVisible=function(e){var t=this.getConditionType(e),r=this.getNumberOfInputs(t);return r>0},t.prototype.isConditionUiComplete=function(e){if(e>=this.getNumConditions())return!1;var r=this.getConditionType(e);return r!==t.EMPTY&&!this.getValues(e).some((function(e){return null==e}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var t=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((function(e){return t.resetType(e)})),this.eJoinOperatorsAnd.forEach((function(e,r){return t.resetJoinOperatorAnd(e,r,t.joinOperatorId+r)})),this.eJoinOperatorsOr.forEach((function(e,r){return t.resetJoinOperatorOr(e,r,t.joinOperatorId+r)})),this.joinOperatorId++,this.forEachInput((function(e){return t.resetInput(e)})),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),ln.resolve()},t.prototype.resetType=function(e){var t=this.localeService.getLocaleTextFunc(),r=t("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),r)},t.prototype.resetJoinOperatorOr=function(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),r)},t.prototype.resetJoinOperator=function(e,t,r,o,i){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+i).setLabel(o),t)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach((function(t,r){return e.updateJoinOperatorDisabled(t,r)})),this.eJoinOperatorsOr.forEach((function(t,r){return e.updateJoinOperatorDisabled(t,r)}))},t.prototype.updateJoinOperatorDisabled=function(e,t){e.setDisabled(this.isReadOnly()||t>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,t){var r=this,o=this.mapValuesFromModel(e);this.forEachInput((function(e,i,n,a){n===t&&r.setElementValue(e,null!=o[i]?o[i]:null)}))},t.prototype.setValueFromFloatingFilter=function(e){var t=this;this.forEachInput((function(r,o,i,n){t.setElementValue(r,0===o&&0===i?e:null)}))},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,t){var r=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,(function(e){r.attachElementOnChange(e,r.listener)})))},t.prototype.individualConditionPasses=function(e,t){var r=this.getCellValue(e.node),o=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),n=this.evaluateCustomFilter(i,o,r);return null!=n?n:null==r?this.evaluateNullValue(t.type):this.evaluateNonNullValue(o,r,t,e)},t.prototype.evaluateCustomFilter=function(e,t,r){if(null!=e){var o=e.predicate;return null==o||t.some((function(e){return null==e}))?void 0:o(t,r)}},t.prototype.isBlank=function(e){return null==e||"string"===typeof e&&0===e.trim().length},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(Gn),ha=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ha(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,r,o){var i=this.comparator(),n=null!=e[0]?i(e[0],r):0;switch(o.type){case t.EQUALS:return 0===n;case t.NOT_EQUAL:return 0!==n;case t.GREATER_THAN:return n>0;case t.GREATER_THAN_OR_EQUAL:return n>=0;case t.LESS_THAN:return n<0;case t.LESS_THAN_OR_EQUAL:return n<=0;case t.IN_RANGE:var a=i(e[1],r);return this.scalarFilterParams.inRangeInclusive?n>=0&&a<=0:n>0&&a<0;case t.BLANK:return this.isBlank(r);case t.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+o.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(da),fa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ga=function(){return ga=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ga.apply(this,arguments)},va=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ma=1e3,ba=1/0,ya=function(e){function t(t,r,o){var i=e.call(this,r,o)||this;return i.dateFilterParams=t,i}return fa(t,e),t.prototype.conditionToString=function(e,t){var r=e.type,o=(t||{}).numberOfInputs,i=r==da.IN_RANGE||2===o,n=Lo(e.dateFrom),a=Lo(e.dateTo),s=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){var l=null!==n?Mo(n,s):"null",c=null!==a?Mo(a,s):"null";return l+"-"+c}return null!=n?Mo(n,s):""+r},t.prototype.updateParams=function(t){e.prototype.updateParams.call(this,t),this.dateFilterParams=t.dateFilterParams},t}(ua),wa=function(e){function t(){var t=e.call(this,"dateFilter")||this;return t.eConditionPanelsFrom=[],t.eConditionPanelsTo=[],t.dateConditionFromComps=[],t.dateConditionToComps=[],t.minValidYear=ma,t.maxValidYear=ba,t}return fa(t,e),t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.dateConditionFromComps[0].afterGuiAttached(t)},t.prototype.mapValuesFromModel=function(e){var t=e||{},r=t.dateFrom,o=t.dateTo,i=t.type;return[r&&Lo(r)||null,o&&Lo(o)||null].slice(0,this.getNumberOfInputs(i))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){var r=t;return null==t||r<e?-1:r>e?1:0},t.prototype.setParams=function(t){this.dateFilterParams=t,e.prototype.setParams.call(this,t);var r=function(e,r){if(null!=t[e]){if(!isNaN(t[e]))return null==t[e]?r:Number(t[e]);console.warn("AG Grid: DateFilter "+e+" is not a number")}return r};this.minValidYear=r("minValidYear",ma),this.maxValidYear=r("maxValidYear",ba),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new ya(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var t=this,r=new Tn(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return t.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc((function(){return r.destroy()})),r},t.prototype.setElementValue=function(e,t){e.setDate(t)},t.prototype.setElementDisplayed=function(e,t){e.setDisplayed(t)},t.prototype.setElementDisabled=function(e,t){e.setDisabled(t)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,t,r,o){var i=document.createElement("div");i.classList.add("ag-filter-"+o),i.classList.add("ag-filter-date-"+o),t.push(i),e.appendChild(i),r.push(this.createDateCompWrapper(i))},t.prototype.removeValueElements=function(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)},t.prototype.removeDateComps=function(e,t,r){var o=this.removeItems(e,t,r);o.forEach((function(e){return e.destroy()}))},t.prototype.isConditionUiComplete=function(t){var r=this;if(!e.prototype.isConditionUiComplete.call(this,t))return!1;var o=function(e){return null!=e&&e.getUTCFullYear()>=r.minValidYear&&e.getUTCFullYear()<=r.maxValidYear},i=!0;return this.forEachInput((function(e,r,n,a){n!==t||!i||r>=a||(i=i&&o(e.getDate()))})),i},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var t=this.getConditionType(e),r={},o=this.getValues(e);return o.length>0&&(r.dateFrom=Ao(o[0])),o.length>1&&(r.dateTo=Ao(o[1])),ga({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},r)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput((function(e){e.setInputPlaceholder(t),e.setInputAriaLabel(r)}))},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var t=[];return this.forEachPositionInput(e,(function(e,r,o,i){r<i&&t.push(e.getDate())})),t},t.prototype.getModelAsString=function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""},t.DEFAULT_FILTER_OPTIONS=[pa.EQUALS,pa.GREATER_THAN,pa.LESS_THAN,pa.NOT_EQUAL,pa.IN_RANGE,pa.BLANK,pa.NOT_BLANK],va([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(pa),Ca=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return null===e||void 0===e?void 0:e.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(e){var t,r=e.operator;if(r){var o=e;t=o.conditions[0]}else t=e;this.lastType=t.type}else this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var t=e.operator;if(t)return!1;var r=e;return this.isTypeEditable(r.type)},t.prototype.init=function(e){this.setSimpleParams(e)},t.prototype.setSimpleParams=function(e){this.optionsFactory=new kn,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.onParamsUpdated=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var t=this.optionsFactory.getCustomOption(e),r=(t||{}).numberOfInputs;return null==r||1==r},t.prototype.isTypeEditable=function(e){var t=[da.IN_RANGE,da.EMPTY,da.BLANK,da.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0},t}(mn),Sa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xa=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ta=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Sa(t,e),t.prototype.getDefaultFilterOptions=function(){return wa.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new ya(this.filterParams,this.localeService,this.optionsFactory);var r=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(t){e.prototype.onParamsUpdated.call(this,t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})},t.prototype.setEditable=function(e){jo(this.eDateWrapper,e),jo(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,r){if(!this.isEventFromFloatingFilter(r)&&!this.isEventFromDataChange(r)){e.prototype.setLastTypeFromModel.call(this,t);var o=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(o),o){if(t){var i=t;this.dateComp.setDate(Lo(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}},t.prototype.onDateChanged=function(){var e=this,t=this.dateComp.getDate(),r=Ao(t);this.params.parentFilterInstance((function(t){if(t){var o=Lo(r);t.onFloatingFilterChanged(e.getLastType()||null,o)}}))},t.prototype.getDateComponentParams=function(){var e=Gn.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Y(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new Tn(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc((function(){return e.dateComp.destroy()}))},t.prototype.updateDateComponent=function(){var e=this.getDateComponentParams(),t=this.gridOptionsService,r=t.api,o=t.columnApi,i=t.context;e.api=r,e.columnApi=o,e.context=i,this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},xa([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),xa([bn("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),xa([bn("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(Ea),ka=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_a=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ra=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return ka(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this;this.params=e,this.setParams(e);var r=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",(function(){t.eDateInput.isDisabled()||t.usingSafariDatePicker||o.focus()})),this.addManagedListener(o,"input",(function(e){e.target===r.activeElement&&(t.eDateInput.isDisabled()||t.params.onDateChanged())}))},t.prototype.setParams=function(e){var t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&io(),t.type=r?"date":"text";var o=e.filterParams||{},i=o.minValidYear,n=o.maxValidYear;i&&(t.min=i+"-01-01"),n&&(t.max=n+"-12-31")},t.prototype.onParamsUpdated=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return Lo(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(Ao(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:ao()||so()||io()&&no()>=14.1},_a([bn("eDateInput")],t.prototype,"eDateInput",void 0),t}(mn),Oa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Da=function(e){function t(t,r,o){return void 0===r&&(r="ag-text-field"),void 0===o&&(o="text"),e.call(this,t,r,o)||this}return Oa(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(t,r){return this.eInput.value!==t&&(this.eInput.value=a(t)?t:""),e.prototype.setValue.call(this,t,r)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]"),t=function(t){zi(t)&&t.key&&!e.test(t.key)&&t.preventDefault()};this.addManagedListener(this.eInput,"keydown",t),this.addManagedListener(this.eInput,"paste",(function(t){var r,o=null===(r=t.clipboardData)||void 0===r?void 0:r.getData("text");o&&o.split("").some((function(t){return!e.test(t)}))&&t.preventDefault()}))},t}(ra),Aa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pa=function(e){function t(t){return e.call(this,t,"ag-number-field","number")||this}return Aa(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var e=parseFloat(t.eInput.value),r=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==r&&t.setValue(r)})),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,t){if(null==this.precision)return e;if(t){var r=parseFloat(e).toFixed(this.precision);return parseFloat(r).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return o[0]+"."+o[1].slice(0,this.precision)}return o[0]},t.prototype.setMin=function(e){return this.min===e||(this.min=e,ki(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,ki(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,ki(this.eInput,"step",e)),this},t.prototype.setValue=function(t,r){var o=this;return this.setValueOrInputValue((function(t){return e.prototype.setValue.call(o,t,r)}),(function(){return o}),t)},t.prototype.setStartValue=function(t){var r=this;return this.setValueOrInputValue((function(t){return e.prototype.setValue.call(r,t,!0)}),(function(e){r.eInput.value=e}),t)},t.prototype.setValueOrInputValue=function(e,t,r){if(a(r)){var o=this.isScientificNotation(r);if(o&&this.eInput.validity.valid)return e(r);if(!o){r=this.adjustPrecision(r);var i=this.normalizeValue(r);o=r!=i}if(o)return t(r)}return e(r)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):e.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return"string"===typeof e&&e.includes("e")},t}(Da),Ma=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),La=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ma(t,e),t.prototype.conditionToString=function(e,t){var r=(t||{}).numberOfInputs,o=e.type==da.IN_RANGE||2===r;return o?this.formatValue(e.filter)+"-"+this.formatValue(e.filterTo):null!=e.filter?this.formatValue(e.filter):""+e.type},t}(ua);function Fa(e){var t=(null!==e&&void 0!==e?e:{}).allowedCharPattern;return null!==t&&void 0!==t?t:null}var Ia,Na,Ha,Ga=function(e){function t(){var t=e.call(this,"numberFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return Ma(t,e),t.prototype.mapValuesFromModel=function(e){var t=e||{},r=t.filter,o=t.filterTo,i=t.type;return[this.processValue(r),this.processValue(o)].slice(0,this.getNumberOfInputs(i))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){this.numberFilterParams=t,e.prototype.setParams.call(this,t),this.filterModelFormatter=new La(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(t,r){var o=this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(null!==r&&void 0!==r?r:null):r;e.prototype.setElementValue.call(this,t,o)},t.prototype.createValueElement=function(){var e=Fa(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),wr(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t},t.prototype.createFromToElement=function(e,t,r,o){var i=this.createManagedBean(o?new Da({allowedCharPattern:o}):new Pa);i.addCssClass("ag-filter-"+r),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())},t.prototype.removeValueElements=function(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)},t.prototype.getValues=function(e){var t=this,r=[];return this.forEachPositionInput(e,(function(e,o,i,n){o<n&&r.push(t.processValue(t.stringToFloat(e.getValue())))})),r},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return null==e||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if("number"===typeof e)return e;var t=n(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)},t.prototype.createCondition=function(e){var t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},o=this.getValues(e);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput((function(t){t.getInputElement().validity.valid||(e=!0)})),e},t.DEFAULT_FILTER_OPTIONS=[pa.EQUALS,pa.NOT_EQUAL,pa.LESS_THAN,pa.LESS_THAN_OR_EQUAL,pa.GREATER_THAN,pa.GREATER_THAN_OR_EQUAL,pa.IN_RANGE,pa.BLANK,pa.NOT_BLANK],t}(pa),Va=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),za=function(){return za=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},za.apply(this,arguments)},Ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Va(t,e),t.prototype.conditionToString=function(e,t){var r=(t||{}).numberOfInputs,o=e.type==da.IN_RANGE||2===r;return o?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(ua),ja=function(e){function t(){var t=e.call(this,"textFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return Va(t,e),t.trimInput=function(e){var t=e&&e.trim();return""===t?e:t},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(r){this.textFilterParams=r,e.prototype.setParams.call(this,r),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Ba(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(on.doOnce((function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")}),"textCustomComparator.deprecated"),function(t){var r=t.filterOption,o=t.value,i=t.filterText;return e(r,o,i)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,r){var o=this,i=[];return this.forEachPositionInput(e,(function(e,a,s,l){var c;if(a<l){var u=n(e.getValue());r&&o.textFilterParams.trimInput&&(u=null!==(c=t.trimInput(u))&&void 0!==c?c:null,e.setValue(u,!0)),i.push(u)}})),i},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),wr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,t,r){var o=this.createManagedBean(new Da);o.addCssClass("ag-filter-"+r),o.addCssClass("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)},t.prototype.mapValuesFromModel=function(e){var t=e||{},r=t.filter,o=t.filterTo,i=t.type;return[r||null,o||null].slice(0,this.getNumberOfInputs(i))},t.prototype.evaluateNullValue=function(e){var t=[da.NOT_EQUAL,da.NOT_CONTAINS,da.BLANK];return!!e&&t.indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,t,r,o){var i=this,n=e.map((function(e){return i.formatter(e)}))||[],a=this.formatter(t),s=this.textFilterParams,l=s.api,c=s.colDef,u=s.column,d=s.columnApi,h=s.context,p=s.textFormatter;if(r.type===da.BLANK)return this.isBlank(t);if(r.type===da.NOT_BLANK)return!this.isBlank(t);var f={api:l,colDef:c,column:u,columnApi:d,context:h,node:o.node,data:o.data,filterOption:r.type,value:a,textFormatter:p};return n.some((function(e){return i.matcher(za(za({},f),{filterText:e}))}))},t.prototype.getModelAsString=function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""},t.DEFAULT_FILTER_OPTIONS=[da.CONTAINS,da.NOT_CONTAINS,da.EQUALS,da.NOT_EQUAL,da.STARTS_WITH,da.ENDS_WITH,da.BLANK,da.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var r=e.filterOption,o=e.value,i=e.filterText;if(null==i)return!1;switch(r){case t.CONTAINS:return o.indexOf(i)>=0;case t.NOT_CONTAINS:return o.indexOf(i)<0;case t.EQUALS:return o===i;case t.NOT_EQUAL:return o!=i;case t.STARTS_WITH:return 0===o.indexOf(i);case t.ENDS_WITH:var n=o.lastIndexOf(i);return n>=0&&n===o.length-i.length;default:return!1}},t}(da),Wa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ua=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},$a=function(e){function t(t){var r=e.call(this)||this;return r.params=t,r.valueChangedListener=function(){},r}return Wa(t,e),t.prototype.setupGui=function(e){var t,r=this;this.eFloatingFilterTextInput=this.createManagedBean(new Da(null===(t=this.params)||void 0===t?void 0:t.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",(function(e){return r.valueChangedListener(e)})),this.addManagedListener(o,"keydown",(function(e){return r.valueChangedListener(e)}))},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,t){this.eFloatingFilterTextInput.setValue(e,t)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(lt),Ka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wa(t,e),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(t){this.setupFloatingFilterInputService(t),e.prototype.init.call(this,t),this.setTextInputParams(t)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var t;this.params=e;var r=null!==(t=e.browserAutoComplete)&&void 0!==t&&t;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:r}),this.applyActive=Gn.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=Gn.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),i=Y(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(i)}},t.prototype.onParamsUpdated=function(t){e.prototype.onParamsUpdated.call(this,t),this.setTextInputParams(t)},t.prototype.recreateFloatingFilterInputService=function(e){var t=this.floatingFilterInputService.getValue();ri(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)},t.prototype.getAriaLabel=function(e){var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return t+" "+r("ariaFilterInput","Filter Input")},t.prototype.syncUpWithParentFilter=function(e){var t=this,r=e.key===Li.ENTER;if(!this.applyActive||r){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=ja.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance((function(e){e&&e.onFloatingFilterChanged(t.getLastType()||null,o||null)}))}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},Ua([he("columnModel")],t.prototype,"columnModel",void 0),Ua([bn("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),Ua([ce],t.prototype,"postConstruct",null),t}(Ea),Ya=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),qa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.valueChangedListener=function(){},t.numberInputActive=!0,t}return Ya(t,e),t.prototype.setupGui=function(e){var t=this;this.eFloatingFilterNumberInput=this.createManagedBean(new Pa),this.eFloatingFilterTextInput=this.createManagedBean(new Da),this.eFloatingFilterTextInput.setDisabled(!0);var r=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(r),e.appendChild(o),this.setupListeners(r,(function(e){return t.valueChangedListener(e)})),this.setupListeners(o,(function(e){return t.valueChangedListener(e)}))},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,t){this.getActiveInputElement().setValue(e,t)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(lt),Xa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ya(t,e),t.prototype.init=function(t){var r;e.prototype.init.call(this,t),this.filterModelFormatter=new La(this.localeService,this.optionsFactory,null===(r=t.filterParams)||void 0===r?void 0:r.numberFormatter)},t.prototype.onParamsUpdated=function(t){var r=Fa(t.filterParams);r!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),e.prototype.onParamsUpdated.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return Ga.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=Fa(e.filterParams),this.allowedCharPattern?this.createManagedBean(new $a({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new qa)},t}(Ka),Ja=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ja(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),this.filterModelFormatter=new Ba(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(t){e.prototype.onParamsUpdated.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return ja.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new $a)},t}(Ka),Za=function(){function e(e,t){var r=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new ye,this.eElement=e,this.preventMouseClick=t;var o=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",o,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push((function(){r.eElement.removeEventListener("touchstart",o,{passive:!0}),r.eElement.removeEventListener("touchmove",i,{passive:!0}),r.eElement.removeEventListener("touchend",n,{passive:!1})}))}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var r=e[t].identifier===this.touchStart.identifier;if(r)return e[t]}return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var r=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var o=this.touchStart;window.setTimeout((function(){var i=r.touchStart===o;if(r.touching&&i&&!r.moved){r.moved=!0;var n={type:e.EVENT_LONG_TAP,touchStart:r.touchStart,touchEvent:t};r.eventService.dispatchEvent(n)}}),500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var r=!Ki(t,this.touchStart,4);r&&(this.moved=!0)}}},e.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var r={type:e.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){var r=t-this.lastTapTime;if(r>e.DOUBLE_TAP_MILLIS){var o={type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(o),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach((function(e){return e()}))},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),es=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ts=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},rs=function(e){function t(r){var o=e.call(this)||this;return r||o.setTemplate(t.TEMPLATE),o}return es(t,e),t.prototype.attachCustomElements=function(e,t,r,o,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=o,this.eSortNone=i},t.prototype.setupSort=function(e,t){var r=this;void 0===t&&(t=!1),this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator();var o=!!this.column.getColDef().sortable;o&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,gt.EVENT_SORT_CHANGED,(function(){return r.onSortChanged()})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return r.onSortChanged()})),this.onSortChanged())},t.prototype.addInIcon=function(e,t,r){if(null!=t){var o=Pi(e,this.gridOptionsService,r);o&&t.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var t="asc"===e;jo(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){var r="desc"===e;jo(this.eSortDesc,r,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),i=null===e||void 0===e;jo(this.eSortNone,!o&&i,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var t=this.column.getColDef().showRowGroup,r=this.gridOptionsService.isColumnsSortingCoupledToGroup();r&&t&&(this.addManagedListener(this.eventService,gt.EVENT_SORT_CHANGED,(function(){return e.updateMultiSortIndicator()})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.updateMultiSortIndicator()})),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);jo(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var e,t=this;if(this.eSortOrder){var r=this.sortController.getColumnsWithSortingOrdered(),o=null!==(e=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==e?e:-1,i=r.some((function(e){var r;return null!==(r=t.sortController.getDisplaySortIndexForColumn(e))&&void 0!==r&&r})),n=o>=0&&i;jo(this.eSortOrder,n,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():ri(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',ts([bn("eSortOrder")],t.prototype,"eSortOrder",void 0),ts([bn("eSortAsc")],t.prototype,"eSortAsc",void 0),ts([bn("eSortDesc")],t.prototype,"eSortDesc",void 0),ts([bn("eSortMixed")],t.prototype,"eSortMixed",void 0),ts([bn("eSortNone")],t.prototype,"eSortNone",void 0),ts([he("columnModel")],t.prototype,"columnModel",void 0),ts([he("sortController")],t.prototype,"sortController",void 0),t}(mn),os=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),is=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ns=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return os(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)))},t.prototype.workOutTemplate=function(){var e=Oe(this.params.template,t.TEMPLATE);return e=e&&e.trim?e.trim():e,e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var t=Tt(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,r){if(null!=t){var o=Pi(e,this.gridOptionsService,r);o&&t.appendChild(o)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsService;if(!t.is("suppressTouch")){var r=new Za(this.getGui(),!0),o=t.is("suppressMenuHide"),i=o&&a(this.eMenu),n=i?new Za(this.eMenu,!0):r;if(this.params.enableMenu){var s=i?"EVENT_TAP":"EVENT_LONG_TAP",l=function(r){t.api.showColumnMenuAfterMouseClick(e.params.column,r.touchStart)};this.addManagedListener(n,Za[s],l)}if(this.params.enableSorting){var c=function(t){var r=t.touchStart.target;o&&e.eMenu.contains(r)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(r,Za.EVENT_TAP,c)}this.addDestroyFunc((function(){return r.destroy()})),i&&this.addDestroyFunc((function(){return n.destroy()}))}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsService.is("suppressMenuHide"),t=co()&&e,r=this.params.enableMenu&&!t;return r},t.prototype.setMenu=function(){var e=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var t=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",(function(){return e.showMenu(e.eMenu)})),this.eMenu.classList.toggle("ag-header-menu-always-show",t)}else ii(this.eMenu)},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new rs(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var t="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,Te.EVENT_MOVING_CHANGED,(function(){e.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(r){var o=e.params.column.isMoving(),i=(new Date).getTime(),n=i-e.lastMovingChanged<50,a=o||n;if(!a){var s=t?r.ctrlKey||r.metaKey:r.shiftKey;e.params.progressSort(s)}}));var r=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var t=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),r=null===t||void 0===t?void 0:t.every((function(t){return e.params.column.getSort()==t.getSort()})),o=!r;e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedListener(this.eventService,gt.EVENT_SORT_CHANGED,r),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,r)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Te.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();jo(this.eFilter,e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',is([he("sortController")],t.prototype,"sortController",void 0),is([he("menuFactory")],t.prototype,"menuFactory",void 0),is([he("columnModel")],t.prototype,"columnModel",void 0),is([bn("eFilter")],t.prototype,"eFilter",void 0),is([bn("eSortIndicator")],t.prototype,"eSortIndicator",void 0),is([bn("eMenu")],t.prototype,"eMenu",void 0),is([bn("eLabel")],t.prototype,"eLabel",void 0),is([bn("eText")],t.prototype,"eText",void 0),is([bn("eSortOrder")],t.prototype,"eSortOrder",void 0),is([bn("eSortAsc")],t.prototype,"eSortAsc",void 0),is([bn("eSortDesc")],t.prototype,"eSortDesc",void 0),is([bn("eSortMixed")],t.prototype,"eSortMixed",void 0),is([bn("eSortNone")],t.prototype,"eSortNone",void 0),t}(mn),as=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ss=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ls=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return as(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){var e=this.params;if(e.template){var t="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";V((function(){return console.warn(t)}),"HeaderGroupComp.templateNotSupported")}},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!Ze(t)){var r=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),r,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var r=function(e){Qe(e)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,_e.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,_e.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var r=new Za(e,!0);this.addManagedListener(r,Za.EVENT_TAP,t),this.addDestroyFunc((function(){return r.destroy()})),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var t=this.params.columnGroup.isExpanded();jo(this.eOpenIcon,t),jo(this.eCloseIcon,!t)}else jo(this.eOpenIcon,!1),jo(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var r=Pi(e,this.gridOptionsService,null);r&&this.getRefElement(t).appendChild(r)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return jo(this.eOpenIcon,!1),void jo(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e,t=this.params,r=t.displayName,o=t.columnGroup;if(a(r)){var i=Tt(r);this.getRefElement("agLabel").innerHTML=i}this.addOrRemoveCssClass("ag-sticky-label",!(null===(e=o.getColGroupDef())||void 0===e?void 0:e.suppressStickyLabel))},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',ss([he("columnModel")],t.prototype,"columnModel",void 0),ss([bn("agOpened")],t.prototype,"eOpenIcon",void 0),ss([bn("agClosed")],t.prototype,"eCloseIcon",void 0),t}(mn),cs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cs(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent,r=t&&t.isAlive();r&&t.getGui().classList.remove("ag-has-popup"),e.prototype.destroy.call(this)},t}(mn),ds=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ps=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ds(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),a(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var t=e.key;(t===Li.LEFT||t===Li.UP||t===Li.RIGHT||t===Li.DOWN||e.shiftKey&&t===Li.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return a(e)||a(this.params.value)?this.params.parseValue(e):this.params.value},t.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',hs([bn("eTextArea")],t.prototype,"eTextArea",void 0),t}(us),fs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},vs=function(e){function t(){var t=e.call(this,'<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>')||this;return t.startedByEnter=!1,t}return fs(t,e),t.prototype.init=function(e){var t=this;this.focusAfterAttached=e.cellStartedEdit;var r=e.values,o=e.value,i=e.eventKey;if(s(r))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=i&&i===Li.ENTER;var n=!1;r.forEach((function(r){var i={value:r},a=t.valueFormatterService.formatValue(e.column,null,r),s=null!==a&&void 0!==a;i.text=s?a:r,t.eSelect.addOption(i),n=n||o===r})),n?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),null!=e.valueListGap&&this.eSelect.setPickerGap(e.valueListGap),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,Zn.EVENT_ITEM_SELECTED,(function(){return e.stopEditing()}))}},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((function(){e.isAlive()&&e.eSelect.showPicker()}))},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},gs([he("valueFormatterService")],t.prototype,"valueFormatterService",void 0),gs([bn("eSelect")],t.prototype,"eSelect",void 0),t}(us),ms=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ys=function(e){function t(t){var r=e.call(this,'\n            <div class="ag-cell-edit-wrapper">\n                '+t.getTemplate()+"\n            </div>")||this;return r.cellEditorInput=t,r}return ms(t,e),t.prototype.init=function(e){this.params=e;var t,r=this.eInput;if(this.cellEditorInput.init(r,e),e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===Li.BACKSPACE||e.eventKey===Li.DELETE?t="":o&&1===o.length?t=o:(t=this.cellEditorInput.getStartValue(),o!==Li.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,t=this.cellEditorInput.getStartValue();null!=t&&r.setStartValue(t),this.addManagedListener(r.getGui(),"keydown",(function(e){var t=e.key;t!==Li.PAGE_UP&&t!==Li.PAGE_DOWN||e.preventDefault()}))},t.prototype.afterGuiAttached=function(){var e,t,r=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached){io()||o.getFocusableElement().focus();var i=o.getInputElement();this.highlightAllOnFocus?i.select():null===(t=(e=this.cellEditorInput).setCaret)||void 0===t||t.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},bs([bn("eInput")],t.prototype,"eInput",void 0),t}(us),ws=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Cs=function(){function e(){}return e.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},e.prototype.init=function(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)},e.prototype.getValue=function(){var e=this.eInput.getValue();return a(e)||a(this.params.value)?this.params.parseValue(e):this.params.value},e.prototype.getStartValue=function(){var e=this.params.useFormatter||this.params.column.getColDef().refData;return e?this.params.formatValue(this.params.value):this.params.value},e.prototype.setCaret=function(){var e=this.eInput.getValue(),t=a(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)},e}(),Es=function(e){function t(){return e.call(this,new Cs)||this}return ws(t,e),t}(ys),Ss=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ts="↑",ks="↓",_s=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.refreshCount=0,r}return Ss(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var r=Math.abs(t),o=e.formatValue(r),i=a(o)?o:r,n=t>=0;this.eDelta.innerHTML=n?Ts+i:ks+i,this.eDelta.classList.toggle("ag-value-change-delta-up",n),this.eDelta.classList.toggle("ag-value-change-delta-down",!n)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout((function(){t===e.refreshCount&&e.hideDeltaValue()}),2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),ri(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t===this.lastValue)return!1;if(a(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:a(e.value)?this.eValue.innerHTML=t:ri(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof t&&"number"===typeof this.lastValue){var r=t-this.lastValue;this.showDelta(e,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',xs([he("filterManager")],t.prototype,"filterManager",void 0),t}(mn),Rs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Os=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ds=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.refreshCount=0,r.eCurrent=r.queryForHtmlElement(".ag-value-slide-current"),r}return Rs(t,e),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=ai('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){t===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)}),3e3)},t.prototype.refresh=function(e){var t=e.value;return s(t)&&(t=""),t!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=t,a(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:a(e.value)?this.eCurrent.innerHTML=t:ri(this.eCurrent),!0))},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',Os([he("filterManager")],t.prototype,"filterManager",void 0),t}(mn),As=function(){return As=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},As.apply(this,arguments)},Ps=function(){function e(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return e.prototype.setData=function(e){this.setDataCommon(e,!1)},e.prototype.updateData=function(e){this.setDataCommon(e,!0)},e.prototype.setDataCommon=function(e,t){var r=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var o=this.createDataChangedEvent(e,r,t);this.dispatchLocalEvent(o)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,r,o){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:r,newData:t,update:o}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var r=a(this.id)?this.createDaemonNode():null,o=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);var i=this.createDataChangedEvent(e,o,!1);this.dispatchLocalEvent(i)},e.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!e||e(this))},e.prototype.setRowSelectable=function(t){if(this.selectable!==t){this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED));var r=this.beans.gridOptionsService.is("groupSelectsChildren");if(r){var o=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:null!==o&&void 0!==o&&o,source:"selectableChanged"})}}},e.prototype.setId=function(t){var r=this.beans.gridOptionsService.getCallback("getRowId");if(r)if(this.data){var o=this.getGroupKeys(!0);this.id=r({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"===typeof this.id&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!==typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},e.prototype.getGroupKeys=function(e){void 0===e&&(e=!1);var t=[],r=this;e&&(r=r.parent);while(r&&r.level>=0)t.push(r.key),r=r.parent;return t.reverse(),t},e.prototype.isPixelInRange=function(e){return!(!a(this.rowTop)||!a(this.rowHeight))&&(e>=this.rowTop&&e<this.rowTop+this.rowHeight)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},e.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},e.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DISPLAYED_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setHovered=function(e){this.hovered!==e&&(this.hovered=e)},e.prototype.isHovered=function(){return this.hovered},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_GROUP_CHANGED)))},e.prototype.setRowHeight=function(t,r){void 0===r&&(r=!1),this.rowHeight=t,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Y(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},e.prototype.checkAutoHeights=function(){var e=this,t=!1,r=!0,o=0,i=this.__autoHeights;if(null!=i){var n=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(n.forEach((function(n){var a=i[n.getId()];if(null==a){if(!e.beans.columnModel.isColSpanActive())return void(t=!0);var s=[];switch(n.getPinned()){case"left":s=e.beans.columnModel.getDisplayedLeftColumnsForRow(e);break;case"right":s=e.beans.columnModel.getDisplayedRightColumnsForRow(e);break;case null:s=e.beans.columnModel.getViewportCenterColumnsForRow(e);break}if(s.includes(n))return void(t=!0);a=-1}else r=!1;a>o&&(o=a)})),!t&&((r||o<10)&&(o=this.beans.gridOptionsService.getRowHeightForNode(this).height),o!=this.rowHeight)){this.setRowHeight(o);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}}},e.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED)))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t,r){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var o=Object.assign({},this.createGlobalRowEvent(gt.EVENT_ROW_GROUP_OPENED),{expanded:t,event:r||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t,r){var o=this,i=function(){var t;return"string"!==typeof e?e:null!==(t=o.beans.columnModel.getGridColumn(e))&&void 0!==t?t:o.beans.columnModel.getPrimaryColumn(e)},n=i(),a=this.getValueFromValueService(n);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(n,a,t,r),!1;var s=this.beans.valueService.setValue(this,n,t,r);return this.dispatchCellChangedEvent(n,t,a),this.checkRowSelectable(),s},e.prototype.getValueFromValueService=function(e){var t=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!t,o=this.beans.gridOptionsService.is("groupIncludeFooter"),i=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),n=r&&o&&!i,a=this.beans.valueService.getValue(e,this,!1,n);return a},e.prototype.dispatchEventForSaveValueReadOnly=function(e,t,r,o){var i={type:gt.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:t,newValue:r,value:r,source:o};this.beans.eventService.dispatchEvent(i)},e.prototype.setGroupValue=function(e,t){var r=this.beans.columnModel.getGridColumn(e);s(this.groupData)&&(this.groupData={});var o=r.getColId(),i=this.groupData[o];i!==t&&(this.groupData[o]=t,this.dispatchCellChangedEvent(r,t,i))},e.prototype.setAggData=function(e){var t=this,r=O([this.aggData,e]),o=this.aggData;this.aggData=e,this.eventService&&r.forEach((function(e){var r=t.beans.columnModel.getGridColumn(e),i=t.aggData?t.aggData[e]:void 0,n=o?o[e]:void 0;t.dispatchCellChangedEvent(r,i,n)}))},e.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,r=this.beans.gridOptionsService.isRowModelType("serverSide");if(r){var o=this.beans.gridOptionsService.isTreeData(),i=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(o?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))},e.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},e.prototype.isEmptyRowGroupNode=function(){return this.group&&l(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,r,o){var i={type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:r,oldValue:o};this.dispatchLocalEvent(i)},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(t){return t.depthFirstSearch(e)})),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e,t=!1,r=!1,o=!1;if(!(null===(e=this.childrenAfterGroup)||void 0===e?void 0:e.length))return this.selectable?this.selected:null;for(var i=0;i<this.childrenAfterGroup.length;i++){var n=this.childrenAfterGroup[i],a=n.isSelected();if(!n.selectable){var s=n.calculateSelectedFromChildren();if(null===s)continue;a=s}switch(a){case!0:t=!0;break;case!1:r=!0;break;default:o=!0;break}}return o||t&&r?void 0:!!t||!r&&(this.selectable?this.selected:null)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.selectThisNode=function(t,r,o){void 0===o&&(o="api");var i=!this.selectable&&t,n=this.selected===t;if(i||n)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var a=As(As({},this.createGlobalRowEvent(gt.EVENT_ROW_SELECTED)),{event:r||null,source:o});return this.beans.eventService.dispatchEvent(a),!0},e.prototype.setSelected=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r="api"),"boolean"!==typeof r?this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:r}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")},e.prototype.setSelectedParams=function(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(As(As({},e),{nodes:[this.footer?this.sibling:this]}))},e.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},e.prototype.isParentOfNode=function(e){var t=this.parent;while(t){if(t===e)return!0;t=t.parent}return!1},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new ye),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){var t=this,r=!0,o=!1,i=null;while(r&&!o){var n=t.parent,s=a(n)&&t.firstChild;s?n.rowGroupColumn===e&&(o=!0,i=n):r=!1,t=n}return o?i:null},e.prototype.isFullWidthCell=function(){var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})},e.prototype.getRoute=function(){if(null!=this.key){var e=[],t=this;while(null!=t.key)e.push(t.key),t=t.parent;return e.reverse()}},e.prototype.createFooter=function(){var t=this;if(!this.sibling){var r=new e(this.beans);Object.keys(this).forEach((function(e){r[e]=t[e]})),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,r.id="rowGroupFooter_"+this.id,r.sibling=this,this.sibling=r}},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_GROUP_CHANGED="groupChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_DISPLAYED_CHANGED="displayedChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",e}(),Ms=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ls=function(){return Ls=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ls.apply(this,arguments)},Fs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Is=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Ms(t,e),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),Or(this.eCheckbox.getInputElement(),"polite")},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),r=Yr(e,t),o=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(o+" ("+r+")")},t.prototype.onClicked=function(e,t,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:t,event:r,source:"checkboxSelected"})},t.prototype.init=function(e){var t=this;this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(function(e){Qe(e)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(e){Qe(e);var r=t.gridOptionsService.is("groupSelectsFiltered"),o=t.eCheckbox.getValue();if(t.shouldHandleIndeterminateState(o,r)){var i=t.onClicked(!0,r,e||{});0===i&&t.onClicked(!1,r,e)}else o?t.onClicked(!1,r,e):t.onClicked(!0,r,e||{})})),this.addManagedListener(this.rowNode,Ps.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var r=this.gridOptionsService.get("isRowSelectable"),o=r||"function"===typeof this.getIsVisible();if(o){var i=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.rowNode,Ps.EVENT_DATA_CHANGED,i),this.addManagedListener(this.rowNode,Ps.EVENT_CELL_CHANGED,i),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,t,r,o,i=this.rowNode.selectable,n=this.getIsVisible();if(i)if("function"===typeof n){var a=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,s=null===(t=this.column)||void 0===t?void 0:t.createColumnFunctionCallbackParams(this.rowNode);i=!!s&&n(Ls(Ls({},a),s))}else i=null!==n&&void 0!==n&&n;var l=null===(r=this.column)||void 0===r?void 0:r.getColDef().showDisabledCheckboxes;if(l)return this.eCheckbox.setDisabled(!i),this.setVisible(!0),void this.setDisplayed(!0);(null===(o=this.overrides)||void 0===o?void 0:o.removeHidden)?this.setDisplayed(i):this.setVisible(i)},t.prototype.getIsVisible=function(){var e,t;return this.overrides?this.overrides.isVisible:null===(t=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===t?void 0:t.checkboxSelection},Fs([bn("eCheckbox")],t.prototype,"eCheckbox",void 0),Fs([ce],t.prototype,"postConstruct",null),t}(mn),Ns=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Hs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Gs=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(e){e[e["ToolPanel"]=0]="ToolPanel",e[e["HeaderCell"]=1]="HeaderCell",e[e["RowDrag"]=2]="RowDrag",e[e["ChartPanel"]=3]="ChartPanel"})(Ia||(Ia={})),function(e){e[e["Up"]=0]="Up",e[e["Down"]=1]="Down"}(Na||(Na={})),function(e){e[e["Left"]=0]="Left",e[e["Right"]=1]="Right"}(Ha||(Ha={}));var Vs,zs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var r;return Ns(t,e),r=t,t.prototype.init=function(){this.ePinnedIcon=Ai("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Ai("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Ai("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Ai("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Ai("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Ai("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Ai("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Ai("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Ai("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)},t.prototype.removeDragSource=function(e){var t=this.dragSourceAndParamsList.find((function(t){return t.dragSource===e}));t&&(this.dragService.removeDragSource(t.params),Ne(this.dragSourceAndParamsList,t))},t.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach((function(t){return e.dragService.removeDragSource(t.params)})),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(e,t){var r,o,i,n,a=this,s=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var c=this.dropTargets.filter((function(t){return a.isMouseOnDropTarget(e,t)})),u=this.findCurrentDropTarget(e,c);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(e,s,l,t),null!==this.lastDropTarget&&null===u&&(null===(o=(r=this.dragSource).onGridExit)||void 0===o||o.call(r,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null===(n=(i=this.dragSource).onGridEnter)||void 0===n||n.call(i,this.dragItem)),this.enterDragTargetIfExists(u,e,s,l,t),this.lastDropTarget=u;else if(u&&u.onDragging){var d=this.createDropTargetEvent(u,e,s,l,t);u.onDragging(d)}},t.prototype.getAllContainersFromDropTarget=function(e){var t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r},t.prototype.allContainersIntersect=function(e,t){var r,o;try{for(var i=Gs(t),n=i.next();!n.done;n=i.next()){var a=n.value,s=a.getBoundingClientRect();if(0===s.width||0===s.height)return!1;var l=e.clientX>=s.left&&e.clientX<s.right,c=e.clientY>=s.top&&e.clientY<s.bottom;if(!l||!c)return!1}}catch(u){r={error:u}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return!0},t.prototype.isMouseOnDropTarget=function(e,t){var r,o,i=this.getAllContainersFromDropTarget(t),n=!1;try{for(var a=Gs(i),s=a.next();!s.done;s=a.next()){var l=s.value;if(this.allContainersIntersect(e,l)){n=!0;break}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&(n&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement))},t.prototype.findCurrentDropTarget=function(e,t){var r,o,i,n,a=t.length;if(0===a)return null;if(1===a)return t[0];var s=this.gridOptionsService.getRootNode(),l=s.elementsFromPoint(e.clientX,e.clientY);try{for(var c=Gs(l),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(i=void 0,Gs(t)),p=h.next();!p.done;p=h.next()){var f=p.value,g=We(this.getAllContainersFromDropTarget(f));if(-1!==g.indexOf(d))return f}}catch(v){i={error:v}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(i)throw i.error}}}}catch(m){r={error:m}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return null},t.prototype.enterDragTargetIfExists=function(e,t,r,o,i){if(e){if(e.onDragEnter){var n=this.createDropTargetEvent(e,t,r,o,i);e.onDragEnter(n)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(e,t,r,o){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var i=this.createDropTargetEvent(this.lastDropTarget,e,t,r,o);this.lastDropTarget.onDragLeave(i)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(e){this.dropTargets.push(e)},t.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter((function(t){return t.getContainer()!==e.getContainer()}))},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(e){return e.external}))},t.prototype.findExternalZone=function(e){var t=this.dropTargets.filter((function(e){return e.external}));return t.find((function(t){return t.getContainer()===e.getContainer()}))||null},t.prototype.getHorizontalDirection=function(e){var t=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return t===r?null:t>r?Ha.Left:Ha.Right},t.prototype.getVerticalDirection=function(e){var t=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return t===r?null:t>r?Na.Up:Na.Down},t.prototype.createDropTargetEvent=function(e,t,r,o,i){var n=e.getContainer(),a=n.getBoundingClientRect(),s=this,l=s.gridApi,c=s.columnApi,u=s.dragItem,d=s.dragSource,h=t.clientX-a.left,p=t.clientY-a.top;return{event:t,x:h,y:p,vDirection:o,hDirection:r,dragSource:d,fromNudge:i,dragItem:u,api:l,columnApi:c,dropZoneTarget:n}},t.prototype.positionGhost=function(e){var t=this.eGhost;if(t){var r=t.getBoundingClientRect(),o=r.height,i=fo()-2,n=go()-2,a=Qo(t.offsetParent),s=e.clientY,l=e.clientX,c=s-a.top-o/2,u=l-a.left-10,d=this.gridOptionsService.getDocument(),h=d.defaultView||window,p=h.pageYOffset||d.documentElement.scrollTop,f=h.pageXOffset||d.documentElement.scrollLeft;i>0&&u+t.clientWidth>i+f&&(u=i+f-t.clientWidth),u<0&&(u=0),n>0&&c+t.clientHeight>n+p&&(c=n+p-t.clientHeight),c<0&&(c=0),t.style.left=u+"px",t.style.top=c+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=ai(r.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var e=this.environment.getTheme().theme;e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;B(o)&&(o=o()),t.innerHTML=Tt(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var i=this.gridOptionsService.getDocument(),n=null;try{n=i.fullscreenElement}catch(l){}finally{if(!n){var a=this.gridOptionsService.getRootNode(),s=a.querySelector("body");n=s||(a instanceof ShadowRoot?a:null===a||void 0===a?void 0:a.documentElement)}}this.eGhostParent=n,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(e,t){void 0===t&&(t=!1),ri(this.eGhostIcon);var o=null;switch(e||(e=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),e){case r.ICON_PINNED:o=this.ePinnedIcon;break;case r.ICON_MOVE:o=this.eMoveIcon;break;case r.ICON_LEFT:o=this.eLeftIcon;break;case r.ICON_RIGHT:o=this.eRightIcon;break;case r.ICON_GROUP:o=this.eGroupIcon;break;case r.ICON_AGGREGATE:o=this.eAggregateIcon;break;case r.ICON_PIVOT:o=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),o===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns")||o&&this.eGhostIcon.appendChild(o)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Hs([he("dragService")],t.prototype,"dragService",void 0),Hs([he("mouseEventService")],t.prototype,"mouseEventService",void 0),Hs([he("columnApi")],t.prototype,"columnApi",void 0),Hs([he("gridApi")],t.prototype,"gridApi",void 0),Hs([ce],t.prototype,"init",null),Hs([ue],t.prototype,"clearDragSourceParamsList",null),t=r=Hs([de("dragAndDropService")],t),t}(lt),Bs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),js=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ws=function(e){function t(t,r,o,i,n,a){var s=e.call(this)||this;return s.cellValueFn=t,s.rowNode=r,s.column=o,s.customGui=i,s.dragStartPixels=n,s.suppressVisibilityChange=a,s.dragSource=null,s}return Bs(t,e),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Pi("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.is("rowDragManaged")?new Ks(this,this.beans,this.rowNode,this.column):new $s(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,t){this.setTemplateFromElement(e),this.addDragSource(t)},t.prototype.getSelectedNodes=function(){var e=this.gridOptionsService.is("rowDragMultiRow");if(!e)return[this.rowNode];var t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.is("rowDragManaged"),t=this.gridOptionsService.isTreeData();t&&e&&V((function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var t=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var r=this.getRowDragText(this.column),o=this.localeService.getLocaleTextFunc();this.dragSource={type:Ia.RowDrag,eElement:this.getGui(),dragItemName:function(){var e,i=t.getDragItem(),n=(null===(e=i.rowNodes)||void 0===e?void 0:e.length)||1;return r?r(i,n):1===n?t.cellValueFn():n+" "+o("rowDragRows","rows")},getDragItem:function(){return t.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},js([he("beans")],t.prototype,"beans",void 0),js([ce],t.prototype,"postConstruct",null),js([ue],t.prototype,"removeDragSource",null),t}(mn),Us=function(e){function t(t,r,o){var i=e.call(this)||this;return i.parent=t,i.rowNode=r,i.column=o,i}return Bs(t,e),t.prototype.setDisplayedOrVisible=function(e){var t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{var r=!0,o=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=B(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,t),this.parent.setVisible(r,t)):(this.parent.setDisplayed(r,t),this.parent.setVisible(!0,t))}},t}(lt),$s=function(e){function t(t,r,o,i){var n=e.call(this,t,o,i)||this;return n.beans=r,n}return Bs(t,e),t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,gt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)},js([ce],t.prototype,"postConstruct",null),t}(Us),Ks=function(e){function t(t,r,o,i){var n=e.call(this,t,o,i)||this;return n.beans=r,n}return Bs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,gt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,gt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,gt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),t=e.getRowDragFeature(),r=t&&t.shouldPreventRowMove(),o=this.gridOptionsService.is("suppressRowDrag"),i=this.beans.dragAndDropService.hasExternalDropZones(),n=r&&!i||o;this.setDisplayedOrVisible(n)},js([ce],t.prototype,"postConstruct",null),t}(Us),Ys=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),qs=function(){return qs=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qs.apply(this,arguments)},Xs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),t.prototype.init=function(e,t,r,o,i,n,a){this.params=a,this.eGui=t,this.eCheckbox=r,this.eExpanded=o,this.eContracted=i,this.comp=e,this.compClass=n;var s=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),c=null==a.value&&!a.node.master,u=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){var d=a.node;if(d.footer){var h=a.colDef&&a.colDef.showRowGroup,p=d.rowGroupColumn&&d.rowGroupColumn.getColId();u=h!==p}}this.cellIsBlank=!s&&(l||c&&!a.node.master||u),this.cellIsBlank||(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,t=e.node,r=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){Mr(r,!!t.expanded)};this.expandListener=this.addManagedListener(t,Ps.EVENT_EXPANDED_CHANGED,o)||null,o()}else Lr(r)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef,t=null==e;if(t)return!0;if(!0===e.showRowGroup)return!0;var r=this.columnModel.getRowGroupColumns();if(!r||0===r.length)return!0;var o=r[0];return o.getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var e="left"===this.params.pinned,t="right"===this.params.pinned,r=!e&&!t;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!t:!r:this.columnModel.isPinningLeft()?!e:!r},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){var r=t.parent;while(null!=r){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}}s(this.displayedGroupNode)&&(this.displayedGroupNode=t)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,t=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(e.groupData){var r=null!=e.rowGroupColumn;if(r){var o=e.rowGroupColumn.getId(),i=t.isRowGroupDisplayed(o);if(i)return void(this.showingValueForOpenedParent=!1)}var n=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=n}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),r=e.valueFormatted,o=e.value,i=r;if(null==i)if(""===o&&this.params.node.group){var n=this.localeService.getLocaleTextFunc();i=n("blanks","(Blanks)")}else i=null!==o&&void 0!==o?o:null;this.comp.setInnerRenderer(t,i)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;var r=null!=t;if(r){var o=t.isRowGroupDisplayed(e.getId());if(!o)return this.params}var i=this.params,n=this.params,a=n.value,s=n.node,l=this.valueFormatterService.formatValue(e,s,a),c=qs(qs({},i),{valueFormatted:l});return c},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,t="";if(e){var r=E(this.params);r.value=this.params.value,"function"===typeof e?t=e(r):"string"===typeof e?t=this.expressionService.evaluate(e,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(null!=this.params.value?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,t)},t.prototype.getInnerCompDetails=function(e){var t=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var r=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(e){return e&&e.componentClass==t.compClass};if(r&&!o(r))return r;var i=this.displayedGroupNode.rowGroupColumn,n=i?i.getColDef():void 0;if(n){var a=this.userComponentFactory.getCellRendererDetails(n,e);if(a&&!o(a))return a;if(o(a)&&n.cellRendererParams&&n.cellRendererParams.innerRenderer){var s=this.userComponentFactory.getInnerRendererDetails(n.cellRendererParams,e);return s}}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ps.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,t=this.isShowRowGroupForThisRow(),r=t&&null!=e&&e>=0,o=r?"("+e+")":"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var t=this.params.column,r=null==t||t.isRowGroupDisplayed(e.getId());return r},t.prototype.addExpandAndContract=function(){var e,t=this.params,r=Pi("groupExpanded",this.gridOptionsService,null),o=Pi("groupContracted",this.gridOptionsService,null);r&&this.eExpanded.appendChild(r),o&&this.eContracted.appendChild(o);var i=t.eGridCell,n=(null===(e=this.params.column)||void 0===e?void 0:e.isCellEditable(t.node))&&this.gridOptionsService.is("enableGroupEdit");n||!this.isExpandable()||t.suppressDoubleClickExpand||this.addManagedListener(i,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,Ps.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ps.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ps.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ps.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ps.EVENT_HAS_CHILDREN_CHANGED,a)},t.prototype.onExpandClicked=function(e){Ze(e)||(Qe(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var t=this.displayedGroupNode,r=!t.expanded;!r&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(r,e)},t.prototype.scrollToStickyNode=function(e){var t=this.ctrlsService.getGridBodyCtrl(),r=t.getScrollFeature();r.setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup,r=e.isExpandable()&&!e.footer&&!t;if(!r)return!1;var o=this.params.column,i=null!=o&&"string"===typeof o.getColDef().showRowGroup;if(i){var n=this.isShowRowGroupForThisRow();return n}return!0},t.prototype.showExpandAndContractIcons=function(){var e=this,t=e.params,r=e.displayedGroupNode,o=e.columnModel,i=t.node,n=this.isExpandable();if(n){var a=!!this.showingValueForOpenedParent||i.expanded;this.comp.setExpandedDisplayed(a),this.comp.setContractedDisplayed(!a)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var s=o.isPivotMode(),l=s&&r.leafGroup,c=n&&!l,u=i.footer&&-1===i.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",c),this.comp.addOrRemoveCssClass("ag-row-group",c),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",l):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node,t=this.params.suppressPadding;t||(this.addManagedListener(e,Ps.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var e=this.params,t=e.node,r=!!e.colDef,o=this.gridOptionsService.isTreeData(),i=!r||o||!0===e.colDef.showRowGroup,n=i?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+n,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var t=new Ws((function(){return e.params.value}),this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"===typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroupNode,r=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(r){var o=new Is;this.getContext().createBean(o),o.init({rowNode:t,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc((function(){return e.getContext().destroyBean(o)}))}this.comp.setCheckboxVisible(r)},t.prototype.onKeyDown=function(e){var t=e.key===Li.ENTER;if(t&&!this.params.suppressEnterExpand){var r=this.params.column&&this.params.column.isCellEditable(this.params.node);r||this.onExpandOrContract(e)}},t.prototype.onCellDblClicked=function(e){if(!Ze(e)){var t=rt(this.eExpanded,e)||rt(this.eContracted,e);t||this.onExpandOrContract(e)}},Xs([he("expressionService")],t.prototype,"expressionService",void 0),Xs([he("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Xs([he("columnModel")],t.prototype,"columnModel",void 0),Xs([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Xs([he("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(lt),Qs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},el=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Qs(t,e),t.prototype.init=function(e){var t=this,r={setInnerRenderer:function(e,r){return t.setRenderDetails(e,r)},setChildCount:function(e){return t.eChildCount.innerHTML=e},addOrRemoveCssClass:function(e,r){return t.addOrRemoveCssClass(e,r)},setContractedDisplayed:function(e){return jo(t.eContracted,e)},setExpandedDisplayed:function(e){return jo(t.eExpanded,e)},setCheckboxVisible:function(e){return t.eCheckbox.classList.toggle("ag-invisible",!e)}},o=this.createManagedBean(new Js),i=!e.colDef,n=this.getGui();o.init(r,n,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),i&&wr(n,"gridcell")},t.prototype.setRenderDetails=function(e,t){var r=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then((function(e){if(e){var t=function(){return r.context.destroyBean(e)};r.isAlive()?(r.eValue.appendChild(e.getGui()),r.addDestroyFunc(t)):t()}}))}else this.eValue.innerText=t},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Zs([bn("eExpanded")],t.prototype,"eExpanded",void 0),Zs([bn("eContracted")],t.prototype,"eContracted",void 0),Zs([bn("eCheckbox")],t.prototype,"eCheckbox",void 0),Zs([bn("eValue")],t.prototype,"eValue",void 0),Zs([bn("eChildCount")],t.prototype,"eChildCount",void 0),t}(mn),tl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),rl=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ol=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return tl(t,e),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=Pi("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',rl([bn("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),rl([bn("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(mn),il=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),nl=function(e){function t(){return e.call(this)||this}return il(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var r,o=null!==(r=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==r?r:t.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.localeService.getLocaleTextFunc(),n=o.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(n)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(mn),al=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sl=function(e){function t(){return e.call(this)||this}return al(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var r,o=null!==(r=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==r?r:t.DEFAULT_NO_ROWS_TEMPLATE,i=this.localeService.getLocaleTextFunc(),n=o.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(n)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(mn),ll=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),cl=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return ll(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=Tt(t)},t}(us),ul=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),dl=function(){function e(){}return e.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},e.prototype.init=function(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")},e.prototype.getValue=function(){var e=this.eInput.getValue();if(!a(e)&&!a(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(null==t)return t;if("string"===typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t},e.prototype.getStartValue=function(){return this.params.value},e}(),hl=function(e){function t(){return e.call(this,new dl)||this}return ul(t,e),t}(ys),pl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fl=function(){function e(){}return e.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},e.prototype.init=function(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)},e.prototype.getValue=function(){var e=this.eInput.getDate();return a(e)||a(this.params.value)?null!==e&&void 0!==e?e:null:this.params.value},e.prototype.getStartValue=function(){var e=this.params.value;if(e instanceof Date)return Ao(e,!1)},e}(),gl=function(e){function t(){return e.call(this,new fl)||this}return pl(t,e),t}(ys),vl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ml=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},bl=function(){function e(e){this.getDataTypeService=e}return e.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},e.prototype.init=function(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)},e.prototype.getValue=function(){var e=this.formatDate(this.eInput.getDate());return a(e)||a(this.params.value)?this.params.parseValue(null!==e&&void 0!==e?e:""):this.params.value},e.prototype.getStartValue=function(){var e,t;return Ao(null!==(t=this.parseDate(null!==(e=this.params.value)&&void 0!==e?e:void 0))&&void 0!==t?t:null,!1)},e.prototype.parseDate=function(e){return this.getDataTypeService().getDateParserFunction()(e)},e.prototype.formatDate=function(e){return this.getDataTypeService().getDateFormatterFunction()(e)},e}(),yl=function(e){function t(){var t=e.call(this,new bl((function(){return t.dataTypeService})))||this;return t}return vl(t,e),ml([he("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(ys),wl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Cl=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},El=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return wl(t,e),t.prototype.init=function(e){var t=this;this.params=e,this.updateCheckbox(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(e){if(Qe(e),!t.eCheckbox.isDisabled()){var r=t.eCheckbox.getValue();t.onCheckboxChanged(r)}})),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(function(e){Qe(e)}));var r=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",(function(e){if(e.key===Li.SPACE&&!t.eCheckbox.isDisabled()){t.params.eGridCell===r.activeElement&&t.eCheckbox.toggle();var o=t.eCheckbox.getValue();t.onCheckboxChanged(o),e.preventDefault()}}))},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var t,r,o,i,n=!0;if(e.node.group&&e.column){var a=e.column.getColId();a.startsWith(yt)?i=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[a]?i=null!==(t=e.value)&&void 0!==t?t:void 0:n=!1}else i=null!==(r=e.value)&&void 0!==r?r:void 0;if(n){this.eCheckbox.setValue(i);var s=null!=e.disabled?e.disabled:!(null===(o=e.column)||void 0===o?void 0:o.isCellEditable(e.node));this.eCheckbox.setDisabled(s);var l=this.localeService.getLocaleTextFunc(),c=Yr(l,i),u=s?c:l("ariaToggleCellValue","Press SPACE to toggle cell value")+" ("+c+")";this.eCheckbox.setInputAriaLabel(u)}else this.eCheckbox.setDisplayed(!1)},t.prototype.onCheckboxChanged=function(e){var t=this.params,r=t.column,o=t.node,i=t.rowIndex,n=t.value,a={type:gt.EVENT_CELL_EDITING_STARTED,column:r,colDef:null===r||void 0===r?void 0:r.getColDef(),data:o.data,node:o,rowIndex:i,rowPinned:o.rowPinned,value:n};this.eventService.dispatchEvent(a);var s=this.params.node.setDataValue(this.params.column,e,"edit"),l={type:gt.EVENT_CELL_EDITING_STOPPED,column:r,colDef:null===r||void 0===r?void 0:r.getColDef(),data:o.data,node:o,rowIndex:i,rowPinned:o.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:s};this.eventService.dispatchEvent(l)},t.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',Cl([bn("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(mn),Sl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xl=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Tl=function(e){function t(){return e.call(this,'\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Sl(t,e),t.prototype.init=function(e){var t,r=this;this.params=e;var o=null!==(t=e.value)&&void 0!==t?t:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,gt.EVENT_FIELD_VALUE_CHANGED,(function(e){return r.setAriaLabel(e.selected)}))},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var t=this.localeService.getLocaleTextFunc(),r=Yr(t,e),o=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(o+" ("+r+")")},xl([bn("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(us),kl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_l=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Rl=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Ol=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Dl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:Ra,agColumnHeader:ns,agColumnGroupHeader:ls,agSortIndicator:rs,agTextColumnFloatingFilter:Qa,agNumberColumnFloatingFilter:Xa,agDateColumnFloatingFilter:Ta,agReadOnlyFloatingFilter:xn,agAnimateShowChangeCellRenderer:_s,agAnimateSlideCellRenderer:Ds,agGroupCellRenderer:el,agGroupRowRenderer:el,agLoadingCellRenderer:ol,agCheckboxCellRenderer:El,agCellEditor:Es,agTextCellEditor:Es,agNumberCellEditor:hl,agDateCellEditor:gl,agDateStringCellEditor:yl,agSelectCellEditor:vs,agLargeTextCellEditor:ps,agCheckboxCellEditor:Tl,agTextColumnFilter:ja,agNumberColumnFilter:Ga,agDateColumnFilter:wa,agLoadingOverlay:nl,agNoRowsOverlay:sl,agTooltipComponent:cl},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:Z.SetFilterModule,agSetColumnFloatingFilter:Z.SetFilterModule,agMultiColumnFilter:Z.MultiFilterModule,agMultiColumnFloatingFilter:Z.MultiFilterModule,agGroupColumnFilter:Z.RowGroupingModule,agGroupColumnFloatingFilter:Z.RowGroupingModule,agRichSelect:Z.RichSelectModule,agRichSelectCellEditor:Z.RichSelectModule,agDetailCellRenderer:Z.MasterDetailModule,agSparklineCellRenderer:Z.SparklinesModule},t.jsComps={},t}return kl(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&C(this.gridOptions.components,(function(t,r){return e.registerJsComponent(t,r)}))},t.prototype.registerDefaultComponent=function(e,t){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=t},t.prototype.registerJsComponent=function(e,t){this.jsComps[e]=t},t.prototype.retrieve=function(e,t){var r=this,o=function(e,t){return{componentFromFramework:t,component:e}},i=this.getFrameworkOverrides().frameworkComponent(t,this.gridOptions.components);if(null!=i)return o(i,!0);var n=this.jsComps[t];if(n){var a=this.getFrameworkOverrides().isFrameworkComponent(n);return o(n,a)}var s=this.agGridDefaults[t];if(s)return o(s,!1);var l=this.enterpriseAgDefaultCompsModule[t];return l?ie.__assertRegistered(l,"AG Grid '"+e+"' component: "+t,this.context.getGridId()):V((function(){r.warnAboutMissingComponent(e,t)}),"MissingComp"+t),null},t.prototype.warnAboutMissingComponent=function(e,t){var r=Ol(Ol([],Rl(Object.keys(this.agGridDefaults).filter((function(e){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e)})))),Rl(Object.keys(this.jsComps))),o=Bt(t,r,!0,.8);console.warn("AG Grid: Could not find '"+t+"' component. It was configured as \""+e+": '"+t+"'\" but it wasn't found in the list of registered components."),o.length>0&&console.warn("         Did you mean: ["+o.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},_l([he("gridOptions")],t.prototype,"gridOptions",void 0),_l([ce],t.prototype,"init",null),t=_l([de("userComponentRegistry")],t),t}(lt),Al={propertyName:"dateComponent",cellRenderer:!1},Pl={propertyName:"headerComponent",cellRenderer:!1},Ml={propertyName:"headerGroupComponent",cellRenderer:!1},Ll={propertyName:"cellRenderer",cellRenderer:!0},Fl={propertyName:"cellEditor",cellRenderer:!1},Il={propertyName:"innerRenderer",cellRenderer:!0},Nl={propertyName:"loadingOverlayComponent",cellRenderer:!1},Hl={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Gl={propertyName:"tooltipComponent",cellRenderer:!1},Vl={propertyName:"filter",cellRenderer:!1},zl={propertyName:"floatingFilterComponent",cellRenderer:!1},Bl={propertyName:"toolPanel",cellRenderer:!1},jl={propertyName:"statusPanel",cellRenderer:!1},Wl={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ul={propertyName:"loadingCellRenderer",cellRenderer:!0},$l={propertyName:"groupRowRenderer",cellRenderer:!0},Kl={propertyName:"detailCellRenderer",cellRenderer:!0},Yl=function(){function e(){}return e.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},e.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},e}(),ql=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xl=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Jl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ql(t,e),t.prototype.getHeaderCompDetails=function(e,t){return this.getCompDetails(e,Pl,"agColumnHeader",t)},t.prototype.getHeaderGroupCompDetails=function(e){var t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,Ml,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Wl,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Ul,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,$l,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Kl,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,t){return this.getCompDetails(e,Il,null,t)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,t){return this.getCompDetails(e,Il,null,t)},t.prototype.getCellRendererDetails=function(e,t){return this.getCompDetails(e,Ll,null,t)},t.prototype.getCellEditorDetails=function(e,t){return this.getCompDetails(e,Fl,"agCellEditor",t,!0)},t.prototype.getFilterDetails=function(e,t,r){return this.getCompDetails(e,Vl,r,t,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,Al,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Nl,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Hl,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,Gl,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,t){return this.getCompDetails(e,Ll,null,t)},t.prototype.getFloatingFilterCompDetails=function(e,t,r){return this.getCompDetails(e,zl,r,t)},t.prototype.getToolPanelCompDetails=function(e,t){return this.getCompDetails(e,Bl,null,t,!0)},t.prototype.getStatusPanelCompDetails=function(e,t){return this.getCompDetails(e,jl,null,t,!0)},t.prototype.getCompDetails=function(e,t,r,o,i){var n=this;void 0===i&&(i=!1);var a=t.propertyName,s=t.cellRenderer,l=this.getCompKeys(e,t,o),c=l.compName,u=l.jsComp,d=l.fwComp,h=l.paramsFromSelector,p=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(e){var t=n.userComponentRegistry.retrieve(a,e);t&&(u=t.componentFromFramework?void 0:t.component,d=t.componentFromFramework?t.component:void 0)};if(null!=c&&g(c),null==u&&null==d&&null!=r&&g(r),u&&s&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(a,u)),u||d){var v=this.mergeParamsWithApplicationProvidedParams(e,t,o,h),m=null==u,b=u||d;return{componentFromFramework:m,componentClass:b,params:v,type:t,popupFromSelector:p,popupPositionFromSelector:f,newAgStackInstance:function(){return n.newAgStackInstance(b,m,v,t)}}}i&&console.error("AG Grid: Could not find component "+c+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,t,r){var o,i,n,a,s,l,c=this,u=t.propertyName;if(e){var d=e,h=d[u+"Selector"],p=h?h(r):null,f=function(e){if("string"===typeof e)o=e;else if(null!=e&&!0!==e){var t=c.getFrameworkOverrides().isFrameworkComponent(e);t?n=e:i=e}};p?(f(p.component),a=p.params,s=p.popup,l=p.popupPosition):f(d[u])}return{compName:o,jsComp:i,fwComp:n,paramsFromSelector:a,popupFromSelector:s,popupPositionFromSelector:l}},t.prototype.newAgStackInstance=function(e,t,r,o){var i,n=o.propertyName,a=!t;if(a)i=new e;else{var s=this.componentMetadataProvider.retrieve(n);i=this.frameworkComponentWrapper.wrap(e,s.mandatoryMethodList,s.optionalMethodList,o)}var l=this.initComponent(i,r);return null==l?ln.resolve(i):l.then((function(){return i}))},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,t,r,o){void 0===o&&(o=null);var i={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};A(i,r);var n=e,a=n&&n[t.propertyName+"Params"];if("function"===typeof a){var s=a(r);A(i,s)}else"object"===typeof a&&A(i,a);return A(i,o),i},t.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},t.prototype.getDefaultFloatingFilterType=function(e,t){if(null==e)return null;var r=null,o=this.getCompKeys(e,Vl),i=o.compName,n=o.jsComp,a=o.fwComp;if(i)r=Yl.getFloatingFilterType(i);else{var s=null==n&&null==a&&!0===e.filter;s&&(r=t())}return r},Xl([he("gridOptions")],t.prototype,"gridOptions",void 0),Xl([he("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Xl([he("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Xl([he("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Xl([pe("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=Xl([de("userComponentFactory")],t),t}(lt);(function(e){e[e["SINGLE_SHEET"]=0]="SINGLE_SHEET",e[e["MULTI_SHEET"]=1]="MULTI_SHEET"})(Vs||(Vs={}));var Ql,Zl,ec=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tc=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},rc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return ec(t,e),t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){var o=e.touchStartListener;t.removeEventListener("touchstart",o,{passive:!0})}},t.prototype.removeDragSource=function(e){var t=this.dragSources.find((function(t){return t.dragSource===e}));t&&(this.removeListener(t),Ne(this.dragSources,t))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var t=this,r=this.onMouseDown.bind(this,e),o=e.eElement,i=e.includeTouch,n=e.stopPropagationForTouch;o.addEventListener("mousedown",r);var a=null,s=this.gridOptionsService.is("suppressTouch");i&&!s&&(a=function(r){Bo(r.target)||(r.cancelable&&(r.preventDefault(),n&&r.stopPropagation()),t.onTouchStart(e,r))},o.addEventListener("touchstart",a,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:r,touchStartListener:a,touchEnabled:!!i})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,t){var r=this;this.currentDragParams=e,this.dragging=!1;var o=t.touches[0];this.touchLastTime=o,this.touchStart=o;var i=function(t){return r.onTouchMove(t,e.eElement)},n=function(t){return r.onTouchUp(t,e.eElement)},a=function(e){e.cancelable&&e.preventDefault()},s=t.target,l=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:a,options:{passive:!1}},{target:s,type:"touchmove",listener:i,options:{passive:!0}},{target:s,type:"touchend",listener:n,options:{passive:!0}},{target:s,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(l),0===e.dragStartPixels&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var r=this,o=t;if((!e.skipMouseEvent||!e.skipMouseEvent(t))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,0===t.button)){this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;var i=function(t){return r.onMouseMove(t,e.eElement)},n=function(t){return r.onMouseUp(t,e.eElement)},a=function(e){return e.preventDefault()},s=this.gridOptionsService.getRootNode(),l=[{target:s,type:"mousemove",listener:i},{target:s,type:"mouseup",listener:n},{target:s,type:"contextmenu",listener:a}];this.addTemporaryEvents(l),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach((function(e){var t=e.target,r=e.type,o=e.listener,i=e.options;t.addEventListener(r,o,i)})),this.dragEndFunctions.push((function(){e.forEach((function(e){var t=e.target,r=e.type,o=e.listener,i=e.options;t.removeEventListener(r,o,i)}))}))},t.prototype.isEventNearStartEvent=function(e,t){var r=this.currentDragParams.dragStartPixels,o=a(r)?r:4;return Ki(e,t,o)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;var o={type:gt.EVENT_DRAG_STARTED,target:r};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.shouldPreventMouseEvent=function(e){var t=this.gridOptionsService.is("enableCellTextSelection"),r=io(),o="mousemove"===e.type;return(t&&o||r)&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var t=e.target,r=null===t||void 0===t?void 0:t.tagName.toLocaleLowerCase();return!!(null===r||void 0===r?void 0:r.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,t){var r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var r={type:gt.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(e){return e()})),this.dragEndFunctions.length=0},tc([he("mouseEventService")],t.prototype,"mouseEventService",void 0),tc([ue],t.prototype,"removeAllListeners",null),t=tc([de("dragService")],t),t}(lt);(function(e){e[e["Above"]=0]="Above",e[e["Below"]=1]="Below"})(Ql||(Ql={})),function(e){e["EVERYTHING"]="group",e["FILTER"]="filter",e["SORT"]="sort",e["MAP"]="map",e["AGGREGATE"]="aggregate",e["FILTER_AGGREGATES"]="filter_aggregates",e["PIVOT"]="pivot",e["NOTHING"]="nothing"}(Zl||(Zl={}));var oc=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};function ic(e){var t=e,r=null!=t&&null!=t.getFrameworkComponentInstance;return r?t.getFrameworkComponentInstance():e}var nc,ac=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},e.prototype.registerSideBarComp=function(e){this.sideBarComp=e},e.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.__getContext=function(){return this.context},e.prototype.getSetterMethod=function(e){return"set"+e.charAt(0).toUpperCase()+e.substring(1)},e.prototype.__setProperty=function(e,t){this.gos.set(e,t);var r=this.getSetterMethod(e),o=this;o[r]&&o[r](t)},e.prototype.getGridId=function(){return this.context.getGridId()},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;C(this.detailGridInfoMap,(function(r,o){a(o)&&(e(o,t),t++)}))},e.prototype.getDataAsCsv=function(e){if(ie.__assertRegistered(Z.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){ie.__assertRegistered(Z.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getExcelExportMode=function(e){var t=this.gos.get("defaultExcelExportParams"),r=Object.assign({exportMode:"xlsx"},t,e);return r.exportMode},e.prototype.assertNotExcelMultiSheet=function(e,t){if(!ie.__assertRegistered(Z.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;var r=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(r)!==Vs.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},e.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},e.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},e.prototype.getSheetDataForExcel=function(e){if(ie.__assertRegistered(Z.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId())){var t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(Vs.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}},e.prototype.getMultipleSheetsAsExcel=function(e){if(ie.__assertRegistered(Z.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)},e.prototype.exportMultipleSheetsAsExcel=function(e){if(ie.__assertRegistered(Z.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)},e.prototype.setGridAriaProperty=function(e,t){if(e){var r=this.ctrlsService.getGridBodyCtrl().getGui(),o="aria-"+e;null===t?r.removeAttribute(o):r.setAttribute(o,t)}},e.prototype.logMissingRowModel=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console.error("AG Grid: api."+e+" can only be called when gridOptions.rowModelType is "+t.join(" or "))},e.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")},e.prototype.setCacheBlockSize=function(e){this.serverSideRowModel?(this.gos.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},e.prototype.setDatasource=function(e){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")},e.prototype.setViewportDatasource=function(e){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")},e.prototype.setRowData=function(e){var t=null==this.immutableService;t?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnModel.setColumnDefs(e,t),this.gos.set("columnDefs",e,!0,{source:t})},e.prototype.setAutoGroupColumnDef=function(e,t){void 0===t&&(t="api"),this.gos.set("autoGroupColumnDef",e,!0,{source:t})},e.prototype.setDefaultColDef=function(e,t){void 0===t&&(t="api"),this.gos.set("defaultColDef",e,!0,{source:t})},e.prototype.setColumnTypes=function(e,t){void 0===t&&(t="api"),this.gos.set("columnTypes",e,!0,{source:t})},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},e.prototype.setAlwaysShowHorizontalScroll=function(e){this.gos.set("alwaysShowHorizontalScroll",e)},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gos.set("alwaysShowVerticalScroll",e)},e.prototype.refreshCells=function(e){void 0===e&&(e={}),this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={});var t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)},e.prototype.setFunctionsReadOnly=function(e){this.gos.set("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(e){return e.refresh()}))},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t,r){e&&(r&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,r),e.setExpanded(t))},e.prototype.onGroupExpandedOrCollapsed=function(){s(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:Zl.MAP})},e.prototype.refreshClientSideRowModel=function(e){s(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(e)},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},e.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},e.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},e.prototype.addRenderedRowListener=function(e,t,r){this.rowRenderer.addRenderedRowListener(e,t,r)},e.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},e.prototype.setQuickFilter=function(e){this.gos.set("quickFilterText",e)},e.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){Yt("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)},e.prototype.setIncludeHiddenColumnsInQuickFilter=function(e){this.gos.set("includeHiddenColumnsInQuickFilter",e)},e.prototype.getAdvancedFilterModel=function(){return ie.__assertRegistered(Z.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},e.prototype.setAdvancedFilterModel=function(e){ie.__assertRegistered(Z.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.setAdvancedFilterModel(e)},e.prototype.setEnableAdvancedFilter=function(e){this.gos.set("enableAdvancedFilter",e)},e.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(e){this.gos.set("includeHiddenColumnsInAdvancedFilter",e)},e.prototype.setAdvancedFilterParent=function(e){this.gos.set("advancedFilterParent",e)},e.prototype.setNodesSelected=function(e){var t=e.nodes.every((function(e){return e.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==e.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)}));if(t){var r=e.nodes,o=e.source,i=e.newValue,n=r;this.selectionService.setNodesSelected({nodes:n,source:null!==o&&void 0!==o?o:"api",newValue:i})}},e.prototype.selectAll=function(e){void 0===e&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},e.prototype.deselectAll=function(e){void 0===e&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},e.prototype.selectAllFiltered=function(e){void 0===e&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},e.prototype.deselectAllFiltered=function(e){void 0===e&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},e.prototype.getServerSideSelectionState=function(){return s(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},e.prototype.setServerSideSelectionState=function(e){s(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(e)},e.prototype.selectAllOnCurrentPage=function(e){void 0===e&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},e.prototype.deselectAllOnCurrentPage=function(e){void 0===e&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},e.prototype.sizeColumnsToFit=function(e){this.gridBodyCtrl.sizeColumnsToFit(e)},e.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},e.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){if(!s(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColumnVisible=function(e,t){void 0===t&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},e.prototype.ensureIndexVisible=function(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){void 0===t&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){s(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},e.prototype.forEachNodeAfterFilter=function(e){s(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){s(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterInstance=function(e,t){return this.filterManager.getFilterInstance(e,t)},e.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")},e.prototype.getStatusPanel=function(e){if(ie.__assertRegistered(Z.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var t=this.statusBarService.getStatusPanel(e);return ic(t)}},e.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},e.prototype.onFilterChanged=function(e){void 0===e&&(e="api"),this.filterManager.onFilterChanged({source:e})},e.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,r){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:r,forceBrowserFocus:!0})},e.prototype.setSuppressRowDrag=function(e){this.gos.set("suppressRowDrag",e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gos.set("suppressMoveWhenRowDragging",e)},e.prototype.setSuppressRowClickSelection=function(e){this.gos.set("suppressRowClickSelection",e)},e.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gos.set("headerHeight",e)},e.prototype.setDomLayout=function(e){this.gos.set("domLayout",e)},e.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},e.prototype.setFillHandleDirection=function(e){this.gos.set("fillHandleDirection",e)},e.prototype.setGroupHeaderHeight=function(e){this.gos.set("groupHeaderHeight",e)},e.prototype.setFloatingFiltersHeight=function(e){this.gos.set("floatingFiltersHeight",e)},e.prototype.setPivotHeaderHeight=function(e){this.gos.set("pivotHeaderHeight",e)},e.prototype.setPivotGroupHeaderHeight=function(e){this.gos.set("pivotGroupHeaderHeight",e)},e.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},e.prototype.setAnimateRows=function(e){this.gos.set("animateRows",e)},e.prototype.setIsExternalFilterPresent=function(e){this.gos.set("isExternalFilterPresent",e)},e.prototype.setDoesExternalFilterPass=function(e){this.gos.set("doesExternalFilterPass",e)},e.prototype.setNavigateToNextCell=function(e){this.gos.set("navigateToNextCell",e)},e.prototype.setTabToNextCell=function(e){this.gos.set("tabToNextCell",e)},e.prototype.setTabToNextHeader=function(e){this.gos.set("tabToNextHeader",e)},e.prototype.setNavigateToNextHeader=function(e){this.gos.set("navigateToNextHeader",e)},e.prototype.setRowGroupPanelShow=function(e){this.gos.set("rowGroupPanelShow",e)},e.prototype.setGetGroupRowAgg=function(e){this.gos.set("getGroupRowAgg",e)},e.prototype.setGetBusinessKeyForNode=function(e){this.gos.set("getBusinessKeyForNode",e)},e.prototype.setGetChildCount=function(e){this.gos.set("getChildCount",e)},e.prototype.setProcessRowPostCreate=function(e){this.gos.set("processRowPostCreate",e)},e.prototype.setGetRowId=function(e){this.gos.set("getRowId",e)},e.prototype.setGetRowClass=function(e){this.gos.set("getRowClass",e)},e.prototype.setIsFullWidthRow=function(e){this.gos.set("isFullWidthRow",e)},e.prototype.setIsRowSelectable=function(e){this.gos.set("isRowSelectable",e)},e.prototype.setIsRowMaster=function(e){this.gos.set("isRowMaster",e)},e.prototype.setPostSortRows=function(e){this.gos.set("postSortRows",e)},e.prototype.setGetDocument=function(e){this.gos.set("getDocument",e)},e.prototype.setGetContextMenuItems=function(e){this.gos.set("getContextMenuItems",e)},e.prototype.setGetMainMenuItems=function(e){this.gos.set("getMainMenuItems",e)},e.prototype.setProcessCellForClipboard=function(e){this.gos.set("processCellForClipboard",e)},e.prototype.setSendToClipboard=function(e){this.gos.set("sendToClipboard",e)},e.prototype.setProcessCellFromClipboard=function(e){this.gos.set("processCellFromClipboard",e)},e.prototype.setProcessSecondaryColDef=function(e){Yt("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)},e.prototype.setProcessSecondaryColGroupDef=function(e){Yt("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)},e.prototype.setProcessPivotResultColDef=function(e){this.gos.set("processPivotResultColDef",e)},e.prototype.setProcessPivotResultColGroupDef=function(e){this.gos.set("processPivotResultColGroupDef",e)},e.prototype.setPostProcessPopup=function(e){this.gos.set("postProcessPopup",e)},e.prototype.setInitialGroupOrderComparator=function(e){this.gos.set("initialGroupOrderComparator",e)},e.prototype.setGetChartToolbarItems=function(e){this.gos.set("getChartToolbarItems",e)},e.prototype.setPaginationNumberFormatter=function(e){this.gos.set("paginationNumberFormatter",e)},e.prototype.setGetServerSideStoreParams=function(e){Yt("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)},e.prototype.setGetServerSideGroupLevelParams=function(e){this.gos.set("getServerSideGroupLevelParams",e)},e.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gos.set("isServerSideGroupOpenByDefault",e)},e.prototype.setIsApplyServerSideTransaction=function(e){this.gos.set("isApplyServerSideTransaction",e)},e.prototype.setIsServerSideGroup=function(e){this.gos.set("isServerSideGroup",e)},e.prototype.setGetServerSideGroupKey=function(e){this.gos.set("getServerSideGroupKey",e)},e.prototype.setGetRowStyle=function(e){this.gos.set("getRowStyle",e)},e.prototype.setGetRowHeight=function(e){this.gos.set("getRowHeight",e)},e.prototype.assertSideBarLoaded=function(e){return ie.__assertRegistered(Z.SideBarModule,"api."+e,this.context.getGridId())},e.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},e.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)},e.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)},e.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")},e.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},e.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},e.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},e.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},e.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarComp.getToolPanelInstance(e);return ic(t)}},e.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},e.prototype.setSideBar=function(e){this.gos.set("sideBar",e)},e.prototype.setSuppressClipboardPaste=function(e){this.gos.set("suppressClipboardPaste",e)},e.prototype.resetRowHeights=function(){if(a(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},e.prototype.setGroupRemoveSingleChildren=function(e){this.gos.set("groupRemoveSingleChildren",e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gos.set("groupRemoveLowestSingleChildren",e)},e.prototype.setGroupDisplayType=function(e){this.gos.set("groupDisplayType",e)},e.prototype.setRowClass=function(e){this.gos.set("rowClass",e)},e.prototype.setDeltaSort=function(e){this.gos.set("deltaSort",e)},e.prototype.setRowCount=function(e,t){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(e,t):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):this.logMissingRowModel("setRowCount","infinite","serverSide")},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var r=this.columnModel.getPrimaryColumn(e);return s(r)&&(r=this.columnModel.getGridColumn(e)),s(r)?null:this.valueService.getValue(r,t)},e.prototype.addEventListener=function(e,t){var r=this.gos.useAsyncEvents();this.eventService.addEventListener(e,t,r)},e.prototype.addGlobalListener=function(e){var t=this.gos.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var r=this.gos.useAsyncEvents();this.eventService.removeEventListener(e,t,r)},e.prototype.removeGlobalListener=function(e){var t=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(I.bind(window,this,"Grid API"),100)},e.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},e.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},e.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(ie.__assertRegistered(Z.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},e.prototype.addCellRange=function(e){this.rangeService?this.rangeService.addCellRange(e):ie.__assertRegistered(Z.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},e.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),ie.__assertRegistered(Z.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},e.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},e.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},e.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},e.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},e.prototype.getChartModels=function(){if(ie.__assertRegistered(Z.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},e.prototype.getChartRef=function(e){if(ie.__assertRegistered(Z.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)},e.prototype.getChartImageDataURL=function(e){if(ie.__assertRegistered(Z.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)},e.prototype.downloadChart=function(e){if(ie.__assertRegistered(Z.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)},e.prototype.openChartToolPanel=function(e){if(ie.__assertRegistered(Z.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)},e.prototype.closeChartToolPanel=function(e){if(ie.__assertRegistered(Z.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)},e.prototype.createRangeChart=function(e){if(ie.__assertRegistered(Z.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)},e.prototype.createPivotChart=function(e){if(ie.__assertRegistered(Z.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)},e.prototype.createCrossFilterChart=function(e){if(ie.__assertRegistered(Z.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)},e.prototype.updateChart=function(e){ie.__assertRegistered(Z.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)},e.prototype.restoreChart=function(e,t){if(ie.__assertRegistered(Z.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)},e.prototype.copyToClipboard=function(e){ie.__assertRegistered(Z.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)},e.prototype.cutToClipboard=function(e){ie.__assertRegistered(Z.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")},e.prototype.copySelectedRowsToClipboard=function(e){ie.__assertRegistered(Z.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)},e.prototype.copySelectedRangeToClipboard=function(e){ie.__assertRegistered(Z.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){ie.__assertRegistered(Z.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},e.prototype.pasteFromClipboard=function(){ie.__assertRegistered(Z.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var r=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(r,t,"columnMenu")},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var r=this.columnModel.getGridColumn(e);r||(r=this.columnModel.getPrimaryColumn(e)),r?this.menuFactory.showMenuAfterMouseEvent(r,t):console.error("AG Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gos.set("popupParent",e)},e.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},e.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},e.prototype.getCellRendererInstances=function(e){void 0===e&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),r=t.map(ic);return r},e.prototype.getCellEditorInstances=function(e){void 0===e&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),r=t.map(ic);return r},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(t){var r={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},o=null==e.rowPinned;o&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var i=this.navigationService.getCellByPosition(r);i&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),i.startRowOrCellEdit(e.key))}else console.warn("AG Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyServerSideTransaction=function(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);this.logMissingRowModel("applyServerSideTransaction","serverSide")},e.prototype.applyServerSideTransactionAsync=function(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},e.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},e.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},e.prototype.applyTransaction=function(e){if(this.clientSideRowModel)return this.clientSideRowModel.updateRowData(e);this.logMissingRowModel("applyTransaction","clientSide")},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):this.logMissingRowModel("applyTransactionAsync","clientSide")},e.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},e.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.gos.set("suppressModelUpdateAfterUpdateTransaction",e)},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},e.prototype.refreshServerSide=function(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):this.logMissingRowModel("refreshServerSide","serverSide")},e.prototype.refreshServerSideStore=function(e){return Yt("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)},e.prototype.getServerSideStoreState=function(){return Yt("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},e.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},e.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},e.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.setDataTypeDefinitions=function(e){this.gos.set("dataTypeDefinitions",e)},e.prototype.setPagination=function(e){this.gos.set("pagination",e)},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gos.set("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},oc([pe("immutableService")],e.prototype,"immutableService",void 0),oc([pe("csvCreator")],e.prototype,"csvCreator",void 0),oc([pe("excelCreator")],e.prototype,"excelCreator",void 0),oc([he("rowRenderer")],e.prototype,"rowRenderer",void 0),oc([he("navigationService")],e.prototype,"navigationService",void 0),oc([he("filterManager")],e.prototype,"filterManager",void 0),oc([he("columnModel")],e.prototype,"columnModel",void 0),oc([he("selectionService")],e.prototype,"selectionService",void 0),oc([he("gridOptionsService")],e.prototype,"gos",void 0),oc([he("valueService")],e.prototype,"valueService",void 0),oc([he("alignedGridsService")],e.prototype,"alignedGridsService",void 0),oc([he("eventService")],e.prototype,"eventService",void 0),oc([he("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),oc([he("context")],e.prototype,"context",void 0),oc([he("rowModel")],e.prototype,"rowModel",void 0),oc([he("sortController")],e.prototype,"sortController",void 0),oc([he("paginationProxy")],e.prototype,"paginationProxy",void 0),oc([he("focusService")],e.prototype,"focusService",void 0),oc([he("dragAndDropService")],e.prototype,"dragAndDropService",void 0),oc([pe("rangeService")],e.prototype,"rangeService",void 0),oc([pe("clipboardService")],e.prototype,"clipboardService",void 0),oc([pe("aggFuncService")],e.prototype,"aggFuncService",void 0),oc([he("menuFactory")],e.prototype,"menuFactory",void 0),oc([pe("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),oc([he("valueCache")],e.prototype,"valueCache",void 0),oc([he("animationFrameService")],e.prototype,"animationFrameService",void 0),oc([pe("statusBarService")],e.prototype,"statusBarService",void 0),oc([pe("chartService")],e.prototype,"chartService",void 0),oc([pe("undoRedoService")],e.prototype,"undoRedoService",void 0),oc([pe("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),oc([pe("ssrmTransactionManager")],e.prototype,"serverSideTransactionManager",void 0),oc([he("ctrlsService")],e.prototype,"ctrlsService",void 0),oc([ce],e.prototype,"init",null),oc([ue],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),e=oc([de("gridApi")],e),e}(),sc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lc=function(){return lc=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lc.apply(this,arguments)},cc=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},uc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.allColumnListeners=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t.filterModelUpdateQueue=[],t}var r;return sc(t,e),r=t,t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_GRID_COLUMNS_CHANGED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_VALUE_CHANGED,(function(){return e.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PIVOT_CHANGED,(function(){return e.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){e.refreshFiltersForAggregations(),e.resetQuickFilterCache()})),this.addManagedListener(this.eventService,gt.EVENT_NEW_COLUMNS_LOADED,(function(){e.resetQuickFilterCache(),e.updateAdvancedFilterColumns()})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.resetQuickFilterCache()})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_VISIBLE,(function(){e.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||e.resetQuickFilterCache(),e.updateAdvancedFilterColumns()})),this.addManagedPropertyListener("quickFilterText",(function(t){return e.setQuickFilter(t.currentValue)})),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",(function(){return e.onIncludeHiddenColumnsInQuickFilterChanged()})),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(function(){return e.updateAggFiltering()})),this.addManagedPropertyListener("advancedFilterModel",(function(t){return e.setAdvancedFilterModel(t.currentValue)})),this.addManagedListener(this.eventService,gt.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,(function(t){var r=t.enabled;return e.onAdvancedFilterEnabledChanged(r)})),this.addManagedListener(this.eventService,gt.EVENT_DATA_TYPES_INFERRED,(function(){return e.processFilterModelUpdateQueue()}))},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})},t.prototype.doesExternalFilterPass=function(e){var t=this.gridOptionsService.get("doesExternalFilterPass");return"function"===typeof t&&t(e)},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(e){var t=this;if(this.isAdvancedFilterEnabled())this.warnAdvancedFilters();else if(this.dataTypeService.isPendingInference())this.filterModelUpdateQueue.push(e);else{var r=[],o=this.getFilterModel();if(e){var i=Qi(Object.keys(e));this.allColumnFilters.forEach((function(o,n){var a=e[n];r.push(t.setModelOnFilterWrapper(o.filterPromise,a)),i.delete(n)})),i.forEach((function(o){var i=t.columnModel.getPrimaryColumn(o)||t.columnModel.getGridColumn(o);if(i)if(i.isFilterAllowed()){var n=t.getOrCreateFilterWrapper(i,"NO_UI");n?r.push(t.setModelOnFilterWrapper(n.filterPromise,e[o])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+o)}))}else this.allColumnFilters.forEach((function(e){r.push(t.setModelOnFilterWrapper(e.filterPromise,null))}));ln.all(r).then((function(){var e=t.getFilterModel(),r=[];t.allColumnFilters.forEach((function(t,i){var n=o?o[i]:null,a=e?e[i]:null;on.jsonEquals(n,a)||r.push(t.column)})),r.length>0&&t.onFilterChanged({columns:r,source:"api"})}))}},t.prototype.setModelOnFilterWrapper=function(e,t){return new ln((function(r){e.then((function(e){"function"!==typeof e.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(e.setModel(t)||ln.resolve()).then((function(){return r()}))}))}))},t.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach((function(t,r){var o=t.filterPromise,i=o.resolveNow(null,(function(e){return e}));if(null==i)return null;if("function"===typeof i.getModel){var n=i.getModel();a(n)&&(e[r]=n)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")})),e},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var t,r=this;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach((function(e){return r.disposeFilterWrapper(e,"advancedFilterEnabled")})),this.onFilterChanged({source:"advancedFilter"})):(null===(t=this.advancedFilterService)||void 0===t?void 0:t.isFilterPresent())&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return null===(e=this.advancedFilterService)||void 0===e?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,t){return this.doColumnFiltersPass(e,t,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var t=function(e){return!!e&&(e.isFilterActive?e.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},r=!!this.gridOptionsService.getGroupAggFiltering(),o=function(t){var o=!t.isPrimary();if(o)return!0;var i=!e.columnModel.isPivotActive(),n=t.isValueActive();return!(!n||!i)&&(!!e.columnModel.isPivotMode()||r)};this.allColumnFilters.forEach((function(r){if(r.filterPromise.resolveNow(!1,t)){var i=r.filterPromise.resolveNow(null,(function(e){return e}));o(r.column)?e.activeAggregateFilters.push(i):e.activeColumnFilters.push(i)}}))},t.prototype.updateFilterFlagInColumns=function(e,t){this.allColumnFilters.forEach((function(r){var o=r.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}));r.column.setFilterActive(o,e,t)}))},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(e,t,r){for(var o=e.data,i=e.aggData,n=r?this.activeAggregateFilters:this.activeColumnFilters,a=r?i:o,s=0;s<n.length;s++){var l=n[s];if(null!=l&&l!==t){if("function"!==typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:a}))return!1}}return!0},t.prototype.parseQuickFilter=function(e){return a(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(e){if(null==e||"string"===typeof e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged({source:"quickFilter"}))}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof e)},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode((function(e){return e.quickFilterAggregateText=null}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged({source:"quickFilter"})},t.prototype.refreshFiltersForAggregations=function(){var e=this.gridOptionsService.getGroupAggFiltering();e&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var t=this,r=function(){return t.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(r,0):r()},t.prototype.onFilterChanged=function(e){void 0===e&&(e={});var t=e.source,r=e.filterInstance,o=e.additionalEventAttributes,i=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach((function(e){e.filterPromise&&e.filterPromise.then((function(e){e&&e!==r&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}));var n={source:t,type:gt.EVENT_FILTER_CHANGED,columns:i||[]};o&&A(n,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})},t.prototype.doesRowPassQuickFilterNoCache=function(e,t){var r=this,o=this.columnModel.getAllColumnsForQuickFilter();return o.some((function(o){var i=r.getQuickFilterTextForColumn(o,e);return a(i)&&i.indexOf(t)>=0}))},t.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},t.prototype.doesRowPassQuickFilter=function(e){var t=this,r=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every((function(o){return r?t.doesRowPassQuickFilterCache(e,o):t.doesRowPassQuickFilterNoCache(e,o)}))},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode))&&!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode))&&(!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))))},t.prototype.getQuickFilterTextForColumn=function(e,t){var r=this.valueService.getValue(e,t,!0),o=e.getColDef();if(o.getQuickFilterText){var i={value:r,node:t,data:t.data,column:e,colDef:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};r=o.getQuickFilterText(i)}return a(r)?r.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(e){var t=this,o=[],i=this.columnModel.getAllColumnsForQuickFilter();i.forEach((function(r){var i=t.getQuickFilterTextForColumn(r,e);a(i)&&o.push(i)})),e.quickFilterAggregateText=o.join(r.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach((function(e){e.filterPromise.then((function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var t=this;return function(r){var o=r.node;return t.valueService.getValue(e,o,!0)}},t.prototype.getFilterComponent=function(e,t,r){var o;if(void 0===r&&(r=!0),r)return(null===(o=this.getOrCreateFilterWrapper(e,t))||void 0===o?void 0:o.filterPromise)||null;var i=this.cachedFilter(e);return i?i.filterPromise:null},t.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))},t.prototype.getOrCreateFilterWrapper=function(e,t){var r=this;if(!e.isFilterAllowed())return null;var o=this.cachedFilter(e);if(o)"NO_UI"!==t&&this.putIntoGui(o,t);else{o=this.createFilterWrapper(e,t);var i=e.getColId();this.allColumnFilters.set(i,o),this.allColumnListeners.set(i,this.addManagedListener(e,Te.EVENT_COL_DEF_CHANGED,(function(){return r.checkDestroyFilter(i)})))}return o},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var t;if(ie.__isRegistered(Z.SetFilterModule,this.context.getGridId()))t="agSetColumnFilter";else{var r=e.getColDef().cellDataType;t="number"===r?"agNumberColumnFilter":"date"===r||"dateString"===r?"agDateColumnFilter":"agTextColumnFilter"}return t},t.prototype.getDefaultFloatingFilter=function(e){var t;if(ie.__isRegistered(Z.SetFilterModule,this.context.getGridId()))t="agSetColumnFloatingFilter";else{var r=e.getColDef().cellDataType;t="number"===r?"agNumberColumnFloatingFilter":"date"===r||"dateString"===r?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t},t.prototype.createFilterInstance=function(e){var t,r=this,o=this.getDefaultFilter(e),i=e.getColDef(),n=lc(lc({},this.createFilterParams(e,i)),{filterModifiedCallback:function(){var o={type:gt.EVENT_FILTER_MODIFIED,column:e,filterInstance:t};r.eventService.dispatchEvent(o)},filterChangedCallback:function(o){var i,n=null!==(i=null===o||void 0===o?void 0:o.source)&&void 0!==i?i:"api",a={filterInstance:t,additionalEventAttributes:o,columns:[e],source:n};r.callOnFilterChangedOutsideRenderCycle(a)},doesRowPassOtherFilter:function(e){return r.doesRowPassOtherFilters(t,e)}}),a=this.userComponentFactory.getFilterDetails(i,n,o);return a?{filterPromise:function(){var e=a.newAgStackInstance();return e&&e.then((function(e){return t=e})),e},compDetails:a}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,t){var r={column:e,colDef:E(t),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return r},t.prototype.createFilterWrapper=function(e,t){var r,o={column:e,filterPromise:null,compiledElement:null,guiPromise:ln.resolve(null),compDetails:null},i=this.createFilterInstance(e),n=i.filterPromise,a=i.compDetails;return o.filterPromise=null!==(r=null===n||void 0===n?void 0:n())&&void 0!==r?r:null,o.compDetails=a,n&&this.putIntoGui(o,t),o},t.prototype.putIntoGui=function(e,t){var r=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new ln((function(i){e.filterPromise.then((function(n){var s=n.getGui();a(s)||console.warn("AG Grid: getGui method from filter returned "+s+", it should be a DOM element or an HTML template string."),"string"===typeof s&&(s=ai(s)),o.appendChild(s),i(o);var l={type:gt.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:o};r.eventService.dispatchEvent(l)}))}))},t.prototype.onColumnsChanged=function(){var e=this,t=[];this.allColumnFilters.forEach((function(r,o){var i;i=r.column.isPrimary()?e.columnModel.getPrimaryColumn(o):e.columnModel.getGridColumn(o),i||(t.push(r.column),e.disposeFilterWrapper(r,"columnChanged"),e.disposeColumnListener(o))})),t.length>0?this.onFilterChanged({columns:t,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,t=this.columnModel.getGroupAutoColumns();null===t||void 0===t||t.forEach((function(t){"agGroupColumnFilter"===t.getColDef().filter&&e.getOrCreateFilterWrapper(t,"NO_UI")}))},t.prototype.isFilterAllowed=function(e){var t,r;if(this.isAdvancedFilterEnabled())return!1;var o=e.isFilterAllowed();if(!o)return!1;var i=this.allColumnFilters.get(e.getColId());return null===(r=null===(t=null===i||void 0===i?void 0:i.filterPromise)||void 0===t?void 0:t.resolveNow(!0,(function(e){var t,r;return"function"!==typeof(null===(t=e)||void 0===t?void 0:t.isFilterAllowed)||(null===(r=e)||void 0===r?void 0:r.isFilterAllowed())})))||void 0===r||r},t.prototype.getFloatingFilterCompDetails=function(e,t){var r=this,o=e.getColDef(),i=this.createFilterParams(e,o),n=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,Vl,i),a=this.userComponentFactory.getDefaultFloatingFilterType(o,(function(){return r.getDefaultFloatingFilter(e)}));null==a&&(a="agReadOnlyFloatingFilter");var s=function(t){var o=r.getFilterComponent(e,"NO_UI");null!=o&&o.then((function(e){t(ic(e))}))},l={column:e,filterParams:n,currentParentModel:function(){return r.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:s,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,l,a)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,(function(e){return e&&e.getModel()})):null},t.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var r=e.getColId(),o=this.allColumnFilters.get(r);this.disposeColumnListener(r),o&&(this.disposeFilterWrapper(o,t),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())},t.prototype.disposeFilterWrapper=function(e,t){var r=this;e.filterPromise.then((function(o){(o.setModel(null)||ln.resolve()).then((function(){r.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),r.allColumnFilters.delete(e.column.getColId());var i={type:gt.EVENT_FILTER_DESTROYED,source:t,column:e.column};r.eventService.dispatchEvent(i)}))}))},t.prototype.checkDestroyFilter=function(e){var t=this.allColumnFilters.get(e);if(t){var r=t.column,o=(r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null}).compDetails;this.areFilterCompsDifferent(t.compDetails,o)&&this.destroyFilter(r,"columnChanged")}},t.prototype.areFilterCompsDifferent=function(e,t){if(!t||!e)return!0;var r=e.componentClass,o=t.componentClass,i=r===o||(null===r||void 0===r?void 0:r.render)&&(null===o||void 0===o?void 0:o.render)&&r.render===o.render;return!i},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(e),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var e=this.columnModel.getAllGridColumns();return!!e&&e.some((function(e){return e.getColDef().floatingFilter}))},t.prototype.getFilterInstance=function(e,t){if(!this.isAdvancedFilterEnabled()){var r=this.getFilterInstanceImpl(e,(function(e){if(t){var r=ic(e);t(r)}})),o=ic(r);return o}this.warnAdvancedFilters()},t.prototype.getFilterInstanceImpl=function(e,t){var r=this.columnModel.getPrimaryColumn(e);if(r){var o=this.getFilterComponent(r,"NO_UI"),i=o&&o.resolveNow(null,(function(e){return e}));return i?setTimeout(t,0,i):o&&o.then((function(e){t(e)})),i}},t.prototype.warnAdvancedFilters=function(){V((function(){console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")}),"advancedFiltersCompatibility")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var t;null===(t=this.advancedFilterService)||void 0===t||t.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach((function(t){return e.setFilterModel(t)})),this.filterModelUpdateQueue=[]},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allColumnFilters.forEach((function(e){return t.disposeFilterWrapper(e,"gridDestroyed")})),this.allColumnListeners.clear()},t.QUICK_FILTER_SEPARATOR="\n",cc([he("valueService")],t.prototype,"valueService",void 0),cc([he("columnModel")],t.prototype,"columnModel",void 0),cc([he("rowModel")],t.prototype,"rowModel",void 0),cc([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),cc([he("rowRenderer")],t.prototype,"rowRenderer",void 0),cc([he("dataTypeService")],t.prototype,"dataTypeService",void 0),cc([pe("advancedFilterService")],t.prototype,"advancedFilterService",void 0),cc([ce],t.prototype,"init",null),t=r=cc([de("filterManager")],t),t}(lt),dc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hc=function(e){function t(t,r){var o=e.call(this,t)||this;return o.ctrl=r,o}return dc(t,e),t.prototype.getCtrl=function(){return this.ctrl},t}(mn),pc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fc=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},gc=function(e){function t(r){return e.call(this,t.TEMPLATE,r)||this}return pc(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),r={addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},addOrRemoveBodyCssClass:function(t,r){return e.eFloatingFilterBody.classList.toggle(t,r)},setButtonWrapperDisplayed:function(t){return jo(e.eButtonWrapper,t)},setCompDetails:function(t){return e.setCompDetails(t)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(e){return t.style.width=e},setMenuIcon:function(t){return e.eButtonShowMainFilter.appendChild(t)}};this.ctrl.setComp(r,t,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var t=this;if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then((function(e){return t.afterCompCreated(e)}))},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){e&&(this.isAlive()?(this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()):this.destroyBean(e))},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',fc([bn("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),fc([bn("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),fc([bn("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),fc([ce],t.prototype,"postConstruct",null),fc([ue],t.prototype,"destroyFloatingFilterComp",null),t}(hc),vc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mc=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e["AUTO_HEIGHT"]="ag-layout-auto-height",e["NORMAL"]="ag-layout-normal",e["PRINT"]="ag-layout-print"})(nc||(nc={}));var bc,yc,wc=function(e){function t(t){var r=e.call(this)||this;return r.view=t,r}return vc(t,e),t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},r=t.autoHeight?nc.AUTO_HEIGHT:t.print?nc.PRINT:nc.NORMAL;this.view.updateLayoutClasses(r,t)},t.prototype.getDomLayout=function(){var e,t=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal",r=["normal","print","autoHeight"];return-1===r.indexOf(t)?(V((function(){return console.warn("AG Grid: "+t+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")}),"warn about dom layout values"),"normal"):t},mc([ce],t.prototype,"postConstruct",null),t}(lt),Cc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ec=function(){return Ec=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ec.apply(this,arguments)},Sc=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e[e["Vertical"]=0]="Vertical",e[e["Horizontal"]=1]="Horizontal"})(bc||(bc={})),function(e){e[e["Container"]=0]="Container",e[e["FakeContainer"]=1]="FakeContainer"}(yc||(yc={}));var xc,Tc=function(e){function t(t){var r=e.call(this)||this;return r.lastScrollSource=[null,null],r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.eBodyViewport=t,r.resetLastHScrollDebounced=Y((function(){return r.lastScrollSource[bc.Horizontal]=null}),500),r.resetLastVScrollDebounced=Y((function(){return r.lastScrollSource[bc.Vertical]=null}),500),r}return Cc(t,e),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((function(t){e.centerRowContainerCtrl=t.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()}))},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var r=this.gridOptionsService.is("debounceVerticalScrollbar"),o=r?Y(this.onVScroll.bind(this),100):this.onVScroll.bind(this),i=r?Y(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),t.onScrollCallback(i)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var t=null==this.centerRowContainerCtrl;if(!t){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var r=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),i=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),n=this.ctrlsService.getBottomCenterRowContainerCtrl(),a=this.ctrlsService.getFakeHScrollComp(),s=this.ctrlsService.getHeaderRowContainerCtrl();s.setHorizontalScroll(-r),n.setContainerTranslateX(r),o.setContainerTranslateX(r),i.setContainerTranslateX(r);var l=this.centerRowContainerCtrl.getViewportElement(),c=this.lastScrollSource[bc.Horizontal]===yc.Container;e=Math.abs(e),c?a.setScrollPosition(e):ti(l,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,t){return null==this.lastScrollSource[t]?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(yc.FakeContainer,bc.Horizontal)&&this.onHScrollCommon(yc.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(yc.Container,bc.Horizontal)&&this.onHScrollCommon(yc.Container)},t.prototype.onHScrollCommon=function(e){var t,r=this.centerRowContainerCtrl.getViewportElement(),o=r.scrollLeft;this.shouldBlockScrollUpdate(bc.Horizontal,o,!0)||(t=e===yc.Container?ei(r,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(t)),this.resetLastHScrollDebounced())},t.prototype.onFakeVScroll=function(){this.isControllingScroll(yc.FakeContainer,bc.Vertical)&&this.onVScrollCommon(yc.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(yc.Container,bc.Vertical)&&this.onVScrollCommon(yc.Container)},t.prototype.onVScrollCommon=function(e){var t;t=e===yc.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),this.shouldBlockScrollUpdate(bc.Vertical,t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===yc.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var t=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(bc.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var t=this,r={type:gt.EVENT_BODY_SCROLL,direction:e===bc.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(r),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((function(){var e=Ec(Ec({},r),{type:gt.EVENT_BODY_SCROLL_END});t.eventService.dispatchEvent(e)}),100)},t.prototype.shouldBlockScrollUpdate=function(e,t,r){return void 0===r&&(r=!1),!(r&&!co())&&(e===bc.Vertical?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))},t.prototype.shouldBlockVerticalScroll=function(e){var t=Yo(this.eBodyViewport),r=this.eBodyViewport.scrollHeight;return e<0||e+t>r},t.prototype.shouldBlockHorizontalScroll=function(e){var t=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Zo()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(bc.Vertical)},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(yc.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,t){void 0===t&&(t=!1);var r=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(bc.Horizontal,e)&&(e=this.enableRtl&&Zo()?e>0?0:o:Math.min(Math.max(e,r),o)),ti(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){var e={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return e},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,t){void 0===t&&(t=null);for(var r=this.rowModel.getRowCount(),o=-1,i=0;i<r;i++){var n=this.rowModel.getRow(i);if("function"===typeof e){var a=e;if(n&&a(n)){o=i;break}}else if(e===n||e===n.data){o=i;break}}o>=0&&this.ensureIndexVisible(o,t)},t.prototype.ensureIndexVisible=function(e,t){if(!this.gridOptionsService.isDomLayout("print")){var r=this.paginationProxy.getRowCount();if("number"!==typeof e||e<0||e>=r)console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);else{var o=this.gridOptionsService.is("pagination"),i=o&&!this.gridOptionsService.is("suppressPaginationPanel");i||this.paginationProxy.goToPageWithIndex(e);var n,a=this.ctrlsService.getGridBodyCtrl(),s=a.getStickyTopHeight(),l=this.paginationProxy.getRow(e);do{var c=l.rowTop,u=l.rowHeight,d=this.paginationProxy.getPixelOffset(),h=l.rowTop-d,p=h+l.rowHeight,f=this.getVScrollPosition(),g=this.heightScaler.getDivStretchOffset(),v=f.top+g,m=f.bottom+g,b=m-v,y=this.heightScaler.getScrollPositionForPixel(h),w=this.heightScaler.getScrollPositionForPixel(p-b),C=Math.min((y+w)/2,h),E=v+s>h,S=m<p,x=null;"top"===t?x=y:"bottom"===t?x=w:"middle"===t?x=C:E?x=y-s:S&&(x=w),null!==x&&(this.setVerticalScrollPosition(x),this.rowRenderer.redraw({afterScroll:!0})),n=c!==l.rowTop||u!==l.rowHeight}while(n);this.animationFrameService.flushAllFrames()}}},t.prototype.ensureColumnVisible=function(e,t){void 0===t&&(t="auto");var r=this.columnModel.getGridColumn(e);if(r&&!r.isPinned()&&this.columnModel.isColumnDisplayed(r)){var o=this.getPositionedHorizontalScroll(r,t);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,t){var r=this.isColumnOutsideViewport(e),o=r.columnBeforeStart,i=r.columnAfterEnd,n=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),a=this.centerRowContainerCtrl.getCenterWidth(),s=this.enableRtl,l=(s?o:i)||n,c=s?i:o;"auto"!==t&&(l="start"===t,c="end"===t);var u="middle"===t;if(l||c||u){var d=this.getColumnBounds(e),h=d.colLeft,p=d.colMiddle,f=d.colRight;return u?p-a/2:l?s?f:h:s?h-a:f-a}return null},t.prototype.isColumnOutsideViewport=function(e){var t=this.getViewportBounds(),r=t.start,o=t.end,i=this.getColumnBounds(e),n=i.colLeft,a=i.colRight,s=this.enableRtl,l=s?r>a:o<a,c=s?o<n:r>n;return{columnBeforeStart:l,columnAfterEnd:c}},t.prototype.getColumnBounds=function(e){var t=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),i=e.getLeft(),n=t?-1:1,a=t?r-i:i,s=a+o*n,l=a+o/2*n;return{colLeft:a,colMiddle:l,colRight:s}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),r=t,o=e+t;return{start:r,end:o,width:e}},Sc([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Sc([he("animationFrameService")],t.prototype,"animationFrameService",void 0),Sc([he("paginationProxy")],t.prototype,"paginationProxy",void 0),Sc([he("rowModel")],t.prototype,"rowModel",void 0),Sc([he("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Sc([he("rowRenderer")],t.prototype,"rowRenderer",void 0),Sc([he("columnModel")],t.prototype,"columnModel",void 0),Sc([ce],t.prototype,"postConstruct",null),t}(lt),kc=function(){function e(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return e.prototype.check=function(e,t){void 0===t&&(t=!1);var r=t||this.shouldSkipVerticalScroll();if(!r||!this.shouldSkipHorizontalScroll()){var o=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<o.left+i,this.tickRight=e.clientX>o.right-i,this.tickUp=e.clientY<o.top+i&&!r,this.tickDown=e.clientY>o.bottom-i&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},e.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},e.prototype.doTick=function(){var e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-e),this.tickRight&&this.setHorizontalPosition(r+e)}this.onScrollCallback&&this.onScrollCallback()},e.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},e}(),_c=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rc=function(){return Rc=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rc.apply(this,arguments)},Oc=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Dc=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Ac=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Pc=function(e){function t(t){var r=e.call(this)||this;return r.isMultiRowDrag=!1,r.isGridSorted=!1,r.isGridFiltered=!1,r.isRowGroupActive=!1,r.eContainer=t,r}return _c(t,e),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var t=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,gt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_MODEL_UPDATED,(function(){t()})),t(),this.ctrlsService.whenReady((function(){var t=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new kc({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return t.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(e){return t.getScrollFeature().setVerticalScrollPosition(e)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})}))},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!l(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===Ia.RowDrag},t.prototype.getIconName=function(){var e=this.gridOptionsService.is("rowDragManaged");return e&&this.shouldPreventRowMove()?zs.ICON_NOT_ALLOWED:zs.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var t=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var r=this.gridOptionsService.is("rowDragMultiRow"),o=Ac([],Dc(this.selectionService.getSelectedNodes())).sort((function(e,r){return null==e.rowIndex||null==r.rowIndex?0:t.getRowIndexNumber(e)-t.getRowIndexNumber(r)})),i=e.dragItem.rowNode;return r&&-1!==o.indexOf(i)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[i])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(gt.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach((function(e){e.setDragging(!0)})),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){var t=e.dragSource.dragSourceDomDataKey;return t===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){var t=this.ctrlsService.getGridBodyCtrl(),r=t.getGui(),o=e.dropZoneTarget;return!r.contains(o)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(gt.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y,r=this.gridOptionsService.is("rowDragManaged");r&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,t){var r=this.isFromThisGrid(e),o=this.gridOptionsService.is("rowDragManaged"),i=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(i[0],t):this.moveRows(i,t))},t.prototype.getRowIndexNumber=function(e){return parseInt(Ae(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var t=this,r=this.clientSideRowModel.getLastHighlightedRowNode(),o=r&&r.highlighted===Ql.Below,i=this.mouseEventService.getNormalisedPosition(e).y,n=e.dragItem.rowNodes,a=o?1:0;if(this.isFromThisGrid(e))n.forEach((function(e){e.rowTop<i&&(a-=1)})),this.moveRows(n,i,a);else{var s=this.gridOptionsService.getCallback("getRowId"),l=this.clientSideRowModel.getRowIndexAtPixel(i)+1;this.clientSideRowModel.getHighlightPosition(i)===Ql.Above&&l--,this.clientSideRowModel.updateRowData({add:n.map((function(e){return e.data})).filter((function(e){return!t.clientSideRowModel.getRowNode(s?s({data:e,level:0}):e.id)})),addIndex:l})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,t,r){void 0===r&&(r=0);var o=this.clientSideRowModel.ensureRowsAtPixel(e,t,r);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var t=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var r={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,r=e):(e.onDragEnter&&(r.onDragEnter=function(r){e.onDragEnter(t.draggingToRowDragEvent(gt.EVENT_ROW_DRAG_ENTER,r))}),e.onDragLeave&&(r.onDragLeave=function(r){e.onDragLeave(t.draggingToRowDragEvent(gt.EVENT_ROW_DRAG_LEAVE,r))}),e.onDragging&&(r.onDragging=function(r){e.onDragging(t.draggingToRowDragEvent(gt.EVENT_ROW_DRAG_MOVE,r))}),e.onDragStop&&(r.onDragStop=function(r){e.onDragStop(t.draggingToRowDragEvent(gt.EVENT_ROW_DRAG_END,r))})),this.dragAndDropService.addDropTarget(Rc({isInterestedIn:function(e){return e===Ia.RowDrag},getIconName:function(){return zs.ICON_MOVE},external:!0},r))}else V((function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var t=this,r=this.getContainer.bind(this),o=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),n=this.onDragging.bind(this),a=this.onDragStop.bind(this);return e?{getContainer:r,onDragEnter:e.onDragEnter?function(r){o(r),e.onDragEnter(t.draggingToRowDragEvent(gt.EVENT_ROW_DRAG_ENTER,r))}:o,onDragLeave:e.onDragLeave?function(r){i(r),e.onDragLeave(t.draggingToRowDragEvent(gt.EVENT_ROW_DRAG_LEAVE,r))}:i,onDragging:e.onDragging?function(r){n(r),e.onDragging(t.draggingToRowDragEvent(gt.EVENT_ROW_DRAG_MOVE,r))}:n,onDragStop:e.onDragStop?function(r){a(r),e.onDragStop(t.draggingToRowDragEvent(gt.EVENT_ROW_DRAG_END,r))}:a,fromGrid:!0}:{getContainer:r,onDragEnter:o,onDragLeave:i,onDragging:n,onDragStop:a,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,t){var r,o,i=this.mouseEventService.getNormalisedPosition(t).y,n=i>this.paginationProxy.getCurrentPageHeight(),a=-1;switch(n||(a=this.rowModel.getRowIndexAtPixel(i),r=this.rowModel.getRow(a)),t.vDirection){case Na.Down:o="down";break;case Na.Up:o="up";break;default:o=null;break}var s={type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:a,overNode:r,y:i,vDirection:o};return s},t.prototype.dispatchGridEvent=function(e,t){var r=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(r)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(gt.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(gt.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsService.is("rowDragManaged")||!this.gridOptionsService.is("suppressMoveWhenRowDragging")&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((function(e){e.setDragging(!1)}))},Oc([he("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Oc([he("rowModel")],t.prototype,"rowModel",void 0),Oc([he("paginationProxy")],t.prototype,"paginationProxy",void 0),Oc([he("columnModel")],t.prototype,"columnModel",void 0),Oc([he("focusService")],t.prototype,"focusService",void 0),Oc([he("sortController")],t.prototype,"sortController",void 0),Oc([he("filterManager")],t.prototype,"filterManager",void 0),Oc([he("selectionService")],t.prototype,"selectionService",void 0),Oc([he("mouseEventService")],t.prototype,"mouseEventService",void 0),Oc([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Oc([pe("rangeService")],t.prototype,"rangeService",void 0),Oc([ce],t.prototype,"postConstruct",null),t}(lt),Mc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Lc=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e["ANIMATION_ON"]="ag-row-animation",e["ANIMATION_OFF"]="ag-row-no-animation"})(xc||(xc={}));var Fc,Ic,Nc="ag-force-vertical-scroll",Hc="ag-selectable",Gc="ag-column-moving",Vc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return Mc(t,e),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,t,r,o,i,n){this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=o,this.eBottom=i,this.eStickyTop=n,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new wc(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Tc(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,r,i,n]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,gt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var t=this;e.forEach((function(e){t.addManagedListener(e,"focusin",(function(t){var r=t.target,o=$o(r,"ag-root",e);e.classList.toggle("ag-has-focus",!o)})),t.addManagedListener(e,"focusout",(function(t){var r=t.target,o=t.relatedTarget,i=e.contains(o),n=$o(o,"ag-root",e),a=$o(r,"ag-root",e);a||i&&!n||e.classList.remove("ag-has-focus")}))}))},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(Gc,e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss(Hc,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);var r=t&&this.gridOptionsService.getScrollbarWidth()||0,o=bo()?16:0,i="calc(100% + "+(r+o)+"px)";this.animationFrameService.requestAnimationFrame((function(){return e.comp.setBodyViewportWidth(i)}))},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",(function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}))},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var t=function(t){var o=t.relatedTarget;if(null!==ho(o)){var i=r.some((function(e){return e.contains(o)}))&&e.mouseEventService.isElementInThisGrid(o);if(!i){var n=e.popupService;i=n.getActivePopups().some((function(e){return e.contains(o)}))||n.isElementWithinCustomPopup(o)}i||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},r=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];r.forEach((function(r){return e.addManagedListener(r,"focusout",t)}))}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=-1===t?-1:e+t;this.comp.setRowCount(r)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){var t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.is("alwaysShowVerticalScroll"),t=e?Nc:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&mi(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),r=t?xc.ANIMATION_ON:xc.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(r,t)};t(),this.addManagedListener(this.eventService,gt.EVENT_HEIGHT_SCALE_CHANGED,t),this.addManagedPropertyListener("animateRows",t)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,t=this.eBodyViewport.querySelector(".ag-full-width-container"),r=this.eBodyViewport.querySelector(".ag-center-cols-viewport");t&&r&&this.addManagedListener(t,"wheel",(function(t){return e.onFullWidthContainerWheel(t,r)}))},t.prototype.onFullWidthContainerWheel=function(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,t,r){if(e||r){if(this.gridOptionsService.is("preventDefaultOnContextMenu")){var o=e||r;o.preventDefault()}var i=(e||t).target;if(i===this.eBodyViewport||i===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):r&&this.contextMenuFactory.onContextMenu(null,r,null,null,null,this.eGridBody)}}},t.prototype.mockContextMenuForIPad=function(e){if(co()){var t=new Za(this.eBodyViewport),r=function(t){e(void 0,t.touchStart,t.touchEvent)};this.addManagedListener(t,Za.EVENT_LONG_TAP,r),this.addDestroyFunc((function(){return t.destroy()}))}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Pc(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,t=e.getPinnedTopTotalHeight();t&&(t+=1);var r=e.getPinnedBottomTotalHeight();r&&(r+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight(e+"px"),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+t+"px)")}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl(),t=e.getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;t>0&&(o+=t+1),r>0&&(o+=r+1),this.comp.setStickyTopTop(o+"px")},t.prototype.sizeColumnsToFit=function(e,t){var r=this,o=this.isVerticalScrollShowing(),i=o?this.gridOptionsService.getScrollbarWidth():0,n=qo(this.eGridBody),a=n-i;a>0?this.columnModel.sizeColumnsToFit(a,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout((function(){r.sizeColumnsToFit(e,100)}),0):100===t?window.setTimeout((function(){r.sizeColumnsToFit(e,500)}),100):500===t?window.setTimeout((function(){r.sizeColumnsToFit(e,-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Lc([he("animationFrameService")],t.prototype,"animationFrameService",void 0),Lc([he("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Lc([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Lc([he("columnModel")],t.prototype,"columnModel",void 0),Lc([he("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Lc([pe("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Lc([he("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Lc([he("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Lc([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Lc([he("rowRenderer")],t.prototype,"rowRenderer",void 0),Lc([he("popupService")],t.prototype,"popupService",void 0),Lc([he("mouseEventService")],t.prototype,"mouseEventService",void 0),Lc([he("rowModel")],t.prototype,"rowModel",void 0),Lc([he("filterManager")],t.prototype,"filterManager",void 0),t}(lt);(function(e){e[e["FILL"]=0]="FILL",e[e["RANGE"]=1]="RANGE"})(Fc||(Fc={})),function(e){e[e["VALUE"]=0]="VALUE",e[e["DIMENSION"]=1]="DIMENSION"}(Ic||(Ic={}));var zc,Bc="ag-cell-range-selected",jc="ag-cell-range-chart",Wc="ag-cell-range-single-cell",Uc="ag-cell-range-chart-category",$c="ag-cell-range-handle",Kc="ag-cell-range-top",Yc="ag-cell-range-right",qc="ag-cell-range-bottom",Xc="ag-cell-range-left",Jc=function(){function e(e,t){this.beans=e,this.cellCtrl=t}return e.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Bc,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(Bc+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(Bc+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(Bc+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(Bc+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(jc,this.hasChartRange),Ur(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass(Wc,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},e.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,o=!t&&e.right,i=!t&&e.bottom,n=!t&&e.left;this.cellComp.addOrRemoveCssClass(Kc,r),this.cellComp.addOrRemoveCssClass(Yc,o),this.cellComp.addOrRemoveCssClass(qc,i),this.cellComp.addOrRemoveCssClass(Xc,n)},e.prototype.isSingleCell=function(){var e=this.beans.rangeService;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},e.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every((function(e){return je([Ic.DIMENSION,Ic.VALUE],e.type)}))},e.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},e.prototype.getRangeBorders=function(){var e,t,r=this,o=this.beans.gridOptionsService.is("enableRtl"),i=!1,n=!1,a=!1,s=!1,l=this.cellCtrl.getCellPosition().column,c=this.beans,u=c.rangeService,d=c.columnModel;o?(e=d.getDisplayedColAfter(l),t=d.getDisplayedColBefore(l)):(e=d.getDisplayedColBefore(l),t=d.getDisplayedColAfter(l));var h=u.getCellRanges().filter((function(e){return u.isCellInSpecificRange(r.cellCtrl.getCellPosition(),e)}));e||(s=!0),t||(n=!0);for(var p=0;p<h.length;p++){if(i&&n&&a&&s)break;var f=h[p],g=u.getRangeStartRow(f),v=u.getRangeEndRow(f);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!a&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(a=!0),!s&&e&&f.columns.indexOf(e)<0&&(s=!0),!n&&t&&f.columns.indexOf(t)<0&&(n=!0)}return{top:i,right:n,bottom:a,left:s}},e.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass($c,!!this.selectionHandle)}},e.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,r=e.rangeService,o=r.getCellRanges(),i=o.length;if(this.rangeCount<1||i<1)return!1;var n=Ae(o),a=this.cellCtrl.getCellPosition(),s=t.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=t.is("enableRangeHandle"),c=1===i&&!this.cellCtrl.isEditing()&&(s||l);if(this.hasChartRange){var u=o[0].type===Ic.DIMENSION,d=u&&r.isCellInSpecificRange(a,o[0]);this.cellComp.addOrRemoveCssClass(Uc,d),c=n.type===Ic.VALUE}return c&&null!=n.endRow&&r.isContiguousRange(n)&&r.isBottomRightCell(n,a)},e.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,r=e.rangeService,o=Ae(r.getCellRanges()).type,i=t.is("enableFillHandle")&&s(o),n=i?Fc.FILL:Fc.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)},e.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},e}(),Qc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zc=function(e){function t(t,r){var o=e.call(this)||this;return o.cellCtrl=t,o.beans=r,o.column=t.getColumn(),o.rowNode=t.getRowNode(),o.setupColSpan(),o.setupRowSpan(),o}return Qc(t,e),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Pe(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(e,t){return e+t.getActualWidth()}),0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var r=this.column,o=this.column.getPinned(),i=0;r&&i<e;i++){if(t.push(r),r=this.beans.columnModel.getDisplayedColAfter(r),!r||s(r))break;if(o!==r.getPinned())break}return t},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){var e;return e=this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?Ae(this.colsSpanning):this.column,e.getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if("right"===this.column.getPinned()){var r=this.beans.columnModel.getBodyContainerWidth();return t+r+(e||0)}return t+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsService.getRowHeightAsNumber(),t=e*this.rowSpan;this.eGui.style.height=t+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(lt),eu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tu=function(e){function t(t,r){var o=e.call(this)||this;return o.staticClasses=[],o.cellCtrl=t,o.beans=r,o.column=t.getColumn(),o.rowNode=t.getRowNode(),o}return eu(t,e),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,t=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(t.cellClassRules,r,(function(t){return e.cellComp.addOrRemoveCssClass(t,!0)}),(function(t){return e.cellComp.addOrRemoveCssClass(t,!1)}))},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var t;if("function"===typeof e.cellStyle){var r={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},o=e.cellStyle;t=o(r)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}},t.prototype.applyClassesFromColDef=function(){var e=this,t=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach((function(t){return e.cellComp.addOrRemoveCssClass(t,!1)})),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,r),this.staticClasses.length&&this.staticClasses.forEach((function(t){return e.cellComp.addOrRemoveCssClass(t,!0)}))},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(lt),ru=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ou=function(e){function t(t,r){var o=e.call(this)||this;return o.ctrl=t,o.beans=r,o}return ru(t,e),t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var t="title";null!=e&&""!=e?this.eGui.setAttribute(t,e):this.eGui.removeAttribute(t)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;if(null==this.genericTooltipFeature){var t={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new hn(t),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,t=this.ctrl,r=t.getColumn?t.getColumn():void 0,o=t.getColDef?t.getColDef():void 0,i=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:o,column:r,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(lt),iu=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},nu=function(){function e(){}return e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},iu([he("resizeObserverService")],e.prototype,"resizeObserverService",void 0),iu([he("paginationProxy")],e.prototype,"paginationProxy",void 0),iu([he("context")],e.prototype,"context",void 0),iu([he("columnApi")],e.prototype,"columnApi",void 0),iu([he("gridApi")],e.prototype,"gridApi",void 0),iu([he("gridOptionsService")],e.prototype,"gridOptionsService",void 0),iu([he("expressionService")],e.prototype,"expressionService",void 0),iu([he("environment")],e.prototype,"environment",void 0),iu([he("rowRenderer")],e.prototype,"rowRenderer",void 0),iu([he("templateService")],e.prototype,"templateService",void 0),iu([he("valueService")],e.prototype,"valueService",void 0),iu([he("eventService")],e.prototype,"eventService",void 0),iu([he("columnModel")],e.prototype,"columnModel",void 0),iu([he("headerNavigationService")],e.prototype,"headerNavigationService",void 0),iu([he("navigationService")],e.prototype,"navigationService",void 0),iu([he("columnAnimationService")],e.prototype,"columnAnimationService",void 0),iu([pe("rangeService")],e.prototype,"rangeService",void 0),iu([he("focusService")],e.prototype,"focusService",void 0),iu([pe("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),iu([he("popupService")],e.prototype,"popupService",void 0),iu([he("valueFormatterService")],e.prototype,"valueFormatterService",void 0),iu([he("stylingService")],e.prototype,"stylingService",void 0),iu([he("columnHoverService")],e.prototype,"columnHoverService",void 0),iu([he("userComponentFactory")],e.prototype,"userComponentFactory",void 0),iu([he("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),iu([he("animationFrameService")],e.prototype,"animationFrameService",void 0),iu([he("dragService")],e.prototype,"dragService",void 0),iu([he("dragAndDropService")],e.prototype,"dragAndDropService",void 0),iu([he("sortController")],e.prototype,"sortController",void 0),iu([he("filterManager")],e.prototype,"filterManager",void 0),iu([he("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),iu([he("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),iu([he("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),iu([he("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),iu([he("selectionService")],e.prototype,"selectionService",void 0),iu([pe("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),iu([he("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),iu([he("rowModel")],e.prototype,"rowModel",void 0),iu([he("ctrlsService")],e.prototype,"ctrlsService",void 0),iu([he("ctrlsFactory")],e.prototype,"ctrlsFactory",void 0),iu([he("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),iu([he("valueCache")],e.prototype,"valueCache",void 0),iu([he("rowNodeEventThrottle")],e.prototype,"rowNodeEventThrottle",void 0),iu([he("localeService")],e.prototype,"localeService",void 0),iu([he("valueParserService")],e.prototype,"valueParserService",void 0),iu([ce],e.prototype,"postConstruct",null),e=iu([de("beans")],e),e}(),au=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),su=function(e){function t(t,r,o){var i=e.call(this)||this;return i.cellCtrl=t,i.beans=r,i.column=o,i}return au(t,e),t.prototype.onMouseEvent=function(e,t){if(!Ze(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,r=t.eventService,o=t.rangeService,i=t.gridOptionsService,n=e.ctrlKey||e.metaKey;o&&n&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var a=this.cellCtrl.createEvent(e,gt.EVENT_CELL_CLICKED);r.dispatchEvent(a);var s=this.column.getColDef();s.onCellClicked&&window.setTimeout((function(){return s.onCellClicked(a)}),0);var l=(i.is("singleClickEdit")||s.singleClickEdit)&&!i.is("suppressClickEdit");l&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!co()||et("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},t.prototype.onCellDoubleClicked=function(e){var t=this.column.getColDef(),r=this.cellCtrl.createEvent(e,gt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),"function"===typeof t.onCellDoubleClicked&&window.setTimeout((function(){return t.onCellDoubleClicked(r)}),0);var o=!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit");o&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var t=e.ctrlKey,r=e.metaKey,o=e.shiftKey,i=e.target,n=this.beans,a=n.eventService,s=n.rangeService;if(!this.isRightClickInExistingRange(e)){var l=s&&0!=s.getCellRanges().length;if(!o||!l){var c=io()&&!this.cellCtrl.isEditing()&&!Bo(i);this.cellCtrl.focusCell(c)}if(o&&l&&e.preventDefault(),!this.containsWidget(i)){if(s){var u=this.cellCtrl.getCellPosition();if(o)s.extendLatestRangeToCell(u);else{var d=t||r;s.setRangeToCell(u,d)}}a.dispatchEvent(this.cellCtrl.createEvent(e,gt.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeService;if(t){var r=t.isCellInAnyRange(this.cellCtrl.getCellPosition());if(r&&2===e.button)return!0}return!1},t.prototype.containsWidget=function(e){return $o(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,gt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,gt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var t=this.cellCtrl.getGui(),r=t.contains(e.target),o=t.contains(e.relatedTarget);return r&&o},t.prototype.destroy=function(){},t}(nu),lu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),cu=function(e){function t(t,r,o,i,n){var a=e.call(this)||this;return a.cellCtrl=t,a.beans=r,a.rowNode=i,a.rowCtrl=n,a}return lu(t,e),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var t=e.key;switch(t){case Li.ENTER:this.onEnterKeyDown(e);break;case Li.F2:this.onF2KeyDown(e);break;case Li.ESCAPE:this.onEscapeKeyDown(e);break;case Li.TAB:this.onTabKeyDown(e);break;case Li.BACKSPACE:case Li.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Li.DOWN:case Li.UP:case Li.RIGHT:case Li.LEFT:this.onNavigationKeyDown(e,t);break}},t.prototype.onNavigationKeyDown=function(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,t){var r=this,o=r.cellCtrl,i=r.beans,n=r.rowNode,a=i.gridOptionsService,s=i.rangeService,l=i.eventService;o.isEditing()||(l.dispatchEvent({type:gt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Ui(e,a.is("enableCellEditingOnBackspace"))?s&&a.isEnableRangeSelection()?s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&n.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,t),l.dispatchEvent({type:gt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.is("enterNavigatesVertically")){var t=e.shiftKey?Li.UP:Li.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Li.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Li.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){var t=e.target,r=t!==this.eGui;if(!r&&!this.cellCtrl.isEditing()){var o=e.key;" "===o?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var t=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){var r=this.rowNode.isSelected(),o=!r;if(o||!t.is("suppressRowDeselection")){var i=this.beans.gridOptionsService.is("groupSelectsFiltered"),n=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"});void 0===r&&0===n&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(lt),uu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),du=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},hu=function(e){function t(t,r,o){var i=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return i.rowNode=t,i.column=r,i.eCell=o,i}return uu(t,e),t.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(Pi("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",(function(e){e.stopPropagation()})),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,r=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var r=JSON.stringify(t.rowNode.data);e.dataTransfer.setData("application/json",r),e.dataTransfer.setData("text/plain",r)}catch(o){}};if(r){var i={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};r(i)}else o()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},du([ce],t.prototype,"postConstruct",null),t}(mn),pu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fu=function(){return fu=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fu.apply(this,arguments)},gu="ag-cell",vu="ag-cell-auto-height",mu="ag-cell-normal-height",bu="ag-cell-focus",yu="ag-cell-first-right-pinned",wu="ag-cell-last-left-pinned",Cu="ag-cell-not-inline-editing",Eu="ag-column-hover",Su="ag-cell-wrap-text",xu=0,Tu=function(e){function t(t,r,o,i){var n=e.call(this)||this;n.cellRangeFeature=null,n.cellPositionFeature=null,n.cellCustomStyleFeature=null,n.tooltipFeature=null,n.cellMouseListenerFeature=null,n.cellKeyboardListenerFeature=null,n.suppressRefreshCell=!1,n.onCellCompAttachedFuncs=[],n.column=t,n.rowNode=r,n.beans=o,n.rowCtrl=i,n.instanceId=t.getId()+"-"+xu++;var a=n.column.getColDef();return n.colIdSanitised=Tt(n.column.getId()),n.beans.gridOptionsService.is("suppressCellFocus")||(n.tabIndex=-1),n.isCellRenderer=null!=a.cellRenderer||null!=a.cellRendererSelector,n.createCellPosition(),n.addFeatures(),n.updateAndFormatValue(!0),n}return pu(t,e),t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new Zc(this,this.beans),this.addDestroyFunc((function(){var t;null===(t=e.cellPositionFeature)||void 0===t||t.destroy(),e.cellPositionFeature=null})),this.cellCustomStyleFeature=new tu(this,this.beans),this.addDestroyFunc((function(){var t;null===(t=e.cellCustomStyleFeature)||void 0===t||t.destroy(),e.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new su(this,this.beans,this.column),this.addDestroyFunc((function(){var t;null===(t=e.cellMouseListenerFeature)||void 0===t||t.destroy(),e.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new cu(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((function(){var t;null===(t=e.cellKeyboardListenerFeature)||void 0===t||t.destroy(),e.cellKeyboardListenerFeature=null}));var t=this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection();t&&(this.cellRangeFeature=new Jc(this.beans,this),this.addDestroyFunc((function(){var t;null===(t=e.cellRangeFeature)||void 0===t||t.destroy(),e.cellRangeFeature=null}))),this.column.isTooltipEnabled()&&this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this,t=function(){var t=e.column.getColDef(),r=e.rowNode.data;if(t.tooltipField&&a(r))return F(r,t.tooltipField,e.column.isTooltipFieldContainsDots());var o=t.tooltipValueGetter;return o?o({location:"cell",api:e.beans.gridOptionsService.api,columnApi:e.beans.gridOptionsService.columnApi,context:e.beans.gridOptionsService.context,colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},r={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:t,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new ou(r,this.beans),this.addDestroyFunc((function(){var t;null===(t=e.tooltipFeature)||void 0===t||t.destroy(),e.tooltipFeature=null}))},t.prototype.setComp=function(e,t,r,o,i){var n,a,s,l;this.cellComp=e,this.eGui=t,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),r&&this.setupAutoHeight(r),this.setAriaColIndex(),null===(n=this.cellPositionFeature)||void 0===n||n.setComp(t),null===(a=this.cellCustomStyleFeature)||void 0===a||a.setComp(e),null===(s=this.tooltipFeature)||void 0===s||s.setComp(t),null===(l=this.cellKeyboardListenerFeature)||void 0===l||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),i&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((function(e){return e()})),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var t=this;if(this.column.isAutoHeight()){var r=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,i=function(n){if(!t.editing&&t.isAlive()){var a=Ko(r),s=a.paddingTop,l=a.paddingBottom,c=a.borderBottomWidth,u=a.borderTopWidth,d=s+l+c+u,h=e.offsetHeight,p=h+d;if(n<5){var f=t.beans.gridOptionsService.getDocument(),g=!f||!f.contains(e),v=0==p;if(g||v)return void t.beans.frameworkOverrides.setTimeout((function(){return i(n+1)}),0)}var m=Math.max(p,o);t.rowNode.setRowAutoHeight(m,t.column)}},n=function(){return i(0)};n();var a=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc((function(){a(),t.rowNode.setRowAutoHeight(void 0,t.column)}))}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.getIsCellRenderer=function(){return this.isCellRenderer},t.prototype.getValueToDisplay=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},t.prototype.showValue=function(e){void 0===e&&(e=!1);var t,r=this.getValueToDisplay();if(this.isCellRenderer){var o=this.createCellRendererParams();t=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(t,r,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight();return e},t.prototype.isIncludeControl=function(e){var t=null!=this.rowNode.rowPinned,r="function"===typeof e,o=!t&&(r||!0===e);return o},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return t||r||o},t.prototype.startEditing=function(e,t,r){var o=this;if(void 0===e&&(e=null),void 0===t&&(t=!1),void 0===r&&(r=null),this.isCellEditable()&&!this.editing)if(this.cellComp){var i=this.createCellEditorParams(e,t),n=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(n,i),s=null!=(null===a||void 0===a?void 0:a.popupFromSelector)?a.popupFromSelector:!!n.cellEditorPopup,l=null!=(null===a||void 0===a?void 0:a.popupPositionFromSelector)?a.popupPositionFromSelector:n.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(a,s,l);var c=this.createEvent(r,gt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(c)}else this.onCellCompAttachedFuncs.push((function(){o.startEditing(e,t,r)}))},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var t={newValueExists:!1};if(e)return t;var r=this.cellComp.getCellEditor();if(!r)return t;var o=r.isCancelAfterEnd&&r.isCancelAfterEnd();if(o)return t;var i=r.getValue();return{newValue:i,newValueExists:!0}},t.prototype.saveNewValue=function(e,t){if(t===e)return!1;this.suppressRefreshCell=!0;var r=this.rowNode.setDataValue(this.column,t,"edit");return this.suppressRefreshCell=!1,r},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var t=this.takeValueFromCellEditor(e),r=t.newValue,o=t.newValueExists,i=this.rowNode.getValueFromValueService(this.column),n=!1;return o&&(n=this.saveNewValue(i,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(i,r,!e&&!!n),n},t.prototype.dispatchEditingStoppedEvent=function(e,t,r){var o=fu(fu({},this.createEvent(null,gt.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:t,valueChanged:r});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,t){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:t,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this,t={value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(t,r,o,i){return e.registerRowDragger(t,r,i)}};return t},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){if(this.cellComp){var t=e.column===this.column;t&&this.refreshCell({})}},t.prototype.refreshCell=function(e){var t,r,o;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var i=this.column.getColDef(),n=null!=e&&!!e.newData,a=null!=e&&!!e.suppressFlash||!!i.suppressCellFlash,s=null==i.field&&null==i.valueGetter&&null==i.showRowGroup,l=e&&e.forceRefresh||s||n,c=this.updateAndFormatValue(),u=l||c;if(u){this.showValue(n);var d=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),h=!a&&!d&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||i.enableCellChangeFlash);h&&this.flashCell(),null===(t=this.cellCustomStyleFeature)||void 0===t||t.applyUserStyles(),null===(r=this.cellCustomStyleFeature)||void 0===r||r.applyClassesFromColDef()}this.refreshToolTip(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(t)},t.prototype.navigateAfterEdit=function(e){var t=this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit");if(t){var r=e?Li.UP:Li.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}},t.prototype.flashCell=function(e){var t=e&&e.flashDelay,r=e&&e.fadeDelay;this.animateCell("data-changed",t,r)},t.prototype.animateCell=function(e,t,r){var o,i,n=this;if(this.cellComp){var s="ag-cell-"+e,l="ag-cell-"+e+"-animation",c=this.beans.gridOptionsService;t||(t=null!==(o=c.getNum("cellFlashDelay"))&&void 0!==o?o:500),a(r)||(r=null!==(i=c.getNum("cellFadeDelay"))&&void 0!==i?i:1e3),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout((function(){n.isAlive()&&(n.cellComp.addOrRemoveCssClass(s,!1),n.cellComp.addOrRemoveCssClass(l,!0),n.eGui.style.transition="background-color "+r+"ms",window.setTimeout((function(){n.isAlive()&&(n.cellComp.addOrRemoveCssClass(l,!1),n.eGui.style.transition="")}),r))}),t)}},t.prototype.onFlashCells=function(e){if(this.cellComp){var t=this.beans.cellPositionUtils.createId(this.getCellPosition()),r=e.cells[t];r&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var t;return null!==(t=this.callValueFormatter(e))&&void 0!==t?t:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var t=this.value,r=this.valueFormatted;this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value);var o=!!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=r);return o},t.prototype.valuesAreEqual=function(e,t){var r=this.column.getColDef();return r.equals?r.equals(e,t):e===t},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,r=this.getGui();this.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((function(){return e.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,null)}))},t.prototype.createEvent=function(e,t){var r={type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex};return r},t.prototype.processCharacter=function(e){var t;null===(t=this.cellKeyboardListenerFeature)||void 0===t||t.processCharacter(e)},t.prototype.onKeyDown=function(e){var t;null===(t=this.cellKeyboardListenerFeature)||void 0===t||t.onKeyDown(e)},t.prototype.onMouseEvent=function(e,t){var r;null===(r=this.cellMouseListenerFeature)||void 0===r||r.onMouseEvent(e,t)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);zr(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,t){void 0===t&&(t=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(yu,e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(wu,e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.is("suppressCellFocus")){var t=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp){if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(bu,t),t&&e&&e.forceBrowserFocus){var r=this.cellComp.getFocusableElement();r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var o="fullRow"===this.beans.gridOptionsService.get("editType");t||o||!this.editing||this.stopRowOrCellEdit()}else t&&(null===e||void 0===e?void 0:e.forceBrowserFocus)&&(this.focusEventToRestore=e)}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:n(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(gu,!0),this.cellComp.addOrRemoveCssClass(Cu,!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass(vu,e),this.cellComp.addOrRemoveCssClass(mu,!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Eu,e)}},t.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass(Su,e)},t.prototype.dispatchCellContextMenuEvent=function(e){var t=this.column.getColDef(),r=this.createEvent(e,gt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),t.onCellContextMenu&&window.setTimeout((function(){return t.onCellContextMenu(r)}),0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],e.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new Is;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new hu(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,t,r){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,t);else{var i=this.createRowDragComp(e,t,r);i&&(this.customRowDragComp=i,this.addDestroyFunc((function(){o.beans.context.destroyBean(i),o.customRowDragComp=null})))}},t.prototype.createRowDragComp=function(e,t,r){var o=this,i=this.beans.gridOptionsService.is("pagination"),n=this.beans.gridOptionsService.is("rowDragManaged"),a=this.beans.gridOptionsService.isRowModelType("clientSide");if(n){if(!a)return void V((function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(i)return void V((function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var s=new Ws((function(){return o.value}),this.rowNode,this.column,e,t,r);return this.beans.context.createBean(s),s},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(lt),ku=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_u=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ru=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Ou=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e};(function(e){e["Normal"]="Normal",e["FullWidth"]="FullWidth",e["FullWidthLoading"]="FullWidthLoading",e["FullWidthGroup"]="FullWidthGroup",e["FullWidthDetail"]="FullWidthDetail"})(zc||(zc={}));var Du,Au,Pu=0,Mu=function(e){function t(t,r,o,i,n){var a=e.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=r,a.gridOptionsService=r.gridOptionsService,a.rowNode=t,a.paginationPage=r.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=i,a.printLayout=n,a.instanceId=t.id+"-"+Pu++,a.rowId=Tt(t.id),a.isFullWidth()&&!a.gridOptionsService.is("suppressCellFocus")&&(a.tabIndex=-1),a.setAnimateFlags(o),a.initRowBusinessKey(),a.rowFocused=r.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=r.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.rowStyles=a.processStylesFromGridOptions(),a.addListeners(),a}return ku(t,e),t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if("function"===typeof this.businessKeyForNodeFunc){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Tt(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,t,r){var o={rowComp:e,element:t,containerType:r};this.allRowGuis.push(o),r===Au.LEFT?this.leftGui=o:r===Au.RIGHT?this.rightGui=o:r===Au.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){this.allRowGuis=this.allRowGuis.filter((function(t){return t.containerType!==e})),e===Au.LEFT?this.leftGui=void 0:e===Au.RIGHT?this.rightGui=void 0:e===Au.FULL_WIDTH&&(this.fullWidthGui=void 0)},t.prototype.isCacheable=function(){return this.rowType===zc.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")},t.prototype.setCached=function(e){var t=e?"none":"";this.allRowGuis.forEach((function(e){return e.element.style.display=t}))},t.prototype.initialiseRowComp=function(e){var r=this,o=this.gridOptionsService;this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var i=e.rowComp,n=this.getInitialRowClasses(e.containerType);n.forEach((function(e){return i.addOrRemoveCssClass(e,!0)})),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Mr(e.element,1==this.rowNode.expanded),this.setRowCompRowId(i,!1),this.setRowCompRowBusinessKey(i),o.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((function(){return o.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)})),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),o.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((function(){r.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e,t){t&&(this.rowId=Tt(this.rowNode.id)),null!=this.rowId&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var t=this,r=e.containerType,o=this.slideInAnimation[r];o&&($((function(){t.onTopChanged()})),this.slideInAnimation[r]=!1);var i=this.fadeInAnimation[r];i&&($((function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[r]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.isEnableRangeSelection())V((function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")}),"rowDragAndRangeSelectionEnabled");else{var t=this.beans.localeService.getLocaleTextFunc(),r=new Ws((function(){return"1 "+t("rowDragRow","row")}),this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(r,this.beans.context)}},t.prototype.setupFullWidth=function(e){var t=this.getPinnedForContainer(e.containerType),r=this.createFullWidthParams(e.element,t);if(this.rowType!=zc.FullWidthDetail||ie.__assertRegistered(Z.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId())){var o;switch(this.rowType){case zc.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);break;case zc.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);break;case zc.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(r);break}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderer=function(){var e,t;return null===(t=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===t?void 0:t.getFullWidthCellRenderer()},t.prototype.getCellElement=function(e){var t=this.getCellCtrl(e);return t?t.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e,t=this.gridOptionsService.getCallback("processRowPostCreate");if(t&&this.areAllContainersReady()){var r={eRow:null===(e=this.centerGui)||void 0===e?void 0:e.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(r)}},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),t=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&t&&r},t.prototype.setRowType=function(){var e=this.rowNode.stub,t=this.rowNode.isFullWidthCell(),r=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),i=!!this.rowNode.group&&!this.rowNode.footer,n=i&&this.gridOptionsService.isGroupUseEntireRow(o);this.rowType=e?zc.FullWidthLoading:r?zc.FullWidthDetail:t?zc.FullWidth:n?zc.FullWidthGroup:zc.Normal},t.prototype.updateColumnLists=function(e,t){var r=this;if(void 0===e&&(e=!1),void 0===t&&(t=!1),!this.isFullWidth()){var o=e||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout;o?this.updateColumnListsImpl(t):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((function(){r.active&&r.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,t,r){var o=this;void 0===r&&(r=null);var i={list:[],map:{}},n=function(e,t){i.list.push(t),i.map[e]=t};return t.forEach((function(t){var r=t.getInstanceId(),i=e.map[r];i||(i=new Tu(t,o.rowNode,o.beans,o)),n(r,i)})),e.list.forEach((function(e){var t=null!=i.map[e.getColumn().getInstanceId()];if(!t){var a=!o.isCellEligibleToBeRemoved(e,r);a?n(e.getColumn().getInstanceId(),e):e.destroy()}})),i},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var t=this;this.allRowGuis.forEach((function(r){var o=t.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(o,e)}))},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case Au.LEFT:return this.leftCellCtrls.list;case Au.RIGHT:return this.rightCellCtrls.list;case Au.FULL_WIDTH:return[];case Au.CENTER:return this.centerCellCtrls.list;default:var t=e;throw new Error("Unhandled case: "+t)}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var t=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t);var r=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,t){var r=!0,o=!1,i=e.getColumn();if(i.getPinned()!=t)return r;var n=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition()),s=n||a;if(s){var l=e.getColumn(),c=this.beans.columnModel.getAllDisplayedColumns(),u=c.indexOf(l)>=0;return u?o:r}return r},t.prototype.getDomOrder=function(){var e=this.gridOptionsService.is("ensureDomOrder");return e||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var t=this,r=function(){e.rowComp.setDomOrder(t.getDomOrder())};this.addManagedPropertyListener("domLayout",r),this.addManagedPropertyListener("ensureDomOrder",r)},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var t=a(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();t?(this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=o):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=o)}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==zc.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,t=function(t,r){if(!t)return!0;var o=t.rowComp.getFullWidthCellRenderer();if(!o)return!1;if(!o.refresh)return!1;var i=e.createFullWidthParams(t.element,r),n=o.refresh(i);return n},r=t(this.fullWidthGui,null),o=t(this.centerGui,null),i=t(this.leftGui,"left"),n=t(this.rightGui,"right"),a=r&&o&&i&&n;return a},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,Ps.EVENT_HEIGHT_CHANGED,(function(){return e.onRowHeightChanged()})),this.addManagedListener(this.rowNode,Ps.EVENT_ROW_SELECTED,(function(){return e.onRowSelected()})),this.addManagedListener(this.rowNode,Ps.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Ps.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Ps.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,gt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,gt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,gt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,gt.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(t,gt.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(t,gt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,gt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,gt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Ps.EVENT_ROW_INDEX_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Ps.EVENT_CELL_CHANGED,(function(t){e.getAllCellCtrls().forEach((function(e){return e.onCellChanged(t)}))}))},t.prototype.onRowNodeDataChanged=function(e){var t=this;if(this.isFullWidth()){var r=this.refreshFullWidth();r||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})})),this.allRowGuis.forEach((function(e){t.setRowCompRowId(e.rowComp,!0),t.updateRowBusinessKey(),t.setRowCompRowBusinessKey(e.rowComp)})),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach((function(t){var r=e===Ql.Above,o=e===Ql.Below;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)}))},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)}))},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((function(r){r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),Mr(r.element,e&&t)}))},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:n(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var t=this.allRowGuis.find((function(t){return t.element.contains(e.target)})),r=t?t.element:null,o=r===e.target;if(o){var i=this.rowNode,n=this.beans.focusService.getFocusedCell(),a={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:n&&n.column};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!Ze(e)){var t=this.allRowGuis.find((function(t){return t.element.contains(e.target)})),r=t?t.element:null,o=r===e.target,i=null;o||(i=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&o||!i)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var t,r=this.rowNode,o=!!e&&(this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned),i=this.fullWidthGui?this.fullWidthGui.element:null===(t=this.centerGui)||void 0===t?void 0:t.element;i&&(i.classList.toggle("ag-full-width-focus",o),o&&i.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,t){var r={list:[],map:{}};return e.list.forEach((function(e){e!==t&&(r.list.push(e),r.map[e.getInstanceId()]=e)})),r},t.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}},t.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:t}},t.prototype.createRowEventWithSource=function(e,t){var r=this.createRowEvent(e,t);return r.source=this,r},t.prototype.onRowDblClick=function(e){if(!Ze(e)){var t=this.createRowEventWithSource(gt.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=$o(e.target,"ag-row-drag",3),this.isFullWidth()){var t=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:t.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){var t=Ze(e)||this.lastMouseDownOnDragger;if(!t){var r=this.createRowEventWithSource(gt.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(r);var o=e.ctrlKey||e.metaKey,i=e.shiftKey,n=this.gridOptionsService.is("groupSelectsChildren");if(!(n&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))){var a=this.gridOptionsService.is("rowMultiSelectWithClick"),s=!this.gridOptionsService.is("suppressRowDeselection"),l="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:e,source:l}):o?s&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:l}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i,rangeSelect:i,event:e,source:l});else{var c=!a&&!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:i,event:e,source:l})}}}},t.prototype.setupDetailRowAutoHeight=function(e){var t=this;if(this.rowType===zc.FullWidthDetail&&this.gridOptionsService.is("detailRowAutoHeight")){var r=function(){var r=e.clientHeight;if(null!=r&&r>0){var o=function(){t.rowNode.setRowHeight(r),t.beans.clientSideRowModel?t.beans.clientSideRowModel.onRowHeightChanged():t.beans.serverSideRowModel&&t.beans.serverSideRowModel.onRowHeightChanged()};t.beans.frameworkOverrides.setTimeout(o,0)}},o=this.beans.resizeObserverService.observeResize(e,r);this.addDestroyFunc(o),r()}},t.prototype.createFullWidthParams=function(e,t){var r=this,o={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(e,t,o,i){return r.addFullWidthRowDragging(e,t,o,i)}};return o},t.prototype.addFullWidthRowDragging=function(e,t,r,o){if(void 0===r&&(r=""),this.isFullWidth()){var i=new Ws((function(){return r}),this.rowNode,void 0,e,t,o);this.createManagedBean(i,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var t="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((function(e){e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(r,!1)}))}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-first",e)}))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-last",t)})))},t.prototype.stopEditing=function(e){var t,r;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),i=this.editingRow;this.stoppingRowEdit=!0;var n=!1;try{for(var a=_u(o),s=a.next();!s.done;s=a.next()){var l=s.value,c=l.stopEditing(e);i&&!e&&!n&&c&&(n=!0)}}catch(d){t={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}if(n){var u=this.createRowEvent(gt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(u)}i&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-editing",e)}));var t=e?this.createRowEvent(gt.EVENT_ROW_EDITING_STARTED):this.createRowEvent(gt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},t.prototype.startRowEditing=function(e,t,r){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null),!this.editingRow){var o=this.getAllCellCtrls().reduce((function(o,i){var n=i===t;return n?i.startEditing(e,n,r):i.startEditing(null,n,r),!!o||i.isEditing()}),!1);o&&this.setEditingRow(!0)}},t.prototype.getAllCellCtrls=function(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;var e=Ou(Ou(Ou([],Ru(this.centerCellCtrls.list)),Ru(this.leftCellCtrls.list)),Ru(this.rightCellCtrls.list));return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);t&&t.length&&t.forEach((function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!0)}))}))},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!0)}))}),(function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!1)}))}))},t.prototype.setStylesFromGridOptions=function(e,t){var r=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,(function(e){return e.rowComp.setUserStyles(r.rowStyles)}))},t.prototype.getPinnedForContainer=function(e){var t=e===Au.LEFT?"left":e===Au.RIGHT?"right":null;return t},t.prototype.getInitialRowClasses=function(e){var t=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(!e||"function"!==typeof e){var t,r=this.gridOptionsService.getCallback("getRowStyle");if(r){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};t=r(o)}return t||e?Object.assign({},e,t):this.emptyStyle}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(e){var t=this,r=!!this.rowNode.isSelected();this.forEachGui(e,(function(e){e.rowComp.addOrRemoveCssClass("ag-row-selected",r),Ur(e.element,!!r||void 0);var o=t.createAriaLabel();Tr(e.element,null==o?"":o)}))},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.gridOptionsService.is("suppressRowDeselection")){var t=this.beans.localeService.getLocaleTextFunc(),r=t(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.");return r}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",(function(){return t.rowNode.onMouseEnter()})),this.addManagedListener(e,"mouseleave",(function(){return t.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Ps.EVENT_MOUSE_ENTER,(function(){t.beans.dragService.isDragging()||t.gridOptionsService.is("suppressRowHoverHighlight")||(e.classList.add("ag-row-hover"),t.rowNode.setHovered(!0))})),this.addManagedListener(this.rowNode,Ps.EVENT_MOUSE_LEAVE,(function(){e.classList.remove("ag-row-hover"),t.rowNode.setHovered(!1)})))},t.prototype.roundRowTopToBounds=function(e){var t=this.beans.ctrlsService.getGridBodyCtrl(),r=t.getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(r.top,!0)-100,i=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(o,e),i)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,t){e?t(e):this.allRowGuis.forEach(t)},t.prototype.onRowHeightChanged=function(e){if(null!=this.rowNode.rowHeight){var t=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),i=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,n=i?Math.min(r,i)-2+"px":void 0;this.forEachGui(e,(function(e){e.element.style.height=t+"px",n&&e.element.style.setProperty("--ag-line-height",n)}))}},t.prototype.addEventListener=function(t,r){e.prototype.addEventListener.call(this,t,r)},t.prototype.removeEventListener=function(t,r){e.prototype.removeEventListener.call(this,t,r)},t.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var t=this.createRowEvent(gt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),e.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var e=null!=this.rowNode.rowTop;if(e){var t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)}))}},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(e){return e.list.forEach((function(e){return e.destroy()})),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var t=this;this.forEachGui(e,(function(e){e.rowComp.addOrRemoveCssClass("ag-row-focus",t.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!t.rowFocused)}))},t.prototype.onCellFocused=function(){this.onCellFocusChanged()},t.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,t){if(void 0===t&&(t=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return e;var r=this.beans.paginationProxy.getPixelOffset(),o=t?1:-1;return e+r*o},t.prototype.setRowTop=function(e){if(!this.printLayout&&a(e)){var t=this.applyPaginationOffset(e),r=this.rowNode.isRowPinned()||this.rowNode.sticky,o=r?t:this.beans.rowContainerHeightService.getRealPixelPosition(t),i=o+"px";this.setRowTopStyle(i)}},t.prototype.getInitialRowTop=function(e){var t=this.gridOptionsService.is("suppressRowTransform");return t?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){var t=this.gridOptionsService.is("suppressRowTransform");return t?void 0:"translateY("+this.getInitialRowTopShared(e)+")"},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{var r=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(r);t=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return t+"px"},t.prototype.setRowTopStyle=function(e){var t=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach((function(r){return t?r.rowComp.setTop(e):r.rowComp.setTransform("translateY("+e+")")}))},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var t=null;return this.getAllCellCtrls().forEach((function(r){r.getColumn()==e&&(t=r)})),null!=t||this.getAllCellCtrls().forEach((function(r){r.getColSpanningList().indexOf(e)>=0&&(t=r)})),t},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var t=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,i=r+this.rowNode.rowIndex+1;this.forEachGui(e,(function(e){e.rowComp.setRowIndex(t),e.rowComp.addOrRemoveCssClass("ag-row-even",o),e.rowComp.addOrRemoveCssClass("ag-row-odd",!o),Gr(e.element,i)}))},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(lt),Lu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fu=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Iu=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Nu=function(e){function t(t){var r=e.call(this)||this;return r.element=t,r}return Lu(t,e),t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)},t.prototype.addMouseListeners=function(){var e=this,t=et("touchstart")?"touchstart":"mousedown",r=["dblclick","contextmenu","mouseover","mouseout","click",t];r.forEach((function(t){var r=e.processMouseEvent.bind(e,t);e.addManagedListener(e.element,t,r)}))},t.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!Ze(t)){var r=this.getRowForEvent(t),o=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,null,r,o):(o&&o.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(co()){var t=new Za(this.element),r=function(t){var r=e.getRowForEvent(t.touchEvent),o=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,r,o)};this.addManagedListener(t,Za.EVENT_LONG_TAP,r),this.addDestroyFunc((function(){return t.destroy()}))}},t.prototype.getRowForEvent=function(e){var t=e.target;while(t){var r=this.gridOptionsService.getDomData(t,Mu.DOM_DATA_KEY_ROW_CTRL);if(r)return r;t=t.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,t,r,o){var i=r?r.getRowNode():null,n=o?o.getColumn():null,a=null;if(n){var s=e||t;o.dispatchCellContextMenuEvent(s),a=this.valueService.getValue(n,i)}var l=this.ctrlsService.getGridBodyCtrl(),c=o?o.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,i,n,a,c)},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:tt(this.gridOptionsService,e,Tu.DOM_DATA_KEY_CELL_CTRL),rowCtrl:tt(this.gridOptionsService,e,Mu.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,t){var r=this.getControlsForEventTarget(t.target),o=r.cellCtrl,i=r.rowCtrl;t.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))},t.prototype.processCellKeyboardEvent=function(e,t,r){var o=e.getRowNode(),i=e.getColumn(),n=e.isEditing(),a=!Bi(this.gridOptionsService,r,o,i,n);if(a&&"keydown"===t){var s=!n&&this.navigationService.handlePageScrollingKey(r);s||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),zi(r)&&e.processCharacter(r)}if("keydown"===t){var l=e.createEvent(r,gt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,t,r){var o=e.getRowNode(),i=this.focusService.getFocusedCell(),n=i&&i.column,a=!Bi(this.gridOptionsService,r,o,n,!1);if(a){var s=r.key;if("keydown"===t)switch(s){case Li.PAGE_HOME:case Li.PAGE_END:case Li.PAGE_UP:case Li.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case Li.UP:case Li.DOWN:e.onKeyboardNavigate(r);break;case Li.TAB:e.onTabKeyDown(r);break}}if("keydown"===t){var l=e.createRowEvent(gt.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(l)}},t.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t&&this.mouseEventService.isEventFromThisGrid(e)){var r=Wi(e);return r===Li.A?this.onCtrlAndA(e):r===Li.C?this.onCtrlAndC(e):r===Li.D?this.onCtrlAndD(e):r===Li.V?this.onCtrlAndV(e):r===Li.X?this.onCtrlAndX(e):r===Li.Y?this.onCtrlAndY():r===Li.Z?this.onCtrlAndZ(e):void 0}},t.prototype.onCtrlAndA=function(e){var t=this,r=t.pinnedRowModel,o=t.paginationProxy,i=t.rangeService;if(i&&o.isRowsToRender()){var n=Iu([r.isEmpty("top"),r.isEmpty("bottom")],2),a=n[0],s=n[1],c=a?null:"top",u=void 0,d=void 0;s?(u=null,d=this.paginationProxy.getRowCount()-1):(u="bottom",d=r.getPinnedBottomRowData().length-1);var h=this.columnModel.getAllDisplayedColumns();if(l(h))return;i.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:d,rowEndPinned:u,columnStart:h[0],columnEnd:Ae(h)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")){var t=this.getControlsForEventTarget(e.target),r=t.cellCtrl,o=t.rowCtrl;(null===r||void 0===r?void 0:r.isEditing())||(null===o||void 0===o?void 0:o.isEditing())||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")&&!this.gridOptionsService.is("suppressCutToClipboard")){var t=this.getControlsForEventTarget(e.target),r=t.cellCtrl,o=t.rowCtrl;(null===r||void 0===r?void 0:r.isEditing())||(null===o||void 0===o?void 0:o.isEditing())||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var t=this.getControlsForEventTarget(e.target),r=t.cellCtrl,o=t.rowCtrl;(null===r||void 0===r?void 0:r.isEditing())||(null===o||void 0===o?void 0:o.isEditing())||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Fu([he("mouseEventService")],t.prototype,"mouseEventService",void 0),Fu([he("valueService")],t.prototype,"valueService",void 0),Fu([pe("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Fu([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Fu([he("navigationService")],t.prototype,"navigationService",void 0),Fu([he("focusService")],t.prototype,"focusService",void 0),Fu([he("undoRedoService")],t.prototype,"undoRedoService",void 0),Fu([he("columnModel")],t.prototype,"columnModel",void 0),Fu([he("paginationProxy")],t.prototype,"paginationProxy",void 0),Fu([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Fu([pe("rangeService")],t.prototype,"rangeService",void 0),Fu([pe("clipboardService")],t.prototype,"clipboardService",void 0),Fu([ce],t.prototype,"postConstruct",null),t}(lt),Hu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gu=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Vu=function(e){function t(t){var r=e.call(this)||this;return r.centerContainerCtrl=t,r}return Hu(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()})),this.addManagedListener(this.eventService,gt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,t=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),t=Yo(e);if(this.bodyHeight!==t){this.bodyHeight=t;var r={type:gt.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(r)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)},Gu([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Gu([he("columnModel")],t.prototype,"columnModel",void 0),Gu([he("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Gu([ce],t.prototype,"postConstruct",null),t}(lt),zu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bu=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ju=function(e){function t(t){var r=e.call(this)||this;return r.element=t,r}return zu(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,gt.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;jo(this.element,t),yi(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},Bu([he("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Bu([ce],t.prototype,"postConstruct",null),t}(lt),Wu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Uu=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},$u=function(e){function t(t){var r=e.call(this)||this;return r.element=t,r}return Wu(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,gt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;jo(this.element,t),yi(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},Uu([he("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Uu([ce],t.prototype,"postConstruct",null),t}(lt),Ku=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Yu=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},qu=function(e){function t(t,r){var o=e.call(this)||this;return o.eContainer=t,o.eWrapper=r,o}return Ku(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,gt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?e+"px":"";this.eContainer.style.height=t,this.eWrapper&&(this.eWrapper.style.height=t)},Yu([he("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),Yu([ce],t.prototype,"postConstruct",null),t}(lt),Xu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ju=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Qu=function(e){function t(t){var r=e.call(this)||this;return r.eContainer=t,r}return Xu(t,e),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsService.isEnableRangeSelection()&&!s(this.rangeService)){var t={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(t),this.addDestroyFunc((function(){return e.dragService.removeDragSource(t)}))}},Ju([pe("rangeService")],t.prototype,"rangeService",void 0),Ju([he("dragService")],t.prototype,"dragService",void 0),Ju([ce],t.prototype,"postConstruct",null),t}(lt),Zu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ed=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},td=function(e){function t(t,r){void 0===r&&(r=!1);var o=e.call(this)||this;return o.callback=t,o.addSpacer=r,o}return Zu(t,e),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,gt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var e,t=this.columnModel,r=this.gridOptionsService.isDomLayout("print"),o=t.getBodyContainerWidth(),i=t.getDisplayedColumnsLeftWidth(),n=t.getDisplayedColumnsRightWidth();if(r)e=o+i+n;else if(e=o,this.addSpacer){var a=this.gridOptionsService.is("enableRtl")?i:n;0===a&&this.scrollVisibleService.isVerticalScrollShowing()&&(e+=this.gridOptionsService.getScrollbarWidth())}this.callback(e)},ed([he("columnModel")],t.prototype,"columnModel",void 0),ed([he("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),ed([ce],t.prototype,"postConstruct",null),t}(lt),rd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),od=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},id=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},nd=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e};function ad(e){switch(e){case Du.CENTER:case Du.TOP_CENTER:case Du.STICKY_TOP_CENTER:case Du.BOTTOM_CENTER:return Au.CENTER;case Du.LEFT:case Du.TOP_LEFT:case Du.STICKY_TOP_LEFT:case Du.BOTTOM_LEFT:return Au.LEFT;case Du.RIGHT:case Du.TOP_RIGHT:case Du.STICKY_TOP_RIGHT:case Du.BOTTOM_RIGHT:return Au.RIGHT;case Du.FULL_WIDTH:case Du.TOP_FULL_WIDTH:case Du.STICKY_TOP_FULL_WIDTH:case Du.BOTTOM_FULL_WIDTH:return Au.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(function(e){e["LEFT"]="left",e["RIGHT"]="right",e["CENTER"]="center",e["FULL_WIDTH"]="fullWidth",e["TOP_LEFT"]="topLeft",e["TOP_RIGHT"]="topRight",e["TOP_CENTER"]="topCenter",e["TOP_FULL_WIDTH"]="topFullWidth",e["STICKY_TOP_LEFT"]="stickyTopLeft",e["STICKY_TOP_RIGHT"]="stickyTopRight",e["STICKY_TOP_CENTER"]="stickyTopCenter",e["STICKY_TOP_FULL_WIDTH"]="stickyTopFullWidth",e["BOTTOM_LEFT"]="bottomLeft",e["BOTTOM_RIGHT"]="bottomRight",e["BOTTOM_CENTER"]="bottomCenter",e["BOTTOM_FULL_WIDTH"]="bottomFullWidth"})(Du||(Du={})),function(e){e["LEFT"]="left",e["RIGHT"]="right",e["CENTER"]="center",e["FULL_WIDTH"]="fullWidth"}(Au||(Au={}));var sd=Ot([[Du.CENTER,"ag-center-cols-container"],[Du.LEFT,"ag-pinned-left-cols-container"],[Du.RIGHT,"ag-pinned-right-cols-container"],[Du.FULL_WIDTH,"ag-full-width-container"],[Du.TOP_CENTER,"ag-floating-top-container"],[Du.TOP_LEFT,"ag-pinned-left-floating-top"],[Du.TOP_RIGHT,"ag-pinned-right-floating-top"],[Du.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Du.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Du.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Du.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Du.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Du.BOTTOM_CENTER,"ag-floating-bottom-container"],[Du.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Du.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Du.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),ld=Ot([[Du.CENTER,"ag-center-cols-viewport"],[Du.TOP_CENTER,"ag-floating-top-viewport"],[Du.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Du.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),cd=Ot([[Du.CENTER,"ag-center-cols-clipper"]]),ud=function(e){function t(t){var r=e.call(this)||this;return r.visible=!0,r.EMPTY_CTRLS=[],r.name=t,r.isFullWithContainer=r.name===Du.TOP_FULL_WIDTH||r.name===Du.STICKY_TOP_FULL_WIDTH||r.name===Du.BOTTOM_FULL_WIDTH||r.name===Du.FULL_WIDTH,r}return rd(t,e),t.getRowContainerCssClasses=function(e){var t=sd.get(e),r=ld.get(e),o=cd.get(e);return{container:t,viewport:r,wrapper:o}},t.getPinned=function(e){switch(e){case Du.BOTTOM_LEFT:case Du.TOP_LEFT:case Du.STICKY_TOP_LEFT:case Du.LEFT:return"left";case Du.BOTTOM_RIGHT:case Du.TOP_RIGHT:case Du.STICKY_TOP_RIGHT:case Du.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([Du.CENTER],(function(){return e.viewportSizeFeature=e.createManagedBean(new Vu(e))}))},t.prototype.registerWithCtrlsService=function(){switch(this.name){case Du.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Du.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Du.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Du.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Du.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Du.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Du.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Du.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Du.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Du.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Du.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Du.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},t.prototype.forContainers=function(e,t){e.indexOf(this.name)>=0&&t()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,t,r,o){var i=this;this.comp=e,this.eContainer=t,this.eViewport=r,this.eWrapper=o,this.createManagedBean(new Nu(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var n=[Du.TOP_CENTER,Du.TOP_LEFT,Du.TOP_RIGHT],a=[Du.STICKY_TOP_CENTER,Du.STICKY_TOP_LEFT,Du.STICKY_TOP_RIGHT],s=[Du.BOTTOM_CENTER,Du.BOTTOM_LEFT,Du.BOTTOM_RIGHT],l=[Du.CENTER,Du.LEFT,Du.RIGHT],c=nd(nd(nd(nd([],id(n)),id(s)),id(l)),id(a)),u=[Du.CENTER,Du.LEFT,Du.RIGHT,Du.FULL_WIDTH],d=[Du.CENTER,Du.TOP_CENTER,Du.STICKY_TOP_CENTER,Du.BOTTOM_CENTER],h=[Du.LEFT,Du.BOTTOM_LEFT,Du.TOP_LEFT,Du.STICKY_TOP_LEFT],p=[Du.RIGHT,Du.BOTTOM_RIGHT,Du.TOP_RIGHT,Du.STICKY_TOP_RIGHT];this.forContainers(h,(function(){i.pinnedWidthFeature=i.createManagedBean(new ju(i.eContainer)),i.addManagedListener(i.eventService,gt.EVENT_LEFT_PINNED_WIDTH_CHANGED,(function(){return i.onPinnedWidthChanged()}))})),this.forContainers(p,(function(){i.pinnedWidthFeature=i.createManagedBean(new $u(i.eContainer)),i.addManagedListener(i.eventService,gt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,(function(){return i.onPinnedWidthChanged()}))})),this.forContainers(u,(function(){return i.createManagedBean(new qu(i.eContainer,i.eWrapper))})),this.forContainers(c,(function(){return i.createManagedBean(new Qu(i.eContainer))})),this.forContainers(d,(function(){return i.createManagedBean(new td((function(e){return i.comp.setContainerWidth(e+"px")})))})),bo()&&(this.forContainers([Du.CENTER],(function(){var e=i.enableRtl?gt.EVENT_LEFT_PINNED_WIDTH_CHANGED:gt.EVENT_RIGHT_PINNED_WIDTH_CHANGED;i.addManagedListener(i.eventService,e,(function(){return i.refreshPaddingForFakeScrollbar()}))})),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},t.prototype.refreshPaddingForFakeScrollbar=function(){var e=this,t=e.enableRtl,r=e.columnModel,o=e.name,i=e.eWrapper,n=e.eContainer,a=t?Du.LEFT:Du.RIGHT;this.forContainers([Du.CENTER,a],(function(){var e=r.getContainerWidth(a),s=t?"marginLeft":"marginRight";o===Du.CENTER?i.style[s]=e?"0px":"16px":n.style[s]=e?"16px":"0px"}))},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_SCROLL_VISIBILITY_CHANGED,(function(){return e.onScrollVisibilityChanged()})),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){return e.onDisplayedColumnsChanged()})),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){return e.onDisplayedColumnsWidthChanged()})),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_ROWS_CHANGED,(function(t){return e.onDisplayedRowsChanged(t.afterScroll)})),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,t=[Du.STICKY_TOP_CENTER,Du.STICKY_TOP_LEFT,Du.STICKY_TOP_RIGHT,Du.STICKY_TOP_FULL_WIDTH],r=t.indexOf(this.name)>=0;if(r)this.comp.setDomOrder(!0);else{var o=function(){var t=e.gridOptionsService.is("ensureDomOrder"),r=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(t||r)};this.addManagedPropertyListener("domLayout",o),o()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([Du.TOP_CENTER,Du.STICKY_TOP_CENTER,Du.BOTTOM_CENTER],(function(){var t=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",t)}))},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([Du.CENTER],(function(){return e.onHorizontalViewportChanged()}))},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([Du.CENTER],(function(){return e.onHorizontalViewportChanged()}))},t.prototype.onScrollVisibilityChanged=function(){var e=this,t=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===Du.CENTER){var r=this.scrollVisibleService.isHorizontalScrollShowing(),o=r?t:0,i=0==o?"100%":"calc(100% + "+o+"px)";this.animationFrameService.requestAnimationFrame((function(){return e.comp.setViewportHeight(i)}))}if(this.name===Du.FULL_WIDTH){var n=bo()?16:0,a="calc(100% - "+n+"px)";this.eContainer.style.setProperty("width",a)}},t.prototype.addPreventScrollWhileDragging=function(){var e=this,t=function(t){e.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc((function(){return e.eContainer.removeEventListener("touchmove",t)}))},t.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),t=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,t)},t.prototype.getCenterWidth=function(){return qo(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return ei(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((function(){return t()}))},t.prototype.isViewportVisible=function(){return ni(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return ei(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsService.is("alwaysShowHorizontalScroll");return e||vi(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},t.prototype.setCenterViewportScrollLeft=function(e){ti(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){var e=t.getPinned(this.name);return!e||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),bo()&&this.refreshPaddingForFakeScrollbar()},t.prototype.onDisplayedRowsChanged=function(e){var t=this;if(void 0===e&&(e=!1),this.visible){var r=this.gridOptionsService.isDomLayout("print"),o=function(e){var o=e.isFullWidth(),i=t.embedFullWidthRows||r,n=t.isFullWithContainer?!i&&o:i||!o;return n},i=this.getRowCtrls().filter(o);this.comp.setRowCtrls(i,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},t.prototype.getRowCtrls=function(){switch(this.name){case Du.TOP_CENTER:case Du.TOP_LEFT:case Du.TOP_RIGHT:case Du.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Du.STICKY_TOP_CENTER:case Du.STICKY_TOP_LEFT:case Du.STICKY_TOP_RIGHT:case Du.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Du.BOTTOM_CENTER:case Du.BOTTOM_LEFT:case Du.BOTTOM_RIGHT:case Du.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},od([he("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),od([he("dragService")],t.prototype,"dragService",void 0),od([he("ctrlsService")],t.prototype,"ctrlsService",void 0),od([he("columnModel")],t.prototype,"columnModel",void 0),od([he("resizeObserverService")],t.prototype,"resizeObserverService",void 0),od([he("animationFrameService")],t.prototype,"animationFrameService",void 0),od([he("rowRenderer")],t.prototype,"rowRenderer",void 0),od([ce],t.prototype,"postConstruct",null),t}(lt),dd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},pd='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Du.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Du.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Du.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Du.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="'+Du.LEFT+'"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="'+Du.CENTER+'"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="'+Du.RIGHT+'"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="'+Du.FULL_WIDTH+'"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+Du.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+Du.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+Du.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+Du.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Du.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Du.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Du.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Du.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',fd=function(e){function t(){return e.call(this,pd)||this}return dd(t,e),t.prototype.init=function(){var e=this,t=function(e,t){var r=e+"px";t.style.minHeight=r,t.style.height=r},r={setRowAnimationCssOnBodyViewport:function(t,r){return e.setRowAnimationCssOnBodyViewport(t,r)},setColumnCount:function(t){return Vr(e.getGui(),t)},setRowCount:function(t){return Hr(e.getGui(),t)},setTopHeight:function(r){return t(r,e.eTop)},setBottomHeight:function(r){return t(r,e.eBottom)},setTopDisplay:function(t){return e.eTop.style.display=t},setBottomDisplay:function(t){return e.eBottom.style.display=t},setStickyTopHeight:function(t){return e.eStickyTop.style.height=t},setStickyTopTop:function(t){return e.eStickyTop.style.top=t},setStickyTopWidth:function(t){return e.eStickyTop.style.width=t},setColumnMovingCss:function(t,r){return e.addOrRemoveCssClass(t,r)},updateLayoutClasses:function(t,r){var o=[e.eBodyViewport.classList,e.eBodyClipper.classList,e.eBody.classList];o.forEach((function(e){e.toggle(nc.AUTO_HEIGHT,r.autoHeight),e.toggle(nc.NORMAL,r.normal),e.toggle(nc.PRINT,r.print)})),e.addOrRemoveCssClass(nc.AUTO_HEIGHT,r.autoHeight),e.addOrRemoveCssClass(nc.NORMAL,r.normal),e.addOrRemoveCssClass(nc.PRINT,r.print)},setAlwaysVerticalScrollClass:function(t,r){return e.eBodyViewport.classList.toggle(Nc,r)},registerBodyViewportResizeListener:function(t){var r=e.resizeObserverService.observeResize(e.eBodyViewport,t);e.addDestroyFunc((function(){return r()}))},setPinnedTopBottomOverflowY:function(t){return e.eTop.style.overflowY=e.eBottom.style.overflowY=t},setCellSelectableCss:function(t,r){[e.eTop,e.eBodyViewport,e.eBottom].forEach((function(e){return e.classList.toggle(t,r)}))},setBodyViewportWidth:function(t){return e.eBodyViewport.style.width=t}};this.ctrl=this.createManagedBean(new Vc),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&Nr(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,t){var r=this.eBodyViewport.classList;r.toggle(xc.ANIMATION_ON,t),r.toggle(xc.ANIMATION_OFF,!t)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},hd([he("resizeObserverService")],t.prototype,"resizeObserverService",void 0),hd([pe("rangeService")],t.prototype,"rangeService",void 0),hd([bn("eBodyViewport")],t.prototype,"eBodyViewport",void 0),hd([bn("eStickyTop")],t.prototype,"eStickyTop",void 0),hd([bn("eTop")],t.prototype,"eTop",void 0),hd([bn("eBottom")],t.prototype,"eBottom",void 0),hd([bn("gridHeader")],t.prototype,"headerRootComp",void 0),hd([bn("eBodyClipper")],t.prototype,"eBodyClipper",void 0),hd([bn("eBody")],t.prototype,"eBody",void 0),hd([ce],t.prototype,"init",null),t}(mn),gd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}},t.prototype.setScrollsVisible=function(e){var t=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(t){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var r={type:gt.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(r)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},vd([he("ctrlsService")],t.prototype,"ctrlsService",void 0),vd([ce],t.prototype,"postConstruct",null),t=vd([de("scrollVisibleService")],t),t}(lt),bd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),yd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},wd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=r.gridInstanceSequence.next(),t}var r;return bd(t,e),r=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(e){e[r.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return tt(this.gridOptionsService,e.target,Tu.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(e){var t=this.isElementInThisGrid(e.target);return t},t.prototype.isElementInThisGrid=function(e){var t=e;while(t){var o=t[r.GRID_DOM_KEY];if(a(o)){var i=o===this.gridInstanceId;return i}t=t.parentElement}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t,r,o=this.gridOptionsService.isDomLayout("normal"),i=e;if(null!=i.clientX||null!=i.clientY?(t=i.clientX,r=i.clientY):(t=i.x,r=i.y),o){var n=this.ctrlsService.getGridBodyCtrl(),a=n.getScrollFeature().getVScrollPosition(),s=n.getScrollFeature().getHScrollPosition();t+=s.left,r+=a.top}return{x:t,y:r}},t.gridInstanceSequence=new nn,t.GRID_DOM_KEY="__ag_grid_instance",yd([he("ctrlsService")],t.prototype,"ctrlsService",void 0),t=r=yd([de("mouseEventService")],t),t}(lt),Cd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ed=function(){return Ed=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ed.apply(this,arguments)},Sd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},xd=function(e){function t(){var t=e.call(this)||this;return t.onPageDown=q(t.onPageDown,100),t.onPageUp=q(t.onPageUp,100),t}return Cd(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}))},t.prototype.handlePageScrollingKey=function(e,t){void 0===t&&(t=!1);var r=e.key,o=e.altKey,i=e.ctrlKey||e.metaKey,n=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e),s=!1;switch(r){case Li.PAGE_HOME:case Li.PAGE_END:i||o||(this.onHomeOrEndKey(r),s=!0);break;case Li.LEFT:case Li.RIGHT:case Li.UP:case Li.DOWN:if(!a)return!1;!i||o||n||(this.onCtrlUpDownLeftRight(r,a),s=!0);break;case Li.PAGE_DOWN:case Li.PAGE_UP:i||o||(s=this.handlePageUpDown(r,a,t));break}return s&&e.preventDefault(),s},t.prototype.handlePageUpDown=function(e,t,r){return r&&(t=this.focusService.getFocusedCell()),!!t&&(e===Li.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)},t.prototype.navigateTo=function(e){var t=e.scrollIndex,r=e.scrollType,o=e.scrollColumn,i=e.focusIndex,n=e.focusColumn;if(a(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),a(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.focusService.setFocusedCell({rowIndex:i,column:n,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var s={rowIndex:i,rowPinned:null,column:n};this.rangeService.setRangeToCell(s)}},t.prototype.onPageDown=function(e){var t=this.ctrlsService.getGridBodyCtrl(),r=t.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),i=this.paginationProxy.getPixelOffset(),n=r.top+o,a=this.paginationProxy.getRowIndexAtPixel(n+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a):this.navigateToNextPage(e,a)},t.prototype.onPageUp=function(e){var t=this.ctrlsService.getGridBodyCtrl(),r=t.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),i=r.top,n=this.paginationProxy.getRowIndexAtPixel(i+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,n,!0):this.navigateToNextPage(e,n,!0)},t.prototype.navigateToNextPage=function(e,t,r){void 0===r&&(r=!1);var o,i=this.getViewportHeight(),n=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),s=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),c=r?(null===l||void 0===l?void 0:l.rowHeight)-i-s:i-s,u=(null===l||void 0===l?void 0:l.rowTop)+c,d=this.paginationProxy.getRowIndexAtPixel(u+s);if(d===e.rowIndex){var h=r?-1:1;t=d=e.rowIndex+h}r?(o="bottom",d<n&&(d=n),t<n&&(t=n)):(o="top",d>a&&(d=a),t>a&&(t=a)),this.isRowTallerThanView(d)&&(t=d,o="top"),this.navigateTo({scrollIndex:t,scrollType:o,scrollColumn:null,focusIndex:d,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,t,r){var o=this;void 0===r&&(r=!1),this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((function(){var i=o.getNextFocusIndexForAutoHeight(e,r);o.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})}),50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,t){var r;void 0===t&&(t=!1);var o=t?-1:1,i=this.getViewportHeight(),n=this.paginationProxy.getPageLastRow(),a=0,s=e.rowIndex;while(s>=0&&s<=n){var l=this.paginationProxy.getRow(s);if(l){var c=null!==(r=l.rowHeight)&&void 0!==r?r:0;if(a+c>i)break;a+=c}s+=o}return Math.max(0,Math.min(s,n))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth(),o=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=r),o},t.prototype.isRowTallerThanView=function(e){var t=this.paginationProxy.getRow(e);if(!t)return!1;var r=t.rowHeight;return"number"===typeof r&&r>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,t){var r=this.cellNavigationService.getNextCellToFocus(e,t,!0),o=r.rowIndex,i=r.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:i,focusIndex:o,focusColumn:i})},t.prototype.onHomeOrEndKey=function(e){var t=e===Li.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),o=t?r[0]:Ae(r),i=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:o,focusIndex:i,focusColumn:o})},t.prototype.onTabKeyDown=function(e,t){var r=t.shiftKey,o=this.tabToNextCellCommon(e,r,t);if(o)t.preventDefault();else if(r){var i=e.getRowPosition(),n=i.rowIndex,a=i.rowPinned,s=a?0===n:n===this.paginationProxy.getPageFirstRow();s&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Tu&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&t.preventDefault()},t.prototype.tabToNextCell=function(e,t){var r=this.focusService.getFocusedCell();if(!r)return!1;var o=this.getCellByPosition(r);return!!(o||(o=this.rowRenderer.getRowByPosition(r),o&&o.isFullWidth()))&&this.tabToNextCellCommon(o,e,t)},t.prototype.tabToNextCellCommon=function(e,t,r){var o,i=e.isEditing();if(!i&&e instanceof Tu){var n=e,a=n.getRowCtrl();a&&(i=a.isEditing())}return o=i?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,t,r):this.moveToNextEditingCell(e,t,r):this.moveToNextCellNotEditing(e,t),o||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,t,r){void 0===r&&(r=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var i=this.findNextCellToFocusOn(o,t,!0);return null!=i&&(i.startEditing(null,!0,r),i.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,t,r){void 0===r&&(r=null);var o=e.getCellPosition(),i=this.findNextCellToFocusOn(o,t,!0);if(null==i)return!1;var n=i.getCellPosition(),a=this.isCellEditable(o),s=this.isCellEditable(n),l=n&&o.rowIndex===n.rowIndex&&o.rowPinned===n.rowPinned;if(a&&e.setFocusOutOnEditor(),!l){var c=e.getRowCtrl();c.stopEditing();var u=i.getRowCtrl();u.startRowEditing(void 0,void 0,r)}return s?(i.setFocusInOnEditor(),i.focusCell()):i.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,t){var r,o=this.columnModel.getAllDisplayedColumns();r=e instanceof Mu?Ed(Ed({},e.getRowPosition()),{column:t?o[0]:Ae(o)}):e.getCellPosition();var i=this.findNextCellToFocusOn(r,t,!1);if(i instanceof Tu)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return a(i)},t.prototype.findNextCellToFocusOn=function(e,t,r){var o=e;while(1){e!==o&&(e=o),t||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,t);var i=this.gridOptionsService.getCallback("tabToNextCell");if(a(i)){var n={backwards:t,editing:r,previousCellPosition:e,nextCellPosition:o||null},s=i(n);a(s)?(s.floating&&(V((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),s.rowPinned=s.floating),o={rowIndex:s.rowIndex,column:s.column,rowPinned:s.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+o.rowIndex,column:o.column},fromCell:!0}),null}var c="fullRow"===this.gridOptionsService.get("editType");if(r&&!c){var u=this.isCellEditable(o);if(!u)continue}this.ensureCellVisible(o);var d=this.getCellByPosition(o);if(!d){var h=this.rowRenderer.getRowByPosition(o);if(!h||!h.isFullWidth()||r)continue;return h}if(!d.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),d}},t.prototype.isCellEditable=function(e){var t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)},t.prototype.getCellByPosition=function(e){var t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,t,r,o){var i=r,n=!1;while(i&&(i===r||!this.isValidNavigateCell(i)))this.gridOptionsService.is("enableRtl")?t===Li.LEFT&&(i=this.getLastCellOfColSpan(i)):t===Li.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(t,i),n=s(i);if(n&&e&&e.key===Li.UP&&(i={rowIndex:-1,rowPinned:null,column:r.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(a(l)){var c={key:t,previousCellPosition:r,nextCellPosition:i||null,event:e},u=l(c);a(u)?(u.floating&&(V((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),u.rowPinned=u.floating),i={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):i=null}}if(i)if(i.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+i.rowIndex,column:r.column},event:e||void 0,fromCell:!0})}else{var h=this.getNormalisedPosition(i);h?this.focusPosition(h):this.tryToFocusFullWidthRow(i)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,t){void 0===t&&(t=!1);var r=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var i=this.focusService.getFocusedCell(),n={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ae(r):r[0])};this.focusPosition(n);var a=null!=i&&this.rowPositionUtils.before(n,i),s={type:gt.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column,isFullWidthCell:!0,floating:n.rowPinned,fromBelow:a};return this.eventService.dispatchEvent(s),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){var t=this.rowPositionUtils.getRowNode(e);return!!t},t.prototype.getLastCellOfColSpan=function(e){var t=this.getCellByPosition(e);if(!t)return e;var r=t.getColSpanningList();return 1===r.length?e:{rowIndex:e.rowIndex,column:Ae(r),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var t=this.gridOptionsService.isGroupRowsSticky(),r=this.rowModel.getRow(e.rowIndex),o=t&&(null===r||void 0===r?void 0:r.sticky);!o&&s(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Sd([he("mouseEventService")],t.prototype,"mouseEventService",void 0),Sd([he("paginationProxy")],t.prototype,"paginationProxy",void 0),Sd([he("focusService")],t.prototype,"focusService",void 0),Sd([pe("rangeService")],t.prototype,"rangeService",void 0),Sd([he("columnModel")],t.prototype,"columnModel",void 0),Sd([he("rowModel")],t.prototype,"rowModel",void 0),Sd([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Sd([he("rowRenderer")],t.prototype,"rowRenderer",void 0),Sd([he("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Sd([he("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Sd([he("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Sd([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Sd([ce],t.prototype,"postConstruct",null),t=Sd([de("navigationService")],t),t}(lt),Td=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),kd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},_d=function(e){function t(t){var r=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=t,r}return Td(t,e),t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,t=this.getGui(),r=this.params,o=function(t){Bi(e.gridOptionsService,t,r.node,r.column,!0)||r.onKeyDown(t)};this.addManagedListener(t,"keydown",o)},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",kd([ce],t.prototype,"postConstruct",null),t}(us),Rd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Od=function(e){function t(t,r,o,i,n){var a=e.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=t,a.column=r.getColumn(),a.rowNode=r.getRowNode(),a.rowCtrl=r.getRowCtrl(),a.eRow=i,a.cellCtrl=r,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var s=a.getGui();a.forceWrapper=r.isForceWrapper(),a.refreshWrapper(!1);var l=function(e,t){null!=t&&""!=t?s.setAttribute(e,t):s.removeAttribute(e)};wr(s,"gridcell"),l("col-id",r.getColumnIdSanitised());var c=r.getTabIndex();void 0!==c&&l("tabindex",c.toString());var u={addOrRemoveCssClass:function(e,t){return a.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return gi(s,e)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(e){return a.includeSelection=e},setIncludeRowDrag:function(e){return a.includeRowDrag=e},setIncludeDndSource:function(e){return a.includeDndSource=e},setRenderDetails:function(e,t,r){return a.setRenderDetails(e,t,r)},setEditDetails:function(e,t,r){return a.setEditDetails(e,t,r)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return r.setComp(u,a.getGui(),a.eCellWrapper,o,n),a}return Rd(t,e),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,t,r){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=null==this.firstRender;var i=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){var n=r||i,a=!n&&this.refreshCellRenderer(e);a||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(t)}},t.prototype.setEditDetails=function(e,t,r){e?this.createCellEditorInstance(e,t,r):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var t=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=t||this.forceWrapper,o=r&&null==this.eCellWrapper;o&&(this.eCellWrapper=ai('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var i=!r&&null!=this.eCellWrapper;i&&(ii(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);var n=!e&&r,a=n&&null==this.eCellValue;a&&(this.eCellValue=ai('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var s=!n&&null!=this.eCellValue;s&&(ii(this.eCellValue),this.eCellValue=void 0);var l=o||i||a||s;return l&&this.removeControls(),e||t&&this.addControls(),l},t.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,t,r){var o=this,i=this.editorVersion,n=e.newAgStackInstance();if(n){var a=e.params;n.then((function(e){return o.afterCellEditorCreated(i,e,a,t,r)}));var l=s(this.cellEditor);l&&a.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var t=this.getParentOfValue();ri(t);var r=null!=e?Tt(e):null;null!=r&&(t.innerHTML=r)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),ii(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),ii(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==e.componentClass)return!1;var t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t},t.prototype.createCellRendererInstance=function(e){var t=this,r=this.beans.gridOptionsService.is("suppressAnimationFrame"),o=!r,i=this.rendererVersion,n=e.componentClass,a=function(){var r=t.rendererVersion!==i||!t.isAlive();if(!r){var o=e.newAgStackInstance(),a=t.afterCellRendererCreated.bind(t,i,n);o&&o.then(a)}};o&&this.firstRender?this.beans.animationFrameService.createTask(a,this.rowNode.rowIndex,"createTasksP2"):a()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,t,r){var o=!this.isAlive()||e!==this.rendererVersion;if(o)this.beans.context.destroyBean(r);else if(this.cellRenderer=r,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var i=this.getParentOfValue();ri(i),i.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,t,r,o,i){var n=e!==this.editorVersion;if(n)this.beans.context.destroyBean(t);else{var a=t.isCancelBeforeStart&&t.isCancelBeforeStart();if(a)return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();var s=o||void 0!==t.isPopup&&t.isPopup();s?this.addPopupCellEditor(r,i):this.addInCellEditor(),this.refreshEditStyles(!0,s),t.afterGuiAttached&&t.afterGuiAttached()}},t.prototype.refreshEditStyles=function(e,t){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),null===(r=this.rowCtrl)||void 0===r||r.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),t=this.beans.gridOptionsService.getDocument();if(e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var r=this.getParentOfValue();r.appendChild(this.cellEditorGui)}},t.prototype.addPopupCellEditor=function(e,t){var r=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new _d(e));var i=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&i.appendChild(this.cellEditorGui);var n=this.beans.popupService,a=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),s=null!=t?t:o.getPopupPosition?o.getPopupPosition():"over",l=this.beans.gridOptionsService.is("enableRtl"),c={ePopup:i,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:s,alignSide:l?"right":"left",keepWithinBounds:!0},u=n.positionPopupByComponent.bind(n,c),d=this.beans.localeService.getLocaleTextFunc(),h=n.addPopup({modal:a,eChild:i,closeOnEsc:!0,closedCallback:function(){r.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),e.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&uo()&&e.focus({preventScroll:!0}),ri(this.getParentOfValue())},t}(mn),Dd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ad=function(e){function t(t,r,o){var i=e.call(this)||this;i.cellComps={},i.beans=r,i.rowCtrl=t,i.setTemplate('<div comp-id="'+i.getCompId()+'" style="'+i.getInitialStyle(o)+'"/>');var n=i.getGui(),a=n.style;i.domOrder=i.rowCtrl.getDomOrder(),wr(n,"row");var s=i.rowCtrl.getTabIndex();null!=s&&n.setAttribute("tabindex",s.toString());var l={setDomOrder:function(e){return i.domOrder=e},setCellCtrls:function(e){return i.setCellCtrls(e)},showFullWidth:function(e){return i.showFullWidth(e)},getFullWidthCellRenderer:function(){return i.getFullWidthCellRenderer()},addOrRemoveCssClass:function(e,t){return i.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return gi(n,e)},setTop:function(e){return a.top=e},setTransform:function(e){return a.transform=e},setRowIndex:function(e){return n.setAttribute("row-index",e)},setRowId:function(e){return n.setAttribute("row-id",e)},setRowBusinessKey:function(e){return n.setAttribute("row-business-key",e)}};return t.setComp(l,i.getGui(),o),i.addDestroyFunc((function(){t.unsetComp(o)})),i}return Dd(t,e),t.prototype.getInitialStyle=function(e){var t=this.rowCtrl.getInitialTransform(e),r=this.rowCtrl.getInitialRowTop(e);return t?"transform: "+t:"top: "+r},t.prototype.showFullWidth=function(e){var t=this,r=function(e){if(t.isAlive()){var r=e.getGui();t.getGui().appendChild(r),t.rowCtrl.setupDetailRowAutoHeight(r),t.setFullWidthRowComp(e)}else t.beans.context.destroyBean(e)},o=e.newAgStackInstance();o&&o.then(r)},t.prototype.setCellCtrls=function(e){var t=this,r=Object.assign({},this.cellComps);e.forEach((function(e){var o=e.getInstanceId(),i=t.cellComps[o];null==i?t.newCellComp(e):r[o]=null}));var o=D(r).filter((function(e){return null!=e}));this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var t=this;if(this.domOrder){var r=[];e.forEach((function(e){var o=t.cellComps[e.getInstanceId()];o&&r.push(o.getGui())})),hi(this.getGui(),r)}},t.prototype.newCellComp=function(e){var t=new Od(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=D(this.cellComps).filter((function(e){return null!=e}));this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var t=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc((function(){t.fullWidthCellRenderer=t.beans.context.destroyBean(t.fullWidthCellRenderer)}))},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var t=this;e.forEach((function(e){if(e){var r=e.getCtrl().getInstanceId();t.cellComps[r]===e&&(e.detach(),e.destroy(),t.cellComps[r]=null)}}))},t}(mn),Pd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Md=function(){return Md=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Md.apply(this,arguments)},Ld=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};function Fd(){var e,t=mn.elementGettingCreated.getAttribute("name"),r=ud.getRowContainerCssClasses(t),o=t===Du.CENTER,i=t===Du.TOP_CENTER||t===Du.STICKY_TOP_CENTER||t===Du.BOTTOM_CENTER;return e=o?'<div class="'+r.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+r.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+r.container+'" ref="eContainer"></div>\n                </div>\n            </div>':i?'<div class="'+r.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+r.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+r.container+'" ref="eContainer"></div>',e}var Id,Nd=function(e){function t(){var t=e.call(this,Fd())||this;return t.rowComps={},t.name=mn.elementGettingCreated.getAttribute("name"),t.type=ad(t.name),t}return Pd(t,e),t.prototype.postConstruct=function(){var e=this,t={setViewportHeight:function(t){return e.eViewport.style.height=t},setRowCtrls:function(t){return e.setRowCtrls(t)},setDomOrder:function(t){e.domOrder=t},setContainerWidth:function(t){return e.eContainer.style.width=t}},r=this.createManagedBean(new ud(this.name));r.setComp(t,this.eContainer,this.eViewport,this.eWrapper)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var t=this,r=Md({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(e){var o=e.getInstanceId(),i=r[o];if(i)t.rowComps[o]=i,delete r[o],t.ensureDomOrder(i.getGui());else{if(!e.getRowNode().displayed)return;var n=new Ad(e,t.beans,t.type);t.rowComps[o]=n,t.appendRow(n.getGui())}};e.forEach(o),D(r).forEach((function(e){t.eContainer.removeChild(e.getGui()),e.destroy()})),wr(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?pi(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(di(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Ld([he("beans")],t.prototype,"beans",void 0),Ld([bn("eViewport")],t.prototype,"eViewport",void 0),Ld([bn("eContainer")],t.prototype,"eContainer",void 0),Ld([bn("eWrapper")],t.prototype,"eWrapper",void 0),Ld([ce],t.prototype,"postConstruct",null),Ld([ue],t.prototype,"preDestroy",null),t}(mn),Hd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Gd=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var r=e.dragItem.columns;r&&r.forEach((function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowPivot()&&t.columnsToPivot.push(e)))}))}},e.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?zs.ICON_PINNED:zs.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Hd([he("columnModel")],e.prototype,"columnModel",void 0),Hd([he("gridOptionsService")],e.prototype,"gridOptionsService",void 0),e}(),Vd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},zd=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Bd=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!a(e)}return e.prototype.init=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()}))},e.prototype.getIconName=function(){return this.pinned?zs.ICON_PINNED:zs.ICON_MOVE},e.prototype.onDragEnter=function(e){var t=e.dragItem.columns,r=e.dragSource.type===Ia.ToolPanel;if(r)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var o=e.dragItem.visibleState,i=(t||[]).filter((function(e){return o[e.getId()]}));this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},e.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},e.prototype.setColumnsVisible=function(e,t,r){if(void 0===r&&(r="api"),e){var o=e.filter((function(e){return!e.getColDef().lockVisible}));this.columnModel.setColumnsVisible(o,t,r)}},e.prototype.setColumnsPinned=function(e,t,r){if(void 0===r&&(r="api"),e){var o=e.filter((function(e){return!e.getColDef().lockPinned}));this.columnModel.setColumnsPinned(o,t,r)}},e.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},e.prototype.normaliseX=function(e){if(this.gridOptionsService.is("enableRtl")){var t=this.eContainer.clientWidth;e=t-e}return this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>r-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t,r,o){var i,n=this;if(void 0===e&&(e=this.lastDraggingEvent),void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),o){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,c=a.toIndex;this.moveColumns(l,c,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=e,!s(e.hDirection)){var u=this.normaliseX(e.x);t||this.checkCenterForScrolling(u);var d=this.normaliseDirection(e.hDirection),h=e.dragSource.type,p=(null===(i=e.dragSource.getDragItem().columns)||void 0===i?void 0:i.filter((function(e){return!e.getColDef().lockPinned||e.getPinned()==n.pinned})))||[];this.attemptMoveColumns({dragSourceType:h,allMovingColumns:p,hDirection:d,mouseX:u,fromEnter:t,fakeEvent:r})}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsService.is("enableRtl"))return e;switch(e){case Ha.Left:return Ha.Right;case Ha.Right:return Ha.Left;default:console.error("AG Grid: Unknown direction "+e)}},e.prototype.attemptMoveColumns=function(e){var t=e.dragSourceType,r=e.hDirection,o=e.mouseX,i=e.fromEnter,n=e.fakeEvent,a=r===Ha.Left,s=r===Ha.Right,l=e.allMovingColumns;if(t===Ia.HeaderCell){var c=[];l.forEach((function(e){var t,r=null,o=e.getParent();while(null!=o&&1===o.getDisplayedLeafColumns().length)r=o,o=o.getParent();if(null!=r){var i=!!(null===(t=r.getColGroupDef())||void 0===t?void 0:t.marryChildren),n=i?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns();n.forEach((function(e){c.includes(e)||c.push(e)}))}else c.includes(e)||c.push(e)})),l=c}var u=l.slice();this.columnModel.sortColumnsLikeGridColumns(u);var d=this.calculateValidMoves(u,s,o),h=this.calculateOldIndex(u);if(0!==d.length){var p=d[0],f=null!==h&&!i;if(t==Ia.HeaderCell&&(f=null!==h),f&&!n){if(a&&p>=h)return;if(s&&p<=h)return}for(var g=this.columnModel.getAllDisplayedColumns(),v=[],m=null,b=0;b<d.length;b++){var y=d[b],w=this.columnModel.getProposedColumnOrder(u,y);if(this.columnModel.doesOrderPassRules(w)){var C=w.filter((function(e){return g.includes(e)}));if(null===m)m=C;else if(!on.areEqual(C,m))break;var E=this.groupFragCount(w);v.push({move:y,fragCount:E})}}0!==v.length&&(v.sort((function(e,t){return e.fragCount-t.fragCount})),this.moveColumns(l,v[0].move,"uiColumnMoved",!1))}},e.prototype.calculateOldIndex=function(e){var t=this.columnModel.getAllGridColumns(),r=Le(e.map((function(e){return t.indexOf(e)}))),o=r[0],i=Ae(r),n=i-o,a=n!==r.length-1;return a?null:o},e.prototype.moveColumns=function(e,t,r,o){this.columnModel.moveColumns(e,t,r,o),this.lastMovedInfo=o?null:{columns:e,toIndex:t}},e.prototype.groupFragCount=function(e){function t(e){var t=[],r=e.getOriginalParent();while(null!=r)t.push(r),r=r.getOriginalParent();return t}for(var r=0,o=function(o){var i,n=t(e[o]),a=t(e[o+1]);i=zd(n.length>a.length?[n,a]:[a,n],2),n=i[0],a=i[1],n.forEach((function(e){-1===a.indexOf(e)&&r++}))},i=0;i<e.length-1;i++)o(i);return r},e.prototype.calculateValidMoves=function(e,t,r){var o=this.gridOptionsService.is("suppressMovableColumns")||e.some((function(e){return e.getColDef().suppressMovable}));if(o)return[];var i,n=this.columnModel.getDisplayedColumns(this.pinned),a=this.columnModel.getAllGridColumns(),s=n.filter((function(t){return je(e,t)})),l=n.filter((function(t){return!je(e,t)})),c=a.filter((function(t){return!je(e,t)})),u=0,d=r;if(t){var h=0;s.forEach((function(e){return h+=e.getActualWidth()})),d-=h}if(d>0){for(var p=0;p<l.length;p++){var f=l[p];if(d-=f.getActualWidth(),d<0)break;u++}t&&u++}if(u>0){var g=l[u-1];i=c.indexOf(g)+1}else i=c.indexOf(l[0]),-1===i&&(i=0);var v=[i],m=function(e,t){return e-t};if(t){var b=i+1,y=a.length-1;while(b<=y)v.push(b),b++;v.sort(m)}else{b=i,y=a.length-1;var w=a[b];while(b<=y&&this.isColumnHidden(n,w))b++,v.push(b),w=a[b];b=i-1;var C=0;while(b>=C)v.push(b),b--;v.sort(m).reverse()}return v},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(zs.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(zs.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(zs.ICON_MOVE))},e.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);var t=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns,i=o.filter((function(e){return!e.getColDef().lockPinned}));if(i.length>0&&(this.dragAndDropService.setGhostIcon(zs.ICON_PINNED),this.failedMoveAttempts>7)){var n=this.needToMoveLeft?"left":"right";this.setColumnsPinned(i,n,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Vd([he("columnModel")],e.prototype,"columnModel",void 0),Vd([he("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Vd([he("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Vd([he("ctrlsService")],e.prototype,"ctrlsService",void 0),Vd([ce],e.prototype,"init",null),e}(),jd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Wd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ud=function(e){function t(t,r){var o=e.call(this)||this;return o.pinned=t,o.eContainer=r,o}return jd(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){switch(e.pinned){case"left":e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]];break}}))},t.prototype.isInterestedIn=function(e){return e===Ia.HeaderCell||e===Ia.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Bd(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Gd(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Ia.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Wd([he("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Wd([he("columnModel")],t.prototype,"columnModel",void 0),Wd([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Wd([ce],t.prototype,"postConstruct",null),Wd([ce],t.prototype,"init",null),t}(lt),$d=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Kd=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Yd=function(){function e(){}return e.getHeaderClassesFromColDef=function(e,t,r,o){return s(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,r,o)},e.getToolPanelClassesFromColDef=function(e,t,r,o){return s(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,r,o)},e.getClassParams=function(e,t,r,o){return{colDef:e,column:r,columnGroup:o,api:t.api,columnApi:t.columnApi,context:t.context}},e.getColumnClassesFromCollDef=function(e,t,r,o,i){if(s(e))return[];var n;if("function"===typeof e){var a=this.getClassParams(t,r,o,i);n=e(a)}else n=e;return"string"===typeof n?[n]:Array.isArray(n)?Kd([],$d(n)):[]},e}(),qd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Jd=function(e){function t(r){var o=e.call(this,t.TEMPLATE,r)||this;return o.headerCompVersion=0,o.column=r.getColumnGroupChild(),o.pinned=r.getPinned(),o}return qd(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),r=function(e,r){null!=r&&""!=r?t.setAttribute(e,r):t.removeAttribute(e)};r("col-id",this.column.getColId());var o={setWidth:function(e){return t.style.width=e},addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},setAriaDescription:function(e){return _r(t,e)},setAriaSort:function(e){return e?jr(t,e):Wr(t)},setUserCompDetails:function(t){return e.setUserCompDetails(t)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var i=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",i)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var t=this;this.headerCompVersion++;var r=this.headerCompVersion;e.newAgStackInstance().then((function(e){return t.afterCompCreated(r,e)}))},t.prototype.afterCompCreated=function(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',Xd([bn("eResize")],t.prototype,"eResize",void 0),Xd([bn("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),Xd([ce],t.prototype,"postConstruct",null),Xd([ue],t.prototype,"destroyHeaderComp",null),t}(hc),Qd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zd=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},eh=function(e){function t(r){return e.call(this,t.TEMPLATE,r)||this}return Qd(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),r=function(e,r){return void 0!=r?t.setAttribute(e,r):t.removeAttribute(e)};t.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},setResizableDisplayed:function(t){return jo(e.eResize,t)},setWidth:function(e){return t.style.width=e},setAriaExpanded:function(e){return r("aria-expanded",e)},setUserCompDetails:function(t){return e.setUserCompDetails(t)}};this.ctrl.setComp(o,t,this.eResize)},t.prototype.setUserCompDetails=function(e){var t=this;e.newAgStackInstance().then((function(e){return t.afterHeaderCompCreated(e)}))},t.prototype.afterHeaderCompCreated=function(e){var t=this,r=function(){return t.destroyBean(e)};if(this.isAlive()){var o=this.getGui(),i=e.getGui();o.appendChild(i),this.addDestroyFunc(r),this.ctrl.setDragSource(o)}else r()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Zd([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Zd([bn("eResize")],t.prototype,"eResize",void 0),Zd([ce],t.prototype,"postConstruct",null),t}(hc),th=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),rh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e["COLUMN_GROUP"]="group",e["COLUMN"]="column",e["FLOATING_FILTER"]="filter"})(Id||(Id={}));var oh,ih=function(e){function t(t){var r=e.call(this)||this;return r.headerComps={},r.ctrl=t,r.setTemplate('<div class="'+r.ctrl.getHeaderRowClass()+'" role="row"></div>'),r}return th(t,e),t.prototype.init=function(){var e=this;this.getGui().style.transform=this.ctrl.getTransform(),Gr(this.getGui(),this.ctrl.getAriaRowIndex());var t={setHeight:function(t){return e.getGui().style.height=t},setTop:function(t){return e.getGui().style.top=t},setHeaderCtrls:function(t,r){return e.setHeaderCtrls(t,r)},setWidth:function(t){return e.getGui().style.width=t}};this.ctrl.setComp(t)},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,t){var r=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach((function(e){var t=e.getInstanceId(),i=o[t];delete o[t],null==i&&(i=r.createHeaderComp(e),r.getGui().appendChild(i.getGui())),r.headerComps[t]=i})),C(o,(function(e,t){r.getGui().removeChild(t.getGui()),r.destroyBean(t)})),t){var i=D(this.headerComps);i.sort((function(e,t){var r=e.getCtrl().getColumnGroupChild().getLeft(),o=t.getCtrl().getColumnGroupChild().getLeft();return r-o}));var n=i.map((function(e){return e.getGui()}));hi(this.getGui(),n)}}},t.prototype.createHeaderComp=function(e){var t;switch(this.ctrl.getType()){case Id.COLUMN_GROUP:t=new eh(e);break;case Id.FLOATING_FILTER:t=new gc(e);break;default:t=new Jd(e);break}return this.createBean(t),t.setParentComponent(this),t},rh([ce],t.prototype,"init",null),rh([ue],t.prototype,"destroyHeaderCtrls",null),t}(mn),nh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ah=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},sh=0,lh=function(e){function t(t,r){var o=e.call(this)||this;return o.lastFocusEvent=null,o.columnGroupChild=t,o.parentRowCtrl=r,o.instanceId=t.getUniqueId()+"-"+sh++,o}return nh(t,e),t.prototype.shouldStopEventPropagation=function(e){var t=this.focusService.getFocusedHeader(),r=t.headerRowIndex,o=t.column;return ji(this.gridOptionsService,e,r,o)},t.prototype.getWrapperHasFocus=function(){var e=this.gridOptionsService.getDocument(),t=e.activeElement;return t===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.handleKeyDown=function(e){var t=this.getWrapperHasFocus();switch(e.key){case Li.PAGE_DOWN:case Li.PAGE_UP:case Li.PAGE_HOME:case Li.PAGE_END:t&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,r=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,r,this),this.addDestroyFunc((function(){return e.gridOptionsService.setDomData(e.eGui,r,null)}))},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",ah([he("focusService")],t.prototype,"focusService",void 0),ah([he("beans")],t.prototype,"beans",void 0),ah([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(lt),ch=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),uh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},dh=function(e){function t(t,r,o,i){var n=e.call(this)||this;return n.columnOrGroup=t,n.eCell=r,n.ariaEl=n.eCell.querySelector("[role=columnheader]")||n.eCell,n.colsSpanning=i,n.beans=o,n}return ch(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?Ae(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Te.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),t=a(this.columnOrGroup.getOldLeft()),r=this.beans.columnAnimationService.isActive()&&t&&!e;r?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup(),r=t.getLeft(),o=t.getOldLeft(),i=this.modifyLeftForPrintLayout(t,o),n=this.modifyLeftForPrintLayout(t,r);this.setLeft(i),this.actualLeft=n,this.beans.columnAnimationService.executeNextVMTurn((function(){e.actualLeft===n&&e.setLeft(n)}))},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){var r=this.beans.gridOptionsService.isDomLayout("print");if(!r)return t;if("left"===e.getPinned())return t;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if("right"===e.getPinned()){var i=this.beans.columnModel.getBodyContainerWidth();return o+i+t}return o+t},t.prototype.setLeft=function(e){var t;if(a(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof Te)t=this.columnOrGroup;else{var r=this.columnOrGroup,o=r.getLeafColumns();if(!o.length)return;o.length>1&&Br(this.ariaEl,o.length),t=o[0]}var i=this.beans.columnModel.getAriaColumnIndex(t);zr(this.ariaEl,i)},uh([ce],t.prototype,"postConstruct",null),t}(lt),hh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ph=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},fh=function(e){function t(t,r){var o=e.call(this)||this;return o.columns=t,o.element=r,o}return hh(t,e),t.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},ph([he("columnHoverService")],t.prototype,"columnHoverService",void 0),ph([ce],t.prototype,"postConstruct",null),t}(lt),gh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},mh=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.iconCreated=!1,o.column=t,o}return gh(t,e),t.prototype.setComp=function(t,r,o,i){e.prototype.setGui.call(this,r),this.comp=t,this.eButtonShowMainFilter=o,this.eFloatingFilterBody=i,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Te.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.setupActive=function(){var e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),this.active&&!this.iconCreated){var e=Pi("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new An(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();Tr(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){var t=this.gridOptionsService.getDocument(),r=t.activeElement,o=r===this.eGui;if(!o){var i=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(i)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void i.focus();var n=this.findNextColumnWithFloatingFilter(e.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var t=this.beans.columnModel,r=this.column;do{if(r=e?t.getDisplayedColBefore(r):t.getDisplayedColAfter(r),!r)break}while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t);var r=this.getWrapperHasFocus();switch(t.key){case Li.UP:case Li.DOWN:r||t.preventDefault();case Li.LEFT:case Li.RIGHT:if(r)return;t.stopPropagation();case Li.ENTER:r&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case Li.ESCAPE:r||this.eGui.focus()}},t.prototype.onFocusIn=function(e){var t=this.eGui.contains(e.relatedTarget);if(!t){var r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&$o(e.relatedTarget,"ag-floating-filter");if(r&&o&&e.target===this.eGui){var i=this.lastFocusEvent,n=!(!i||i.key!==Li.TAB);if(i&&n){var a=i.shiftKey;this.focusService.focusInto(this.eGui,a)}}var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new fh([this.column],this.eGui));var t=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var t=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedListener(this.eventService,gt.EVENT_COLUMN_HOVER_CHANGED,t),t()},t.prototype.setupLeft=function(){var e=new dh(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){var e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton},t.prototype.setupUserComp=function(){var e=this;if(this.active){var t=this.filterManager.getFloatingFilterCompDetails(this.column,(function(){return e.showParentFilter()}));t&&this.setCompDetails(t)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var t=function(t){var r=e.comp.getFloatingFilterComp();r&&r.then((function(r){if(r){var o=e.filterManager.getCurrentFloatingFilterParentModel(e.column);r.onParentModelChanged(o,t)}}))};this.destroySyncListener=this.addManagedListener(this.column,Te.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)}},t.prototype.setupWidth=function(){var e=this,t=function(){var t=e.column.getActualWidth()+"px";e.comp.setWidth(t)};this.addManagedListener(this.column,Te.EVENT_WIDTH_CHANGED,t),t()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Te.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},t.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},t.prototype.onColDefChanged=function(){var e,t,r=this,o=this.active;this.setupActive();var i=!o&&this.active;o&&!this.active&&(null===(e=this.destroySyncListener)||void 0===e||e.call(this),null===(t=this.destroyFilterChangedListener)||void 0===t||t.call(this));var n=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,(function(){return r.showParentFilter()})):null,a=this.comp.getFloatingFilterComp();a&&n?a.then((function(e){var t;!e||r.filterManager.areFilterCompsDifferent(null!==(t=r.userCompDetails)&&void 0!==t?t:null,n)?r.updateCompDetails(n,i):r.updateFloatingFilterParams(n)})):this.updateCompDetails(n,i)},t.prototype.updateCompDetails=function(e,t){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},t.prototype.updateFloatingFilterParams=function(e){var t;if(e){var r=e.params;null===(t=this.comp.getFloatingFilterComp())||void 0===t||t.then((function(e){(null===e||void 0===e?void 0:e.onParamsUpdated)&&"function"===typeof e.onParamsUpdated&&e.onParamsUpdated(r)}))}},vh([he("filterManager")],t.prototype,"filterManager",void 0),vh([he("columnHoverService")],t.prototype,"columnHoverService",void 0),vh([he("menuFactory")],t.prototype,"menuFactory",void 0),t}(lh),bh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),yh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},wh=function(e){function t(t,r,o,i,n){var a=e.call(this)||this;return a.pinned=t,a.column=r,a.eResize=o,a.comp=i,a.ctrl=n,a}return bh(t,e),t.prototype.postConstruct=function(){var e,t,r=this,o=this.column.getColDef(),i=[],n=function(){if(jo(r.eResize,e),e){var o=r.horizontalResizeService.addResizeBar({eResizeBar:r.eResize,onResizeStart:r.onResizeStart.bind(r),onResizing:r.onResizing.bind(r,!1),onResizeEnd:r.onResizing.bind(r,!0)});if(i.push(o),t){var n=r.gridOptionsService.is("skipHeaderOnAutoSize"),a=function(){r.columnModel.autoSizeColumn(r.column,n,"uiColumnResized")};r.eResize.addEventListener("dblclick",a);var s=new Za(r.eResize);s.addEventListener(Za.EVENT_DOUBLE_TAP,a),r.addDestroyFunc((function(){r.eResize.removeEventListener("dblclick",a),s.removeEventListener(Za.EVENT_DOUBLE_TAP,a),s.destroy()}))}}},a=function(){i.forEach((function(e){return e()})),i.length=0},s=function(){var i=r.column.isResizable(),s=!r.gridOptionsService.is("suppressAutoSize")&&!o.suppressAutoSize,l=i!==e||s!==t;l&&(e=i,t=s,a(),n())};s(),this.addDestroyFunc(a),this.ctrl.addRefreshFunction(s)},t.prototype.onResizing=function(e,t){var r=this.normaliseResizeAmount(t),o=[{key:this.column,newWidth:this.resizeStartWidth+r}];this.columnModel.setColumnWidths(o,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var t=e,r="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?r&&(t*=-1):o&&(t*=-1),t},yh([he("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),yh([he("columnModel")],t.prototype,"columnModel",void 0),yh([ce],t.prototype,"postConstruct",null),t}(lt),Ch=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Eh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Sh=function(e){function t(t){var r=e.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=t;var o=t.getColDef();return r.filteredOnly=!!(null===o||void 0===o?void 0:o.headerCheckboxSelectionFilteredOnly),r.currentPageOnly=!!(null===o||void 0===o?void 0:o.headerCheckboxSelectionCurrentPageOnly),r}return Ch(t,e),t.prototype.onSpaceKeyDown=function(e){var t=this.cbSelectAll,r=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(r.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new ia),this.cbSelectAll.addCssClass("ag-header-select-all"),wr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,gt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,gt.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),Pr(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue(),r=t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",o+" ("+r+")"):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(o+" ("+r+")"),this.headerCellCtrl.refreshAriaDescription()},t.prototype.checkRightRowModelType=function(e){var t=this.rowModel.getType(),r="clientSide"===t||"serverSide"===t;return!!r||(console.warn("AG Grid: "+e+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+t+"."),!1)},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),t="uiSelectAll";this.currentPageOnly?t="uiSelectAllCurrentPage":this.filteredOnly&&(t="uiSelectAllFiltered");var r={source:t,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if("function"===typeof e){var t=e,r={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context};e=t(r)}return!!e&&this.checkRightRowModelType("headerCheckboxSelection")},Eh([he("gridApi")],t.prototype,"gridApi",void 0),Eh([he("columnApi")],t.prototype,"columnApi",void 0),Eh([he("rowModel")],t.prototype,"rowModel",void 0),Eh([he("selectionService")],t.prototype,"selectionService",void 0),t}(lt),xh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Th=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e["TAB_GUARD"]="ag-tab-guard",e["TAB_GUARD_TOP"]="ag-tab-guard-top",e["TAB_GUARD_BOTTOM"]="ag-tab-guard-bottom"})(oh||(oh={}));var kh,_h=function(e){function t(t){var r=e.call(this)||this;r.skipTabGuardFocus=!1;var o=t.comp,i=t.eTopGuard,n=t.eBottomGuard,a=t.focusInnerElement,s=t.onFocusIn,l=t.onFocusOut,c=t.shouldStopEventPropagation,u=t.onTabKeyDown,d=t.handleKeyDown,h=t.eFocusableElement;return r.comp=o,r.eTopGuard=i,r.eBottomGuard=n,r.providedFocusInnerElement=a,r.eFocusableElement=h,r.providedFocusIn=s,r.providedFocusOut=l,r.providedShouldStopEventPropagation=c,r.providedOnTabKeyDown=u,r.providedHandleKeyDown=d,r}return xh(t,e),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new An(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)},onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((function(t){return e.addManagedListener(t,"focus",e.onFocus.bind(e))}))},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){var e=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(e.toString())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var t=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var r=this.tabGuardsAreActive();r&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);r&&setTimeout((function(){return t.activateTabGuards()}),0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()},Th([he("focusService")],t.prototype,"focusService",void 0),Th([ce],t.prototype,"postConstruct",null),t}(lt),Rh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Oh=function(){return Oh=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oh.apply(this,arguments)},Dh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ah=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Ph=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Mh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return Rh(t,e),r=t,t.addKeyboardModeEvents=function(e,t){var o=r.instancesMonitored.get(e);o&&o.length>0?-1===o.indexOf(t)&&o.push(t):(r.instancesMonitored.set(e,[t]),e.addEventListener("keydown",r.toggleKeyboardMode),e.addEventListener("mousedown",r.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(e,t){var o=r.instancesMonitored.get(e),i=[];o&&o.length&&(i=Ph([],Ah(o)).filter((function(e){return e!==t})),r.instancesMonitored.set(e,i)),0===i.length&&(e.removeEventListener("keydown",r.toggleKeyboardMode),e.removeEventListener("mousedown",r.toggleKeyboardMode))},t.toggleKeyboardMode=function(e){var t=r.keyboardModeActive,o="keydown"===e.type;if((!o||!(e.ctrlKey||e.metaKey||e.altKey))&&!(t&&o||!t&&!o)){r.keyboardModeActive=o;var i=e.target.ownerDocument;if(i){var n=r.instancesMonitored.get(i);n&&n.forEach((function(e){e.dispatchEvent({type:o?gt.EVENT_KEYBOARD_FOCUS:gt.EVENT_MOUSE_FOCUS})}))}}},t.prototype.init=function(){var e=this,t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,gt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl;var o=e.gridOptionsService.getDocument();r.addKeyboardModeEvents(o,e.gridCtrl),e.addDestroyFunc((function(){return e.unregisterGridCompController(e.gridCtrl)}))}))},t.prototype.unregisterGridCompController=function(e){var t=this.gridOptionsService.getDocument();r.removeKeyboardModeEvents(t,e)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return r.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,Mu.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,lh.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(e,t){var r=e;while(r){var o=this.gridOptionsService.getDomData(r,t);if(o)return!1;r=r.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(e){var t=this;return!!this.isCellRestoreFocused(e)&&(setTimeout((function(){t.restoredFocusedCellPosition=null}),0),!0)},t.prototype.isCellRestoreFocused=function(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)},t.prototype.getFocusEventParams=function(){var e=this.focusedCellPosition,t=e.rowIndex,r=e.rowPinned,o=e.column,i={rowIndex:t,rowPinned:r,column:o,isFullWidthCell:!1},n=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r});return n&&(i.isFullWidthCell=n.isFullWidth()),i},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,null!=this.focusedCellPosition){var e=Oh({type:gt.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}},t.prototype.setFocusedCell=function(e){var t=e.column,r=e.rowIndex,o=e.rowPinned,i=e.forceBrowserFocus,a=void 0!==i&&i,s=e.preventScrollOnBrowserFocus,l=void 0!==s&&s,c=this.columnModel.getGridColumn(t);if(c){this.focusedCellPosition=c?{rowIndex:r,rowPinned:n(o),column:c}:null;var u=Oh(Oh({type:gt.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:a,preventScrollOnBrowserFocus:l,floating:null});this.eventService.dispatchEvent(u)}else this.focusedCellPosition=null},t.prototype.isCellFocused=function(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(null==this.focusedHeaderPosition)return!1;var t=e.getColumnGroupChild(),r=e.getRowIndex(),o=e.getPinned(),i=this.focusedHeaderPosition,n=i.column,a=i.headerRowIndex;return t===n&&r===a&&o==n.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e){var t=e.direction,r=e.fromTab,o=e.allowUserOverride,i=e.event,n=e.fromCell,a=e.headerPosition;if(n&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(o){var s=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();if(r){var c=this.gridOptionsService.getCallback("tabToNextHeader");if(c){var u={backwards:"Before"===t,previousHeaderPosition:s,nextHeaderPosition:a,headerRowCount:l};a=c(u)}}else{c=this.gridOptionsService.getCallback("navigateToNextHeader");if(c&&i){var d={key:i.key,previousHeaderPosition:s,nextHeaderPosition:a,headerRowCount:l,event:i};a=c(d)}}}if(!a)return!1;if(-1===a.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(a.column);this.headerNavigationService.scrollToColumn(a.column,t);var h=this.ctrlsService.getHeaderRowContainerCtrl(a.column.getPinned()),p=h.focusHeader(a.headerRowIndex,a.column,i);return p},t.prototype.focusFirstHeader=function(){var e=this.columnModel.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}}))},t.prototype.focusLastHeader=function(e){var t=this.headerNavigationService.getHeaderRowCount()-1,r=Ae(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:r},event:e})},t.prototype.focusPreviousFromFirstCell=function(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===n(t))},t.prototype.findFocusableElements=function(e,t,r){void 0===r&&(r=!1);var o=Vo,i=zo;t&&(i+=", "+t),r&&(i+=', [tabindex="-1"]');var n=Array.prototype.slice.apply(e.querySelectorAll(o)),a=Array.prototype.slice.apply(e.querySelectorAll(i));if(!a.length)return n;var s=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))};return s(n,a)},t.prototype.focusInto=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var o=this.findFocusableElements(e,null,r),i=t?Ae(o):o[0];return!!i&&(i.focus({preventScroll:!0}),!0)},t.prototype.findFocusableElementBeforeTabGuard=function(e,t){if(!t)return null;var r=this.findFocusableElements(e),o=r.indexOf(t);if(-1===o)return null;for(var i=-1,n=o-1;n>=0;n--)if(r[n].classList.contains(oh.TAB_GUARD_TOP)){i=n;break}return i<=0?null:r[i-1]},t.prototype.findNextFocusableElement=function(e,t,r){void 0===e&&(e=this.eGridDiv);var o,i=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),n=this.gridOptionsService.getDocument(),a=n.activeElement;o=t?i.findIndex((function(e){return e.contains(a)})):i.indexOf(a);var s=o+(r?-1:1);return s<0||s>=i.length?null:i[s]},t.prototype.isTargetUnderManagedComponent=function(e,t){if(!t)return!1;var r=e.querySelectorAll("."+An.FOCUS_MANAGED_CLASS);if(!r.length)return!1;for(var o=0;o<r.length;o++)if(r[o].contains(t))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);var r=0;while(e&&null===ho(e)&&++r<=t)e=e.parentElement;return null===ho(e)?null:e},t.prototype.focusGridView=function(e,t){if(this.gridOptionsService.is("suppressCellFocus"))return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var r=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!r)return!1;var o=r.rowIndex,i=r.rowPinned,a=this.getFocusedHeader();if(!e&&a&&(e=a.column),null==o||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:o,column:e,rowPinned:i}),this.setFocusedCell({rowIndex:o,column:e,rowPinned:n(i),forceBrowserFocus:!0}),this.rangeService){var s={rowIndex:o,rowPinned:i,column:e};this.rangeService.setRangeToCell(s)}return!0},t.prototype.focusNextGridCoreContainer=function(e,t){return void 0===t&&(t=!1),!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)},t.prototype.focusAdvancedFilter=function(e){return this.advancedFilterFocusColumn=null===e||void 0===e?void 0:e.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(e,t){var r,o,i=null!==(r=t?void 0:this.advancedFilterFocusColumn)&&void 0!==r?r:null===(o=this.columnModel.getAllDisplayedColumns())||void 0===o?void 0:o[0];return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(i)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Dh([he("eGridDiv")],t.prototype,"eGridDiv",void 0),Dh([he("columnModel")],t.prototype,"columnModel",void 0),Dh([he("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Dh([he("rowRenderer")],t.prototype,"rowRenderer",void 0),Dh([he("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Dh([he("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Dh([pe("rangeService")],t.prototype,"rangeService",void 0),Dh([he("navigationService")],t.prototype,"navigationService",void 0),Dh([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Dh([he("filterManager")],t.prototype,"filterManager",void 0),Dh([pe("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Dh([ce],t.prototype,"init",null),t=r=Dh([de("focusService")],t),t}(lt),Lh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ih=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=t,o}return Lh(t,e),t.prototype.setComp=function(t,r,o,i){var n=this;e.prototype.setGui.call(this,r),this.comp=t,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new wh(this.getPinned(),this.column,o,t,this)),this.createManagedBean(new fh([this.column],r)),this.createManagedBean(new dh(this.column,r,this.beans)),this.createManagedBean(new An(r,{shouldStopEventPropagation:function(e){return n.shouldStopEventPropagation(e)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(r),this.addManagedListener(this.column,Te.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addMouseDownListenerIfNeeded=function(e){var t=this;if(io()){var r=["mousedown","touchstart"],o=this.gridOptionsService.getDocument();r.forEach((function(r){t.addManagedListener(e,r,(function(t){var r=o.activeElement;r===e||e.contains(r)||(e.focus(),Mh.toggleKeyboardMode(t))}))}))}},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)},t.prototype.createParams=function(){var e=this,t=this.column.getColDef(),r={column:this.column,displayName:this.displayName,enableSorting:t.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(t){e.gridApi.showColumnMenuAfterButtonClick(e.column,t)},progressSort:function(t){e.sortController.progressSort(e.column,!!t,"uiColumnSorted")},setSort:function(t,r){e.sortController.setSortForColumn(e.column,t,!!r,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()};return r},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Sh(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t),t.key===Li.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===Li.ENTER&&this.onEnterKeyDown(t)},t.prototype.onEnterKeyDown=function(e){var t=this.comp.getUserCompInstance();if(t)if(e.ctrlKey||e.metaKey)this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu());else if(this.sortable){var r=e.shiftKey;this.sortController.progressSort(this.column,r,"uiColumnSorted")}},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,t={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var t=e.column.getColDef().headerTooltip;return t}},r=this.createManagedBean(new ou(t,this.beans));r.setComp(this.eGui),this.refreshFunctions.push((function(){return r.refreshToolTip()}))},t.prototype.setupClassesFromColDef=function(){var e=this,t=function(){var t=e.column.getColDef(),r=Yd.getHeaderClassesFromColDef(t,e.gridOptionsService,e.column,null),o=e.userHeaderClasses;e.userHeaderClasses=new Set(r),r.forEach((function(t){o.has(t)?o.delete(t):e.comp.addOrRemoveCssClass(t,!0)})),o.forEach((function(t){return e.comp.addOrRemoveCssClass(t,!1)}))};this.refreshFunctions.push(t),t()},t.prototype.setDragSource=function(e){var t=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var r=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Ia.HeaderCell,eElement:e,defaultIconName:r?zs.ICON_HIDE:zs.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return t.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return t.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(e){var o;if(r){var i=(null===(o=null===e||void 0===e?void 0:e.columns)||void 0===o?void 0:o.filter((function(e){return!e.getColDef().lockVisible})))||[];t.columnModel.setColumnsVisible(i,!0,"uiColumnMoved")}},onGridExit:function(e){var o;if(r){var i=(null===(o=null===e||void 0===e?void 0:e.columns)||void 0===o?void 0:o.filter((function(e){return!e.getColDef().lockVisible})))||[];t.columnModel.setColumnsVisible(i,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onColDefChanged=function(){this.refresh()},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((function(e){return e()}))},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),t=this.comp.getUserCompInstance(),r=null!=t&&this.userCompDetails.componentClass==e.componentClass,o=!!r&&this.attemptHeaderCompRefresh(e.params);o?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;var r=t.refresh(e);return r},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef(),t=this.gridOptionsService.is("suppressMovableColumns"),r=!t&&!e.suppressMovable&&!e.lockPosition;return!!r||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,t=function(){var t=e.column.getActualWidth();e.comp.setWidth(t+"px")};this.addManagedListener(this.column,Te.EVENT_WIDTH_CHANGED,t),t()},t.prototype.setupMovingCss=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Te.EVENT_MOVING_CHANGED,t),t()},t.prototype.setupMenuClass=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Te.EVENT_MENU_VISIBLE_CHANGED,t),t()},t.prototype.setupSortableClass=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.eventService,Te.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupWrapTextClass=function(){var e=this,t=function(){var t=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};t(),this.addRefreshFunction(t)},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,t=e.eGui,r=e.column,o=e.comp,i=e.columnModel,n=e.gridOptionsService;if(r.isSpanHeaderHeight()){var a=this.getColumnGroupPaddingInfo(),s=a.numberOfParents,l=a.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",s>0);var c=i.getColumnHeaderRowHeight();if(0===s)return o.addOrRemoveCssClass("ag-header-span-total",!1),t.style.setProperty("top","0px"),void t.style.setProperty("height",c+"px");o.addOrRemoveCssClass("ag-header-span-total",l);var u=n.is("pivotMode"),d=u?i.getPivotGroupHeaderHeight():i.getGroupHeaderHeight(),h=s*d;t.style.setProperty("top",-h+"px"),t.style.setProperty("height",c+h+"px")}},t.prototype.getColumnGroupPaddingInfo=function(){var e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};var t=e.getPaddingLevel()+1,r=!0;while(e){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}},t.prototype.setupAutoHeight=function(e){var t,r=this,o=function(t){if(r.isAlive()){var i=Ko(r.getGui()),n=i.paddingTop,a=i.paddingBottom,s=i.borderBottomWidth,l=i.borderTopWidth,c=n+a+s+l,u=e.offsetHeight,d=u+c;if(t<5){var h=r.beans.gridOptionsService.getDocument(),p=!h||!h.contains(e),f=0==d;if(p||f)return void r.beans.frameworkOverrides.setTimeout((function(){return o(t+1)}),0)}r.columnModel.setColumnHeaderHeight(r.column,d)}},i=!1,n=function(){var e=r.column.isAutoHeaderHeight();e&&!i&&a(),!e&&i&&s()},a=function(){i=!0,o(0),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),t=r.resizeObserverService.observeResize(e,(function(){return o(0)}))},s=function(){i=!1,t&&t(),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),t=void 0};n(),this.addDestroyFunc((function(){return s()})),this.addManagedListener(this.column,Te.EVENT_WIDTH_CHANGED,(function(){return i&&o(0)})),this.addManagedListener(this.eventService,Te.EVENT_SORT_CHANGED,(function(){i&&r.beans.frameworkOverrides.setTimeout((function(){return o(0)}))})),this.addRefreshFunction(n)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),t=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Cr(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,t=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var t=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedListener(this.eventService,gt.EVENT_COLUMN_HOVER_CHANGED,t),t()},t.prototype.setupFilterCss=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,Te.EVENT_FILTER_ACTIVE_CHANGED,t),t()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,t=function(t){return e.setActiveHeader("mouseenter"===t.type)};this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},Fh([he("columnModel")],t.prototype,"columnModel",void 0),Fh([he("columnHoverService")],t.prototype,"columnHoverService",void 0),Fh([he("sortController")],t.prototype,"sortController",void 0),Fh([he("menuFactory")],t.prototype,"menuFactory",void 0),Fh([he("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Fh([he("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Fh([he("gridApi")],t.prototype,"gridApi",void 0),Fh([he("columnApi")],t.prototype,"columnApi",void 0),Fh([ue],t.prototype,"removeDragSource",null),t}(lh),Nh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Hh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Gh=function(e){function t(t,r,o,i){var n=e.call(this)||this;return n.eResize=r,n.comp=t,n.pinned=o,n.columnGroup=i,n}return Nh(t,e),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsService.is("suppressAutoSize")){var r=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(function(){var t=[],o=e.columnGroup.getDisplayedLeafColumns();o.forEach((function(e){e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&e.columnModel.autoSizeColumns({columns:t,skipHeader:r,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")}))}}else this.comp.setResizableDisplayed(!1)},t.prototype.onResizeStart=function(e){var t=this;this.calculateInitialValues();var r=null;if(e&&(r=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),r){var o=r.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter((function(e){return e.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,t,r){void 0===r&&(r="uiColumnResized");var o=this.normaliseDragChange(t),i=this.resizeStartWidth+o;this.resizeColumns(i,r,e)},t.prototype.resizeLeafColumnsToFit=function(e){var t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,e,!0)},t.prototype.resizeColumns=function(e,t,r){void 0===r&&(r=!0);var o=[];if(o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols){var i=e-this.resizeStartWidth;o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-i})}this.columnModel.resizeColumnSets({resizeSets:o,finished:r,source:t}),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,t=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=t.filter((function(e){return e.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(t){return e.resizeStartWidth+=t.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(t){return e.resizeRatios.push(t.getActualWidth()/e.resizeStartWidth)}))},t.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t},Hh([he("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Hh([he("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Hh([he("columnModel")],t.prototype,"columnModel",void 0),Hh([ce],t.prototype,"postConstruct",null),t}(lt),Vh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),zh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Bh=function(e){function t(t,r){var o=e.call(this)||this;return o.removeChildListenersFuncs=[],o.columnGroup=r,o.comp=t,o}return Vh(t,e),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,ft.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(r){r.addEventListener("widthChanged",t),r.addEventListener("visibleChanged",t),e.removeChildListenersFuncs.push((function(){r.removeEventListener("widthChanged",t),r.removeEventListener("visibleChanged",t)}))}))},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(e){return e()})),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth(e+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===e)},zh([ce],t.prototype,"postConstruct",null),t}(lt),jh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Wh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Uh=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.columnGroup=t,o}return jh(t,e),t.prototype.setComp=function(t,r,o){e.prototype.setGui.call(this,r),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var i=this.getParentRowCtrl().getPinned(),n=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new fh(n,r)),this.createManagedBean(new dh(this.columnGroup,r,this.beans)),this.createManagedBean(new Bh(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Gh(t,o,i,this.columnGroup)),this.createManagedBean(new An(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(e){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,t=this.displayName,r={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(t){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),t,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!t){var o=this.columnGroup,i=o.getLeafColumns();while(o.getParent()&&o.getParent().getLeafColumns().length===i.length)o=o.getParent();var n=o.getColGroupDef();n&&(t=n.headerName),t||(t=i?this.columnModel.getDisplayNameForColumn(i[0],"header",!0):"")}var a=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(a)},t.prototype.setupTooltip=function(){var e=this,t=this.columnGroup.getColGroupDef(),r={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return t&&t.headerTooltip}};t&&(r.getColDef=function(){return t});var o=this.createManagedBean(new ou(r,this.beans));o.setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,_e.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,_e.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)},t.prototype.getColId=function(){return this.columnGroup.getUniqueId()},t.prototype.addClasses=function(){var e=this,t=this.columnGroup.getColGroupDef(),r=Yd.getHeaderClassesFromColDef(t,this.gridOptionsService,null,this.columnGroup);if(this.columnGroup.isPadding()){r.push("ag-header-group-cell-no-group");var o=this.columnGroup.getLeafColumns();o.every((function(e){return e.isSpanHeaderHeight()}))&&r.push("ag-header-span-height")}else r.push("ag-header-group-cell-with-group");r.forEach((function(t){return e.comp.addOrRemoveCssClass(t,!0)}))},t.prototype.setupMovingCss=function(){var e=this,t=this.columnGroup.getProvidedColumnGroup(),r=t.getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};r.forEach((function(t){e.addManagedListener(t,Te.EVENT_MOVING_CHANGED,o)})),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t);var r=this.getWrapperHasFocus();if(this.expandable&&r&&t.key===Li.ENTER){var o=this.columnGroup,i=!o.isExpanded();this.columnModel.setColumnGroupOpened(o.getProvidedColumnGroup(),i,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var t=this;if(!this.isSuppressMoving()){var r=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),i={type:Ia.HeaderCell,eElement:e,defaultIconName:o?zs.ICON_HIDE:zs.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return r.forEach((function(e){return e.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return r.forEach((function(e){return e.setMoving(!1,"uiColumnDragged")}))},onGridEnter:function(e){var r;if(o){var i=(null===(r=null===e||void 0===e?void 0:e.columns)||void 0===r?void 0:r.filter((function(e){return!e.getColDef().lockVisible})))||[];t.columnModel.setColumnsVisible(i,!0,"uiColumnMoved")}},onGridExit:function(e){var r;if(o){var i=(null===(r=null===e||void 0===e?void 0:e.columns)||void 0===r?void 0:r.filter((function(e){return!e.getColDef().lockVisible})))||[];t.columnModel.setColumnsVisible(i,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(i)}))}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach((function(e){return t[e.getId()]=e.isVisible()}));var r=[];return this.columnModel.getAllDisplayedColumns().forEach((function(t){e.indexOf(t)>=0&&(r.push(t),Ne(e,t))})),e.forEach((function(e){return r.push(e)})),{columns:r,visibleState:t}},t.prototype.isSuppressMoving=function(){var e=!1;this.columnGroup.getLeafColumns().forEach((function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}));var t=e||this.gridOptionsService.is("suppressMovableColumns");return t},Wh([he("columnModel")],t.prototype,"columnModel",void 0),Wh([he("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Wh([he("gridApi")],t.prototype,"gridApi",void 0),Wh([he("columnApi")],t.prototype,"columnApi",void 0),t}(lh),$h=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Yh=0,qh=function(e){function t(t,r,o){var i=e.call(this)||this;i.instanceId=Yh++,i.headerCellCtrls={},i.rowIndex=t,i.pinned=r,i.type=o;var n=o==Id.COLUMN_GROUP?"ag-header-row-column-group":o==Id.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return i.headerRowClass="ag-header-row "+n,i}return $h(t,e),t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,t){void 0===t&&(t=!0),this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.getTransform=function(){if(io())return"translateZ(0)"},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",(function(t){return e.isEnsureDomOrder=t.currentValue})),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return v(this.headerCellCtrls).find((function(t){return t.getColumnGroupChild()===e}))},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){if(this.isPrintLayout){var e=null!=this.pinned;return e?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),t=e.topOffset,r=e.rowHeight;this.comp.setTop(t+"px"),this.comp.setHeight(r+"px")},t.prototype.getTopAndHeight=function(){var e=this.columnModel.getHeaderRowCount(),t=[],r=0;this.filterManager.hasFloatingFilters()&&(e++,r=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),i=this.columnModel.getColumnHeaderRowHeight(),n=1+r,a=e-n,s=0;s<a;s++)t.push(o);t.push(i);for(s=0;s<r;s++)t.push(this.columnModel.getFloatingFiltersHeight());var l=0;for(s=0;s<this.rowIndex;s++)l+=t[s];var c=t[this.rowIndex];return{topOffset:l,rowHeight:c}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(){var e=this.getHeaderCtrls(),t=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(e,t)},t.prototype.getHeaderCtrls=function(){var e=this,t=this.headerCellCtrls;this.headerCellCtrls={};var r=this.getColumnsInViewport();r.forEach((function(r){if(!r.isEmptyGroup()){var o=r.getUniqueId(),i=t[o];delete t[o];var n=i&&i.getColumnGroupChild()!=r;if(n&&(e.destroyBean(i),i=void 0),null==i)switch(e.type){case Id.FLOATING_FILTER:i=e.createBean(new mh(r,e));break;case Id.COLUMN_GROUP:i=e.createBean(new Uh(r,e));break;default:i=e.createBean(new Ih(r,e));break}e.headerCellCtrls[o]=i}}));var o=function(t){var r=e.focusService.isHeaderWrapperFocused(t);if(!r)return!1;var o=e.columnModel.isDisplayed(t.getColumnGroupChild());return o};C(t,(function(t,r){var i=o(r);i?e.headerCellCtrls[t]=r:e.destroyBean(r)}));var i=D(this.headerCellCtrls);return i},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var t=[],r=this.getActualDepth();return["left",null,"right"].forEach((function(o){var i=e.columnModel.getVirtualHeaderGroupRow(o,r);t=t.concat(i)})),t},t.prototype.getActualDepth=function(){return this.type==Id.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,t){var r=D(this.headerCellCtrls),o=r.find((function(t){return t.getColumnGroupChild()==e}));return!!o&&(o.focus(t),!0)},t.prototype.destroy=function(){var t=this;C(this.headerCellCtrls,(function(e,r){t.destroyBean(r)})),this.headerCellCtrls={},e.prototype.destroy.call(this)},Kh([he("columnModel")],t.prototype,"columnModel",void 0),Kh([he("focusService")],t.prototype,"focusService",void 0),Kh([he("filterManager")],t.prototype,"filterManager",void 0),Kh([ce],t.prototype,"postConstruct",null),t}(lt),Xh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Jh=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Qh=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Zh=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},ep=function(e){function t(t){var r=e.call(this)||this;return r.hidden=!1,r.includeFloatingFilter=!1,r.groupsRowCtrls=[],r.pinned=t,r}return Xh(t,e),t.prototype.setComp=function(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,gt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var t=new Ud(this.pinned,e);this.createManagedBean(t)},t.prototype.refresh=function(e){var t=this;void 0===e&&(e=!1);var r=new nn,o=this.focusService.getFocusHeaderToUseAfterRefresh(),i=function(){var e=t.columnModel.getHeaderRowCount()-1;t.groupsRowCtrls=t.destroyBeans(t.groupsRowCtrls);for(var o=0;o<e;o++){var i=t.createBean(new qh(r.next(),t.pinned,Id.COLUMN_GROUP));t.groupsRowCtrls.push(i)}},n=function(){var o=r.next(),i=!t.hidden&&(null==t.columnsRowCtrl||!e||t.columnsRowCtrl.getRowIndex()!==o),n=i||t.hidden;n&&(t.columnsRowCtrl=t.destroyBean(t.columnsRowCtrl)),i&&(t.columnsRowCtrl=t.createBean(new qh(o,t.pinned,Id.COLUMN)))},a=function(){t.includeFloatingFilter=t.filterManager.hasFloatingFilters()&&!t.hidden;var o=function(){t.filtersRowCtrl=t.destroyBean(t.filtersRowCtrl)};if(t.includeFloatingFilter){var i=r.next();if(t.filtersRowCtrl){var n=t.filtersRowCtrl.getRowIndex()!==i;e&&!n||o()}t.filtersRowCtrl||(t.filtersRowCtrl=t.createBean(new qh(i,t.pinned,Id.FLOATING_FILTER)))}else o()};i(),n(),a();var s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){null!=e&&e.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=Zh([],Qh(this.groupsRowCtrls));return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new td((function(t){return e.comp.setCenterWidth(t+"px")}),!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var t="left"===this.pinned,r="right"===this.pinned;this.hidden=!0;var o=function(){var o=t?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=o){var i=0==o,n=e.hidden!==i,a=e.gridOptionsService.is("enableRtl"),s=e.gridOptionsService.getScrollbarWidth(),l=e.scrollVisibleService.isVerticalScrollShowing()&&(a&&t||!a&&r),c=l?o+s:o;e.comp.setPinnedContainerWidth(c+"px"),e.comp.setDisplayed(!i),n&&(e.hidden=i,e.refresh())}};this.addManagedListener(this.eventService,gt.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,gt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,gt.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,gt.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Te){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(var t=0;t<this.groupsRowCtrls.length;t++){var r=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(r)return r}},t.prototype.getHtmlElementForColumnHeader=function(e){var t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null},t.prototype.getRowType=function(e){var t=this.getAllCtrls(),r=t[e];return r?r.getType():void 0},t.prototype.focusHeader=function(e,t,r){var o=this.getAllCtrls(),i=o[e];return!!i&&i.focusHeader(t,r)},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),e.prototype.destroy.call(this)},Jh([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Jh([he("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Jh([he("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Jh([he("columnModel")],t.prototype,"columnModel",void 0),Jh([he("focusService")],t.prototype,"focusService",void 0),Jh([he("filterManager")],t.prototype,"filterManager",void 0),t}(lt),tp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),rp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},op=function(e){function t(t){var r=e.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=t,r}return tp(t,e),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var t={setDisplayed:function(t){return e.setDisplayed(t)},setCtrls:function(t){return e.setCtrls(t)},setCenterWidth:function(t){return e.eCenterContainer.style.width=t},setViewportScrollLeft:function(t){return e.getGui().scrollLeft=t},setPinnedContainerWidth:function(t){var r=e.getGui();r.style.width=t,r.style.maxWidth=t,r.style.minWidth=t}},r=this.createManagedBean(new ep(this.pinned));r.setComp(t,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e="left"==this.pinned,r="right"==this.pinned,o=e?t.PINNED_LEFT_TEMPLATE:r?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(o),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var t,r=this,o=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var i=function(e){var o=e.getGui(),i=o.parentElement!=r.eRowContainer;i&&r.eRowContainer.appendChild(o),t&&di(r.eRowContainer,o,t),t=o};e.forEach((function(e){var t=e.getInstanceId(),n=o[t];delete o[t];var a=n||r.createBean(new ih(e));r.headerRowComps[t]=a,r.rowCompsList.push(a),i(a)})),D(o).forEach((function(e){return r.destroyRowComp(e)}))},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',rp([bn("eCenterContainer")],t.prototype,"eCenterContainer",void 0),rp([ce],t.prototype,"init",null),rp([ue],t.prototype,"destroyRowComps",null),t}(mn),ip=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),np=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e[e["UP"]=0]="UP",e[e["DOWN"]=1]="DOWN",e[e["LEFT"]=2]="LEFT",e[e["RIGHT"]=3]="RIGHT"})(kh||(kh={}));var ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ip(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}))},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,t,r){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;var o=t.headerRowIndex,i=t.column,n=this.getHeaderRowCount(),a=e===kh.UP,s=a?this.headerPositionUtils.getColumnVisibleParent(i,o):this.headerPositionUtils.getColumnVisibleChild(i,o),l=s.nextRow,c=s.nextFocusColumn,u=!1;return l<0&&(l=0,c=i,u=!0),l>=n&&(l=-1),!(!u&&!c)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:c},allowUserOverride:!0,event:r})},t.prototype.navigateHorizontally=function(e,t,r){void 0===t&&(t=!1);var o,i,n=this.focusService.getFocusedHeader(),a=e===kh.LEFT,s=this.gridOptionsService.is("enableRtl");return a!==s?(i="Before",o=this.headerPositionUtils.findHeader(n,i)):(i="After",o=this.headerPositionUtils.findHeader(n,i)),o||!t?this.focusService.focusHeaderPosition({headerPosition:o,direction:i,fromTab:t,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(n,i,r)},t.prototype.focusNextHeaderRow=function(e,t,r){var o,i=e.headerRowIndex,n=null;return"Before"===t?i>0&&(o=i-1,n=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=i+1,n=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),this.focusService.focusHeaderPosition({headerPosition:n,direction:t,fromTab:!0,allowUserOverride:!0,event:r})},t.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var r;if(e instanceof ft){var o=e.getDisplayedLeafColumns();r="Before"===t?Ae(o):o[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},np([he("focusService")],t.prototype,"focusService",void 0),np([he("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),np([he("ctrlsService")],t.prototype,"ctrlsService",void 0),np([ce],t.prototype,"postConstruct",null),t=np([de("headerNavigationService")],t),t}(lt),sp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},cp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sp(t,e),t.prototype.setComp=function(e,t,r){this.comp=e,this.eGui=t,this.createManagedBean(new An(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var e,t=this.columnModel,r=0,o=t.getHeaderRowCount(),i=this.filterManager.hasFloatingFilters();i&&(o++,r=1);var n=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),s=1+r,l=o-s;if(e=r*t.getFloatingFiltersHeight(),e+=l*n,e+=a,this.headerHeight!==e){this.headerHeight=e;var c=e+1+"px";this.comp.setHeightAndMinHeight(c),this.eventService.dispatchEvent({type:gt.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.getAllDisplayedColumns(),t=e.some((function(e){return e.isSpanHeaderHeight()}));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)},t.prototype.onTabKeyDown=function(e){var t=this.gridOptionsService.is("enableRtl"),r=e.shiftKey!==t?kh.LEFT:kh.RIGHT;(this.headerNavigationService.navigateHorizontally(r,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var t=null;switch(e.key){case Li.LEFT:t=kh.LEFT;case Li.RIGHT:a(t)||(t=kh.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case Li.UP:t=kh.UP;case Li.DOWN:a(t)||(t=kh.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var t=this.gridOptionsService.getDocument(),r=e.relatedTarget;!r&&this.eGui.contains(t.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()},lp([he("headerNavigationService")],t.prototype,"headerNavigationService",void 0),lp([he("focusService")],t.prototype,"focusService",void 0),lp([he("columnModel")],t.prototype,"columnModel",void 0),lp([he("ctrlsService")],t.prototype,"ctrlsService",void 0),lp([he("filterManager")],t.prototype,"filterManager",void 0),t}(lt),up=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),dp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},hp=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return up(t,e),t.prototype.postConstruct=function(){var e=this,t={addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},setHeightAndMinHeight:function(t){e.getGui().style.height=t,e.getGui().style.minHeight=t}},r=this.createManagedBean(new cp);r.setComp(t,this.getGui(),this.getFocusableElement());var o=function(t){e.createManagedBean(t),e.appendChild(t)};o(new op("left")),o(new op(null)),o(new op("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',dp([ce],t.prototype,"postConstruct",null),t}(mn),pp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pp(t,e),t.prototype.addResizeBar=function(e){var t=this,r={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(r);var o=function(){return t.dragService.removeDragSource(r)};return o},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var r=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(r)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},fp([he("dragService")],t.prototype,"dragService",void 0),fp([he("ctrlsService")],t.prototype,"ctrlsService",void 0),t=fp([de("horizontalResizeService")],t),t}(lt),vp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},bp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vp(t,e),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var r=this;this.showPopup(e,(function(o){r.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:o})}),"columnMenu",t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,r){var o=this;this.showPopup(e,(function(i){o.popupService.positionPopupByComponent({type:r,eventSource:t,ePopup:i,keepWithinBounds:!0,position:"under",column:e})}),r,t)},t.prototype.showPopup=function(e,t,r,o){var i=this,n=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!n)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var a,s=document.createElement("div");wr(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",(function(e){return i.trapFocusWithin(e,s)})),n.guiPromise.then((function(e){return s.appendChild(e)}));var l=function(){var e;return null===(e=n.filterPromise)||void 0===e?void 0:e.then((function(e){var t;return null===(t=null===e||void 0===e?void 0:e.afterGuiDetached)||void 0===t?void 0:t.call(e)}))},c=o||this.ctrlsService.getGridBodyCtrl().getGui(),u=function(t){e.setMenuVisible(!1,"contextMenu");var r=t instanceof KeyboardEvent;if(i.tabListener&&(i.tabListener=i.tabListener()),r&&o&&ni(o)){var n=i.focusService.findTabbableParent(o);n&&n.focus()}l()},d=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:u,positionCallback:function(){return t(s)},anchorToElement:c,ariaLabel:d("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=a=h.hideFunc),n.filterPromise.then((function(e){t(s),e.afterGuiAttached&&e.afterGuiAttached({container:r,hidePopup:a})})),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.key!==Li.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},mp([he("filterManager")],t.prototype,"filterManager",void 0),mp([he("popupService")],t.prototype,"popupService",void 0),mp([he("focusService")],t.prototype,"focusService",void 0),mp([he("ctrlsService")],t.prototype,"ctrlsService",void 0),t=mp([de("menuFactory")],t),t}(lt),yp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),wp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){function t(r){var o=e.call(this,t.getTemplate(r.cssClass))||this;return o.items=[],o.tabbedItemScrollMap=new Map,o.params=r,r.items&&r.items.forEach((function(e){return o.addItem(e)})),o}yp(t,e),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new An(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc((function(){var t,r,o;return null===(o=null===(r=null===(t=e.activeItem)||void 0===t?void 0:t.tabbedItem)||void 0===r?void 0:r.afterDetachedCallback)||void 0===o?void 0:o.call(r)}))},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var t=this.gridOptionsService.getDocument();switch(e.key){case Li.RIGHT:case Li.LEFT:if(!this.eHeader.contains(t.activeElement))return;var r=e.key===Li.RIGHT,o=this.gridOptionsService.is("enableRtl"),i=this.items.indexOf(this.activeItem),n=r!==o?Math.min(i+1,this.items.length-1):Math.max(i-1,0);if(i===n)return;e.preventDefault();var a=this.items[n];this.showItemWrapper(a),a.eHeaderButton.focus();break;case Li.UP:case Li.DOWN:e.stopPropagation();break}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this,r=t.focusService,o=t.eHeader,i=t.eBody,n=t.activeItem,a=this.gridOptionsService.getDocument(),s=a.activeElement,l=e.target;if(e.preventDefault(),o.contains(s))r.focusInto(i,e.shiftKey);else{var c=null;r.isTargetUnderManagedComponent(i,l)&&(e.shiftKey&&(c=this.focusService.findFocusableElementBeforeTabGuard(i,l)),c||(c=n.eHeaderButton)),!c&&i.contains(s)&&(c=r.findNextFocusableElement(i,!1,e.shiftKey),c||(c=n.eHeaderButton)),c&&c.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");wr(t,"tab"),t.setAttribute("tabindex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),Tr(t,e.titleLabel);var r={tabbedItem:e,eHeaderButton:t};this.items.push(r),t.addEventListener("click",this.showItemWrapper.bind(this,r))},t.prototype.showItem=function(e){var t=this.items.find((function(t){return t.tabbedItem===e}));t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t,r,o=this,i=e.tabbedItem,n=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:i}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),ri(this.eBody),i.bodyPromise.then((function(e){o.eBody.appendChild(e);var t=!o.focusService.isKeyboardMode();if(o.focusService.focusInto(o.eBody,!1,t),i.afterAttachedCallback&&i.afterAttachedCallback(o.afterAttachedParams),o.params.keepScrollPosition){var r=i.getScrollableContainer&&i.getScrollableContainer()||e;o.lastScrollListener=o.addManagedListener(r,"scroll",(function(){o.tabbedItemScrollMap.set(i.name,r.scrollTop)}));var n=o.tabbedItemScrollMap.get(i.name);void 0!==n&&setTimeout((function(){r.scrollTop=n}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(r=(t=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===r||r.call(t)),n.classList.add("ag-tab-selected"),this.activeItem=e):Q(this.params.onActiveItemClicked)},wp([he("focusService")],t.prototype,"focusService",void 0),wp([bn("eHeader")],t.prototype,"eHeader",void 0),wp([bn("eBody")],t.prototype,"eBody",void 0),wp([ce],t.prototype,"postConstruct",null)})(mn);var Cp,Ep=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},xp=50,Tp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return Ep(t,e),t.prototype.observeResize=function(e,t){var r=this,o=this.gridOptionsService.getWindow(),i=function(){var r=new o.ResizeObserver(t);return r.observe(e),function(){return r.disconnect()}},n=function(){var o=ui(e),i=ci(e),n=!0,a=function(){if(n){var s=ui(e),l=ci(e),c=s!==o||l!==i;c&&(o=s,i=l,t()),r.doNextPolyfillTurn(a)}};return a(),function(){return n=!1}},a=this.gridOptionsService.is("suppressBrowserResizeObserver"),s=!!o.ResizeObserver;return s&&!a?i():n()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var t=function(){var t=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],t.forEach((function(e){return e()}))};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(t,xp)}},t=Sp([de("resizeObserverService")],t),t}(lt),kp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_p=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Rp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastPage=0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return kp(t,e),t.prototype.setScrollTop=function(e){var t=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){var r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,r){this.verifyAnimationFrameOn(r);var o={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort((function(e,r){return e.index!==r.index?t*(r.index-e.index):r.createOrder-e.createOrder})),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");var t=this.createTasksP1,r=t.list,o=this.createTasksP2,i=o.list,n=this.destroyTasks,a=(new Date).getTime(),s=(new Date).getTime()-a,l=e<=0,c=this.ctrlsService.getGridBodyCtrl();while(l||s<e){var u=c.getScrollFeature().scrollGridIfNeeded();if(!u){var d=void 0;if(r.length)this.sortTaskList(t),d=r.pop().task;else if(i.length)this.sortTaskList(o),d=i.pop().task;else{if(!n.length){this.cancelledTasks.clear();break}d=n.pop()}this.cancelledTasks.has(d)||d()}s=(new Date).getTime()-a}r.length||i.length||n.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var t=this.gridOptionsService.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var t=this,r=!1;return function(){t.isOn()?r||(r=!0,t.addDestroyTask((function(){r=!1,e()}))):t.getFrameworkOverrides().setTimeout(e,0)}},_p([he("ctrlsService")],t.prototype,"ctrlsService",void 0),_p([he("paginationProxy")],t.prototype,"paginationProxy",void 0),_p([ce],t.prototype,"init",null),t=_p([de("animationFrameService")],t),t}(lt),Op=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Dp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Op(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.centerRowContainerCtrl=t.centerRowContainerCtrl}))},t.prototype.getPreferredWidthForColumn=function(e,t){var r=this.getHeaderCellForColumn(e);if(!r)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return t||o.push(r),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var t=this,r=document.createElement("form");r.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach((function(e){return t.cloneItemIntoDummy(e,r)})),o.appendChild(r);var i=r.offsetWidth;o.removeChild(r);var n=this.getAutoSizePadding();return i+n},t.prototype.getAutoSizePadding=function(){var e=this.gridOptionsService.getNum("autoSizePadding");return null!=e&&e>=0?e:20},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(r){var o=r.getHtmlElementForColumnHeader(e);null!=o&&(t=o)})),t},t.prototype.cloneItemIntoDummy=function(e,t){var r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";var o=document.createElement("div"),i=o.classList,n=["ag-header-cell","ag-header-group-cell"].some((function(e){return r.classList.contains(e)}));n?(i.add("ag-header","ag-header-row"),o.style.position="static"):i.add("ag-row");var a=e.parentElement;while(a){var s=["ag-header-row","ag-row"].some((function(e){return a.classList.contains(e)}));if(s){for(var l=0;l<a.classList.length;l++){var c=a.classList[l];"ag-row-position-absolute"!=c&&i.add(c)}break}a=a.parentElement}o.appendChild(r),t.appendChild(o)},Dp([he("rowRenderer")],t.prototype,"rowRenderer",void 0),Dp([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Dp([he("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Dp([ce],t.prototype,"postConstruct",null),t=Dp([de("autoWidthCalculator")],t),t}(lt),Pp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Lp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fp=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Ip=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Np=function(e){function t(t,r){var o=e.call(this)||this;return o.createRowCon=t,o.destroyRowCtrls=r,o.stickyRowCtrls=[],o.containerHeight=0,o}return Pp(t,e),t.prototype.postConstruct=function(){var e=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((function(t){e.gridBodyCtrl=t.gridBodyCtrl}))},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,t=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],t);var r=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),i=function(i){var n,a,s,l;if(r.push(i),e.isClientSide){var c=i;while(c.expanded)if(c.master)c=c.detailNode;else if(c.childrenAfterSort){if(0===c.childrenAfterSort.length)break;c=Ae(c.childrenAfterSort)}l=c.rowTop+c.rowHeight}else if(i.master)l=i.detailNode.rowTop+i.detailNode.rowHeight;else{var u=null===(n=i.childStore)||void 0===n?void 0:n.getStoreBounds();l=(null!==(a=null===u||void 0===u?void 0:u.heightPx)&&void 0!==a?a:0)+(null!==(s=null===u||void 0===u?void 0:u.topPx)&&void 0!==s?s:0)}var d=o+t+i.rowHeight;i.stickyRowTop=l<d?t+(l-d):t,t=0,r.forEach((function(e){var r=e.stickyRowTop+e.rowHeight;t<r&&(t=r)}))};while(1){var n=o+t,a=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(a);if(null==s)break;if(s.level<0)break;var l=[],c=s.parent;while(c.level>=0)l.push(c),c=c.parent;var u=l.reverse().find((function(e){return r.indexOf(e)<0&&e.displayed}));if(u)i(u);else{if(!(s.isExpandable()&&s.expanded&&s.rowTop<n))break;i(s)}}return this.refreshNodesAndContainerHeight(r,t)},t.prototype.refreshStickyNode=function(e){for(var t=[],r=0;r<this.stickyRowCtrls.length;r++){var o=this.stickyRowCtrls[r].getRowNode();o!==e&&t.push(o)}this.refreshNodesAndContainerHeight(t,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,t){var r,o,i,n=this,a=!1,s=this.stickyRowCtrls.filter((function(t){return-1===e.indexOf(t.getRowNode())})),l=e.filter((function(e){return-1===n.stickyRowCtrls.findIndex((function(t){return t.getRowNode()===e}))}));(s.length||l.length)&&(a=!0);var c={};s.forEach((function(e){c[e.getRowNode().id]=e,n.stickyRowCtrls=n.stickyRowCtrls.filter((function(t){return t!==e}))}));try{for(var u=Lp(Object.values(c)),d=u.next();!d.done;d=u.next()){var h=d.value;h.getRowNode().sticky=!1}}catch(f){r={error:f}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}this.destroyRowCtrls(c,!1);var p=l.map((function(e){return e.sticky=!0,n.createRowCon(e,!1,!1)}));return(i=this.stickyRowCtrls).push.apply(i,Ip([],Fp(p))),this.stickyRowCtrls.forEach((function(e){return e.setRowTop(e.getRowNode().stickyRowTop)})),this.stickyRowCtrls.sort((function(e,t){return t.getRowNode().rowIndex-e.getRowNode().rowIndex})),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t),a=!0),a},Mp([he("rowModel")],t.prototype,"rowModel",void 0),Mp([he("rowRenderer")],t.prototype,"rowRenderer",void 0),Mp([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Mp([ce],t.prototype,"postConstruct",null),t}(lt),Hp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Vp=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},zp=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Bp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jp=10,Wp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t}return Hp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()}))},t.prototype.initialise=function(){if(this.addManagedListener(this.eventService,gt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){var e=this.rowModel.getType();"clientSide"!==e&&"serverSide"!==e||(this.stickyRowFeature=this.createManagedBean(new Np(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new Up(t)}},t.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptionsService.getNum("keepDetailRowsCount");return a(e)&&e>0?e:jp},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=D(this.rowCtrlsByRowIndex),t=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");(t||r)&&e.sort((function(e,t){return e.getRowNode().rowIndex-t.getRowNode.rowIndex}));var o=D(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||i.length>0?this.allRowCtrls=zp(zp(zp([],Vp(e)),Vp(o)),Vp(i)):this.allRowCtrls=e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach((function(t){return t.onCellFocused(e)})),this.getFullWidthRowCtrls().forEach((function(t){return t.onFullWidthRowFocused(e)}))},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_CELL_FOCUSED,(function(t){e.onCellFocusChanged(t)})),this.addManagedListener(this.eventService,gt.EVENT_CELL_FOCUS_CLEARED,(function(){e.onCellFocusChanged()})),this.addManagedListener(this.eventService,gt.EVENT_FLASH_CELLS,(function(t){e.getAllCellCtrls().forEach((function(e){return e.onFlashCells(t)}))})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_HOVER_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onColumnHover()}))})),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onDisplayedColumnsChanged()}))})),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){e.printLayout&&e.getAllCellCtrls().forEach((function(e){return e.onLeftChanged()}))}));var t=this.gridOptionsService.isEnableRangeSelection();t&&(this.addManagedListener(this.eventService,gt.EVENT_RANGE_SELECTION_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_MOVED,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PINNED,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_VISIBLE,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,gt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(e){return e()})),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnModel.getAllGridColumns();t&&t.forEach((function(t){var r=function(r){e.getAllCellCtrls().forEach((function(e){e.getColumn()===t&&r(e)}))},o=function(){r((function(e){return e.onLeftChanged()}))},i=function(){r((function(e){return e.onWidthChanged()}))},n=function(){r((function(e){return e.onFirstRightPinnedChanged()}))},a=function(){r((function(e){return e.onLastLeftPinnedChanged()}))},s=function(){r((function(e){return e.onColDefChanged()}))};t.addEventListener("leftChanged",o),t.addEventListener("widthChanged",i),t.addEventListener("firstRightPinnedChanged",n),t.addEventListener("lastLeftPinnedChanged",a),t.addEventListener("colDefChanged",s),e.destroyFuncsForColumnListeners.push((function(){t.removeEventListener("leftChanged",o),t.removeEventListener("widthChanged",i),t.removeEventListener("firstRightPinnedChanged",n),t.removeEventListener("lastLeftPinnedChanged",a),t.removeEventListener("colDefChanged",s)}))}))},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.is("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)},t.prototype.getAllCellsForColumn=function(e){var t=[];return this.getAllRowCtrls().forEach((function(r){var o=r.getCellElement(e);o&&t.push(o)})),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,t){var r=this;e.forEach((function(e){e.destroyFirstPass(),e.destroySecondPass()})),e.length=0,t&&t.forEach((function(t){var o=new Mu(t,r.beans,!1,!1,r.printLayout);e.push(o)}))},t.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},t.prototype.redrawRow=function(e,t){var r=this;if(void 0===t&&(t=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{var o=function(t){var o=t[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),t[e.rowIndex]=r.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var t=this,r=null!=e;if(r)return null===e||void 0===e||e.forEach((function(e){return t.redrawRow(e,!0)})),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=(null===e||void 0===e?void 0:e.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;var r=this.gridOptionsService.getDocument(),o=r.activeElement,i=this.gridOptionsService.getDomData(o,Tu.DOM_DATA_KEY_CELL_CTRL),n=this.gridOptionsService.getDomData(o,Mu.DOM_DATA_KEY_ROW_CTRL),a=i||n;return a?t:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var r=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),i=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(i,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,r=this.gridOptionsService.is("suppressScrollOnNewData");t&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach((function(t){t.stopEditing(e)}))},t.prototype.getAllCellCtrls=function(){for(var e=[],t=this.getAllRowCtrls(),r=t.length,o=0;o<r;o++)for(var i=t[o].getAllCellCtrls(),n=i.length,a=0;a<n;a++)e.push(i[a]);return e},t.prototype.getAllRowCtrls=function(){var e,t,r=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=zp(zp(zp([],Vp(this.topRowCtrls)),Vp(this.bottomRowCtrls)),Vp(r));try{for(var i=Bp(Object.keys(this.rowCtrlsByRowIndex)),n=i.next();!n.done;n=i.next()){var a=n.value;o.push(this.rowCtrlsByRowIndex[a])}}catch(s){e={error:s}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,t,r){var o=this.rowCtrlsByRowIndex[t];o&&o.addEventListener(e,r)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,r=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){return e.flashCell({flashDelay:t,fadeDelay:r})}))},t.prototype.refreshCells=function(e){var t=this;void 0===e&&(e={});var r={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){if(e.refreshShouldDestroy()){var t=e.getRowCtrl();t&&t.refreshCell(e)}else e.refreshCell(r)})),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach((function(e){if(e.isFullWidth()){var r=e.refreshFullWidth();r||t.redrawRow(e.getRowNode(),!0)}})),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var t,r=this,o=this.getCellCtrls(e.rowNodes,e.columns).map((function(e){return e.getCellRenderer()})).filter((function(e){return null!=e}));if(null===(t=e.columns)||void 0===t?void 0:t.length)return o;var i=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach((function(e){if((!n||r.isRowInMap(e.getRowNode(),n))&&e.isFullWidth()){var t=e.getFullWidthCellRenderer();t&&i.push(t)}})),zp(zp([],Vp(i)),Vp(o))},t.prototype.getCellEditorInstances=function(e){var t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){var r=e.getCellEditor();r&&t.push(r)})),t},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach((function(t){if(t.isEditing()){var r=t.getCellPosition();e.push(r)}})),e},t.prototype.mapRowNodes=function(e){if(e){var t={top:{},bottom:{},normal:{}};return e.forEach((function(e){var r=e.id;"top"===e.rowPinned?t.top[r]=e:"bottom"===e.rowPinned?t.bottom[r]=e:t.normal[r]=e})),t}},t.prototype.isRowInMap=function(e,t){var r=e.id,o=e.rowPinned;return"bottom"===o?null!=t.bottom[r]:"top"===o?null!=t.top[r]:null!=t.normal[r]},t.prototype.getRowCtrls=function(e){var t=this,r=this.mapRowNodes(e),o=this.getAllRowCtrls();return e&&r?o.filter((function(e){var o=e.getRowNode();return t.isRowInMap(o,r)})):o},t.prototype.getCellCtrls=function(e,t){var r,o=this;a(t)&&(r={},t.forEach((function(e){var t=o.columnModel.getGridColumn(e);a(t)&&(r[t.getId()]=!0)})));var i=[];return this.getRowCtrls(e).forEach((function(e){e.getAllCellCtrls().forEach((function(e){var t=e.getColumn().getId(),o=r&&!r[t];o||i.push(e)}))})),i},t.prototype.destroy=function(){this.removeAllRowComps(),e.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];C(this.rowCtrlsByRowIndex,(function(t,r){var o=null==r.getRowNode().id;o&&e.push(t)})),this.removeRowCtrls(e);var t={};return C(this.rowCtrlsByRowIndex,(function(e,r){var o=r.getRowNode();t[o.id]=r})),this.rowCtrlsByRowIndex={},t},t.prototype.removeRowCtrls=function(e){var t=this;e.forEach((function(e){var r=t.rowCtrlsByRowIndex[e];r&&(r.destroyFirstPass(),r.destroySecondPass()),delete t.rowCtrlsByRowIndex[e]}))},t.prototype.onBodyScroll=function(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){void 0===e&&(e={});var t,r=e.afterScroll;this.stickyRowFeature&&uo()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,i=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var n=!1;this.stickyRowFeature&&(n=this.stickyRowFeature.checkStickyRows());var a=this.firstRenderedRow!==o||this.lastRenderedRow!==i;if((!r||n||a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r),null!=t)){var s=this.getCellToRestoreFocusToAfterRefresh();null!=t&&null==s&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach((function(e){return t[e]=!0}));var r=Object.keys(this.rowCtrlsByRowIndex),o=r.filter((function(e){return!t[e]}));this.removeRowCtrls(o)},t.prototype.calculateIndexesToDraw=function(e){var t=this,r=Co(this.firstRenderedRow,this.lastRenderedRow),o=function(e,o){var i=o.getRowNode().rowIndex;null!=i&&(i<t.firstRenderedRow||i>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(o)&&r.push(i)};C(this.rowCtrlsByRowIndex,o),C(e,o),r.sort((function(e,t){return e-t}));for(var i=[],n=0;n<r.length;n++){var a=r[n],s=this.paginationProxy.getRow(a);s&&!s.sticky&&i.push(a)}return i},t.prototype.recycleRows=function(e,t,r){var o=this;void 0===t&&(t=!1),void 0===r&&(r=!1);var i=this.calculateIndexesToDraw(e);if(this.removeRowCompsNotToDraw(i),this.printLayout&&(t=!1),i.forEach((function(i){var n=o.createOrUpdateRowCtrl(i,e,t,r);a(n)})),e){var n=r&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout;n?this.beans.animationFrameService.addDestroyTask((function(){o.destroyRowCtrls(e,t),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){void 0===e&&(e=!1);var t={type:gt.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight(),r=this.pinningLeft!==e||t!==this.pinningRight;r&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach((function(t){var r=t.getRowNode().rowIndex;e.push(r.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var t=this,r=this.mapRowNodes(e);return this.getAllRowCtrls().filter((function(e){if(!e.isFullWidth())return!1;var o=e.getRowNode();return!(null!=r&&!t.isRowInMap(o,r))}))},t.prototype.createOrUpdateRowCtrl=function(e,t,r,o){var i,n=this.rowCtrlsByRowIndex[e];n||(i=this.paginationProxy.getRow(e),a(i)&&a(t)&&t[i.id]&&i.alreadyRendered&&(n=t[i.id],t[i.id]=null));var s=!n;if(s){if(i||(i=this.paginationProxy.getRow(e)),!a(i))return;n=this.createRowCon(i,r,o)}return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=n,n},t.prototype.destroyRowCtrls=function(e,t){var r=this,o=[];C(e,(function(e,i){i&&(r.cachedRowCtrls&&i.isCacheable()?r.cachedRowCtrls.addRow(i):(i.destroyFirstPass(),t?(r.zombieRowCtrls[i.getInstanceId()]=i,o.push((function(){i.destroySecondPass(),delete r.zombieRowCtrls[i.getInstanceId()]}))):i.destroySecondPass()))})),t&&(o.push((function(){r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()})),j(o))},t.prototype.getRowBuffer=function(){var e=this.gridOptionsService.getNum("rowBuffer");return"number"===typeof e?e<0&&(V((function(){return console.warn("AG Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e},t.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),t=this.gridOptionsService.getRowHeightAsNumber();return e*t},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var r=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),i=this.gridOptionsService.is("suppressRowVirtualisation"),n=!1,a=void 0,s=void 0;do{var l=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getCurrentPagePixelRange(),u=c.pageFirstPixel,d=c.pageLastPixel,h=this.rowContainerHeightService.getDivStretchOffset(),p=o.getScrollFeature().getVScrollPosition(),f=p.top,g=p.bottom;i?(a=u+h,s=d+h):(a=Math.max(f+l-r,u)+h,s=Math.min(g+l+r,d)+h),this.firstVisibleVPixel=Math.max(f+l,u)+h,n=this.ensureAllRowsInRangeHaveHeightsCalculated(a,s)}while(n);var v=this.paginationProxy.getRowIndexAtPixel(a),m=this.paginationProxy.getRowIndexAtPixel(s),b=this.paginationProxy.getPageFirstRow(),y=this.paginationProxy.getPageLastRow();v<b&&(v=b),m>y&&(m=y),e=v,t=m}else e=0,t=-1;var w=this.gridOptionsService.isDomLayout("normal"),C=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),E=Math.max(this.getRowBuffer(),500);w&&!C&&t-e>E&&(t=e+E);var S=e!==this.firstRenderedRow,x=t!==this.lastRenderedRow;if(S||x){this.firstRenderedRow=e,this.lastRenderedRow=t;var T={type:gt.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(T)}},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var t={type:gt.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((function(){e.beans.eventService.dispatchEvent(t)}))}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){var r=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return r&&this.updateContainerHeights(),r},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=!1,r=!0,o=e.getRowNode(),i=this.focusService.isRowNodeFocused(o),n=e.isEditing(),a=o.detail,s=i||n||a;if(!s)return t;var l=this.paginationProxy.isRowPresent(o);return l?r:t},t.prototype.createRowCon=function(e,t,r){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var i=this.gridOptionsService.is("suppressAnimationFrame"),n=r&&!i&&!this.printLayout,a=new Mu(e,this.beans,t,n,this.printLayout);return a},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map((function(t){return e[t].getRowNode()}))},t.prototype.getRowByPosition=function(e){var t,r=e.rowIndex;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find((function(e){return e.getRowNode().rowIndex===r}))||null);break}return t},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,t){var r=null==e||null==t;if(r)return!1;var o=e>this.lastRenderedRow,i=t<this.firstRenderedRow,n=!i&&!o;return n},Gp([he("animationFrameService")],t.prototype,"animationFrameService",void 0),Gp([he("paginationProxy")],t.prototype,"paginationProxy",void 0),Gp([he("columnModel")],t.prototype,"columnModel",void 0),Gp([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Gp([he("rowModel")],t.prototype,"rowModel",void 0),Gp([he("focusService")],t.prototype,"focusService",void 0),Gp([he("beans")],t.prototype,"beans",void 0),Gp([he("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Gp([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Gp([ce],t.prototype,"postConstruct",null),t=Gp([de("rowRenderer")],t),t}(lt),Up=function(){function e(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return e.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},e.prototype.getRow=function(e){if(null==e||null==e.id)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var r=t.getRowNode()!=e;return r?null:t},e.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],Ne(this.entriesList,e)},e.prototype.getEntries=function(){return this.entriesList},e}(),$p=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype.formatValue=function(e,t,r,o,i){void 0===i&&(i=!0);var n,a=null,s=e.getColDef();if(o?n=o:i&&(n=s.valueFormatter),n){var l={value:r,node:t,data:t?t.data:null,colDef:s,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};a="function"===typeof n?n(l):this.expressionService.evaluate(n,l)}else if(s.refData)return s.refData[r]||"";return null==a&&Array.isArray(r)&&(a=r.join(", ")),a},Kp([he("expressionService")],t.prototype,"expressionService",void 0),t=Kp([de("valueFormatterService")],t),t}(lt),qp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xp=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Jp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qp(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},t.prototype.isEmpty=function(e){var t="top"===e?this.pinnedTopRows:this.pinnedBottomRows;return l(t)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var r="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(l(r))return 0;for(var o=0;o<r.length;o++){var i=r[o],n=i.rowTop+i.rowHeight-1;if(n>=e)return o}return r.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0);var t={type:gt.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);var t={type:gt.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)},t.prototype.createNodesFromData=function(e,t){var r=this,o=[];if(e){var i=0;e.forEach((function(e,n){var a=new Ps(r.beans);a.data=e;var s=t?Ps.ID_PREFIX_TOP_PINNED:Ps.ID_PREFIX_BOTTOM_PINNED;a.id=s+n,a.rowPinned=t?"top":"bottom",a.setRowTop(i),a.setRowHeight(r.gridOptionsService.getRowHeightForNode(a).height),a.setRowIndex(n),i+=a.rowHeight,o.push(a)}))}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){l(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){l(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var t=Ae(e);return t.rowTop+t.rowHeight},Xp([he("beans")],t.prototype,"beans",void 0),Xp([ce],t.prototype,"init",null),t=Xp([de("pinnedRowModel")],t),t}(lt);(function(e){e["Applied"]="Applied",e["StoreNotFound"]="StoreNotFound",e["StoreLoading"]="StoreLoading",e["StoreWaitingToLoad"]="StoreWaitingToLoad",e["StoreLoadingFailed"]="StoreLoadingFailed",e["StoreWrongType"]="StoreWrongType",e["Cancelled"]="Cancelled"})(Cp||(Cp={}));var Qp,Zp=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,r){if(e.childrenAfterGroup)for(var o=0;o<e.childrenAfterGroup.length;o++){var i=e.childrenAfterGroup[o];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[o],t,r):r&&t(i)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1),this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){var t=e,r=0;while(!this.mapToItems[t.id]){var o={rowNode:t,children:null};this.mapToItems[t.id]=o,r++,t=t.parent}return r},e.prototype.populateColumnsMap=function(e,t){var r=this;if(this.keepingColumns&&t){var o=e;while(o)this.nodeIdsToColumns[o.id]||(this.nodeIdsToColumns[o.id]={}),t.forEach((function(e){return r.nodeIdsToColumns[o.id][e.getId()]=!0})),o=o.parent}},e.prototype.linkPathItems=function(e,t){for(var r=e,o=0;o<t;o++){var i=this.mapToItems[r.id],n=this.mapToItems[r.parent.id];n.children||(n.children=[]),n.children.push(i),r=r.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var r=this.nodeIdsToColumns[e.id],o=t.filter((function(e){return r[e.getId()]}));return o},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[e.id],o=t.filter((function(e){return!r[e.getId()]}));return o},e}(),ef=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tf=function(e){function t(r){var o=e.call(this)||this;return o.state=t.STATE_WAITING_TO_LOAD,o.version=0,o.id=r,o}return ef(t,e),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){var r=this.isRequestMostRecentAndLive(e);r&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,t){this.successCommon(e,t)},t.prototype.pageLoaded=function(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})},t.prototype.isRequestMostRecentAndLive=function(e){var t=e===this.version,r=this.isAlive();return t&&r},t.prototype.successCommon=function(e,r){this.dispatchLoadCompleted();var o=this.isRequestMostRecentAndLive(e);o&&(this.state=t.STATE_LOADED,this.processServerResult(r))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0);var r={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(r)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(lt),rf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),of=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},nf=function(e,t){return function(r,o){t(r,o,e)}},af=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeBlockLoadsCount=0,t.blocks=[],t.active=!0,t}var r;return rf(t,e),r=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var e=this.gridOptionsService.getNum("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=on.debounce(this.performCheckBlocksToLoad.bind(this),e))},t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var e=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e},t.prototype.addBlock=function(e){this.blocks.push(e),e.addEventListener(tf.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(e){on.removeFromArray(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:r.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:r.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=this.getAvailableLoadingCount(),t=this.blocks.filter((function(e){return e.getState()===tf.STATE_WAITING_TO_LOAD})).slice(0,e);this.registerLoads(t.length),t.forEach((function(e){return e.load()})),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var e=this.rowModel;return e.getBlockStates()}var t={};return this.blocks.forEach((function(e){var r=e.getBlockStateJson(),o=r.id,i=r.state;t[o]=i})),t},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(e){this.activeBlockLoadsCount+=e},t.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",of([he("rowModel")],t.prototype,"rowModel",void 0),of([ce],t.prototype,"postConstruct",null),of([nf(0,ge("loggerFactory"))],t.prototype,"setBeans",null),t=r=of([de("rowNodeBlockLoader")],t),t}(lt),sf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lf=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},cf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return sf(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,gt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,r,o){var i=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return i&&this.calculatePages(),i},t.prototype.isPaginateChildRows=function(){var e=this.gridOptionsService.is("groupRemoveSingleChildren")||this.gridOptionsService.is("groupRemoveLowestSingleChildren");return!!e||this.gridOptionsService.is("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages();var t={type:gt.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows};this.eventService.dispatchEvent(t)},t.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();var e={type:gt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.goToPage=function(e){if(this.active&&this.currentPage!==e&&"number"===typeof this.currentPage){this.currentPage=e;var t={type:gt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(t)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return s(this.topRowBounds)||s(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}},t.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var t=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return t},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var t=this.getPageFirstRow(),r=this.getPageLastRow(),o=t;o<=r;o++){var i=this.getRow(o);i&&e(i)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=this.getPageForIndex(e);this.goToPage(t)}},t.prototype.isRowInPage=function(e){if(!this.active)return!0;var t=this.getPageForIndex(e.rowIndex);return t===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(a(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:gt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var t=this.pageSize*this.currentPage,r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=o-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},lf([he("rowModel")],t.prototype,"rowModel",void 0),lf([ce],t.prototype,"postConstruct",null),t=lf([de("paginationProxy")],t),t}(lt),uf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),df=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},hf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return uf(t,e),t.prototype.processAllCellClasses=function(e,t,r,o){this.processClassRules(e.cellClassRules,t,r,o),this.processStaticCellClasses(e,t,r)},t.prototype.processClassRules=function(e,t,r,o){if(null!=e){for(var i=Object.keys(e),n={},a={},s=function(r){var o,s=i[r],c=e[s];"string"===typeof c?o=l.expressionService.evaluate(c,t):"function"===typeof c&&(o=c(t)),s.split(" ").forEach((function(e){null!=e&&""!=e.trim()&&(o?n[e]=!0:a[e]=!0)}))},l=this,c=0;c<i.length;c++)s(c);o&&Object.keys(a).forEach(o),Object.keys(n).forEach(r)}},t.prototype.getStaticCellClasses=function(e,t){var r,o=e.cellClass;if(!o)return[];if("function"===typeof o){var i=o;r=i(t)}else r=o;return"string"===typeof r&&(r=[r]),r||[]},t.prototype.processStaticCellClasses=function(e,t,r){var o=this.getStaticCellClasses(e,t);o.forEach((function(e){r(e)}))},df([he("expressionService")],t.prototype,"expressionService",void 0),t=df([de("stylingService")],t),t}(lt),pf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ff=function(e){function t(t){return e.call(this,t,"ag-toggle-button")||this}return pf(t,e),t.prototype.setValue=function(t,r){return e.prototype.setValue.call(this,t,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(ia),gf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vf=function(e){function t(t){return e.call(this,t,"ag-text-area",null,"textarea")||this}return gf(t,e),t.prototype.setValue=function(t,r){var o=e.prototype.setValue.call(this,t,r);return this.eInput.value=t,o},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(ra),mf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bf=function(e){function t(t){return e.call(this,t,"ag-date-field","date")||this}return mf(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var r=io();this.addManagedListener(this.eInput,"mousedown",(function(){t.isDisabled()||r||t.eInput.focus()})),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var t,r=e instanceof Date?null!==(t=Ao(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0:e;return this.min===r||(this.min=r,ki(this.eInput,"min",r)),this},t.prototype.setMax=function(e){var t,r=e instanceof Date?null!==(t=Ao(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0:e;return this.max===r||(this.max=r,ki(this.eInput,"max",r)),this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,ki(this.eInput,"step",e)),this},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return null!==(e=Lo(this.getValue()))&&void 0!==e?e:void 0},t.prototype.setDate=function(e,t){this.setValue(Ao(null!==e&&void 0!==e?e:null,!1),t)},t}(Da),yf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),wf=function(e){function t(t){return e.call(this,t,"ag-range-field","range")||this}return yf(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,r=t.min,o=t.max,i=t.step;null!=r&&this.setMinValue(r),null!=o&&this.setMaxValue(o),this.setStep(i||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",(function(t){var r=t.target.value;e.setValue(r)}))},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,r){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var o=e.prototype.setValue.call(this,t,r);return this.eInput.value=t,o},t}(ra),Cf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ef=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Sf=function(e){function t(t,r){var o=e.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return o.params=t,o.wrapperEl=r,o}return Cf(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},t.prototype.setState=function(e,t){var r="";this.params.valueFormatter&&(r=this.params.valueFormatter(e));var o=this.populateWithRenderer(e,r);o||this.populateWithoutRenderer(e,r),this.value=e},t.prototype.updateHighlighted=function(e){var t,r=this.getGui(),o="ag-rich-select-row-"+this.getCompId();if(null===(t=r.parentElement)||void 0===t||t.setAttribute("id",o),e){var i=this.getParentComponent().getAriaElement();i.setAttribute("aria-activedescendant",o),this.wrapperEl.setAttribute("data-active-option",o)}Ur(r.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,t){var r=this.gridOptionsService.getDocument(),o=this.getGui(),i=r.createElement("span");i.style.overflow="hidden",i.style.textOverflow="ellipsis";var n=Tt(a(t)?t:e);i.textContent=a(n)?n:"&nbsp;",o.appendChild(i)},t.prototype.populateWithRenderer=function(e,t){var r,o,i=this;return this.params.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,api:this.gridOptionsService.api})),o&&(r=o.newAgStackInstance()),r&&Ri(r,this.getGui()),!!r&&(r.then((function(e){i.addDestroyFunc((function(){i.getContext().destroyBean(e)}))})),!0)},t.prototype.onMouseUp=function(){var e=this.getParentComponent(),t={type:gt.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};null===e||void 0===e||e.dispatchEvent(t)},Ef([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ef([ce],t.prototype,"postConstruct",null),t}(mn),xf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Tf=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},kf=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},_f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var t=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:function(e){t.forEach((function(t){return null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex")}))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new _h({comp:r,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var t=document.createElement("div"),r="top"===e?oh.TAB_GUARD_TOP:oh.TAB_GUARD_BOTTOM;return t.classList.add(oh.TAB_GUARD,r),wr(t,"presentation"),t},t.prototype.addTabGuards=function(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];ri(this.getFocusableElement()),this.addTabGuards.apply(this,kf([],Tf(e)))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(t,r){Si(t)||(t=t.getGui());var o=this.eBottomGuard;o?o.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,r)},t}(mn),Rf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Of=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Df=function(e){function t(r){var o=e.call(this,t.getTemplate((null===r||void 0===r?void 0:r.cssIdentifier)||"default"))||this;o.renderedRows=new Map,o.rowHeight=20;var i=r||{},n=i.cssIdentifier,a=void 0===n?"default":n,s=i.ariaRole,l=void 0===s?"listbox":s,c=i.listName;return o.cssIdentifier=a,o.ariaRole=l,o.listName=c,o}return Rf(t,e),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)},focusInnerElement:function(t){return e.focusInnerElement(t)},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,gt.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var e=this.localeService.getLocaleTextFunc(),t=e("ariaDefaultListName",this.listName||"List"),r=this.eContainer;wr(r,this.ariaRole),Tr(r,t)},t.prototype.addResizeObserver=function(){var e=this,t=function(){return e.drawVirtualRows()},r=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(r)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Sr(t)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case Li.UP:case Li.DOWN:this.navigate(e.key===Li.UP)&&e.preventDefault();break}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(Qe(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount())&&(this.focusRow(t),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout((function(){if(t.isAlive()){var r=t.renderedRows.get(e);r&&r.eDiv.focus()}}),10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach((function(t,r){return e(t.rowComponent,r)}))},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!==typeof e||e<0||e>=t)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);else{var r=e*this.rowHeight,o=r+this.rowHeight,i=this.getGui(),n=i.scrollTop,a=i.offsetHeight,s=n+a,l=n>r,c=s<o;if(l)i.scrollTop=r;else if(c){var u=o-a;i.scrollTop=u}}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var t=this;if(null!=this.model&&this.isAlive()){var r=this.model.getRowCount();this.eContainer.style.height=r*this.rowHeight+"px",X((function(){return t.eContainer.clientHeight>=r*t.rowHeight}),(function(){t.isAlive()&&(t.canSoftRefresh(e)?t.drawVirtualRows(!0):(t.clearVirtualRows(),t.drawVirtualRows()))}))}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&"function"===typeof this.model.areRowsEqual&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach((function(t,r){return e.removeRow(r)}))},t.prototype.drawVirtualRows=function(e){if(this.isAlive()&&this.model){var t=this.getGui(),r=t.scrollTop,o=r+t.offsetHeight,i=Math.floor(r/this.rowHeight),n=Math.floor(o/this.rowHeight);this.ensureRowsRendered(i,n,e)}},t.prototype.ensureRowsRendered=function(e,t,r){var o=this;this.renderedRows.forEach((function(r,i){(i<e||i>t)&&i!==o.lastFocusedRowIndex&&o.removeRow(i)})),r&&this.refreshRows();for(var i=e;i<=t;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)},t.prototype.insertRow=function(e){var t=this,r=this.model.getRow(e),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),wr(o,"tree"===this.ariaRole?"treeitem":"option"),Fr(o,this.model.getRowCount()),Ir(o,e+1),o.setAttribute("tabindex","-1"),"function"===typeof this.model.isRowSelected){var i=this.model.isRowSelected(e);Ur(o,!!i),$r(o,i)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*e+"px";var n=this.componentCreator(r,o);n.addGuiEventListener("focusin",(function(){return t.lastFocusedRowIndex=e})),o.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:n,eDiv:o,value:r})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,t=this.model.getRowCount();this.renderedRows.forEach((function(r,o){var i,n;if(o>=t)e.removeRow(o);else{var a=e.model.getRow(o);(null===(n=(i=e.model).areRowsEqual)||void 0===n?void 0:n.call(i,r.value,a))?e.componentUpdater(a,r.rowComponent):e.removeRow(o)}}))},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",(function(){return e.drawVirtualRows()}),{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),e.prototype.destroy.call(this))},Of([he("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Of([bn("eContainer")],t.prototype,"eContainer",void 0),Of([ce],t.prototype,"postConstruct",null),t}(_f),Af=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pf=function(){return Pf=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pf.apply(this,arguments)},Mf=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Lf=function(e){function t(t){var r=e.call(this,Pf({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list"},t),"ag-rich-select","smallDown","combobox")||this;r.searchString="",r.highlightedItem=-1;var o=t||{},i=o.cellRowHeight,n=o.value,a=o.valueList,s=o.searchDebounceDelay;return i&&(r.cellRowHeight=i),null!=n&&(r.value=n),null!=a&&r.setValueList(a),null!=s&&(r.searchDebounceDelay=s),r}return Af(t,e),t.prototype.postConstruct=function(){var t,r;e.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=null!==(t=this.gridOptionsService.getNum("tabIndex"))&&void 0!==t?t:0,this.eWrapper.classList.add("ag-rich-select-value");var o=null!==(r=this.searchDebounceDelay)&&void 0!==r?r:300;this.clearSearchString=Y(this.clearSearchString,o),this.renderSelectedValue()},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createManagedBean(new Df({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,gt.EVENT_FIELD_PICKER_VALUE_SELECTED,(function(t){e.onListValueSelected(t.value,t.fromEnterKey)})),this.cellRowHeight&&this.listComponent.setRowHeight(this.cellRowHeight);var t=this.listComponent.getGui(),r=this.listComponent.getAriaElement();this.addManagedListener(t,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(t,"mousedown",(function(e){return e.preventDefault()})),t.classList.add("ag-rich-select-list");var o="ag-rich-select-list-"+this.listComponent.getCompId();r.setAttribute("id",o),Kr(this.eWrapper,r)},t.prototype.renderSelectedValue=function(){var e,t,r=this,o=this,i=o.value,n=o.eDisplayField,s=o.config,l=this.config.valueFormatter?this.config.valueFormatter(i):i;s.cellRenderer&&(e=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:l,api:this.gridOptionsService.api})),e&&(t=e.newAgStackInstance()),t?(ri(n),Ri(t,n),t.then((function(e){r.addDestroyFunc((function(){return r.getContext().destroyBean(e)}))}))):a(this.value)?n.innerText=l:ri(n)},t.prototype.setValueList=function(e){this.values=e,this.highlightSelectedValue()},t.prototype.getCurrentValueIndex=function(){var e=this,t=e.values,r=e.value;if(null==r)return-1;for(var o=0;o<t.length;o++)if(t[o]===r)return o;return-1},t.prototype.highlightSelectedValue=function(e){var t=this;null==e&&(e=this.getCurrentValueIndex()),-1!==e&&(this.highlightedItem=e,this.listComponent&&this.listComponent.forEachRenderedRow((function(e,r){e.updateHighlighted(t.highlightedItem===r)})))},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return this.listComponent.setModel({getRowCount:function(){return e.length},getRow:function(t){return e[t]}}),this.listComponent},t.prototype.showPicker=function(){var t,r,o;e.prototype.showPicker.call(this);var i=this.getCurrentValueIndex();-1!==i?(null===(t=this.listComponent)||void 0===t||t.refresh(),null===(r=this.listComponent)||void 0===r||r.ensureIndexVisible(i),this.highlightSelectedValue(i)):null===(o=this.listComponent)||void 0===o||o.refresh()},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,e.prototype.beforeHidePicker.call(this)},t.prototype.searchText=function(e){if("string"!==typeof e){var t=e.key;if(t===Li.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!zi(e))return;return e.preventDefault(),void this.searchText(t)}this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.runSearch=function(){var e,t=this.values,r=this.config,o=r.valueFormatter,i=void 0===o?function(e){return e}:o,n=r.searchStringCreator;if("number"===typeof t[0]||"string"===typeof t[0]?e=t.map((function(e){return i(e)})):"object"===typeof t[0]&&n&&(e=n(t)),e){var a=Bt(this.searchString,e,!0)[0];if(a){var s=e.indexOf(a);this.selectListItem(s)}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e){!this.isPickerDisplayed||!this.listComponent||e<0||e>=this.values.length||(this.listComponent.ensureIndexVisible(e),this.highlightSelectedValue(e))},t.prototype.setValue=function(t,r,o){var i=this.values.indexOf(t);return-1===i?this:(this.value=t,o||this.selectListItem(i),this.renderSelectedValue(),e.prototype.setValue.call(this,t,r))},t.prototype.createRowComponent=function(e){var t=new Sf(this.config,this.eWrapper);return t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e,e===this.value),t},t.prototype.getRowForMouseEvent=function(e){var t=this.listComponent;if(!t)return-1;var r=null===t||void 0===t?void 0:t.getGui(),o=r.getBoundingClientRect(),i=t.getScrollTop(),n=e.clientY-o.top+i;return Math.floor(n/t.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var t=this.getRowForMouseEvent(e);-1!==t&&this.selectListItem(t)}},t.prototype.onNavigationKeyDown=function(e,t){e.preventDefault();var r=t===Li.DOWN;if(this.isPickerDisplayed||!r){var o=this.highlightedItem,i=r?1:-1,n=-1===o?0:o+i;this.selectListItem(n)}else this.showPicker()},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.onListValueSelected(this.values[this.highlightedItem],!0))},t.prototype.onListValueSelected=function(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,t){var r={type:gt.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e};this.dispatchEvent(r)},t.prototype.onKeyDown=function(e){var t=e.key;switch(t){case Li.LEFT:case Li.RIGHT:e.preventDefault();break;case Li.DOWN:case Li.UP:this.onNavigationKeyDown(e,t);break;case Li.ESCAPE:this.isPickerDisplayed&&this.hidePicker();break;case Li.ENTER:this.onEnterKeyDown(e);break;default:this.searchText(e)}},Mf([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Kn),Ff=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),If=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Nf=function(e){function t(r){var o=e.call(this,r,t.TEMPLATE)||this;return o.labelAlignment="top",o}return Ff(t,e),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,r=gt.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,r,(function(){var r=parseFloat(t.eText.getValue());t.eSlider.setValue(r.toString(),!0),e(r||0)})),this.addManagedListener(this.eSlider,r,(function(){var r=t.eSlider.getValue();t.eText.setValue(r,!0),e(parseFloat(r))})),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:gt.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',If([bn("eLabel")],t.prototype,"eLabel",void 0),If([bn("eSlider")],t.prototype,"eSlider",void 0),If([bn("eText")],t.prototype,"eText",void 0),If([ce],t.prototype,"init",null),t}(Bn),Hf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gf=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Vf=function(e){function t(r){void 0===r&&(r={});var o=e.call(this,t.getTemplate(r))||this;o.suppressEnabledCheckbox=!0,o.suppressOpenCloseIcons=!1;var i=r.title,n=r.enabled,a=r.items,s=r.suppressEnabledCheckbox,l=r.suppressOpenCloseIcons;return o.title=i,o.cssIdentifier=r.cssIdentifier||"default",o.enabled=null==n||n,o.items=a||[],o.alignItems=r.alignItems||"center",null!=s&&(o.suppressEnabledCheckbox=s),null!=l&&(o.suppressOpenCloseIcons=l),o}return Hf(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default",r=e.direction||"vertical";return'<div class="ag-group ag-'+t+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+r+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(Ai("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Ai("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return e.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(t){switch(t.key){case Li.ENTER:case Li.SPACE:t.preventDefault(),e.toggleGroupExpand();break;case Li.RIGHT:case Li.LEFT:t.preventDefault(),e.toggleGroupExpand(t.key===Li.RIGHT);break}}))},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Mr(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;jo(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),jo(this.eGroupOpenedIcon,e&&this.expanded),jo(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e;var t="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(t),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),jo(this.eContainer,!0),this):(e=null!=e?e:!this.expanded,this.expanded===e||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),jo(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach((function(e){return t.addItem(e)}))},t.prototype.addItem=function(e){var t=this.eContainer,r=e instanceof mn?e.getGui():e;r.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),t.appendChild(r),this.items.push(r)},t.prototype.hideItem=function(e,t){var r=this.items[t];jo(r,!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange((function(r){t.setEnabled(r,!0),e(r)})),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Gf([bn("eTitleBar")],t.prototype,"eTitleBar",void 0),Gf([bn("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Gf([bn("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Gf([bn("eToolbar")],t.prototype,"eToolbar",void 0),Gf([bn("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Gf([bn("eTitle")],t.prototype,"eTitle",void 0),Gf([bn("eContainer")],t.prototype,"eContainer",void 0),Gf([ce],t.prototype,"postConstruct",null),t}(mn),zf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bf=function(){return Bf=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bf.apply(this,arguments)},jf=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Wf=function(e){function t(t){void 0===t&&(t=1);var r=e.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return r.level=t,r.menuItems=[],r}return zf(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.onTabKeyDown=function(e){var t=this.getParentComponent(),r=t&&t.getGui(),o=r&&r.classList.contains("ag-focus-managed");o||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case Li.UP:case Li.RIGHT:case Li.DOWN:case Li.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Li.ESCAPE:var t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui());break}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var t=this;null!=e&&e.forEach((function(e){"separator"===e?t.addSeparator():"string"===typeof e?console.warn("AG Grid: unrecognised menu item "+e):t.addItem(e)}))},t.prototype.addItem=function(e){var t=this,r=this.createManagedBean(new Xf(Bf(Bf({},e),{isAnotherSubMenuOpen:function(){return t.menuItems.some((function(e){return e.isSubMenuOpen()}))}})));r.setParentComponent(this),Dr(r.getGui(),this.level),this.menuItems.push(r),this.appendChild(r.getGui()),this.addManagedListener(r,Xf.EVENT_MENU_ITEM_SELECTED,(function(e){t.dispatchEvent(e)})),this.addManagedListener(r,Xf.EVENT_MENU_ITEM_ACTIVATED,(function(e){t.activeMenuItem&&t.activeMenuItem!==e.menuItem&&t.activeMenuItem.deactivate(),t.activeMenuItem=e.menuItem}))},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter((function(e){return!e.isDisabled()}))[0];e&&e.activate()},t.prototype.addSeparator=function(){var e='\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>';this.appendChild(ai(e))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;while(1){var r=e&&e.getParentComponent&&e.getParentComponent();if(!r||!(r instanceof t||r instanceof Xf))break;e=r}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case Li.UP:case Li.DOWN:var t=this.findNextItem(e===Li.UP);return void(t&&t!==this.activeMenuItem&&t.activate())}var r=this.gridOptionsService.is("enableRtl")?Li.RIGHT:Li.LEFT;e===r?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var t=this.getParentComponent();t&&t instanceof Xf&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var t=this.menuItems.filter((function(e){return!e.isDisabled()}));if(t.length){if(!this.activeMenuItem)return e?Ae(t):t[0];var r;e&&t.reverse();for(var o=!1,i=0;i<t.length;i++){var n=t[i];if(o){r=n;break}n===this.activeMenuItem&&(o=!0)}return r||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),e.prototype.destroy.call(this)},jf([he("focusService")],t.prototype,"focusService",void 0),jf([ce],t.prototype,"postConstruct",null),t}(_f),Uf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$f=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Kf=function(e){function t(t){var r=e.call(this)||this;return r.wrappedComponent=t,r.setTemplateFromElement(t.getGui()),r}return Uf(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.handleKeyDown=function(e){e.key===Li.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout((function(){return e.getGui().focus()}),0)},$f([ce],t.prototype,"postConstruct",null),t}(_f),Yf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),qf=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Xf=function(e){function t(t){var r=e.call(this)||this;return r.params=t,r.isActive=!1,r.subMenuIsOpen=!1,r.setTemplate('<div class="'+r.getClassName()+'" tabindex="-1" role="treeitem"></div>'),r}return Yf(t,e),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Ar(t,!0)):(this.addGuiEventListener("click",(function(t){return e.onItemSelected(t)})),this.addGuiEventListener("keydown",(function(t){t.key!==Li.ENTER&&t.key!==Li.SPACE||(t.preventDefault(),e.onItemSelected(t))})),this.addGuiEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),this.addGuiEventListener("mouseenter",(function(){return e.onMouseEnter()})),this.addGuiEventListener("mouseleave",(function(){return e.onMouseLeave()}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(t){return e.addCssClass(t)}))},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var o,i=ai('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var n=Er(this.getGui()),a=isNaN(n)?1:n+1,s=this.createBean(new Wf(a));s.setParentComponent(this),s.addMenuItems(this.params.subMenu),i.appendChild(s.getGui()),this.addManagedListener(s,t.EVENT_MENU_ITEM_SELECTED,(function(e){return r.dispatchEvent(e)})),s.addGuiEventListener("mouseenter",(function(){return r.cancelDeactivate()})),o=function(){return r.destroyBean(s)},e&&setTimeout((function(){return s.activateFirstItem()}),0)}else{var l=this.params.subMenu,c=this.createBean(new Kf(l));c.setParentComponent(this);var u=c.getGui(),d="mouseenter",h=function(){return r.cancelDeactivate()};u.addEventListener(d,h),o=function(){return u.removeEventListener(d,h)},i.appendChild(u),l.afterGuiAttached&&setTimeout((function(){return l.afterGuiAttached()}),0)}var p=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:p,ePopup:i}),g=this.localeService.getLocaleTextFunc(),v=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:f,anchorToElement:p,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Mr(p,!0),this.hideSubMenu=function(){v&&v.hideFunc(),r.subMenuIsOpen=!1,Mr(p,!1),o()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,Mr(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var t=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout((function(){t.isAlive()&&t.isActive&&t.openSubMenu()}),300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=ai('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(Pi("check",this.gridOptionsService)):this.params.icon&&(Si(this.params.icon)?e.appendChild(this.params.icon):"string"===typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=ai('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new hn(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=ai('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=ai('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),t=this.getGui();if(this.params.subMenu){var r=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";Mr(t,!1),e.appendChild(Pi(r,this.gridOptionsService))}t.appendChild(e)}},t.prototype.onItemSelected=function(e){if(this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),!this.params.subMenu||this.params.action){var r={type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(r)}},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((function(){return e.activate(!0)}),t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((function(){return e.deactivate()}),t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?t+"-"+e:t},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,qf([he("popupService")],t.prototype,"popupService",void 0),qf([ce],t.prototype,"init",null),t}(mn),Jf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qf=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Zf=function(e){function t(r){var o=e.call(this,t.getTemplate(r))||this;return o.closable=!0,o.config=r,o}return Jf(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,r=t.component,o=t.closable,i=t.hideTitleBar,n=t.title,a=t.minWidth,s=void 0===a?250:a,l=t.width,c=t.minHeight,u=void 0===c?250:c,d=t.height,h=t.centered,p=t.popup,f=t.x,g=t.y;this.positionableFeature=new In(this.getGui(),{minWidth:s,width:l,minHeight:u,height:d,centered:h,x:f,y:g,popup:p,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var v=this.getGui();r&&this.setBodyComponent(r),i?jo(this.eTitleBar,!1):(n&&this.setTitle(n),this.setClosable(null!=o?o:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(t){var r=e.gridOptionsService.getDocument();if(v.contains(t.relatedTarget)||v.contains(r.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var o=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");o&&o.focus()}})),p&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var r=this.closeButtonComp=new mn(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var o=r.getGui(),i=Pi("close",this.gridOptionsService);i.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(i),this.addTitleBarButton(r),r.addManagedListener(o,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){o=this.closeButtonComp.getGui();o.parentElement.removeChild(o),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var r=this.eTitleBarButtons,o=r.children,i=o.length;null==t&&(t=i),t=Math.max(0,Math.min(t,i)),e.addCssClass("ag-panel-title-bar-button");var n=e.getGui();0===t?r.insertAdjacentElement("afterbegin",n):t===i?r.insertAdjacentElement("beforeend",n):o[t-1].insertAdjacentElement("afterend",n),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Yo(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return qo(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Qf([bn("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Qf([bn("eTitleBar")],t.prototype,"eTitleBar",void 0),Qf([bn("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Qf([bn("eTitle")],t.prototype,"eTitle",void 0),Qf([ce],t.prototype,"postConstruct",null),t}(mn),eg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tg=function(){return tg=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tg.apply(this,arguments)},rg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},og=function(e){function t(t){var r=e.call(this,tg(tg({},t),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return eg(t,e),t.prototype.postConstruct=function(){var t=this,r=this.getGui(),o=this.config,i=o.movable,n=o.resizable,a=o.maximizable;this.addCssClass("ag-dialog"),e.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",(function(e){r.contains(e.relatedTarget)||t.popupService.bringPopupToFront(r)})),i&&this.setMovable(i),a&&this.setMaximizable(a),n&&this.setResizable(n)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,r=t.alwaysOnTop,o=t.modal,i=t.title,n=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:r,ariaLabel:i||n("ariaLabelDialog","Dialog")});a&&(this.close=a.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var t=this.lastPosition,r=t.x,o=t.y,i=t.width,n=t.height;this.setWidth(i),this.setHeight(n),this.positionableFeature.offsetElement(r,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){jo(this.maximizeIcon,!this.isMaximized),jo(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(e){return e()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var t=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var r=this.eTitleBar;if(r&&e!==this.isMaximizable){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(r,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){t.isMaximized=!1,t.refreshMaximizeIcon()}))}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new mn('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=Pi("maximize",this.gridOptionsService),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Pi("minimize",this.gridOptionsService),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},rg([he("popupService")],t.prototype,"popupService",void 0),t}(Zf),ig=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ng=function(){return ng=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ng.apply(this,arguments)},ag=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},sg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},lg=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e};(function(e){e[e["vertical"]=0]="vertical",e[e["horizontal"]=1]="horizontal"})(Qp||(Qp={}));var cg,ug=0,dg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}var r;return ig(t,e),r=t,t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl,e.addManagedListener(e.gridCtrl,gt.EVENT_KEYBOARD_FOCUS,(function(){e.popupList.forEach((function(e){return e.element.classList.add(Mh.AG_KEYBOARD_FOCUS)}))})),e.addManagedListener(e.gridCtrl,gt.EVENT_MOUSE_FOCUS,(function(){e.popupList.forEach((function(e){return e.element.classList.remove(Mh.AG_KEYBOARD_FOCUS)}))}))}))},t.prototype.getPopupParent=function(){var e=this.gridOptionsService.get("popupParent");return e||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource,r=e.ePopup,o=this.getPopupIndex(r);if(-1!==o){var i=this.popupList[o];i.alignedToElement=t}var n=t.getBoundingClientRect(),a=this.getParentRect(),s=this.keepXYWithinBounds(r,n.top-a.top,Qp.vertical),l=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=l+"px";var c,u=a.right-a.left,d=u-l;function h(){return n.right-a.left-2}function p(){return n.left-a.left-l}this.gridOptionsService.is("enableRtl")?(c=p(),c<0&&(c=h(),this.setAlignedStyles(r,"left")),c>d&&(c=0,this.setAlignedStyles(r,"right"))):(c=h(),c>d&&(c=p(),this.setAlignedStyles(r,"right")),c<0&&(c=0,this.setAlignedStyles(r,"left"))),r.style.left=c+"px",r.style.top=s+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=this,r=e.ePopup,o=e.nudgeX,i=e.nudgeY,n=e.skipObserver;this.positionPopup({ePopup:r,nudgeX:o,nudgeY:i,keepWithinBounds:!0,skipObserver:n,updatePosition:function(){return t.calculatePointerAlign(e.mouseEvent)},postProcessCallback:function(){return t.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)}})},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupByComponent=function(e){var t=this,r=e.ePopup,o=e.nudgeX,i=e.nudgeY,n=e.keepWithinBounds,a=e.eventSource,s=e.alignSide,l=void 0===s?"left":s,c=e.position,u=void 0===c?"over":c,d=e.column,h=e.rowNode,p=e.type,f=a.getBoundingClientRect(),g=this.getParentRect(),v=this.getPopupIndex(r);if(-1!==v){var m=this.popupList[v];m.alignedToElement=a}var b=function(){var o,n=f.left-g.left;if("right"===l&&(n-=r.offsetWidth-f.width),"over"===u)o=f.top-g.top,t.setAlignedStyles(r,"over");else{t.setAlignedStyles(r,"under");var a=t.shouldRenderUnderOrAbove(r,f,g,e.nudgeY||0);o="under"===a?f.top-g.top+f.height:f.top-r.offsetHeight-2*(i||0)-g.top}return{x:n,y:o}};this.positionPopup({ePopup:r,nudgeX:o,nudgeY:i,keepWithinBounds:n,updatePosition:b,postProcessCallback:function(){return t.callPostProcessPopup(p,r,a,null,d,h)}})},t.prototype.shouldRenderUnderOrAbove=function(e,t,r,o){var i=r.bottom-t.bottom,n=t.top-r.top,a=e.offsetHeight+o;return i>a?"under":n>a||n>i?"above":"under"},t.prototype.setAlignedStyles=function(e,t){var r=this.getPopupIndex(e);if(-1!==r){var o=this.popupList[r],i=o.alignedToElement;if(i){var n=["right","left","over","above","under"];n.forEach((function(t){i.classList.remove("ag-has-popup-positioned-"+t),e.classList.remove("ag-popup-positioned-"+t)})),t&&(i.classList.add("ag-has-popup-positioned-"+t),e.classList.add("ag-popup-positioned-"+t))}}},t.prototype.callPostProcessPopup=function(e,t,r,o,i,n){var a=this.gridOptionsService.getCallback("postProcessPopup");if(a){var s={column:i,rowNode:n,ePopup:t,type:e,eventSource:r,mouseEvent:o};a(s)}},t.prototype.positionPopup=function(e){var t=this,o=e.ePopup,i=e.keepWithinBounds,n=e.nudgeX,a=e.nudgeY,s=e.skipObserver,l=e.updatePosition,c={width:0,height:0},u=function(r){void 0===r&&(r=!1);var s=l(),u=s.x,d=s.y;r&&o.clientWidth===c.width&&o.clientHeight===c.height||(c.width=o.clientWidth,c.height=o.clientHeight,n&&(u+=n),a&&(d+=a),i&&(u=t.keepXYWithinBounds(o,u,Qp.horizontal),d=t.keepXYWithinBounds(o,d,Qp.vertical)),o.style.left=u+"px",o.style.top=d+"px",e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){var d=this.resizeObserverService.observeResize(o,(function(){return u(!0)}));setTimeout((function(){return d()}),r.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map((function(e){return e.element}))},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var e=this.gridOptionsService.getDocument(),t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),Qo(t)},t.prototype.keepXYWithinBounds=function(e,t,r){var o=r===Qp.vertical,i=o?"clientHeight":"clientWidth",n=o?"top":"left",a=o?"offsetHeight":"offsetWidth",s=o?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),c=l.documentElement,u=this.getPopupParent(),d=u.getBoundingClientRect(),h=l.documentElement.getBoundingClientRect(),p=u===l.body,f=e[a],g=o?Xo:Jo,v=p?g(c)+c[s]:u[i];p&&(v-=Math.abs(h[n]-d[n]));var m=v-f;return Math.min(Math.max(t,0),Math.abs(m))},t.prototype.addPopup=function(e){var t=this.gridOptionsService.getDocument(),r=e.eChild,o=e.ariaLabel,i=e.alwaysOnTop,n=e.positionCallback,a=e.anchorToElement;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var s=this.getPopupIndex(r);if(-1!==s){var l=this.popupList[s];return{hideFunc:l.hideFunc}}this.initialisePopupPosition(r);var c=this.createPopupWrapper(r,o,!!i),u=this.addEventListenersToPopup(ng(ng({},e),{wrapperEl:c}));return n&&n(),this.addPopupToPopupList(r,c,u,a),{hideFunc:u}},t.prototype.initialisePopupPosition=function(e){var t=this.getPopupParent(),r=t.getBoundingClientRect();a(e.style.top)||(e.style.top=-1*r.top+"px"),a(e.style.left)||(e.style.left=-1*r.left+"px")},t.prototype.createPopupWrapper=function(e,t,r){var o,i=this.getPopupParent(),n=document.createElement("div"),a=this.environment.getTheme().allThemes;return a.length&&(o=n.classList).add.apply(o,lg([],sg(a))),n.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||wr(e,"dialog"),Tr(e,t),this.focusService.isKeyboardMode()&&e.classList.add(Mh.AG_KEYBOARD_FOCUS),n.appendChild(e),i.appendChild(n),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),n},t.prototype.addEventListenersToPopup=function(e){var t=this,r=this.gridOptionsService.getDocument(),o=this.getPopupParent(),i=e.wrapperEl,n=e.eChild,a=e.click,s=e.closedCallback,l=e.afterGuiAttached,c=e.closeOnEsc,u=e.modal,d=!1,h=function(e){if(i.contains(r.activeElement)){var t=e.key;t===Li.ESCAPE&&g({keyboardEvent:e})}},p=function(e){return g({mouseEvent:e})},f=function(e){return g({touchEvent:e})},g=function(e){void 0===e&&(e={});var l=e.mouseEvent,c=e.touchEvent,u=e.keyboardEvent;t.isEventFromCurrentPopup({mouseEvent:l,touchEvent:c},n)||t.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:l,touchEvent:c})||d||(d=!0,o.removeChild(i),r.removeEventListener("keydown",h),r.removeEventListener("mousedown",p),r.removeEventListener("touchstart",f),r.removeEventListener("contextmenu",p),t.eventService.removeEventListener(gt.EVENT_DRAG_STARTED,p),s&&s(l||c||u),t.removePopupFromPopupList(n))};return l&&l({hidePopup:g}),window.setTimeout((function(){c&&r.addEventListener("keydown",h),u&&(r.addEventListener("mousedown",p),t.eventService.addEventListener(gt.EVENT_DRAG_STARTED,p),r.addEventListener("touchstart",f),r.addEventListener("contextmenu",p))}),0),g},t.prototype.addPopupToPopupList=function(e,t,r,o){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:ug++,isAnchored:!!o}),o&&this.setPopupPositionRelatedToElement(e,o)},t.prototype.getPopupIndex=function(e){return this.popupList.findIndex((function(t){return t.element===e}))},t.prototype.setPopupPositionRelatedToElement=function(e,t){var r=this.getPopupIndex(e);if(-1!==r){var o=this.popupList[r];if(o.stopAnchoringPromise&&o.stopAnchoringPromise.then((function(e){return e&&e()})),o.stopAnchoringPromise=void 0,o.isAnchored=!1,t){var i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:o.hideFunc});return o.stopAnchoringPromise=i,o.isAnchored=!0,i}}},t.prototype.removePopupFromPopupList=function(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter((function(t){return t.element!==e}))},t.prototype.keepPopupPositionedRelativeTo=function(e){var t=this,r=this.getPopupParent(),o=r.getBoundingClientRect(),i=e.element,n=e.ePopup,a=i.getBoundingClientRect(),s=o.top-a.top,l=o.left-a.left,c=s,u=l,d=n.style.top,h=parseInt(d.substring(0,d.length-1),10),p=n.style.left,f=parseInt(p.substring(0,p.length-1),10);return new ln((function(o){t.getFrameworkOverrides().setInterval((function(){var o=r.getBoundingClientRect(),a=i.getBoundingClientRect(),d=0==a.top&&0==a.left&&0==a.height&&0==a.width;if(d)e.hidePopup();else{var p=o.top-a.top;if(p!=c){var g=t.keepXYWithinBounds(n,h+s-p,Qp.vertical);n.style.top=g+"px"}c=p;var v=o.left-a.left;if(v!=u){var m=t.keepXYWithinBounds(n,f+l-v,Qp.horizontal);n.style.left=m+"px"}u=v}}),200).then((function(e){var t=function(){null!=e&&window.clearInterval(e)};o(t)}))}))},t.prototype.hasAnchoredPopup=function(){return this.popupList.some((function(e){return e.isAnchored}))},t.prototype.isEventFromCurrentPopup=function(e,t){var r=e.mouseEvent,o=e.touchEvent,i=r||o;if(!i)return!1;var n=this.getPopupIndex(t);if(-1===n)return!1;for(var a=n;a<this.popupList.length;a++){var s=this.popupList[a];if(rt(s.element,i))return!0}return this.isElementWithinCustomPopup(i.target)},t.prototype.isElementWithinCustomPopup=function(e){var t=this.gridOptionsService.getDocument();while(e&&e!==t.body){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,r=e.mouseEvent,o=e.touchEvent,i=null;if(r?i=r:o&&(i=o.touches[0]),i&&t){var n=r?r.screenX:0,a=r?r.screenY:0,s=Math.abs(t.screenX-n)<5,l=Math.abs(t.screenY-a)<5;if(s&&l)return!0}return!1},t.prototype.getWrapper=function(e){while(!e.classList.contains("ag-popup")&&e.parentElement)e=e.parentElement;return e.classList.contains("ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),o=r.length,i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),n=i.length,a=this.getWrapper(e);if(a&&!(o<=1)&&t.contains(e)){var s=r.indexOf(a),l=a.querySelectorAll("div"),c=[];if(l.forEach((function(e){0!==e.scrollTop&&c.push([e,e.scrollTop])})),n){var u=a.classList.contains("ag-always-on-top");u?s!==o-1&&Ae(i).insertAdjacentElement("afterend",a):s!==o-n-1&&i[0].insertAdjacentElement("beforebegin",a)}else s!==o-1&&Ae(r).insertAdjacentElement("afterend",a);while(c.length){var d=c.pop();d[0].scrollTop=d[1]}var h={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:a};this.eventService.dispatchEvent(h)}},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,ag([he("focusService")],t.prototype,"focusService",void 0),ag([he("ctrlsService")],t.prototype,"ctrlsService",void 0),ag([he("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ag([ce],t.prototype,"postConstruct",null),t=r=ag([de("popupService")],t),t}(lt),hg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pg=function(e){function t(){var t=e.call(this,'\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>')||this;return t.hasHighlighting=!1,t}return hg(t,e),t.prototype.setState=function(e,t){this.value=e,this.render(),this.updateSelected(t)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var t,r=!1;if(a(e)){var o=null===(t=this.value)||void 0===t?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){r=!0,this.hasHighlighting=!0;var i=o+e.length,n=Tt(this.value.slice(0,o)),s=Tt(this.value.slice(o,i)),l=Tt(this.value.slice(i));this.getGui().lastElementChild.innerHTML=n+"<b>"+s+"</b>"+l}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=null!==(e=Tt(this.value))&&void 0!==e?e:"&nbsp;"},t}(mn),fg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},vg=function(e){function t(r){var o=e.call(this,t.TEMPLATE)||this;return o.params=r,o.searchString="",o}return fg(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Df({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(t){return e.autocompleteEntries[t]}});var t=this.virtualList.getGui();this.addManagedListener(t,"click",(function(){return e.params.onConfirmed()})),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",(function(e){return e.preventDefault()})),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,t){e.preventDefault();var r=this.autocompleteEntries.indexOf(this.selectedValue),o=t===Li.UP?r-1:r+1;this.checkSetSelectedValue(o)},t.prototype.setSearch=function(e){this.searchString=e,a(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,t){var r,o=!1,i=e.toLocaleLowerCase(),n=t.filter((function(e){var t=e.toLocaleLowerCase(),n=t.indexOf(i),a=0===n,s=n>=0;return s&&(!r||!o&&a||o===a&&e.length<r.length)&&(r=e,o=a),s}));return!r&&n.length&&(r=n[0]),{topMatch:r,allMatches:n}},t.prototype.runSearch=function(){var e,t,r,o,i=this.params.autocompleteEntries,n=i.map((function(e){var t;return null!==(t=e.displayValue)&&void 0!==t?t:e.key}));if(this.params.useFuzzySearch)r=Bt(this.searchString,n,!0),o=r.length?r[0]:void 0;else{var a=this.runContainsSearch(this.searchString,n);r=a.allMatches,o=a.topMatch}var s=i.filter((function(e){var t=e.key,o=e.displayValue;return r.includes(null!==o&&void 0!==o?o:t)}));if(!s.length&&this.selectedValue&&(null===(t=null===(e=this.params)||void 0===e?void 0:e.forceLastSelection)||void 0===t?void 0:t.call(e,this.selectedValue,this.searchString))&&(s=[this.selectedValue]),this.autocompleteEntries=s,this.virtualList.refresh(),o){var l=r.indexOf(o);this.checkSetSelectedValue(l)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow((function(t){return t.setSearchString(e.searchString)}))},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var t=this.autocompleteEntries[e];this.selectedValue!==t&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((function(t,r){t.updateSelected(e===r)})))},t.prototype.createRowComponent=function(e){var t,r=new pg;return this.getContext().createBean(r),r.setState(null!==(t=e.displayValue)&&void 0!==t?t:e.key,e===this.selectedValue),r},t.prototype.onMouseMove=function(e){var t=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),o=e.clientY-t.top+r,i=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(i)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&null!==(e=this.selectedValue)&&void 0!==e?e:null},t.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',gg([bn("eList")],t.prototype,"eList",void 0),gg([ce],t.prototype,"init",null),t}(us),mg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},yg=function(e){function t(){var t=e.call(this,'\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>')||this;return t.isListOpen=!1,t.lastPosition=0,t.valid=!0,t}return mg(t,e),t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange((function(t){return e.onValueChanged(t)})),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc((function(){e.destroyBean(e.autocompleteList)})),this.addGuiEventListener("focusout",(function(){return e.onFocusOut()}))},t.prototype.onValueChanged=function(e){var t=n(e);this.updateValue(t),this.updateAutocompleteList(t)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var t,r,o,i,n=null!==(r=null===(t=this.listGenerator)||void 0===t?void 0:t.call(this,e,this.lastPosition))&&void 0!==r?r:{enabled:!1};if(n.type&&n.type===(null===(o=this.autocompleteListParams)||void 0===o?void 0:o.type)||this.isListOpen&&this.closeList(),this.autocompleteListParams=n,null===(i=this.autocompleteListParams)||void 0===i?void 0:i.enabled){this.isListOpen||this.openList();var a=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(null!==a&&void 0!==a?a:"")}else this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var t=this,r=e.key;switch(this.updateLastPosition(),r){case Li.ENTER:this.onEnterKeyDown(e);break;case Li.TAB:this.onTabKeyDown(e);break;case Li.DOWN:case Li.UP:this.onUpDownKeyDown(e,r);break;case Li.LEFT:case Li.RIGHT:case Li.PAGE_HOME:case Li.PAGE_END:setTimeout((function(){t.updatePositionAndList()}));break;case Li.ESCAPE:this.onEscapeKeyDown(e);break;case Li.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}},t.prototype.confirmSelection=function(){var e,r=null===(e=this.autocompleteList)||void 0===e?void 0:e.getSelectedValue();r&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:r,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,t){var r;e.preventDefault(),this.isListOpen?null===(r=this.autocompleteList)||void 0===r||r.onNavigationKeyDown(e,t):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!==(e=this.eAutocompleteInput.getValue())&&void 0!==e?e:null)},t.prototype.setCaret=function(e,t){var r=this.gridOptionsService.getDocument();t&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(e,e)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=null!==(e=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==e?e:0},t.prototype.validate=function(e){var r;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity(null!==(r=this.validationMessage)&&void 0!==r?r:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new vg({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var t=this.autocompleteList.getGui(),r={ePopup:t,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:t,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(r)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return n(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var t=e.value,r=e.position,o=e.silent,i=e.updateListOnlyIfOpen,n=e.restoreFocus;this.eAutocompleteInput.setValue(t,!0),this.setCaret(null!==r&&void 0!==r?r:this.lastPosition,n),o||this.updateValue(t),i&&!this.isListOpen||this.updateAutocompleteList(t)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",bg([he("popupService")],t.prototype,"popupService",void 0),bg([bn("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),bg([ce],t.prototype,"postConstruct",null),t}(mn),wg=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],Cg=["touchstart","touchend","touchmove","touchcancel"],Eg=function(){function e(){this.renderingEngine="vanilla",this.isOutsideAngular=function(e){return je(wg,e)}}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.setInterval=function(e,t){return new ln((function(r){r(window.setInterval(e,t))}))},e.prototype.addEventListener=function(e,t,r,o){var i=je(Cg,t);e.addEventListener(t,r,{capture:!!o,passive:i})},e.prototype.dispatchEvent=function(e,t,r){t()},e.prototype.frameworkComponent=function(e){return null},e.prototype.isFrameworkComponent=function(e){return!1},e}(),Sg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Tg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},kg=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},_g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sg(t,e),t.prototype.getNextCellToFocus=function(e,t,r){return void 0===r&&(r=!1),r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,t){var r,o,i=e===Li.UP,n=e===Li.DOWN,a=e===Li.LEFT;if(i||n)o=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),r=t.column;else{var s=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.is("enableRtl");o=t.rowIndex,r=a!==l?s[0]:Ae(s)}return{rowIndex:o,rowPinned:null,column:r}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,t){var r=t,o=!1;while(!o){switch(e){case Li.UP:r=this.getCellAbove(r);break;case Li.DOWN:r=this.getCellBelow(r);break;case Li.RIGHT:r=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(r):this.getCellToRight(r);break;case Li.LEFT:r=this.gridOptionsService.is("enableRtl")?this.getCellToRight(r):this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+e);break}o=!r||this.isCellGoodToFocusOn(r)}return r},t.prototype.isCellGoodToFocusOn=function(e){var t,r=e.column;switch(e.rowPinned){case"top":t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex);break}if(!t)return!1;var o=r.isSuppressNavigable(t);return!o},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,r=e.rowPinned;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex),i=this.getNextStickyPosition(o);return i||{rowIndex:t+1,rowPinned:r}},t.prototype.getNextStickyPosition=function(e,t){if(this.gridOptionsService.isGroupRowsSticky()&&e&&e.sticky){var r=kg([],Tg(this.rowRenderer.getStickyTopRowCtrls())).sort((function(e,t){return e.getRowNode().rowIndex-t.getRowNode().rowIndex})),o=t?-1:1,i=r.findIndex((function(t){return t.getRowNode().rowIndex===e.rowIndex})),n=r[i+o];return n?{rowIndex:n.getRowNode().rowIndex,rowPinned:null}:void 0}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,r=e.rowIndex;if("top"===t){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=r}if("bottom"===t){var i=this.pinnedRowModel.getPinnedBottomRowData().length-1;return i<=r}var n=this.paginationProxy.getPageLastRow();return n<=r},t.prototype.getRowAbove=function(e){var t=e.rowIndex,r=e.rowPinned,o=r?0===t:t===this.paginationProxy.getPageFirstRow();if(o)return"top"===r?null:r&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var i=this.rowModel.getRow(e.rowIndex),n=this.getNextStickyPosition(i,!0);return n||{rowIndex:t-1,rowPinned:r}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,o=e.rowPinned,i=this.columnModel.getDisplayedColAfter(e.column);if(!i){i=t[0];var n=this.getRowBelow(e);if(s(n))return null;if(!n.rowPinned&&!this.paginationProxy.isRowInPage(n))return null;r=n?n.rowIndex:null,o=n?n.rowPinned:null}return{rowIndex:r,column:i,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,o=e.rowPinned,i=this.columnModel.getDisplayedColBefore(e.column);if(!i){i=Ae(t);var n=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(s(n))return null;if(!n.rowPinned&&!this.paginationProxy.isRowInPage(n))return null;r=n?n.rowIndex:null,o=n?n.rowPinned:null}return{rowIndex:r,column:i,rowPinned:o}},xg([he("columnModel")],t.prototype,"columnModel",void 0),xg([he("rowModel")],t.prototype,"rowModel",void 0),xg([he("rowRenderer")],t.prototype,"rowRenderer",void 0),xg([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),xg([he("paginationProxy")],t.prototype,"paginationProxy",void 0),t=xg([de("cellNavigationService")],t),t}(lt),Rg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Og=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Dg=function(e,t){return function(r,o){t(r,o,e)}},Ag=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return Rg(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,gt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsService.get("alignedGrids");t&&t.forEach((function(t){if(t.api){var r=t.api.__getAlignedGridService();e(r)}}))}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent((function(t){t.onColumnEvent(e)}))},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent((function(t){t.onScrollEvent(e)}))},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent((function(){var r=t.ctrlsService.getGridBodyCtrl();r.getScrollFeature().setHorizontalScrollPosition(e.left,!0)}))},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e)})):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent((function(){switch(e.type){case gt.EVENT_COLUMN_MOVED:case gt.EVENT_COLUMN_VISIBLE:case gt.EVENT_COLUMN_PINNED:case gt.EVENT_COLUMN_RESIZED:var r=e;t.processColumnEvent(r);break;case gt.EVENT_COLUMN_GROUP_OPENED:var o=e;t.processGroupOpenedEvent(o);break;case gt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}}))},t.prototype.processGroupOpenedEvent=function(e){var t=e.columnGroup,r=null;if(t){var o=t.getGroupId();r=this.columnModel.getProvidedColumnGroup(o)}t&&!r||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(r,t.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t,r=this,o=e.column,i=null;if(o&&(i=this.columnModel.getPrimaryColumn(o.getColId())),!o||i){var n=this.getMasterColumns(e);switch(e.type){case gt.EVENT_COLUMN_MOVED:var a=e,s=e.columnApi.getColumnState(),l=s.map((function(e){return{colId:e.colId}}));this.columnModel.applyColumnState({state:l,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+a.toIndex);break;case gt.EVENT_COLUMN_VISIBLE:var c=e;s=e.columnApi.getColumnState(),l=s.map((function(e){return{colId:e.colId,hide:e.hide}}));this.columnModel.applyColumnState({state:l},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+c.visible);break;case gt.EVENT_COLUMN_PINNED:var u=e;s=e.columnApi.getColumnState(),l=s.map((function(e){return{colId:e.colId,pinned:e.pinned}}));this.columnModel.applyColumnState({state:l},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+u.pinned);break;case gt.EVENT_COLUMN_RESIZED:var d=e,h={};n.forEach((function(t){r.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+t.getActualWidth()),h[t.getId()]={key:t.getColId(),newWidth:t.getActualWidth()}})),null===(t=d.flexColumns)||void 0===t||t.forEach((function(e){h[e.getId()]&&delete h[e.getId()]})),this.columnModel.setColumnWidths(Object.values(h),!1,d.finished,"alignedGridChanged");break}var p=this.ctrlsService.getGridBodyCtrl(),f=p.isVerticalScrollShowing(),g=this.gridOptionsService.get("alignedGrids");g&&g.forEach((function(e){e.api&&e.api.setAlwaysShowVerticalScroll(f)}))}},Og([he("columnModel")],t.prototype,"columnModel",void 0),Og([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Og([Dg(0,ge("loggerFactory"))],t.prototype,"setBeans",null),Og([ce],t.prototype,"init",null),t=Og([de("alignedGridsService")],t),t}(lt),Pg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Lg=function(e,t){return function(r,o){t(r,o,e)}},Fg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Ig=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pg(t,e),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){var e=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",(function(t){return e.groupSelectsChildren=t.currentValue})),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",(function(t){return e.rowSelection=t.currentValue})),this.addManagedListener(this.eventService,gt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},t.prototype.setNodesSelected=function(e){var t;if(0===e.nodes.length)return 0;var r=e.newValue,o=e.clearSelection,i=e.suppressFinishActions,n=e.rangeSelect;e.event;var a=e.source,s=void 0===a?"api":a;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,c=e.nodes.map((function(e){return e.footer?e.sibling:e}));if(n){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var u=this.getLastSelectedNode();if(u){var d=c[0],h=u!==d;if(h&&this.isMultiselect()){var p=this.selectRange(d,u,e.newValue,s);return this.setLastSelectedNode(d),p}}}for(var f=0,g=0;g<c.length;g++){d=c[g];var v=l&&d.group;if(!v){var m=d.selectThisNode(r,e.event,s);m&&f++}this.groupSelectsChildren&&(null===(t=d.childrenAfterGroup)||void 0===t?void 0:t.length)&&(f+=this.selectChildren(d,r,l,s))}if(!i){var b=r&&(o||!this.isMultiselect());if(b&&(f+=this.clearOtherNodes(c[0],s)),f>0){this.updateGroupsFromChildrenSelections(s);var y={type:gt.EVENT_SELECTION_CHANGED,source:s};this.eventService.dispatchEvent(y)}r&&this.setLastSelectedNode(c[c.length-1])}return f},t.prototype.selectRange=function(e,t,r,o){var i=this;void 0===r&&(r=!0);var n=this.rowModel.getNodesInRangeForSelection(e,t),a=0;n.forEach((function(t){if(!(t.group&&i.groupSelectsChildren||!1===r&&e===t)){var n=t.selectThisNode(r,void 0,o);n&&a++}})),this.updateGroupsFromChildrenSelections(o);var s={type:gt.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(s),a},t.prototype.selectChildren=function(e,t,r,o){var i=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return on.missing(i)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:o,nodes:i})},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return C(this.selectedNodes,(function(t,r){r&&e.push(r)})),e},t.prototype.getSelectedRows=function(){var e=[];return C(this.selectedNodes,(function(t,r){r&&r.data&&e.push(r.data)})),e},t.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},t.prototype.filterFromSelection=function(e){var t={};Object.entries(this.selectedNodes).forEach((function(r){var o=Fg(r,2),i=o[0],n=o[1],a=n&&e(n);a&&(t[i]=n)})),this.selectedNodes=t},t.prototype.updateGroupsFromChildrenSelections=function(e,t){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;var r=this.rowModel,o=r.getRootNode();t||(t=new Zp(!0,o),t.setInactive());var i=!1;return t.forEachChangedNodeDepthFirst((function(t){if(t!==o){var r=t.calculateSelectedFromChildren();i=t.selectThisNode(null!==r&&r,void 0,e)||i}})),i},t.prototype.clearOtherNodes=function(e,t){var r=this,o={},i=0;return C(this.selectedNodes,(function(n,a){if(a&&a.id!==e.id){var s=r.selectedNodes[a.id];i+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),r.groupSelectsChildren&&a.parent&&(o[a.parent.id]=a.parent)}})),C(o,(function(e,r){var o=r.calculateSelectedFromChildren();r.selectThisNode(null!==o&&o,void 0,t)})),i},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:delete this.selectedNodes[t.id])},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){var r=a(t)&&e.id!==t.id;if(r&&t){var o=t.id,i=this.selectedNodes[o]==e;i&&(this.selectedNodes[t.id]=t)}},t.prototype.syncInNewRowNode=function(e){a(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var e=this.rowModel,t=e.getTopLevelNodes();if(null!==t){var r=[];return o(t),r}}function o(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n.isSelected())r.push(n);else{var a=n;a.group&&a.children&&o(a.children)}}}},t.prototype.isEmpty=function(){var e=0;return C(this.selectedNodes,(function(t,r){r&&e++})),0===e},t.prototype.deselectAllRowNodes=function(e){var t=function(e){return e.selectThisNode(!1,void 0,o)},r="clientSide"===this.rowModel.getType(),o=e.source,i=e.justFiltered,n=e.justCurrentPage;if(n||i){if(!r)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(i,n).forEach(t)}else C(this.selectedNodes,(function(e,r){r&&t(r)})),this.reset();r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var a={type:gt.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(a)},t.prototype.getSelectAllState=function(e,t){var r=this,o=0,i=0,n=function(e){r.groupSelectsChildren&&e.group||(e.isSelected()?o++:e.selectable&&i++)};return this.getNodesToSelect(e,t).forEach(n),(0!==o||0!==i)&&(o>0&&i>0?null:o>0)},t.prototype.getNodesToSelect=function(e,t){var r=this;if(void 0===e&&(e=!1),void 0===t&&(t=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var o=[];if(t)return this.paginationProxy.forEachNodeOnPage((function(e){if(e.group)if(e.expanded)r.groupSelectsChildren||o.push(e);else{var t=function(e){var r;o.push(e),(null===(r=e.childrenAfterFilter)||void 0===r?void 0:r.length)&&e.childrenAfterFilter.forEach(t)};t(e)}else o.push(e)})),o;var i=this.rowModel;return e?(i.forEachNodeAfterFilter((function(e){o.push(e)})),o):(i.forEachNode((function(e){o.push(e)})),o)},t.prototype.selectAllRowNodes=function(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var t=e.source,r=e.justFiltered,o=e.justCurrentPage,i=function(e){return e.selectThisNode(!0,void 0,t)};this.getNodesToSelect(r,o).forEach(i),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);var n={type:gt.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(n)},t.prototype.getServerSideSelectionState=function(){return null},t.prototype.setServerSideSelectionState=function(e){},Mg([he("rowModel")],t.prototype,"rowModel",void 0),Mg([he("paginationProxy")],t.prototype,"paginationProxy",void 0),Mg([Lg(0,ge("loggerFactory"))],t.prototype,"setBeans",null),Mg([ce],t.prototype,"init",null),t=Mg([de("selectionService")],t),t}(lt),Ng=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Hg=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){"undefined"===typeof e&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},e.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},e.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},e.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},e.prototype.getColumnState=function(){return this.columnModel.getColumnState()},e.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},e.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},e.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},e.prototype.moveColumn=function(e,t){this.columnModel.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,r,o){void 0===r&&(r=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,r,o)},e.prototype.setColumnWidths=function(e,t,r){void 0===t&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,r)},e.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},e.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},e.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},e.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},e.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},e.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(on.removeAllReferences.bind(window,this,"Column API"),100)},e.prototype.getAllColumns=function(){return Yt("28.0","getAllColumns","getColumns"),this.getColumns()},e.prototype.getPrimaryColumns=function(){return Yt("28.0","getPrimaryColumns","getColumns"),this.getColumns()},e.prototype.getSecondaryColumns=function(){return Yt("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},e.prototype.setSecondaryColumns=function(e){Yt("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)},e.prototype.getSecondaryPivotColumn=function(e,t){return Yt("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)},Ng([he("columnModel")],e.prototype,"columnModel",void 0),Ng([ue],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),e=Ng([de("columnApi")],e),e}(),Gg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Vg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},zg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t.isSsrm=!1,t}return Gg(t,e),t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(gt.EVENT_CELL_VALUE_CHANGED,(function(t){return e.callColumnCellValueChangedHandler(t)}),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",(function(t){return e.isTreeData=t.currentValue}))},t.prototype.getValue=function(e,t,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!1),this.initialised||this.init(),t){var i,n=e.getColDef(),a=n.field,s=e.getColId(),l=t.data,c=t.groupData&&void 0!==t.groupData[s],u=!o&&t.aggData&&void 0!==t.aggData[s],d=this.isSsrm&&o&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(r&&n.filterValueGetter?i=this.executeFilterValueGetter(n.filterValueGetter,l,e,t):this.isTreeData&&u?i=t.aggData[s]:this.isTreeData&&n.valueGetter?i=this.executeValueGetter(n.valueGetter,l,e,t):this.isTreeData&&a&&l?i=F(l,a,e.isFieldContainsDots()):c?i=t.groupData[s]:u?i=t.aggData[s]:n.valueGetter?i=this.executeValueGetter(n.valueGetter,l,e,t):h?i=F(l,t.field,e.isFieldContainsDots()):a&&l&&!d&&(i=F(l,a,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof i&&0===i.indexOf("=")){var p=i.substring(1);i=this.executeValueGetter(p,l,e,t)}if(null==i){var f=this.getOpenedGroup(t,e);if(null!=f)return f}return i}},t.prototype.getOpenedGroup=function(e,t){if(this.gridOptionsService.is("showOpenedGroup")){var r=t.getColDef();if(r.showRowGroup){var o=t.getColDef().showRowGroup,i=e.parent;while(null!=i){if(i.rowGroupColumn&&(!0===o||o===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}}},t.prototype.setValue=function(e,t,r,o){var i=this.columnModel.getPrimaryColumn(t);if(!e||!i)return!1;s(e.data)&&(e.data={});var n=i.getColDef(),l=n.field,c=n.valueSetter;if(s(l)&&s(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(i,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var u,d={node:e,data:e.data,oldValue:this.getValue(i,e),newValue:r,colDef:i.getColDef(),column:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};if(d.newValue=r,u=a(c)?"function"===typeof c?c(d):this.expressionService.evaluate(c,d):this.setValueUsingField(e.data,l,r,i.isFieldContainsDots()),void 0===u&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(i,e);var h={type:gt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:d.column,api:d.api,columnApi:d.columnApi,colDef:d.colDef,context:d.context,data:e.data,node:e,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:o};return this.eventService.dispatchEvent(h),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var t=e.colDef.onCellValueChanged;"function"===typeof t&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,t,r,o){if(!t)return!1;var i=!1;if(o){var n=t.split("."),a=e;while(n.length>0&&a){var s=n.shift();0===n.length?(i=a[s]==r,i||(a[s]=r)):a=a[s]}}else i=e[t]==r,i||(e[t]=r);return!i},t.prototype.executeFilterValueGetter=function(e,t,r,o){var i={data:t,node:o,column:r,colDef:r.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return"function"===typeof e?e(i):this.expressionService.evaluate(e,i)},t.prototype.executeValueGetter=function(e,t,r,o){var i=r.getColId(),n=this.valueCache.getValue(o,i);if(void 0!==n)return n;var a,s={data:t,node:o,column:r,colDef:r.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return a="function"===typeof e?e(s):this.expressionService.evaluate(e,s),this.valueCache.setValue(o,i,a),a},t.prototype.getValueCallback=function(e,t){var r=this.columnModel.getPrimaryColumn(t);return r?this.getValue(r,e):null},t.prototype.getKeyForNode=function(e,t){var r=this.getValue(e,t),o=e.getColDef().keyCreator,i=r;if(o){var n={value:r,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};i=o(n)}return"string"===typeof i||null==i||(i=String(i),"[object Object]"===i&&V((function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]")),i},Vg([he("expressionService")],t.prototype,"expressionService",void 0),Vg([he("columnModel")],t.prototype,"columnModel",void 0),Vg([he("valueCache")],t.prototype,"valueCache",void 0),Vg([he("dataTypeService")],t.prototype,"dataTypeService",void 0),Vg([ce],t.prototype,"init",null),t=Vg([de("valueService")],t),t}(lt),Bg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),jg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Wg=function(e,t){return function(r,o){t(r,o,e)}},Ug=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return Bg(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{var r=this.createExpressionFunction(e),o=r(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup);return o}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+i),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=r,r},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},jg([Wg(0,ge("loggerFactory"))],t.prototype,"setBeans",null),t=jg([de("expressionService")],t),t}(lt),$g=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Yg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return $g(t,e),t.prototype.getTemplate=function(e,t){var r=this.templateCache[e];if(r)return r;var o=this.waitingCallbacks[e],i=this;if(!o){o=[],this.waitingCallbacks[e]=o;var n=new XMLHttpRequest;n.onload=function(){i.handleHttpResult(this,e)},n.open("GET",e),n.send()}return t&&o.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var r=this.waitingCallbacks[t],o=0;o<r.length;o++){var i=r[o];i()}}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+t)},t=Kg([de("templateService")],t),t}(lt),qg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xg=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Jg=function(e,t){return function(r,o){t(r,o,e)}},Qg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qg(t,e),t.prototype.setBeans=function(e){this.logging=e.is("debug")},t.prototype.create=function(e){return new Zg(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},Xg([Jg(0,ge("gridOptionsService"))],t.prototype,"setBeans",null),t=Xg([de("loggerFactory")],t),t}(lt),Zg=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},e}(),ev=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},rv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ev(t,e),t.prototype.setComp=function(e,t,r){var o=this;this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(e){return e===Ia.HeaderCell||e===Ia.ToolPanel},getIconName:function(){return zs.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new wc(this.view)),this.addRtlSupport(),this.addManagedListener(this,gt.EVENT_KEYBOARD_FOCUS,(function(){o.view.addOrRemoveKeyboardFocusClass(!0)})),this.addManagedListener(this,gt.EVENT_MOUSE_FOCUS,(function(){o.view.addOrRemoveKeyboardFocusClass(!1)}));var i=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return i()})),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,t=this.focusService.findTabbableParent(this.getGui());return(null===(e=null===t||void 0===t?void 0:t.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return ie.__isRegistered(Z.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return ie.__isRegistered(Z.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return ie.__isRegistered(Z.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return ie.__isRegistered(Z.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){var e={type:gt.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var t=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),o=r.findIndex((function(e){return e.contains(t.activeElement)})),i=o+(e?-1:1);return!(i<=0||i>=r.length)&&this.focusService.focusInto(r[i])},t.prototype.focusInnerElement=function(e){var t=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(Ae(t),!0);var o=Ae(r);if(this.focusService.focusGridView(o,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(r[0]):this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},tv([he("focusService")],t.prototype,"focusService",void 0),tv([he("resizeObserverService")],t.prototype,"resizeObserverService",void 0),tv([he("columnModel")],t.prototype,"columnModel",void 0),tv([he("ctrlsService")],t.prototype,"ctrlsService",void 0),tv([he("mouseEventService")],t.prototype,"mouseEventService",void 0),tv([he("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(lt),ov=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),iv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},nv=function(e){function t(t){var r=e.call(this)||this;return r.eGridDiv=t,r}return ov(t,e),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var t={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(t){return e.addCssClass(t)},addOrRemoveKeyboardFocusClass:function(t){return e.addOrRemoveCssClass(Mh.AG_KEYBOARD_FOCUS,t)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(t){e.getGui().style.userSelect=null!=t?t:"",e.getGui().style.webkitUserSelect=null!=t?t:""},setCursor:function(t){e.getGui().style.cursor=null!=t?t:""}};this.ctrl=this.createManagedBean(new rv);var r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(t){return e.ctrl.focusInnerElement(t)}})},t.prototype.insertGridIntoDom=function(){var e=this,t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc((function(){e.eGridDiv.removeChild(t),e.logger.log("Grid removed from DOM")}))},t.prototype.updateLayoutClasses=function(e,t){var r=this.eRootWrapperBody.classList;r.toggle(nc.AUTO_HEIGHT,t.autoHeight),r.toggle(nc.NORMAL,t.normal),r.toggle(nc.PRINT,t.print),this.addOrRemoveCssClass(nc.AUTO_HEIGHT,t.autoHeight),this.addOrRemoveCssClass(nc.NORMAL,t.normal),this.addOrRemoveCssClass(nc.PRINT,t.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",i='<div class="ag-root-wrapper" role="presentation">\n                '+e+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+t+"\n                </div>\n                "+r+"\n                <ag-pagination></ag-pagination>\n                "+o+"\n            </div>";return i},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter((function(e){return ni(e)}))},iv([he("loggerFactory")],t.prototype,"loggerFactory",void 0),iv([bn("gridBody")],t.prototype,"gridBodyComp",void 0),iv([bn("sideBar")],t.prototype,"sideBarComp",void 0),iv([bn("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),iv([ce],t.prototype,"postConstruct",null),t}(_f),av=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},lv=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},cv=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},uv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return av(t,e),r=t,t.prototype.progressSort=function(e,t,r){var o=this.getNextSortDirection(e);this.setSortForColumn(e,o,t,r)},t.prototype.setSortForColumn=function(e,t,r,o){"asc"!==t&&"desc"!==t&&(t=null);var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=[e];if(i&&e.getColDef().showRowGroup){var a=this.columnModel.getSourceColumnsForGroupColumn(e),s=null===a||void 0===a?void 0:a.filter((function(e){return e.getColDef().sortable}));s&&(n=cv([e],lv(s)))}n.forEach((function(e){return e.setSort(t,o)}));var l=(r||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort");l||this.clearSortBarTheseColumns(n,o),this.updateSortIndex(e),this.dispatchSortChangedEvents(o)},t.prototype.updateSortIndex=function(e){var t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),r=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),o=t&&r||e,i=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(e){return e.setSortIndex(null)}));var n=i.filter((function(e){return e!==o})),a=o.getSort()?cv(cv([],lv(n)),[o]):n;a.forEach((function(e,t){return e.setSortIndex(t)}))},t.prototype.onSortChanged=function(e){this.dispatchSortChangedEvents(e)},t.prototype.isSortActive=function(){var e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),t=e.filter((function(e){return!!e.getSort()}));return t&&t.length>0},t.prototype.dispatchSortChangedEvents=function(e){var t={type:gt.EVENT_SORT_CHANGED,source:e};this.eventService.dispatchEvent(t)},t.prototype.clearSortBarTheseColumns=function(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(r){e.includes(r)||r.setSort(void 0,t)}))},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):r.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var o,i=t.indexOf(e.getSort()),n=i<0,a=i==t.length-1;return o=n||a?t[0]:t[i+1],r.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("AG Grid: invalid sort type "+o),null):o},t.prototype.getIndexedSortMap=function(){var e=this,t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(e){return!!e.getSort()}));if(this.columnModel.isPivotMode()){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup();t=t.filter((function(t){var o=!!t.getAggFunc(),i=!t.isPrimary(),n=r?e.columnModel.getGroupDisplayColumnForGroup(t.getId()):t.getColDef().showRowGroup;return o||i||n}))}var o=this.columnModel.getRowGroupColumns().filter((function(e){return!!e.getSort()})),i=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!o.length;i&&(t=cv([],lv(new Set(t.map((function(t){var r;return null!==(r=e.columnModel.getGroupDisplayColumnForGroup(t.getId()))&&void 0!==r?r:t}))))));var n={};t.forEach((function(e,t){return n[e.getId()]=t})),t.sort((function(e,t){var r=e.getSortIndex(),o=t.getSortIndex();if(null!=r&&null!=o)return r-o;if(null==r&&null==o){var i=n[e.getId()],a=n[t.getId()];return i>a?1:-1}return null==o?-1:1}));var a=new Map;return t.forEach((function(e,t){return a.set(e,t)})),i&&o.forEach((function(t){var r=e.columnModel.getGroupDisplayColumnForGroup(t.getId());a.set(t,a.get(r))})),a},t.prototype.getColumnsWithSortingOrdered=function(){return cv([],lv(this.getIndexedSortMap().entries())).sort((function(e,t){var r=lv(e,2);r[0];var o=r[1],i=lv(t,2);i[0];var n=i[1];return o-n})).map((function(e){var t=lv(e,1),r=t[0];return r}))},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{sort:e.getSort(),colId:e.getId()}}))},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{sort:e.getSort(),column:e}}))},t.prototype.canColumnDisplayMixedSort=function(e){var t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),r=!!e.getColDef().showRowGroup;return t&&r},t.prototype.getDisplaySortForColumn=function(e){var t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(null===t||void 0===t?void 0:t.length))return e.getSort();var r=null!=e.getColDef().field||!!e.getColDef().valueGetter,o=r?cv([e],lv(t)):t,i=o[0].getSort(),n=o.every((function(e){return e.getSort()==i}));return n?i:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(e){return this.getIndexedSortMap().get(e)},t.DEFAULT_SORTING_ORDER=["asc","desc",null],sv([he("columnModel")],t.prototype,"columnModel",void 0),t=r=sv([de("sortController")],t),t}(lt),dv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dv(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e;var t={type:gt.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:gt.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=hv([de("columnHoverService")],t),t}(lt),fv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},vv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return fv(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){return e.gridBodyCtrl=t.gridBodyCtrl}))},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){e.animationThreadCount===t&&e.gridBodyCtrl.setColumnMovingCss(!1)}))},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout((function(){return e.forEach((function(e){return e()}))}),0),window.setTimeout((function(){return t.forEach((function(e){return e()}))}),300))},gv([he("ctrlsService")],t.prototype,"ctrlsService",void 0),gv([ce],t.prototype,"postConstruct",null),t=gv([de("columnAnimationService")],t),t}(lt),mv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},yv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mv(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.centerRowContainerCon=t.centerRowContainerCtrl,e.addManagedListener(e.eventService,gt.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,gt.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.checkPageSize()}))},t.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){var r=function(){var r=e.gridOptionsService.getRowHeightAsNumber(),o=Math.floor(t/r);e.gridOptionsService.set("paginationPageSize",o)};this.isBodyRendered?Y((function(){return r()}),50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},bv([he("ctrlsService")],t.prototype,"ctrlsService",void 0),bv([ce],t.prototype,"postConstruct",null),t=bv([de("paginationAutoPageSizeService")],t),t}(lt),wv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Cv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ev=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return wv(t,e),t.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=r)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},Cv([ce],t.prototype,"init",null),t=Cv([de("valueCache")],t),t}(lt),Sv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Tv="paste",kv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sv(t,e),t.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,gt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==Tv&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsService.is("suppressChangeDetection")){var r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.is("aggregateOnlyChangedColumns"),i=new Zp(o,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i),i.forEachChangedNodeDepthFirst((function(e){r.push(e)}))}this.rowRenderer.refreshCells({rowNodes:r})}},xv([he("rowModel")],t.prototype,"rowModel",void 0),xv([he("rowRenderer")],t.prototype,"rowRenderer",void 0),xv([ce],t.prototype,"init",null),t=xv([de("changeDetectionService")],t),t}(lt),_v=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ov=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _v(t,e),t.prototype.adaptFunction=function(e,t){var r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(t):null},t.prototype.adaptCellRendererFunction=function(e){var t=function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){return this.eGui},t.prototype.init=function(t){var r=e(t),o=typeof r;this.eGui="string"!==o&&"number"!==o&&"boolean"!==o?null!=r?r:ai("<span></span>"):ai("<span>"+r+"</span>")},t}();return t},t.prototype.doesImplementIComponent=function(e){return!!e&&(e.prototype&&"getGui"in e.prototype)},Rv([he("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=Rv([de("agComponentUtils")],t),t}(lt),Dv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Av=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dv(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Av([he("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Av([ce],t.prototype,"postConstruct",null),t=Av([de("componentMetadataProvider")],t),t}(lt),Mv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Lv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Fv=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Iv=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Nv=25,Hv=10,Gv=8,Vv=4,zv=4,Bv=6,jv={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:5*Vv,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:7*Gv,headerCellMinWidth:48,listItemHeight:4*Gv,rowHeight:6*Gv,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:8*zv,headerCellMinWidth:24,listItemHeight:6*zv,rowHeight:7*zv,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:8*Bv,headerCellMinWidth:36,listItemHeight:4*Bv,rowHeight:7*Bv,chartMenuPanelWidth:240}},Wv={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Uv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.calculatedSizes={},t}return Mv(t,e),t.prototype.postConstruct=function(){var e,t=this,r=null!==(e=this.getTheme().el)&&void 0!==e?e:this.eGridDiv;this.mutationObserver=new MutationObserver((function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()})),this.mutationObserver.observe(r||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){var e={type:gt.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.getSassVariable=function(e){var t=this.getTheme(),r=t.themeFamily,o=t.el;if(r&&0===r.indexOf("ag-theme")){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[r]||(this.calculatedSizes[r]={});var i=this.calculatedSizes[r][e];return null!=i?i:(this.calculatedSizes[r][e]=this.calculateValueForSassProperty(e,r,o),this.calculatedSizes[r][e])}},t.prototype.calculateValueForSassProperty=function(e,t,r){var o,i="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),n=jv[i][e],a=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!Wv[e])return n;var s=Wv[e],l=a.createElement("div"),c=Array.from(r.classList);(o=l.classList).add.apply(o,Iv([t],Fv(c))),l.style.position="absolute";var u=s.reduce((function(e,t){var r=a.createElement("div");return r.style.position="static",r.classList.add(t),e.appendChild(r),r}),l),d=0;if(a.body){a.body.appendChild(l);var h=-1!==e.toLowerCase().indexOf("height")?"height":"width";d=parseInt(window.getComputedStyle(u)[h],10),a.body.removeChild(l)}return d||n},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,t=this.eGridDiv,r=null,o=[];while(t){if(r=e.exec(t.className),r){var i=t.className.match(e);i&&(o=i);break}t=t.parentElement||void 0}if(!r)return{allThemes:o};var n=r[0];return{theme:n,el:t,themeFamily:n.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,t){var r;return null!==(r=this.getSassVariable(t))&&void 0!==r?r:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(Nv,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.setRowHeightVariable=function(e){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),r=e+"px";t!=r&&this.eGridDiv.style.setProperty("--ag-line-height",r)},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return a(e)?Math.max(e,Hv):Hv},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),e.prototype.destroy.call(this)},Lv([he("eGridDiv")],t.prototype,"eGridDiv",void 0),Lv([ce],t.prototype,"postConstruct",null),t=Lv([de("environment")],t),t}(lt),$v=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Yv=function(e,t){return function(r,o){t(r,o,e)}},qv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return $v(t,e),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,gt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=po(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight(),o=t!==this.scrollY||r!==this.uiBodyHeight;o&&(this.scrollY=t,this.uiBodyHeight=r,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+t+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(t)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:gt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:gt.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition();return t.bottom-t.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=this.modelHeight-this.getUiBodyHeight(),r=e/t,o=this.maxScrollY*r;return o},Kv([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Kv([Yv(0,ge("loggerFactory"))],t.prototype,"agWire",null),Kv([ce],t.prototype,"postConstruct",null),t=Kv([de("rowContainerHeightService")],t),t}(lt),Xv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Jv=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Qv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xv(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},t.prototype.updateSelectableAfterGrouping=function(e){if(this.isRowSelectableFunc){var t=function(e){return e.childrenAfterGroup};this.recurseDown(e.childrenAfterGroup,t)}},t.prototype.recurseDown=function(e,t){var r=this;e&&e.forEach((function(e){if(e.group){var o;if(e.hasChildren()&&r.recurseDown(t(e),t),r.groupSelectsChildren){var i=(t(e)||[]).find((function(e){return!0===e.selectable}));o=a(i)}else o=!!r.isRowSelectableFunc&&r.isRowSelectableFunc(e);e.setRowSelectable(o)}}))},Jv([ce],t.prototype,"init",null),t=Jv([de("selectableService")],t),t}(lt),Zv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),em=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},tm=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return Zv(t,e),t.prototype.postConstruct=function(){var e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());var t=this,r=t.btFirst,o=t.btPrevious,i=t.btNext,n=t.btLast;this.activateTabIndex([r,o,i,n]),r.insertAdjacentElement("afterbegin",Pi(e?"last":"first",this.gridOptionsService)),o.insertAdjacentElement("afterbegin",Pi(e?"next":"previous",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",Pi(e?"previous":"next",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",Pi(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var e=this.gridOptionsService.is("pagination"),t=e&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,gt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(t){var r=t.el,o=t.fn;e.addManagedListener(r,"click",o),e.addManagedListener(r,"keydown",(function(e){e.key!==Li.ENTER&&e.key!==Li.SPACE||(e.preventDefault(),o())}))})),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),r=e?t+1:0;this.lbCurrent.innerHTML=this.formatNumber(r)},t.prototype.formatNumber=function(e){var t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t){var r={value:e};return t(r)}var o=this.localeService.getLocaleTextFunc(),i=o("thousandSeparator",","),n=o("decimalSeparator",".");return To(e,i,n)},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),o=e("of","of"),i=e("firstPage","First Page"),n=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),s=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+r+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+o+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="'+i+'"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="'+n+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+l+'-start-page">'+t+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+o+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="'+a+'"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="'+s+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),i=t&&e===r-1;this.nextButtonDisabled=i||o,this.lastButtonDisabled=!t||o||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,t){Ar(e,t),e.classList.toggle("ag-disabled",t)},t.prototype.updateRowLabels=function(){var e,t,r=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?e=t=0:(e=o*r+1,t=e+o-1,i&&t>n&&(t=n)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.rowNodeBlockLoader.isLoading()){var a=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=a("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),r=e?this.paginationProxy.getMasterRowCount():null;if(1===r){var o=this.paginationProxy.getRow(0),i=o&&o.group&&!(o.groupData||o.aggData);if(i)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(r);else{var n=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},em([he("paginationProxy")],t.prototype,"paginationProxy",void 0),em([he("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),em([bn("btFirst")],t.prototype,"btFirst",void 0),em([bn("btPrevious")],t.prototype,"btPrevious",void 0),em([bn("btNext")],t.prototype,"btNext",void 0),em([bn("btLast")],t.prototype,"btLast",void 0),em([bn("lbRecordCount")],t.prototype,"lbRecordCount",void 0),em([bn("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),em([bn("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),em([bn("lbCurrent")],t.prototype,"lbCurrent",void 0),em([bn("lbTotal")],t.prototype,"lbTotal",void 0),em([ce],t.prototype,"postConstruct",null),t}(mn),rm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),om=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e[e["Loading"]=0]="Loading",e[e["NoRows"]=1]="NoRows"})(cg||(cg={}));var im=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.inProgress=!1,r.destroyRequested=!1,r.manuallyDisplayed=!1,r}return rm(t,e),t.prototype.updateLayoutClasses=function(e,t){var r=this.eOverlayWrapper.classList;r.toggle(nc.AUTO_HEIGHT,t.autoHeight),r.toggle(nc.NORMAL,t.normal),r.toggle(nc.PRINT,t.print)},t.prototype.postConstruct=function(){this.createManagedBean(new wc(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,gt.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var t=this.eOverlayWrapper.classList;t.toggle("ag-overlay-loading-wrapper",e===cg.Loading),t.toggle("ag-overlay-no-rows-wrapper",e===cg.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var e={},t=this.userComponentFactory.getLoadingOverlayCompDetails(e),r=t.newAgStackInstance();this.showOverlay(r,cg.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var e={},t=this.userComponentFactory.getNoRowsOverlayCompDetails(e),r=t.newAgStackInstance();this.showOverlay(r,cg.NoRows)}},t.prototype.showOverlay=function(e,t){var r=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then((function(e){r.inProgress=!1,r.eOverlayWrapper.appendChild(e.getGui()),r.activeOverlay=e,r.destroyRequested&&(r.destroyRequested=!1,r.destroyActiveOverlay())})),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),ri(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',om([he("userComponentFactory")],t.prototype,"userComponentFactory",void 0),om([he("paginationProxy")],t.prototype,"paginationProxy",void 0),om([he("gridApi")],t.prototype,"gridApi",void 0),om([he("columnModel")],t.prototype,"columnModel",void 0),om([bn("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),om([ce],t.prototype,"postConstruct",null),t}(mn),nm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),am=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},sm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nm(t,e),t.prototype.getFirstRow=function(){var e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}},t.prototype.getLastRow=function(){var e,t=null,r=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return r?(t="bottom",e=r-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):o&&(t="top",e=o-1),void 0===e?null:{rowIndex:e,rowPinned:t}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)},t.prototype.before=function(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(a(t.rowPinned))return"top"!==t.rowPinned;break}return e.rowIndex<t.rowIndex},t.prototype.rowMax=function(e){var t,r=this;return e.forEach((function(e){(void 0===t||r.before(t,e))&&(t=e)})),t},t.prototype.rowMin=function(e){var t,r=this;return e.forEach((function(e){(void 0===t||r.before(e,t))&&(t=e)})),t},am([he("rowModel")],t.prototype,"rowModel",void 0),am([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),am([he("paginationProxy")],t.prototype,"paginationProxy",void 0),t=am([de("rowPositionUtils")],t),t}(lt),lm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),cm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},um=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lm(t,e),t.prototype.createId=function(e){var t=e.rowIndex,r=e.rowPinned,o=e.column;return this.createIdFromValues({rowIndex:t,column:o,rowPinned:r})},t.prototype.createIdFromValues=function(e){var t=e.rowIndex,r=e.rowPinned,o=e.column;return t+"."+(null==r?"null":r)+"."+o.getId()},t.prototype.equals=function(e,t){var r=e.column===t.column,o=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return r&&o&&i},t=cm([de("cellPositionUtils")],t),t}(lt),dm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hm=function(){function e(e){this.cellValueChanges=e}return e}(),pm=function(e){function t(t,r,o,i){var n=e.call(this,t)||this;return n.initialRange=r,n.finalRange=o,n.ranges=i,n}return dm(t,e),t}(hm),fm=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.prototype.getCurrentStackSize=function(){return this.actionStack.length},e.DEFAULT_STACK_SIZE=10,e}(),gm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vm=function(){return vm=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vm.apply(this,arguments)},mm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},bm=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},ym=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},wm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(e){var r={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},o=null!==t.activeCellEdit&&t.cellPositionUtils.equals(t.activeCellEdit,r),i=null!==t.activeRowEdit&&t.rowPositionUtils.sameRow(t.activeRowEdit,r),n=o||i||t.isPasting||t.isRangeInAction;if(n){var a=e.rowPinned,s=e.rowIndex,l=e.column,c=e.oldValue,u=e.value,d={rowPinned:a,rowIndex:s,columnId:l.getColId(),newValue:u,oldValue:c};t.cellValueChanges.push(d)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return gm(t,e),t.prototype.init=function(){var e=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var t=this.gridOptionsService.getNum("undoRedoCellEditingLimit");t<=0||(this.undoStack=new fm(t),this.redoStack=new fm(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,gt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,gt.EVENT_MODEL_UPDATED,(function(t){t.keepUndoRedoStack||e.clearStacks()})),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,gt.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,gt.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){var t={type:gt.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);var r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:gt.EVENT_UNDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(o)},t.prototype.redo=function(e){var t={type:gt.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);var r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:gt.EVENT_REDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(o)},t.prototype.undoRedo=function(e,t,r,o,i){if(!e)return!1;var n=e.pop();return!(!n||!n.cellValueChanges)&&(this.processAction(n,(function(e){return e[o]}),i),n instanceof pm?this.processRange(n.ranges||[n[r]]):this.processCell(n.cellValueChanges),t.push(n),!0)},t.prototype.processAction=function(e,t,r){var o=this;e.cellValueChanges.forEach((function(e){var i=e.rowIndex,n=e.rowPinned,a=e.columnId,s={rowIndex:i,rowPinned:n},l=o.getRowNode(s);l.displayed&&l.setDataValue(a,t(e),r)}))},t.prototype.processRange=function(e){var t,r=this;this.rangeService.removeAllCellRanges(!0),e.forEach((function(o,i){if(o){var n=o.startRow,a=o.endRow;i===e.length-1&&(t={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:o.startColumn.getColId()},r.setLastFocusedCell(t));var s={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnStart:o.startColumn,columns:o.columns};r.rangeService.addCellRange(s)}}))},t.prototype.processCell=function(e){var t=e[0],r=t.rowIndex,o=t.rowPinned,i={rowIndex:r,rowPinned:o},n=this.getRowNode(i),a={rowPinned:t.rowPinned,rowIndex:n.rowIndex,columnId:t.columnId};this.setLastFocusedCell(a,!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,t){var r=e.rowIndex,o=e.columnId,i=e.rowPinned,n=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getGridColumn(o);if(a){n.ensureIndexVisible(r),n.ensureColumnVisible(a);var s={rowIndex:r,column:a,rowPinned:i};this.focusService.setFocusedCell(vm(vm({},s),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(s)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_ROW_EDITING_STARTED,(function(t){e.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}})),this.addManagedListener(this.eventService,gt.EVENT_ROW_EDITING_STOPPED,(function(){var t=new hm(e.cellValueChanges);e.pushActionsToUndoStack(t),e.activeRowEdit=null}))},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_CELL_EDITING_STARTED,(function(t){e.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}})),this.addManagedListener(this.eventService,gt.EVENT_CELL_EDITING_STOPPED,(function(t){e.activeCellEdit=null;var r=t.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction;if(r){var o=new hm(e.cellValueChanges);e.pushActionsToUndoStack(o)}}))},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_PASTE_START,(function(){e.isPasting=!0})),this.addManagedListener(this.eventService,gt.EVENT_PASTE_END,(function(){var t=new hm(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1}))},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_FILL_START,(function(){e.isRangeInAction=!0})),this.addManagedListener(this.eventService,gt.EVENT_FILL_END,(function(t){var r=new pm(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(r),e.isRangeInAction=!1}))},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,(function(){e.isRangeInAction=!0})),this.addManagedListener(this.eventService,gt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,(function(){var t;t=e.rangeService&&e.gridOptionsService.isEnableRangeSelection()?new pm(e.cellValueChanges,void 0,void 0,ym([],bm(e.rangeService.getCellRanges()))):new hm(e.cellValueChanges),e.pushActionsToUndoStack(t),e.isRangeInAction=!1}))},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},mm([he("focusService")],t.prototype,"focusService",void 0),mm([he("ctrlsService")],t.prototype,"ctrlsService",void 0),mm([he("rowModel")],t.prototype,"rowModel",void 0),mm([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),mm([he("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),mm([he("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),mm([he("columnModel")],t.prototype,"columnModel",void 0),mm([pe("rangeService")],t.prototype,"rangeService",void 0),mm([ce],t.prototype,"init",null),t=mm([de("undoRedoService")],t),t}(lt),Cm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Em=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Sm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cm(t,e),t.prototype.findHeader=function(e,t){var r,o,i;if(e.column instanceof ft?(o="getDisplayedGroup"+t,r=this.columnModel[o](e.column)):(i="getDisplayedCol"+t,r=this.columnModel[i](e.column)),r){var n=e.headerRowIndex,a=this.getHeaderRowType(n);if(a===Id.COLUMN_GROUP){var s=r;if(s.isPadding()&&this.isAnyChildSpanningHeaderHeight(s)){var l=this.getColumnVisibleChild(s,n,t),c=l.nextFocusColumn,u=l.nextRow;c&&(r=c,n=u)}}return{column:r,headerRowIndex:n}}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return!!e&&e.getLeafColumns().some((function(e){return e.isSpanHeaderHeight()}))},t.prototype.getColumnVisibleParent=function(e,t){var r=this.getHeaderRowType(t),o=r===Id.FLOATING_FILTER,i=r===Id.COLUMN,n=o?e:e.getParent(),a=t-1;if(i&&this.isAnyChildSpanningHeaderHeight(e.getParent())){while(n&&n.isPadding())n=n.getParent(),a--;a<0&&(n=e,a=t)}return{nextFocusColumn:n,nextRow:a}},t.prototype.getColumnVisibleChild=function(e,t,r){void 0===r&&(r="After");var o=this.getHeaderRowType(t),i=e,n=t+1;if(o===Id.COLUMN_GROUP){var a=e.getLeafColumns(),s="After"===r?a[0]:Ae(a);if(this.isAnyChildSpanningHeaderHeight(s.getParent())){i=s;var l=s.getParent();while(l&&l!==e)l=l.getParent(),n++}else i=e.getDisplayedChildren()[0]}return{nextFocusColumn:i,nextRow:n}},t.prototype.getHeaderRowType=function(e){var t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,t){var r=this.columnModel.getAllDisplayedColumns(),o=r["start"===t?0:r.length-1];if(o){var i=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),n=i.getRowType(e);if(n==Id.COLUMN_GROUP){var a=this.columnModel.getColumnGroupAtLevel(o,e);return{headerRowIndex:e,column:a}}return{headerRowIndex:null==n?-1:e,column:o}}},Em([he("columnModel")],t.prototype,"columnModel",void 0),Em([he("ctrlsService")],t.prototype,"ctrlsService",void 0),t=Em([de("headerPositionUtils")],t),t}(lt),xm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Tm=function(){function e(){}return e.prototype.buildColumnDefs=function(e,t,r){var o=this,i=[],n={};return e.forEach((function(e){var a=o.createDefFromColumn(e,t,r),s=!0,l=a,c=e.getOriginalParent(),u=null;while(c){var d=null;if(c.isPadding())c=c.getOriginalParent();else{var h=n[c.getGroupId()];if(h){h.children.push(l),s=!1;break}if(d=o.createDefFromGroup(c),d&&(d.children=[l],n[d.groupId]=d,l=d,c=c.getOriginalParent()),null!=c&&u===c){s=!1;break}u=c}}s&&i.push(l)})),i},e.prototype.createDefFromGroup=function(e){var t=x(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},e.prototype.createDefFromColumn=function(e,t,r){var o=x(e.getColDef());return o.colId=e.getColId(),o.width=e.getActualWidth(),o.rowGroup=e.isRowGroupActive(),o.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,o.pivot=e.isPivotActive(),o.pivotIndex=e.isPivotActive()?r.indexOf(e):null,o.aggFunc=e.isValueActive()?e.getAggFunc():null,o.hide=!e.isVisible()||void 0,o.pinned=e.isPinned()?e.getPinned():null,o.sort=e.getSort()?e.getSort():null,o.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,o},e=xm([de("columnDefFactory")],e),e}(),km=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},_m=function(){function e(){}return e.prototype.getInitialRowClasses=function(e){var t=[];return a(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Ue(t,this.processClassesFromGridOptions(e.rowNode)),Ue(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t},e.prototype.processClassesFromGridOptions=function(e){var t=[],r=function(e){"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((function(e){return t.push(e)}))},o=this.gridOptionsService.get("rowClass");if(o){if("function"===typeof o)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(o)}var i=this.gridOptionsService.getCallback("getRowClass");if(i){var n={data:e.data,node:e,rowIndex:e.rowIndex},a=i(n);r(a)}return t},e.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,(function(e){t.push(e)}),(function(e){})),t},e.prototype.processRowClassRules=function(e,t,r){var o={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),o,t,r)},e.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},km([he("stylingService")],e.prototype,"stylingService",void 0),km([he("gridOptionsService")],e.prototype,"gridOptionsService",void 0),e=km([de("rowCssClassCalculator")],e),e}(),Rm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Om=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Dm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rm(t,e),t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(function(t){return e.isAccentedSort=t.currentValue})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()}))},t.prototype.doFullSort=function(e,t){var r=function(e,t){return{currentPos:t,rowNode:e}},o=e.map(r);return o.sort(this.compareRowNodes.bind(this,t)),o.map((function(e){return e.rowNode}))},t.prototype.compareRowNodes=function(e,t,r){for(var o=t.rowNode,i=r.rowNode,n=0,a=e.length;n<a;n++){var s=e[n],l="desc"===s.sort,c=this.getValue(o,s.column),u=this.getValue(i,s.column),d=void 0,h=this.getComparator(s,o);d=h?h(c,u,o,i,l):on.defaultComparator(c,u,this.isAccentedSort);var p=!isNaN(d);if(p&&0!==d)return"asc"===s.sort?d:-1*d}return t.currentPos-r.currentPos},t.prototype.getComparator=function(e,t){var r=e.column,o=r.getColDef().comparator;if(null!=o)return o;if(r.getColDef().showRowGroup){var i=!t.group&&r.getColDef().field;if(i){var n=this.columnModel.getPrimaryColumn(i);if(n)return n.getColDef().comparator}}},t.prototype.getValue=function(e,t){var r,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);var i=e.rowGroupColumn===t;if(i){var n=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(n){var a=t.getColDef().keyCreator;if(a)return e.key;var s=null===(r=e.allLeafChildren)||void 0===r?void 0:r[0];return s?this.valueService.getValue(t,s,!1,!1):void 0}var l=this.columnModel.getGroupDisplayColumnForGroup(t.getId());if(!l)return;return null===(o=e.groupData)||void 0===o?void 0:o[l.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)},Om([he("valueService")],t.prototype,"valueService",void 0),Om([he("columnModel")],t.prototype,"columnModel",void 0),Om([ce],t.prototype,"init",null),t=Om([de("rowNodeSorter")],t),t}(lt),Am=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Mm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ready=!1,t.readyCallbacks=[],t}var r;return Am(t,e),r=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var e=this.createReadyParams();this.readyCallbacks.forEach((function(t){return t(e)})),this.readyCallbacks.length=0}},t.prototype.whenReady=function(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(e){this.fakeHScrollComp=e,this.checkReady()},t.prototype.registerFakeVScrollComp=function(e){this.fakeVScrollComp=e,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(e){this.gridHeaderCtrl=e,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(e){this.centerRowContainerCtrl=e,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(e){this.leftRowContainerCtrl=e,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(e){this.rightRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(e){this.topCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(e){this.topLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(e){this.topRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(e){this.bottomRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerHeaderContainer=function(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e;break}this.checkReady()},t.prototype.registerGridBodyCtrl=function(e){this.gridBodyCtrl=e,this.checkReady()},t.prototype.registerGridCtrl=function(e){this.gridCtrl=e,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=r=Pm([de(r.NAME)],t),t}(lt),Lm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Im=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registry={},t}return Lm(t,e),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var t=this.registry[e];if(null!=t)return new t},t=Fm([de("ctrlsFactory")],t),t}(lt),Nm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Hm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Gm=function(e){function t(t,r){var o=e.call(this,t)||this;return o.direction=r,o.hideTimeout=null,o}return Nm(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,gt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",lo()||co())},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=bo(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,t=["mouseenter","mousedown","touchstart"],r=["mouseleave","touchend"],o=this.getGui();t.forEach((function(t){return e.addManagedListener(o,t,(function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)}))})),r.forEach((function(t){return e.addManagedListener(o,t,(function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)}))}))},t.prototype.onScrollVisibilityChanged=function(){var e=this;void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((function(){return e.setScrollVisible()}))},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,gt.EVENT_BODY_SCROLL,(function(t){t.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))})),this.addManagedListener(this.eventService,gt.EVENT_BODY_SCROLL_END,(function(){e.hideTimeout=window.setTimeout((function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null}),400)}))},t.prototype.attemptSettingScrollPosition=function(e){var t=this,r=this.getViewport();X((function(){return ni(r)}),(function(){return t.setScrollPosition(e)}),100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},Hm([bn("eViewport")],t.prototype,"eViewport",void 0),Hm([bn("eContainer")],t.prototype,"eContainer",void 0),Hm([he("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Hm([he("ctrlsService")],t.prototype,"ctrlsService",void 0),Hm([he("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(mn),Vm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),zm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Bm=function(e){function t(){return e.call(this,t.TEMPLATE,"horizontal")||this}return Vm(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var r=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,gt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",r),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new td((function(e){return t.eContainer.style.width=e+"px"})))},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),e.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=e+"px"}},t.prototype.onScrollVisibilityChanged=function(){e.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.columnModel.getDisplayedColumnsRightWidth(),r=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();r&&(t+=o),yi(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=o);var i=this.columnModel.getDisplayedColumnsLeftWidth(),n=this.enableRtl&&e;n&&(i+=o),yi(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,r=this.gridOptionsService.is("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,i=0===o&&t?16:o,n=r?0:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ci(this.getGui(),n),Ci(this.eViewport,n),Ci(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return ei(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){ni(this.getViewport())||this.attemptSettingScrollPosition(e),ti(this.getViewport(),e,this.enableRtl)},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',zm([bn("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),zm([bn("eRightSpacer")],t.prototype,"eRightSpacer",void 0),zm([he("columnModel")],t.prototype,"columnModel",void 0),zm([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),zm([ce],t.prototype,"postConstruct",null),t}(Gm),jm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Wm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Um=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jm(t,e),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:gt.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:gt.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Wm([he("columnModel")],t.prototype,"columnModel",void 0),Wm([ce],t.prototype,"postConstruct",null),t=Wm([de("pinnedWidthService")],t),t}(lt),$m=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Km=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ym=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events=[],t}return $m(t,e),t.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var t=this;if(null!=this.clientSideRowModel){this.events.push(e);var r=function(){t.clientSideRowModel&&t.clientSideRowModel.onRowGroupOpened(),t.events.forEach((function(e){return t.eventService.dispatchEvent(e)})),t.events=[]};null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced()}else this.eventService.dispatchEvent(e)},Km([he("animationFrameService")],t.prototype,"animationFrameService",void 0),Km([he("rowModel")],t.prototype,"rowModel",void 0),Km([ce],t.prototype,"postConstruct",null),t=Km([de("rowNodeEventThrottle")],t),t}(lt),qm=function(){return qm=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qm.apply(this,arguments)},Xm=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Jm=function(e,t){return function(r,o){t(r,o,e)}},Qm=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Zm=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e};function eb(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e,10):void 0}function tb(e){return!0===e||"true"===e}var rb,ob=function(){function e(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new ye}return Object.defineProperty(e.prototype,"context",{get:function(){return this.gridOptions["context"]},enumerable:!1,configurable:!0}),e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.api=e,this.columnApi=t},e.prototype.init=function(){this.gridOptionLookup=new Set(Zm(Zm([],Qm(Vt.ALL_PROPERTIES)),Qm(Vt.EVENT_CALLBACKS)));var e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),e),this.getScrollbarWidth()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},e.prototype.is=function(e){return tb(this.gridOptions[e])},e.prototype.get=function(e){return this.gridOptions[e]},e.prototype.getNum=function(e){return eb(this.gridOptions[e])},e.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},e.prototype.exists=function(e){return a(this.gridOptions[e])},e.prototype.mergeGridCommonParams=function(e){var t=this;if(e){var r=function(r){var o=r;return o.api=t.api,o.columnApi=t.columnApi,o.context=t.context,e(o)};return r}return e},e.prototype.set=function(e,t,r,o){if(void 0===r&&(r=!1),void 0===o&&(o={}),this.gridOptionLookup.has(e)){var i=this.gridOptions[e];if(r||i!==t){this.gridOptions[e]=t;var n=qm({type:e,currentValue:t,previousValue:i},o);this.propertyEventService.dispatchEvent(n)}}},e.prototype.addEventListener=function(e,t){this.propertyEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.globalEventHandler=function(e,t){if(!this.destroyed){var r=Vt.getCallbackForEvent(e);"function"===typeof this.gridOptions[r]&&this.gridOptions[r](t)}},e.prototype.getGridId=function(){return this.api.getGridId()},e.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0,t=e?this.gridOptions.scrollbarWidth:vo();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:gt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},e.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&s(this.gridOptions.rowModelType)},e.prototype.isDomLayout=function(e){var t,r=null!==(t=this.gridOptions.domLayout)&&void 0!==t?t:"normal";return r===e},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},e.prototype.isGetRowHeightFunction=function(){return"function"===typeof this.gridOptions.getRowHeight},e.prototype.getRowHeightForNode=function(e,t,r){if(void 0===t&&(t=!1),null==r&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:r,estimated:!0};var o={node:e,data:e.data},i=this.getCallback("getRowHeight")(o);if(this.isNumeric(i))return 0===i&&V((function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")}),"invalidRowHeight"),{height:Math.max(1,i),estimated:!1}}if(e.detail&&this.is("masterDetail"))return this.getMasterDetailRowHeight();var n=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r;return{height:n,estimated:!1}},e.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},e.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||s(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.environment.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)},e.prototype.getDomDataKey=function(){return this.domDataKey},e.prototype.getDomData=function(e,t){var r=e[this.getDomDataKey()];return r?r[t]:void 0},e.prototype.setDomData=function(e,t,r){var o=this.getDomDataKey(),i=e[o];s(i)&&(i={},e[o]=i),i[t]=r},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&a(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&a(e)?e:document},e.prototype.getWindow=function(){var e=this.getDocument();return e.defaultView||window},e.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},e.prototype.getAsyncTransactionWaitMillis=function(){return a(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},e.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},e.prototype.isGroupRowsSticky=function(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))},e.prototype.isTreeData=function(){return this.is("treeData")&&ie.__assertRegistered(Z.RowGroupingModule,"Tree Data",this.api.getGridId())},e.prototype.isMasterDetail=function(){return this.is("masterDetail")&&ie.__assertRegistered(Z.MasterDetailModule,"masterDetail",this.api.getGridId())},e.prototype.isEnableRangeSelection=function(){return this.is("enableRangeSelection")&&ie.__isRegistered(Z.RangeSelectionModule,this.api.getGridId())},e.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef,t=this.isRowModelType("clientSide");return t&&!(null===e||void 0===e?void 0:e.comparator)&&!this.isTreeData()},e.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"===typeof e?this.getCallback("groupAggFiltering"):tb(e)?function(){return!0}:void 0},e.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?Jt("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},e.prototype.isGroupUseEntireRow=function(e){return!e&&(!!this.gridOptions.groupDisplayType&&Jt("groupRows",this.gridOptions.groupDisplayType))},Xm([he("gridOptions")],e.prototype,"gridOptions",void 0),Xm([he("eventService")],e.prototype,"eventService",void 0),Xm([he("environment")],e.prototype,"environment",void 0),Xm([he("eGridDiv")],e.prototype,"eGridDiv",void 0),Xm([Jm(0,ge("gridApi")),Jm(1,ge("columnApi"))],e.prototype,"agWire",null),Xm([ce],e.prototype,"init",null),Xm([ue],e.prototype,"destroy",null),e=Xm([de("gridOptionsService")],e),e}(),ib=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),nb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ab=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ib(t,e),t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(t,r,o){var i={key:t,defaultValue:r,variableValues:o};return e(i)};var t=this.gridOptionsService.get("localeText");return function(e,r,o){var i=t&&t[e];if(i&&o&&o.length){var n=0;while(1){if(n>=o.length)break;var a=i.indexOf("${variable}");if(-1===a)break;i=i.replace("${variable}",o[n++])}}return null!==i&&void 0!==i?i:r}},t=nb([de("localeService")],t),t}(lt),sb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},cb=function(e){function t(){return e.call(this,t.TEMPLATE,"vertical")||this}return sb(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.createManagedBean(new qu(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,gt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,r=e&&this.gridOptionsService.getScrollbarWidth()||0,o=0===r&&t?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),yi(this.getGui(),o),yi(this.eViewport,o),yi(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var e=this.ctrlsService.getGridBodyCtrl(),t=e.getBodyViewportElement();this.eViewport.scrollTop!=t.scrollTop&&(this.eViewport.scrollTop=t.scrollTop)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e){ni(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',lb([ce],t.prototype,"postConstruct",null),t}(Gm),ub=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),db=function(){return db=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},db.apply(this,arguments)},hb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},pb=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},fb=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},gb={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},vb=["january","february","march","april","may","june","july","august","september","october","november","december"],mb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataTypeDefinitions={},t.isWaitingForRowData=!1,t.isColumnTypeOverrideInDataTypeDefinitions=!1,t.columnStateUpdatesPendingInference={},t.columnStateUpdateListenerDestroyFuncs=[],t}return ub(t,e),t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(function(){e.groupHideOpenParents=e.gridOptionsService.is("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(function(){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs("gridOptionsChanged")}))},t.prototype.processDataTypeDefinitions=function(){var e,t=this,r=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(r).forEach((function(e){var r=pb(e,2),o=r[0],i=r[1];t.dataTypeDefinitions[o]=db(db({},i),{groupSafeValueFormatter:t.createGroupSafeValueFormatter(i)})}));var o=null!==(e=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==e?e:{};this.dataTypeMatchers={},Object.entries(o).forEach((function(e){var i=pb(e,2),n=i[0],a=i[1],s=t.processDataTypeDefinition(a,o,[n],r);s&&(t.dataTypeDefinitions[n]=s,a.dataTypeMatcher&&(t.dataTypeMatchers[n]=a.dataTypeMatcher))})),this.checkObjectValueHandlers(r),["dateString","text","number","boolean","date"].forEach((function(e){var o=t.dataTypeMatchers[e];o&&delete t.dataTypeMatchers[e],t.dataTypeMatchers[e]=null!==o&&void 0!==o?o:r[e].dataTypeMatcher}))},t.prototype.mergeDataTypeDefinitions=function(e,t){var r=db(db({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=fb(fb([],pb(this.convertColumnTypes(e.columnTypes))),pb(this.convertColumnTypes(t.columnTypes)))),r},t.prototype.processDataTypeDefinition=function(e,t,r,o){var i,n=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var a=o[n];if(!this.validateDataTypeDefinition(e,a,n))return;i=this.mergeDataTypeDefinitions(a,e)}else{if(r.includes(n))return void V((function(){return console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.')}),"dataTypeExtendsCircularRef");var s=t[n];if(!this.validateDataTypeDefinition(e,s,n))return;var l=this.processDataTypeDefinition(s,t,fb(fb([],pb(r)),[n]),o);if(!l)return;i=this.mergeDataTypeDefinitions(l,e)}return db(db({},i),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)})},t.prototype.validateDataTypeDefinition=function(e,t,r){return t?t.baseDataType===e.baseDataType||(V((function(){return console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.')}),"dataTypeBaseTypesMatch"),!1):(V((function(){return console.warn("AG Grid: The data type definition "+r+" does not exist.")}),"dataTypeDefMissing"+r),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var t=this;if(e.valueFormatter)return function(r){var o,i;if(!(null===(o=r.node)||void 0===o?void 0:o.group))return t.groupHideOpenParents&&r.column.isRowGroupActive()?"string"!==typeof r.value||(null===(i=e.dataTypeMatcher)||void 0===i?void 0:i.call(e,r.value))?e.valueFormatter(r):void 0:e.valueFormatter(r);var n=r.column.getAggFunc();if(n){if("first"===n||"last"===n)return e.valueFormatter(r);if("number"===e.baseDataType&&"count"!==n){if("number"===typeof r.value)return e.valueFormatter(r);if("object"===typeof r.value){if(!r.value)return;if("toNumber"in r.value)return e.valueFormatter(db(db({},r),{value:r.value.toNumber()}));if("value"in r.value)return e.valueFormatter(db(db({},r),{value:r.value.value}))}}}}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,t,r){var o=t.cellDataType,i=t.field;if(void 0===o&&(o=e.cellDataType),null!=o&&!0!==o||(o=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(i,r)),o){var n=this.dataTypeDefinitions[o];if(n)return e.cellDataType=o,n.groupSafeValueFormatter&&(e.valueFormatter=n.groupSafeValueFormatter),n.valueParser&&(e.valueParser=n.valueParser),n.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,r),n.columnTypes;V((function(){return console.warn('AG Grid: Missing data type definition - "'+o+'"')}),"dataTypeMissing"+o)}else e.cellDataType=!1},t.prototype.updateColDefAndGetColumnType=function(e,t,r){var o,i,n=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,r),a=null!==(i=null!==(o=t.type)&&void 0!==o?o:n)&&void 0!==i?i:e.type;return e.type=a,a?this.convertColumnTypes(a):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var t=this.columnStateUpdatesPendingInference[e.getColId()];if(t){var r=function(e){t.add(e.key)};e.addEventListener(Te.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push((function(){return e.removeEventListener(Te.EVENT_STATE_UPDATED,r)}))}}},t.prototype.canInferCellDataType=function(e,t){var r,o=this;if("clientSide"!==this.rowModel.getType())return!1;var i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;var n=null===t.type?e.type:t.type;if(n){var a=null!==(r=this.gridOptionsService.get("columnTypes"))&&void 0!==r?r:{},s=this.convertColumnTypes(n).some((function(e){var t=a[e.trim()];return t&&o.doColDefPropsPreventInference(t,i)}));if(s)return!1}return!this.doColDefPropsPreventInference(e,i)},t.prototype.doColDefPropsPreventInference=function(e,t){var r=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((function(o){var i=pb(o,2),n=i[0],a=i[1];return r.doesColDefPropPreventInference(e,t,n,a)}))},t.prototype.doesColDefPropPreventInference=function(e,t,r,o){if(!t[r])return!1;var i=e[r];return null===i?(t[r]=!1,!1):void 0===o?!!i:i===o},t.prototype.inferCellDataType=function(e,t){var r;if(e){var o,i=this.getInitialData();if(i){var n=e.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");o=F(i,e,n)}else this.initWaitForRowData(t);if(null!=o){var a=pb(null!==(r=Object.entries(this.dataTypeMatchers).find((function(e){var t=pb(e,2);t[0];var r=t[1];return r(o)})))&&void 0!==r?r:["object"],1),s=a[0];return s}}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(null===e||void 0===e?void 0:e.length)return e[0];if(this.initialData)return this.initialData;var t=this.rowModel.getRootNode().allLeafChildren;return(null===t||void 0===t?void 0:t.length)?t[0].data:null},t.prototype.initWaitForRowData=function(e){var t=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var r=this.isColumnTypeOverrideInDataTypeDefinitions;r&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,gt.EVENT_ROW_DATA_UPDATE_STARTED,(function(e){var i=e.firstRowData;if(i){null===o||void 0===o||o(),t.isWaitingForRowData=!1,t.processColumnsPendingInference(i,r),t.columnStateUpdatesPendingInference={},r&&t.columnModel.processResizeOperations();var n={type:gt.EVENT_DATA_TYPES_INFERRED};t.eventService.dispatchEvent(n)}}))}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,t){var r=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach((function(e){return e()})),this.columnStateUpdateListenerDestroyFuncs=[];var i={},n={};Object.entries(this.columnStateUpdatesPendingInference).forEach((function(e){var a=pb(e,2),s=a[0],l=a[1],c=r.columnModel.getGridColumn(s);if(c){var u=c.getColDef();if(r.columnModel.resetColumnDefIntoColumn(c)){var d=c.getColDef();if(t&&d.type&&d.type!==u.type){var h=r.getUpdatedColumnState(c,l);h.rowGroup&&null==h.rowGroupIndex&&(i[s]=h),h.pivot&&null==h.pivotIndex&&(n[s]=h),o.push(h)}}}})),t&&o.push.apply(o,fb([],pb(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(i,n)))),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,t){var r=this.columnModel.getColumnStateFromColDef(e);return t.forEach((function(e){delete r[e],"rowGroup"===e?delete r.rowGroupIndex:"pivot"===e&&delete r.pivotIndex})),r},t.prototype.checkObjectValueHandlers=function(e){var t=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=t.valueParser!==r.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==r.valueFormatter},t.prototype.convertColumnTypes=function(e){var t=[];if(e instanceof Array){var r=e.some((function(e){return"string"!==typeof e}));r?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):t=e}else"string"===typeof e?t=e.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return t},t.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},t.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},t.prototype.getDataTypeDefinition=function(e){var t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]},t.prototype.getBaseDataType=function(e){var t;return null===(t=this.getDataTypeDefinition(e))||void 0===t?void 0:t.baseDataType},t.prototype.checkType=function(e,t){var r;if(null==t)return!0;var o=null===(r=this.getDataTypeDefinition(e))||void 0===r?void 0:r.dataTypeMatcher;return!o||o(t)},t.prototype.validateColDef=function(e){"object"===e.cellDataType&&(e.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||V((function(){return console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"')}),"dataTypeObjectValueFormatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&V((function(){return console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"')}),"dataTypeObjectValueParser"))},t.prototype.setColDefPropertiesForBaseDataType=function(e,t,r){var o=this,i=function(e,r,i){var n=e.getColDef().valueFormatter;return n===t.groupSafeValueFormatter&&(n=t.valueFormatter),o.valueFormatterService.formatValue(e,r,i,n)},n=ie.__isRegistered(Z.SetFilterModule,this.context.getGridId()),s=this.localeService.getLocaleTextFunc(),l=function(t){var r=e.filterParams;e.filterParams="object"===typeof r?db(db({},r),t):t};switch(e.useValueFormatterForExport=!0,e.useValueParserForImport=!0,t.baseDataType){case"number":e.cellEditor="agNumberCellEditor",n&&l({comparator:function(e,t){var r=null==e?0:parseInt(e),o=null==t?0:parseInt(t);return r===o?0:r>o?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(e){return!!e.colDef.editable&&e.event.key===Li.SPACE},l(n?{valueFormatter:function(e){return a(e.value)?s(String(e.value),e.value?"True":"False"):s("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(e,t){return t},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(e,t){return!1===t},numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=function(e){return i(e.column,e.node,e.value)},n&&l({valueFormatter:function(e){var t=i(e.column,e.node,e.value);return a(t)?t:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(e,t){if(1===t&&null!=e){var r=vb[Number(e)-1];return s(r,gb[r])}return null!==e&&void 0!==e?e:s("blanks","(Blanks)")}});break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=function(e){return i(e.column,e.node,e.value)};var c=this.getDateParserFunction();l(n?{valueFormatter:function(e){var t=i(e.column,e.node,e.value);return a(t)?t:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(e){var t=c(null!==e&&void 0!==e?e:void 0);return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},treeListFormatter:function(e,t){if(1===t&&null!=e){var r=vb[Number(e)-1];return s(r,gb[r])}return null!==e&&void 0!==e?e:s("blanks","(Blanks)")}}:{comparator:function(e,t){var r=c(t);return null==t||r<e?-1:r>e?1:0}});break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=function(e,t){var n=o.columnModel.getPrimaryColumn(r),a=null===n||void 0===n?void 0:n.getColDef();if(!n||!a)return 0;var s=null==e?"":i(n,null,e),l=null==t?"":i(n,null,t);return s===l?0:s>l?1:-1},e.keyCreator=function(e){return i(e.column,e.node,e.value)},n?l({valueFormatter:function(e){var t=i(e.column,e.node,e.value);return a(t)?t:s("blanks","(Blanks)")}}):e.filterValueGetter=function(e){return i(e.column,e.node,o.valueService.getValue(e.column,e.node))};break}},t.prototype.getDefaultDataTypes=function(){var e=function(e){return!!e.match("^\\d{4}-\\d{2}-\\d{2}$")},t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(e){return""===e.newValue?null:Number(e.newValue)},valueFormatter:function(e){return null==e.value?"":"number"!==typeof e.value||isNaN(e.value)?t("invalidNumber","Invalid Number"):String(e.value)},dataTypeMatcher:function(e){return"number"===typeof e}},text:{baseDataType:"text",valueParser:function(e){return""===e.newValue?null:c(e.newValue)},dataTypeMatcher:function(e){return"string"===typeof e}},boolean:{baseDataType:"boolean",valueParser:function(e){return""===e.newValue?null:"true"===String(e.newValue).toLowerCase()},valueFormatter:function(e){return null==e.value?"":String(e.value)},dataTypeMatcher:function(e){return"boolean"===typeof e}},date:{baseDataType:"date",valueParser:function(e){return Lo(null==e.newValue?null:String(e.newValue))},valueFormatter:function(e){var r;return null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?null!==(r=Ao(e.value,!1))&&void 0!==r?r:"":t("invalidDate","Invalid Date")},dataTypeMatcher:function(e){return e instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(e){var t;return null!==(t=Lo(e))&&void 0!==t?t:void 0},dateFormatter:function(e){var t;return null!==(t=Ao(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0},valueParser:function(t){return e(String(t.newValue))?t.newValue:null},valueFormatter:function(t){return e(String(t.value))?t.value:""},dataTypeMatcher:function(t){return"string"===typeof t&&e(t)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(e){var t;return null!==(t=c(e.value))&&void 0!==t?t:""}}}},hb([he("rowModel")],t.prototype,"rowModel",void 0),hb([he("columnModel")],t.prototype,"columnModel",void 0),hb([he("columnUtils")],t.prototype,"columnUtils",void 0),hb([he("valueService")],t.prototype,"valueService",void 0),hb([he("valueFormatterService")],t.prototype,"valueFormatterService",void 0),hb([ce],t.prototype,"init",null),t=hb([de("dataTypeService")],t),t}(lt),bb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),yb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},wb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bb(t,e),t.prototype.parseValue=function(e,t,r,o){var i=e.getColDef(),n={node:t,data:null===t||void 0===t?void 0:t.data,oldValue:o,newValue:r,colDef:i,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},s=i.valueParser;return a(s)?"function"===typeof s?s(n):this.expressionService.evaluate(s,n):r},yb([he("expressionService")],t.prototype,"expressionService",void 0),t=yb([de("valueParserService")],t),t}(lt),Cb=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Eb=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Sb=function(){function e(e,t,r){t?(this.gridOptions=t,(new Tb).create(e,t,(function(t){var r=new nv(e);t.createBean(r)}),void 0,r)):console.error("AG Grid: no gridOptions provided to the grid")}return e.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},e}(),xb=1,Tb=function(){function e(){}return e.prototype.create=function(e,t,r,o,i){var n,a=this,s=!!t.debug,l=null!==(n=t.gridId)&&void 0!==n?n:String(xb++),c=this.getRegisteredModules(i,l),u=this.createBeansList(t.rowModelType,c,l),d=this.createProvidedBeans(e,t,i);if(u){var h={providedBeanInstances:d,beanClasses:u,debug:s,gridId:l},p=new Zg("AG Grid",(function(){return t.debug})),f=new Zg("Context",(function(){return h.debug})),g=new se(h,f),v=g.getBean("beans");this.registerModuleUserComponents(v,c),this.registerStackComponents(v,c),this.registerControllers(v,c),r(g),v.ctrlsService.whenReady((function(){a.setColumnsAndData(v),a.dispatchGridReadyEvent(v);var e=ie.__isRegistered(Z.EnterpriseCoreModule,l);p.log("initialised successfully, enterprise = "+e)})),o&&o(g)}},e.prototype.registerControllers=function(e,t){t.forEach((function(t){t.controllers&&t.controllers.forEach((function(t){return e.ctrlsFactory.register(t)}))}))},e.prototype.registerStackComponents=function(e,t){var r=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(r)},e.prototype.getRegisteredModules=function(e,t){var r=e?e.modules:null,o=ie.__getRegisteredModules(t),i=[],n={},a=function(e,t,r){var o=function(t){n[t.moduleName]||(n[t.moduleName]=!0,i.push(t),ie.__register(t,e,r))};o(t),t.dependantModules&&t.dependantModules.forEach((function(t){return a(e,t,r)}))};return r&&r.forEach((function(e){return a(!0,e,t)})),o&&o.forEach((function(e){return a(!ie.__isPackageBased(),e,void 0)})),i},e.prototype.registerModuleUserComponents=function(e,t){var r=this.extractModuleEntity(t,(function(e){return e.userComponents?e.userComponents:[]}));r.forEach((function(t){e.userComponentRegistry.registerDefaultComponent(t.componentName,t.componentClass)}))},e.prototype.createProvidedBeans=function(e,t,r){var o=r?r.frameworkOverrides:null;s(o)&&(o=new Eg);var i={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,frameworkOverrides:o};return r&&r.providedBeanInstances&&Object.assign(i,r.providedBeanInstances),i},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:ia},{componentName:"AgRadioButton",componentClass:aa},{componentName:"AgToggleButton",componentClass:ff},{componentName:"AgInputTextField",componentClass:Da},{componentName:"AgInputTextArea",componentClass:vf},{componentName:"AgInputNumberField",componentClass:Pa},{componentName:"AgInputDateField",componentClass:bf},{componentName:"AgInputRange",componentClass:wf},{componentName:"AgRichSelect",componentClass:Lf},{componentName:"AgSelect",componentClass:Zn},{componentName:"AgSlider",componentClass:Nf},{componentName:"AgGridBody",componentClass:fd},{componentName:"AgHeaderRoot",componentClass:hp},{componentName:"AgSortIndicator",componentClass:rs},{componentName:"AgPagination",componentClass:tm},{componentName:"AgOverlayWrapper",componentClass:im},{componentName:"AgGroupComponent",componentClass:Vf},{componentName:"AgPanel",componentClass:Zf},{componentName:"AgDialog",componentClass:og},{componentName:"AgRowContainer",componentClass:Nd},{componentName:"AgFakeHorizontalScroll",componentClass:Bm},{componentName:"AgFakeVerticalScroll",componentClass:cb},{componentName:"AgAutocomplete",componentClass:yg}],r=this.extractModuleEntity(e,(function(e){return e.agStackComponents?e.agStackComponents:[]}));return t=t.concat(r),t},e.prototype.createBeansList=function(e,t,r){void 0===e&&(e="clientSide");var o=t.filter((function(t){return!t.rowModel||t.rowModel===e})),i={clientSide:Z.ClientSideRowModelModule,infinite:Z.InfiniteRowModelModule,serverSide:Z.ServerSideRowModelModule,viewport:Z.ViewportRowModelModule};if(i[e]){if(ie.__assertRegistered(i[e],"rowModelType = '"+e+"'",r)){var n=[nu,sm,um,Sm,yv,ac,Dl,Ov,Pv,Tp,Jl,qv,gp,ab,Xt,Jp,rc,hr,ye,ob,dg,Ig,uc,ar,ap,cf,Wp,Ug,ht,Yg,Ag,xd,Ev,zg,Qg,cr,Ap,bp,zs,Hg,Mh,wd,Uv,_g,Yp,hf,md,uv,pv,vv,Qv,wt,kv,Rp,wm,gr,Tm,_m,af,Dm,Mm,Um,Ym,Im,mb,wb],a=this.extractModuleEntity(o,(function(e){return e.beans?e.beans:[]}));n.push.apply(n,Eb([],Cb(a)));var s=[];return n.forEach((function(e){s.indexOf(e)<0&&s.push(e)})),s}}else console.error("AG Grid: could not find row model for rowModelType = "+e)},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],Eb([],Cb(e.map(t))))},e.prototype.setColumnsAndData=function(e){var t=e.gridOptionsService.get("columnDefs");e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()},e.prototype.dispatchGridReadyEvent=function(e){var t={type:gt.EVENT_GRID_READY};e.eventService.dispatchEvent(t)},e}(),kb=function(){function e(){}return e.prototype.wrap=function(e,t,r,o){var i=this;void 0===r&&(r=[]);var n=this.createWrapper(e,o);return t.forEach((function(e){i.createMethod(n,e,!0)})),r.forEach((function(e){i.createMethod(n,e,!1)})),n},e.prototype.unwrap=function(e){return e},e.prototype.createMethod=function(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))},e.prototype.createMethodProxy=function(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},e}();(function(e){e["InsideBase"]="insideBase",e["InsideEnd"]="insideEnd",e["Center"]="center",e["OutsideEnd"]="outsideEnd"})(rb||(rb={}));
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v30.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
var _b="undefined"===typeof r.g?{}:r.g;_b.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,_b.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,_b.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,_b.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,_b.Node="undefined"===typeof Node?{}:Node,_b.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var Rb,Ob=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Db=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e},Ab=function(){function e(t,r,o,i,n,a){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=r,this.eventService=o,this.columnModel=i,this.beans=a,this.selectionService=n,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()},e.prototype.getCopyOfNodesMap=function(){return on.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){var r=this;if("string"!==typeof t){this.dispatchRowDataUpdateStartedEvent(t);var o=this.rootNode,i=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?o.allLeafChildren=t.map((function(t){return r.createNode(t,r.rootNode,e.TOP_LEVEL)})):(o.allLeafChildren=[],o.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=o.childrenAfterFilter,i.childrenAfterGroup=o.childrenAfterGroup,i.childrenAfterAggFilter=o.childrenAfterAggFilter,i.childrenAfterSort=o.childrenAfterSort,i.childrenMapped=o.childrenMapped,i.allLeafChildren=o.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.updateRowData=function(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);var r={remove:[],update:[],add:[]},o=[];return this.executeRemove(e,r,o),this.executeUpdate(e,r,o),this.executeAdd(e,r),this.updateSelection(o,"rowDataChanged"),t&&on.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),r},e.prototype.dispatchRowDataUpdateStartedEvent=function(e){var t={type:gt.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:(null===e||void 0===e?void 0:e.length)?e[0]:null};this.eventService.dispatchEvent(t)},e.prototype.updateSelection=function(e,t){var r=e.length>0;if(r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),r){var o={type:gt.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(o)}},e.prototype.executeAdd=function(t,r){var o,i=this,n=t.add,a=t.addIndex;if(!on.missingOrEmpty(n)){var s=n.map((function(t){return i.createNode(t,i.rootNode,e.TOP_LEVEL)}));if("number"===typeof a&&a>=0){var l=this.rootNode.allLeafChildren,c=l.length,u=a;if(this.doingTreeData&&a>0&&c>0)for(var d=0;d<c;d++)if((null===(o=l[d])||void 0===o?void 0:o.rowIndex)==a-1){u=d+1;break}var h=l.slice(0,u),p=l.slice(u,l.length);this.rootNode.allLeafChildren=Db(Db(Db([],Ob(h)),Ob(s)),Ob(p))}else this.rootNode.allLeafChildren=Db(Db([],Ob(this.rootNode.allLeafChildren)),Ob(s));this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=s}},e.prototype.executeRemove=function(e,t,r){var o=this,i=e.remove;if(!on.missingOrEmpty(i)){var n={};i.forEach((function(e){var i=o.lookupRowNode(e);i&&(i.isSelected()&&r.push(i),i.clearRowTopAndRowIndex(),n[i.id]=!0,delete o.allNodesMap[i.id],t.remove.push(i))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(e){return!n[e.id]})),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},e.prototype.executeUpdate=function(t,r,o){var i=this,n=t.update;on.missingOrEmpty(n)||n.forEach((function(t){var n=i.lookupRowNode(t);n&&(n.updateData(t),!n.selectable&&n.isSelected()&&o.push(n),i.setMasterForRow(n,t,e.TOP_LEVEL,!1),r.update.push(n))}))},e.prototype.lookupRowNode=function(e){var t,r=this.gridOptionsService.getCallback("getRowId");if(r){var o=r({data:e,level:0});if(t=this.allNodesMap[o],!t)return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(t=this.rootNode.allLeafChildren.find((function(t){return t.data===e})),!t)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return t||null},e.prototype.createNode=function(e,t,r){var o=new Ps(this.beans);return o.group=!1,this.setMasterForRow(o,e,r,!0),t&&!this.suppressParentsInRowNodes&&(o.parent=t),o.level=r,o.setDataAndId(e,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("AG Grid: duplicate node id '"+o.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[o.id]=o,this.nextId++,o},e.prototype.setMasterForRow=function(e,t,r,o){if(this.doingTreeData)e.setMaster(!1),o&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),o){var i=this.columnModel.getRowGroupColumns(),n=i?i.length:0,a=r+n;e.expanded=!!e.master&&this.isExpanded(a)}},e.prototype.isExpanded=function(e){var t=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===t||e<t},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),Pb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Lb=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},Fb=function(e,t){for(var r=0,o=t.length,i=e.length;r<o;r++,i++)e[i]=t[r];return e};(function(e){e[e["Normal"]=0]="Normal",e[e["AfterFilter"]=1]="AfterFilter",e[e["AfterFilterAndSort"]=2]="AfterFilterAndSort",e[e["PivotNodes"]=3]="PivotNodes"})(Rb||(Rb={}));var Ib,Nb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=on.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t}return Pb(t,e),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:Zl.EVERYTHING}),t=!this.gridOptionsService.is("suppressAnimationFrame"),r=this.refreshModel.bind(this,{step:Zl.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,gt.EVENT_NEW_COLUMNS_LOADED,r),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Zl.PIVOT})),this.addManagedListener(this.eventService,gt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,gt.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var o=this.refreshModel.bind(this,{step:Zl.MAP,keepRenderedRows:!0,animate:t});this.addManagedPropertyListener("groupRemoveSingleChildren",o),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",o),this.rootNode=new Ps(this.beans),this.nodeManager=new Ab(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,t,r,o){var i,n=!1;do{i=!1;for(var a=this.getRowIndexAtPixel(e),s=this.getRowIndexAtPixel(t),l=Math.max(a,r),c=Math.min(s,o),u=l;u<=c;u++){var d=this.getRow(u);if(d.rowHeightEstimated){var h=this.gridOptionsService.getRowHeightForNode(d);d.setRowHeight(h.height),i=!0,n=!0}}i&&this.setRowTopAndRowIndex()}while(i);return n},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),t=0,r=new Set,o=this.gridOptionsService.isDomLayout("normal"),i=0;i<this.rowsToDisplay.length;i++){var n=this.rowsToDisplay[i];if(null!=n.id&&r.add(n.id),null==n.rowHeight){var a=this.gridOptionsService.getRowHeightForNode(n,o,e);n.setRowHeight(a.height,a.estimated)}n.setRowTop(t),n.setRowIndex(i),t+=n.rowHeight}return r},t.prototype.clearRowTopAndRowIndex=function(e,t){var r=e.isActive(),o=function(e){e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},i=function(e){if(o(e),o(e.detailNode),o(e.sibling),e.hasChildren()&&e.childrenAfterGroup){var t=-1==e.level,n=r&&!t&&!e.expanded;n||e.childrenAfterGroup.forEach(i)}};i(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,t,r){var o=this;void 0===r&&(r=0);var i=this.getRowIndexAtPixel(t),n=this.getRow(i),a=!this.gridOptionsService.is("suppressAnimationFrame");return n!==e[0]&&(e.forEach((function(e){on.removeFromArray(o.rootNode.allLeafChildren,e)})),e.forEach((function(e,t){on.insertIntoArray(o.rootNode.allLeafChildren,e,Math.max(i+r,0)+t)})),this.refreshModel({step:Zl.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:a}),!0)},t.prototype.highlightRowAtPixel=function(e,t){var r=null!=t?this.getRowIndexAtPixel(t):null,o=null!=r?this.getRow(r):null;if(o&&e&&o!==e&&null!=t){var i=this.getHighlightPosition(t,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(i),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,t){if(!t){var r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return Ql.Below}var o=t.rowTop,i=t.rowHeight;return e-o<i/2?Ql.Above:Ql.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var t=this.rootNode.childrenAfterAggFilter;return t?t.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return e;var r=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))while(r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0)r=r.childrenAfterSort[0];return r.rowIndex},t.prototype.getRowBounds=function(e){if(on.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Zl.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var t=this.gridOptionsService.isAnimateRows(),r=0===e.columns.length||e.columns.some((function(e){return e.isPrimary()})),o=r?Zl.FILTER:Zl.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:t})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Zl.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Zl.PIVOT}):this.refreshModel({step:Zl.AGGREGATE})},t.prototype.createChangePath=function(e){var t=on.missingOrEmpty(e),r=new Zp(!1,this.rootNode);return(t||this.gridOptionsService.isTreeData())&&r.setInactive(),r},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==e.rowNodeTransactions)return!1;var t=e.rowNodeTransactions.filter((function(e){return null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0})),r=null==t||0==t.length;return r},t.prototype.buildRefreshModelParams=function(e){var t=Zl.EVERYTHING,r={everything:Zl.EVERYTHING,group:Zl.EVERYTHING,filter:Zl.FILTER,map:Zl.MAP,aggregate:Zl.AGGREGATE,sort:Zl.SORT,pivot:Zl.PIVOT};if(on.exists(e)&&(t=r[e]),!on.missing(t)){var o=!this.gridOptionsService.is("suppressAnimationFrame"),i={step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return i}console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(r).join(", "))},t.prototype.refreshModel=function(e){var t="object"===typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(t&&!this.isSuppressModelUpdateAfterUpdateTransaction(t)){var r=this.createChangePath(t.rowNodeTransactions);switch(t.step){case Zl.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,r,!!t.afterColumnsChanged);case Zl.FILTER:this.doFilter(r);case Zl.PIVOT:this.doPivot(r);case Zl.AGGREGATE:this.doAggregate(r);case Zl.FILTER_AGGREGATES:this.doFilterAggregates(r);case Zl.SORT:this.doSort(t.rowNodeTransactions,r);case Zl.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,o);var i={type:gt.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(i)}},t.prototype.isEmpty=function(){var e=on.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return on.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return on.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,t){var r=!t,o=!1,i=[],n=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((function(a){if(!o)if(r&&(a===t||a===e)&&(o=!0,a.group&&n))i.push.apply(i,Fb([],Lb(a.allLeafChildren)));else{if(!r){if(a!==t&&a!==e)return;r=!0}var s=!a.group||!n;s&&i.push(a)}})),i},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var t=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;var o=on.last(this.rowsToDisplay);if(o.rowTop<=e)return this.rowsToDisplay.length-1;var i=-1,n=-1;while(1){var a=Math.floor((t+r)/2),s=this.rowsToDisplay[a];if(this.isRowInPixel(s,e))return a;s.rowTop<e?t=a+1:s.rowTop>e&&(r=a-1);var l=i===t&&n===r;if(l)return a;i=t,n=r}},t.prototype.isRowInPixel=function(e,t){var r=e.rowTop,o=e.rowTop+e.rowHeight,i=r<=t&&o>t;return i},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(t,r){return e(t,r)}))},t.prototype.forEachNode=function(e,t){void 0===t&&(t=!1),this.recursivelyWalkNodesAndCallback({nodes:Fb([],Lb(this.rootNode.childrenAfterGroup||[])),callback:e,recursionType:Rb.Normal,index:0,includeFooterNodes:t})},t.prototype.forEachNodeAfterFilter=function(e,t){void 0===t&&(t=!1),this.recursivelyWalkNodesAndCallback({nodes:Fb([],Lb(this.rootNode.childrenAfterAggFilter||[])),callback:e,recursionType:Rb.AfterFilter,index:0,includeFooterNodes:t})},t.prototype.forEachNodeAfterFilterAndSort=function(e,t){void 0===t&&(t=!1),this.recursivelyWalkNodesAndCallback({nodes:Fb([],Lb(this.rootNode.childrenAfterSort||[])),callback:e,recursionType:Rb.AfterFilterAndSort,index:0,includeFooterNodes:t})},t.prototype.forEachPivotNode=function(e,t){void 0===t&&(t=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:Rb.PivotNodes,index:0,includeFooterNodes:t})},t.prototype.recursivelyWalkNodesAndCallback=function(e){var t,r=e.nodes,o=e.callback,i=e.recursionType,n=e.includeFooterNodes,a=e.index,s=r[0];n&&(null===(t=null===s||void 0===s?void 0:s.parent)||void 0===t?void 0:t.sibling)&&r.push(s.parent.sibling);for(var l=0;l<r.length;l++){var c=r[l];if(o(c,a++),c.hasChildren()&&!c.footer){var u=null;switch(i){case Rb.Normal:u=c.childrenAfterGroup;break;case Rb.AfterFilter:u=c.childrenAfterAggFilter;break;case Rb.AfterFilterAndSort:u=c.childrenAfterSort;break;case Rb.PivotNodes:u=c.leafGroup?null:c.childrenAfterSort;break}u&&(a=this.recursivelyWalkNodesAndCallback({nodes:Fb([],Lb(u)),callback:o,recursionType:i,index:a,includeFooterNodes:n}))}}return a},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsService.isTreeData(),r=this.columnModel.isPivotActive(),o=function(i){i&&i.forEach((function(i){var n=function(){i.expanded=e,o(i.childrenAfterGroup)};if(t){var a=on.exists(i.childrenAfterGroup);a&&n()}else if(r){var s=!i.leafGroup;s&&n()}else{var l=i.group;l&&n()}}))};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Zl.MAP});var i=e?"expandAll":"collapseAll",n={type:gt.EVENT_EXPAND_COLLAPSE_ALL,source:i};this.eventService.dispatchEvent(n)},t.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},t.prototype.doRowGrouping=function(e,t,r,o,i){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:r,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:i}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")){var n=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o);if(n){var a={type:gt.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(a)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()},t.prototype.restoreGroupState=function(e){e&&on.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,r){"boolean"===typeof e[r]&&(t.expanded=e[r])}))},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var e={};return on.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,r){return e[r]=t.expanded})),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){var t="string"==typeof e&&0==e.indexOf(Ps.ID_PREFIX_ROW_GROUP);if(t){var r=void 0;return this.forEachNode((function(t){t.id===e&&(r=t)})),r}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var r={type:gt.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(r),this.refreshModel({step:Zl.EVERYTHING,groupState:t,newData:!0})},t.prototype.batchUpdateRowData=function(e,t){var r=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){r.executeBatchUpdateRowData()}),o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],r=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(i){var n=e.nodeManager.updateRowData(i.rowDataTransaction,void 0);r.push(n),i.callback&&t.push(i.callback.bind(null,n)),"number"===typeof i.rowDataTransaction.addIndex&&(o=!0)})),this.commonUpdateRowData(r,void 0,o),t.length>0&&window.setTimeout((function(){t.forEach((function(e){return e()}))}),0),r.length>0){var i={type:gt.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r};this.eventService.dispatchEvent(i)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var r=this.nodeManager.updateRowData(e,t),o="number"===typeof e.addIndex;return this.commonUpdateRowData([r],t,o),r},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsService.is("suppressMaintainUnsortedOrder");if(!e){var t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var r=0;r<this.rootNode.allLeafChildren.length;r++){var o=this.rootNode.allLeafChildren[r];t[o.id]=r}return t}},t.prototype.commonUpdateRowData=function(e,t,r){var o=!this.gridOptionsService.is("suppressAnimationFrame");r&&(t=this.createRowNodeOrder()),this.refreshModel({step:Zl.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var i={type:gt.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(i)},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:Zl.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode((function(t){t.setRowHeight(t.rowHeight,!0);var r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0})),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},Mb([he("columnModel")],t.prototype,"columnModel",void 0),Mb([he("selectionService")],t.prototype,"selectionService",void 0),Mb([he("filterManager")],t.prototype,"filterManager",void 0),Mb([he("valueCache")],t.prototype,"valueCache",void 0),Mb([he("beans")],t.prototype,"beans",void 0),Mb([he("filterStage")],t.prototype,"filterStage",void 0),Mb([he("sortStage")],t.prototype,"sortStage",void 0),Mb([he("flattenStage")],t.prototype,"flattenStage",void 0),Mb([pe("groupStage")],t.prototype,"groupStage",void 0),Mb([pe("aggregationStage")],t.prototype,"aggregationStage",void 0),Mb([pe("pivotStage")],t.prototype,"pivotStage",void 0),Mb([pe("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Mb([ce],t.prototype,"init",null),t=Mb([de("rowModel")],t),t}(lt),Hb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Vb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hb(t,e),t.prototype.execute=function(e){var t=e.changedPath;this.filterService.filter(t)},Gb([he("filterService")],t.prototype,"filterService",void 0),t=Gb([de("filterStage")],t),t}(lt),zb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},jb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zb(t,e),t.prototype.execute=function(e){var t=this,r=this.sortController.getSortOptions(),o=on.exists(r)&&r.length>0,i=o&&on.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),n=r.some((function(e){return!!t.columnModel.getGroupDisplayColumnForGroup(e.column.getId())}));this.sortService.sort(r,o,i,e.rowNodeTransactions,e.changedPath,n)},Bb([he("sortService")],t.prototype,"sortService",void 0),Bb([he("sortController")],t.prototype,"sortController",void 0),Bb([he("columnModel")],t.prototype,"columnModel",void 0),t=Bb([de("sortStage")],t),t}(lt),Wb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ub=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},$b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wb(t,e),t.prototype.execute=function(e){var t=e.rowNode,r=[],o={value:0},i=this.columnModel.isPivotMode(),n=i&&t.leafGroup,a=n?[t]:t.childrenAfterSort;this.recursivelyAddToRowsToDisplay(a,r,o,i,0);var s=r.length>0,l=!n&&s&&this.gridOptionsService.is("groupIncludeTotalFooter");return l&&(t.createFooter(),this.addRowNodeToRowsToDisplay(t.sibling,r,o,0)),r},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,r,o,i){if(!on.missingOrEmpty(e))for(var n=this.gridOptionsService.is("groupHideOpenParents"),a=this.gridOptionsService.is("groupRemoveSingleChildren"),s=!a&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),l=0;l<e.length;l++){var c=e[l],u=c.hasChildren(),d=o&&!u,h=a&&u&&1===c.childrenAfterGroup.length,p=s&&u&&c.leafGroup&&1===c.childrenAfterGroup.length,f=o&&c.leafGroup,g=n&&c.expanded&&!c.master&&!f,v=!d&&!g&&!h&&!p;if(v&&this.addRowNodeToRowsToDisplay(c,t,r,i),!o||!c.leafGroup)if(u){var m=h||p;if(c.expanded||m){var b=m?i:i+1;this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,t,r,o,b),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(c.sibling,t,r,b)}}else if(c.master&&c.expanded){var y=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(y,t,r,i)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,r,o){var i=this.gridOptionsService.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(i?0:o)},t.prototype.createDetailNode=function(e){if(on.exists(e.detailNode))return e.detailNode;var t=new Ps(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,on.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t},Ub([he("columnModel")],t.prototype,"columnModel",void 0),Ub([he("beans")],t.prototype,"beans",void 0),t=Ub([de("flattenStage")],t),t}(lt),Kb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Yb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},qb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kb(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")},t.prototype.sort=function(e,t,r,o,i,n){var a=this,s=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some((function(e){return e.isRowGroupActive()})),c={};r&&o&&(c=this.calculateDirtyNodes(o));var u=this.columnModel.isPivotMode(),d=function(o){a.pullDownGroupDataForHideOpenParents(o.childrenAfterAggFilter,!0);var d=u&&o.leafGroup,h=s&&l&&!o.leafGroup&&!n;if(h){var p=o.childrenAfterAggFilter.slice(0);if(o.childrenAfterSort){var f={};o.childrenAfterSort.forEach((function(e,t){f[e.id]=t})),p.sort((function(e,t){var r,o;return(null!==(r=f[e.id])&&void 0!==r?r:0)-(null!==(o=f[t.id])&&void 0!==o?o:0)}))}o.childrenAfterSort=p}else o.childrenAfterSort=!t||d?o.childrenAfterAggFilter.slice(0):r?a.doDeltaSort(o,c,i,e):a.rowNodeSorter.doFullSort(o.childrenAfterAggFilter,e);if(o.sibling&&(o.sibling.childrenAfterSort=o.childrenAfterSort),a.updateChildIndexes(o),a.postSortFunc){var g={nodes:o.childrenAfterSort};a.postSortFunc(g)}};i&&i.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(i)},t.prototype.calculateDirtyNodes=function(e){var t={},r=function(e){e&&e.forEach((function(e){return t[e.id]=!0}))};return e&&e.forEach((function(e){r(e.add),r(e.update),r(e.remove)})),t},t.prototype.doDeltaSort=function(e,t,r,o){var i=this,n=e.childrenAfterAggFilter,a=e.childrenAfterSort;if(!a)return this.rowNodeSorter.doFullSort(n,o);var s={},l=[];n.forEach((function(e){t[e.id]||!r.canSkip(e)?l.push(e):s[e.id]=!0}));var c=a.filter((function(e){return s[e.id]})),u=function(e,t){return{currentPos:t,rowNode:e}},d=l.map(u).sort((function(e,t){return i.rowNodeSorter.compareRowNodes(o,e,t)}));return this.mergeSortedArrays(o,d,c.map(u)).map((function(e){var t=e.rowNode;return t}))},t.prototype.mergeSortedArrays=function(e,t,r){var o=[],i=0,n=0;while(i<t.length&&n<r.length){var a=this.rowNodeSorter.compareRowNodes(e,t[i],r[n]);a<0?o.push(t[i++]):o.push(r[n++])}while(i<t.length)o.push(t[i++]);while(n<r.length)o.push(r[n++]);return o},t.prototype.updateChildIndexes=function(e){if(!on.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,r=0;r<t.length;r++){var o=t[r],i=0===r,n=r===e.childrenAfterSort.length-1;o.setFirstChild(i),o.setLastChild(n),o.setChildIndex(r)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var t=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.isTreeData()){var r="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return on.doOnce((function(){return console.warn(r)}),"sortService.hideOpenParentsWithTreeData"),!1}var o=function(e){t.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach((function(e){e.hasChildren()&&o(e)}))};e&&e.executeFromRootNode((function(e){return o(e)}))}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var r=this;this.gridOptionsService.is("groupHideOpenParents")&&!on.missing(e)&&e.forEach((function(e){var o=r.columnModel.getGroupDisplayColumns();o.forEach((function(o){var i=o.getColDef().showRowGroup;if("string"===typeof i){var n=i,a=r.columnModel.getPrimaryColumn(n),s=a===e.rowGroupColumn;if(!s)if(t)e.setGroupValue(o.getId(),void 0);else{var l=e.getFirstChildOfFirstChild(a);l&&e.setGroupValue(o.getId(),l.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},Yb([he("columnModel")],t.prototype,"columnModel",void 0),Yb([he("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Yb([ce],t.prototype,"init",null),t=Yb([de("sortService")],t),t}(lt),Xb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Jb=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Qb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xb(t,e),t.prototype.filter=function(e){var t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var r=this,o=function(t,o){t.hasChildren()?t.childrenAfterFilter=e&&!o?t.childrenAfterGroup.filter((function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,o=e.data&&r.filterManager.doesRowPassFilter({rowNode:e});return t||o})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var i=function(e,t){if(e.childrenAfterGroup)for(var n=0;n<e.childrenAfterGroup.length;n++){var a=e.childrenAfterGroup[n],s=t||r.filterManager.doesRowPassFilter({rowNode:a});a.childrenAfterGroup?i(e.childrenAfterGroup[n],s):o(a,s)}o(e,t)},n=function(e){return i(e,!1)};t.executeFromRootNode(n)}else{var a=function(e){return o(e,!1)};t.forEachChangedNodeDepthFirst(a,!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},Jb([he("filterManager")],t.prototype,"filterManager",void 0),t=Jb([de("filterService")],t),t}(lt),Zb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ey=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ty=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(o=n.next()).done)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return a},ry=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zb(t,e),t.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId"),t=this.gridOptionsService.is("resetRowDataOnUpdate");return!t&&e},t.prototype.setRowData=function(e){var t=this.createTransactionForRowData(e);if(t){var r=ty(t,2),o=r[0],i=r[1];this.clientSideRowModel.updateRowData(o,i)}},t.prototype.createTransactionForRowData=function(e){if(on.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsService.getCallback("getRowId");if(null!=t){var r={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),i=this.gridOptionsService.is("suppressMaintainUnsortedOrder"),n=i?void 0:{};return on.exists(e)&&e.forEach((function(e,i){var a=t({data:e,level:0}),s=o[a];if(n&&(n[a]=i),s){var l=s.data!==e;l&&r.update.push(e),o[a]=void 0}else r.add.push(e)})),on.iterateObject(o,(function(e,t){t&&r.remove.push(t.data)})),[r,n]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},ey([he("rowModel")],t.prototype,"rowModel",void 0),ey([he("rowRenderer")],t.prototype,"rowRenderer",void 0),ey([ce],t.prototype,"postConstruct",null),t=ey([de("immutableService")],t),t}(lt),oy="30.1.0",iy={version:oy,moduleName:Z.ClientSideRowModelModule,rowModel:"clientSide",beans:[Nb,Vb,jb,$b,qb,Qb,ry]},ny=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ay=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},sy=function(e){function t(t,r,o){var i=e.call(this,t)||this;return i.parentCache=r,i.params=o,i.startRow=t*o.blockSize,i.endRow=i.startRow+o.blockSize,i}return ny(t,e),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,t,r){on.exists(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();on.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((function(){e.params.datasource.getRows(t)}),0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context};return e},t.prototype.forEachNode=function(e,t,r){var o=this;this.rowNodes.forEach((function(i,n){var a=o.startRow+n;a<r&&e(i,t.next())}))},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,t){void 0===t&&(t=!1),t||(this.lastAccessed=this.params.lastAccessedSequence.next());var r=e-this.startRow;return this.rowNodes[r]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var t=this.startRow+e,r=new Ps(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(t),r.setRowTop(this.params.rowHeight*t),this.rowNodes.push(r)}},t.prototype.processServerResult=function(e){var t=this;this.rowNodes.forEach((function(r,o){var i=e.rowData?e.rowData[o]:void 0;!r.id&&r.alreadyRendered&&i&&(t.rowNodes[o]=new Ps(t.beans),t.rowNodes[o].setRowIndex(r.rowIndex),t.rowNodes[o].setRowTop(r.rowTop),r.clearRowTopAndRowIndex()),t.setDataAndId(t.rowNodes[o],i,t.startRow+o)}));var r=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(e){e.clearRowTopAndRowIndex()}))},ay([he("beans")],t.prototype,"beans",void 0),ay([ce],t.prototype,"postConstruct",null),ay([ue],t.prototype,"destroyRowNodes",null),t}(tf),ly=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),cy=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},uy=function(e,t){return function(r,o){t(r,o,e)}},dy=function(e){function t(t){var r=e.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=t.initialRowCount,r.params=t,r}return ly(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var r=Math.floor(e/this.params.blockSize),o=this.blocks[r];if(!o){if(t)return;o=this.createBlock(r)}return o.getRow(e)},t.prototype.createBlock=function(e){var t=this.createBean(new sy(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t},t.prototype.refreshCache=function(){var e=0==this.blockCount;e?this.purgeCache():(this.getBlocksInOrder().forEach((function(e){return e.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.destroyBlock(t)}))},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,t){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t),this.checkRowCount(e,t),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,o=this.getBlocksInOrder().filter((function(t){return t!=e})),i=function(e,t){return t.getLastAccessed()-e.getLastAccessed()};o.sort(i);var n=this.params.maxBlocksInCache>0,a=n?this.params.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach((function(e,t){var o=e.getState()===sy.STATE_WAITING_TO_LOAD&&t>=s,i=!!n&&t>=a;if(o||i){if(r.isBlockCurrentlyDisplayed(e))return;if(r.isBlockFocused(e))return;r.removeBlockFromCache(e)}}))},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var r=e.getStartRow(),o=e.getEndRow(),i=t.rowIndex>=r&&t.rowIndex<o;return i},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,r)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(e.getId()+1)*this.params.blockSize,o=r+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,t){this.rowCount=e,on.exists(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var t=this,r=new nn;this.getBlocksInOrder().forEach((function(o){return o.forEachNode(e,r,t.rowCount)}))},t.prototype.getBlocksInOrder=function(){var e=function(e,t){return e.getId()-t.getId()},t=on.getAllValuesInObject(this.blocks).sort(e);return t},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:gt.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach((function(r){var o=r.getId()*e.params.blockSize;o>=e.rowCount&&t.push(r)})),t.length>0&&t.forEach((function(t){return e.destroyBlock(t)}))},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.removeBlockFromCache(t)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var r=this,o=[],i=-1,n=!1,a=new nn;on.missing(e)&&(n=!0);var s=!1;this.getBlocksInOrder().forEach((function(l){s||(n&&i+1!==l.getId()?s=!0:(i=l.getId(),l.forEachNode((function(r){var i=r===e||r===t;(n||i)&&o.push(r),i&&(n=!n)}),a,r.rowCount)))}));var l=s||n;return l?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,cy([he("rowRenderer")],t.prototype,"rowRenderer",void 0),cy([he("focusService")],t.prototype,"focusService",void 0),cy([uy(0,ge("loggerFactory"))],t.prototype,"setBeans",null),cy([ue],t.prototype,"destroyAllBlocks",null),t}(lt),hy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),py=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},fy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hy(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,r,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return e.destroyCache()})),this.verifyProps())},t.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")){var e="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";on.doOnce((function(){return console.warn(e)}),"IRM.InitialGroupOrderComparator")}},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,gt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,gt.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){var e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()},t.prototype.isSortModelDifferent=function(){return!on.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(this.datasource){var e=this.gridOptionsService.getCallback("getRowId"),t=null!=e;t||this.selectionService.reset(),this.resetCache();var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)}},t.prototype.createModelUpdatedEvent=function(){return{type:gt.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new nn},this.infiniteCache=this.createBean(new dy(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,t){return e>0?e:t},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var t;return this.forEachNode((function(r){r.id===e&&(t=r)})),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){var t=this.getRowNode(e.id);return!!t},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)},py([he("filterManager")],t.prototype,"filterManager",void 0),py([he("sortController")],t.prototype,"sortController",void 0),py([he("selectionService")],t.prototype,"selectionService",void 0),py([he("rowRenderer")],t.prototype,"rowRenderer",void 0),py([he("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),py([ce],t.prototype,"init",null),py([ue],t.prototype,"destroyDatasource",null),t=py([de("rowModel")],t),t}(lt),gy="30.1.0",vy={version:gy,moduleName:Z.InfiniteRowModelModule,rowModel:"infinite",beans:[fy]},my=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?e+"."+t:e},e.prototype.getData=function(e){var t=this.createSerializingSession(e),r=this.beans.gridSerializer.serialize(t,e);return r},e}(),by=function(){function e(e){this.groupColumns=[];var t=e.columnModel,r=e.valueService,o=e.gridOptionsService,i=e.valueFormatterService,n=e.valueParserService,a=e.processCellCallback,s=e.processHeaderCallback,l=e.processGroupHeaderCallback,c=e.processRowGroupCallback;this.columnModel=t,this.valueService=r,this.gridOptionsService=o,this.valueFormatterService=i,this.valueParserService=n,this.processCellCallback=a,this.processHeaderCallback=s,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}return e.prototype.prepare=function(e){this.groupColumns=e.filter((function(e){return!!e.getColDef().showRowGroup}))},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,r,o,i){var n=this.gridOptionsService.is("groupHideOpenParents"),a=n&&!i.footer||!this.shouldRenderGroupSummaryCell(i,e,t)?this.valueService.getValue(e,i):this.createValueForGroupNode(i),s=this.processCell({accumulatedRowIndex:r,rowNode:i,column:e,value:a,processCellCallback:this.processCellCallback,type:o});return s},e.prototype.shouldRenderGroupSummaryCell=function(e,t,r){var o,i=e&&e.group;if(!i)return!1;var n=this.groupColumns.indexOf(t);if(-1!==n){if(null!=(null===(o=e.groupData)||void 0===o?void 0:o[t.getId()]))return!0;if(e.footer&&-1===e.level){var a=t.getColDef(),s=null==a||!0===a.showRowGroup;return s||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var l=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===r&&l},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var t=e.footer,r=[e.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())while(e.parent)e=e.parent,r.push(e.key);var o=r.reverse().join(" -> ");return t?"Total "+o:o},e.prototype.processCell=function(e){var t,r=this,o=e.accumulatedRowIndex,i=e.rowNode,n=e.column,a=e.value,s=e.processCellCallback,l=e.type;return s?{value:null!==(t=s({accumulatedRowIndex:o,column:n,node:i,value:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:l,parseValue:function(e){return r.valueParserService.parseValue(n,i,e,r.valueService.getValue(n,i))},formatValue:function(e){var t;return null!==(t=r.valueFormatterService.formatValue(n,i,e))&&void 0!==t?t:e}}))&&void 0!==t?t:""}:n.getColDef().useValueFormatterForExport?{value:null!==a&&void 0!==a?a:"",valueFormatted:this.valueFormatterService.formatValue(n,i,a)}:{value:null!==a&&void 0!==a?a:""}},e}(),yy=function(){function e(){}return e.download=function(e,t){var r=document.defaultView||window;if(r){var o=document.createElement("a"),i=r.URL.createObjectURL(t);o.setAttribute("href",i),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(o),r.setTimeout((function(){r.URL.revokeObjectURL(i)}),0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},e}(),wy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Cy="\r\n",Ey=function(e){function t(t){var r=e.call(this,t)||this;r.isFirstLine=!0,r.result="";var o=t.suppressQuotes,i=t.columnSeparator;return r.suppressQuotes=o,r.columnSeparator=i,r}return wy(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Cy),this.result+=e):e.forEach((function(e){t.beginNewLine(),e.forEach((function(e,r){0!==r&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)}))})))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,r){var o;0!=t&&(this.result+=this.columnSeparator);var i=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(null!==(o=i.valueFormatted)&&void 0!==o?o:i.value)},t.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(null===e||void 0===e)return'""';var t;"string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t="");var r=t.replace(/"/g,'""');return'"'+r+'"'},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=Cy),this.isFirstLine=!1},t}(by),Sy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xy=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ty=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sy(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var t=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},t,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParams(e),r=this.getData(t),o=new Blob(["\ufeff",r],{type:"text/plain"});return yy.download(this.getFileName(t.fileName),o),r},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e,t){void 0===t&&(t=!1);var r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this,r=t.columnModel,o=t.valueService,i=t.gridOptionsService,n=t.valueFormatterService,a=t.valueParserService,s=e,l=s.processCellCallback,c=s.processHeaderCallback,u=s.processGroupHeaderCallback,d=s.processRowGroupCallback,h=s.suppressQuotes,p=s.columnSeparator;return new Ey({columnModel:r,valueService:o,gridOptionsService:i,valueFormatterService:n,valueParserService:a,processCellCallback:l||void 0,processHeaderCallback:c||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:h||!1,columnSeparator:p||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},xy([he("columnModel")],t.prototype,"columnModel",void 0),xy([he("valueService")],t.prototype,"valueService",void 0),xy([he("gridSerializer")],t.prototype,"gridSerializer",void 0),xy([he("gridOptionsService")],t.prototype,"gridOptionsService",void 0),xy([he("valueFormatterService")],t.prototype,"valueFormatterService",void 0),xy([he("valueParserService")],t.prototype,"valueParserService",void 0),xy([ce],t.prototype,"postConstruct",null),t=xy([de("csvCreator")],t),t}(my),ky=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_y=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};(function(e){e[e["HEADER_GROUPING"]=0]="HEADER_GROUPING",e[e["HEADER"]=1]="HEADER",e[e["BODY"]=2]="BODY"})(Ib||(Ib={}));var Ry=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ky(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var r=this.getColumnsToExport(t.allColumns,t.columnKeys),o=on.compose(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t));return o(e).parse()},t.prototype.processRow=function(e,t,r,o){var i=t.shouldRowBeSkipped||function(){return!1},n=this.gridOptionsService.context,a=this.gridOptionsService.api,s=this.gridOptionsService.columnApi,l=this.gridOptionsService.is("groupRemoveSingleChildren"),c=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),u=null!=t.rowPositions,d=u||!!t.onlySelected,h=this.gridOptionsService.is("groupHideOpenParents")&&!d,p=this.columnModel.isPivotMode()?o.leafGroup:!o.group,f=!!o.footer,g=t.skipGroups||t.skipRowGroups,v=c&&o.leafGroup,m=1===o.allChildrenCount&&(l||v);if(g&&t.skipGroups&&on.doOnce((function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")}),"gridSerializer-skipGroups"),!(!p&&!f&&(t.skipRowGroups||m||h)||t.onlySelected&&!o.isSelected()||t.skipPinnedTop&&"top"===o.rowPinned||t.skipPinnedBottom&&"bottom"===o.rowPinned)){var b=-1===o.level;if(!b||p||f){var y=i({node:o,api:a,columnApi:s,context:n});if(!y){var w=e.onNewBodyRow(o);if(r.forEach((function(e,t){w.onColumn(e,t,o)})),t.getCustomContentBelowRow){var C=t.getCustomContentBelowRow({node:o,api:a,columnApi:s,context:n});C&&e.addCustomContent(C)}}}}},t.prototype.appendContent=function(e){return function(t){var r=e.customFooter||e.appendContent;return r&&(e.customFooter&&on.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")}),"gridSerializer-customFooter"),t.addCustomContent(r)),t}},t.prototype.prependContent=function(e){return function(t){var r=e.customHeader||e.prependContent;return r&&(e.customHeader&&on.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")}),"gridSerializer-customHeader"),t.addCustomContent(r)),t}},t.prototype.prepareSession=function(e){return function(t){return t.prepare(e),t}},t.prototype.exportColumnGroups=function(e,t){var r=this;return function(o){if(e.skipColumnGroupHeaders)e.columnGroups&&on.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")}),"gridSerializer-columnGroups");else{var i=new vt,n=r.displayedGroupCreator.createDisplayedGroups(t,i,null);r.recursivelyAddHeaderGroups(n,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,t){return function(r){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&on.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")}),"gridSerializer-skipHeader");else{var o=r.onNewHeaderRow();t.forEach((function(e,t){o.onColumn(e,t,void 0)}))}return r}},t.prototype.processPinnedTopRows=function(e,t){var r=this;return function(o){var i=r.processRow.bind(r,o,e,t);return e.rowPositions?e.rowPositions.filter((function(e){return"top"===e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return r.pinnedRowModel.getPinnedTopRow(e.rowIndex)})).forEach(i):r.pinnedRowModel.forEachPinnedTopRow(i),o}},t.prototype.processRows=function(e,t){var r=this;return function(o){var i=r.rowModel,n=i.getType(),a="clientSide"===n,s="serverSide"===n,l=!a&&e.onlySelected,c=r.processRow.bind(r,o,e,t),u=e.exportedRows,d=void 0===u?"filteredAndSorted":u;if(e.rowPositions)e.rowPositions.filter((function(e){return null==e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return i.getRow(e.rowIndex)})).forEach(c);else if(r.columnModel.isPivotMode())a?i.forEachPivotNode(c,!0):i.forEachNode(c);else if(e.onlySelectedAllPages||l){var h=r.selectionService.getSelectedNodes();r.replicateSortedOrder(h),h.forEach(c)}else"all"===d?i.forEachNode(c):a?i.forEachNodeAfterFilterAndSort(c,!0):s?i.forEachNodeAfterFilterAndSort(c):i.forEachNode(c);return o}},t.prototype.replicateSortedOrder=function(e){var t=this,r=this.sortController.getSortOptions(),o=function(e,i){var n,a,s,l;return null!=e.rowIndex&&null!=i.rowIndex?e.rowIndex-i.rowIndex:e.level===i.level?(null===(n=e.parent)||void 0===n?void 0:n.id)===(null===(a=i.parent)||void 0===a?void 0:a.id)?t.rowNodeSorter.compareRowNodes(r,{rowNode:e,currentPos:null!==(s=e.rowIndex)&&void 0!==s?s:-1},{rowNode:i,currentPos:null!==(l=i.rowIndex)&&void 0!==l?l:-1}):o(e.parent,i.parent):e.level>i.level?o(e.parent,i):o(e,i.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,t){var r=this;return function(o){var i=r.processRow.bind(r,o,e,t);return e.rowPositions?e.rowPositions.filter((function(e){return"bottom"===e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return r.pinnedRowModel.getPinnedBottomRow(e.rowIndex)})).forEach(i):r.pinnedRowModel.forEachPinnedBottomRow(i),o}},t.prototype.getColumnsToExport=function(e,t){void 0===e&&(e=!1);var r=this.columnModel.isPivotMode();if(t&&t.length)return this.columnModel.getGridColumns(t);if(e&&!r){var o=this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([yt]):[];return o.concat(this.columnModel.getAllGridColumns()||[])}return this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,t,r){var o=[];e.forEach((function(e){var t=e;t.getChildren&&t.getChildren().forEach((function(e){return o.push(e)}))})),e.length>0&&e[0]instanceof ft&&this.doAddHeaderHeader(t,e,r),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,t,r)},t.prototype.doAddHeaderHeader=function(e,t,r){var o=this,i=e.onNewHeaderGroupingRow(),n=0;t.forEach((function(e){var t,a=e;t=r?r({columnGroup:a,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):o.columnModel.getDisplayNameForColumnGroup(a,"header");var s=a.getLeafColumns().reduce((function(e,t,r,o){var i=on.last(e),n="open"===t.getColumnGroupShow();return n?i&&null==i[1]||(i=[r],e.push(i)):i&&null==i[1]&&(i[1]=r-1),r===o.length-1&&i&&null==i[1]&&(i[1]=r),e}),[]);i.onColumn(a,t||"",n++,a.getLeafColumns().length-1,s)}))},_y([he("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),_y([he("columnModel")],t.prototype,"columnModel",void 0),_y([he("rowModel")],t.prototype,"rowModel",void 0),_y([he("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),_y([he("selectionService")],t.prototype,"selectionService",void 0),_y([he("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),_y([he("sortController")],t.prototype,"sortController",void 0),t=_y([de("gridSerializer")],t),t}(lt),Oy="30.1.0",Dy={version:Oy,moduleName:Z.CsvExportModule,beans:[Ty,Ry]},Ay="\r\n",Py=(function(){function e(){}e.createHeader=function(e){void 0===e&&(e={});var t="<?",r="?>",o=["version"];e.version||(e.version="1.0"),e.encoding&&o.push("encoding"),e.standalone&&o.push("standalone");var i=o.map((function(t){return t+'="'+e[t]+'"'})).join(" ");return t+"xml "+i+" "+r},e.createXml=function(e,t){var r=this,o="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((function(e){Object.keys(e.map).forEach((function(i){o+=r.returnAttributeIfPopulated(e.prefix+i,e.map[i],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((function(i){o+=r.returnAttributeIfPopulated(i,e.properties.rawMap[i],t)})));var i="<"+e.name+o;return e.children||null!=e.textNode?null!=e.textNode?i+">"+e.textNode+"</"+e.name+">"+Ay:(i+=">"+Ay,e.children&&e.children.forEach((function(e){i+=r.createXml(e,t)})),i+"</"+e.name+">"+Ay):i+"/>"+Ay},e.returnAttributeIfPopulated=function(e,t,r){if(!t&&""!==t&&0!==t)return"";var o=t;return"boolean"===typeof t&&r&&(o=r(t))," "+e+'="'+o+'"'}}(),function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),My=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Ly=(function(){function e(){}e.addFolders=function(e){e.forEach(this.addFolder.bind(this))},e.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},e.addFile=function(e,t,r){void 0===r&&(r=!1),this.files.push({path:e,created:new Date,content:t,isBase64:r})},e.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),r=this.buildUint8Array(t);return this.clearStream(),new Blob([r],{type:e})},e.clearStream=function(){this.folders=[],this.files=[]},e.buildFileStream=function(e){var t,r;void 0===e&&(e="");var o=this.folders.concat(this.files),i=o.length,n="",a=0,s=0;try{for(var l=Py(o),c=l.next();!c.done;c=l.next()){var u=c.value,d=this.getHeader(u,a),h=d.fileHeader,p=d.folderHeader,f=d.content;a+=h.length+f.length,s+=p.length,e+=h+f,n+=p}}catch(v){t={error:v}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}var g=this.buildFolderEnd(i,s,a);return e+n+g},e.getHeader=function(e,t){var r=e.content,o=e.path,i=e.created,n=e.isBase64,a=on.utf8_encode,s=on.decToHex,l=a(o),c=l!==o,u=this.convertTime(i),d=this.convertDate(i),h="";if(c){var p=s(1,1)+s(this.getFromCrc32Table(l),4)+l;h="up"+s(p.length,2)+p}var f=r?this.getConvertedContent(r,n):{size:0,content:""},g=f.size,v=f.content,m="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+s(u,2)+s(d,2)+s(g?this.getFromCrc32Table(v):0,4)+s(g,4)+s(g,4)+s(l.length,2)+s(h.length,2),b="PK"+m+l+h,y="PK\0"+m+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\0\0\0")+s(t,4)+l+h;return{fileHeader:b,folderHeader:y,content:v||""}},e.getConvertedContent=function(e,t){return void 0===t&&(t=!1),t&&(e=e.split(";base64,")[1]),e=t?atob(e):e,{size:e.length,content:e}},e.buildFolderEnd=function(e,t,r){var o=on.decToHex;return"PK\0\0\0\0"+o(e,2)+o(e,2)+o(t,4)+o(r,4)+"\0\0"},e.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return t},e.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,r=new Uint8Array(t),o=0;o<t;o++)r[o]=e.charCodeAt(o);var i=-1,n=0,a=0,s=0;for(o=0;o<t;o++)n=r[o],a=255&(i^n),s=My[a],i=i>>>8^s;return-1^i},e.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t},e.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t},e.folders=[],e.files=[]}(),[iy,vy,Dy]);ie.registerModules(Ly);var Fy=r(9242);class Iy{static getComponentDefinition(e,t){let r;return r="string"===typeof e?this.searchForComponentInstance(t,e):{extends:(0,o.aZ)(Object.assign({},e))},r||console.error(`Could not find component with name of ${e}. Is it in Vue.components?`),r.extends?(r.extends.setup&&(r.setup=r.extends.setup),r.extends.props=this.addParamsToProps(r.extends.props)):r.props=this.addParamsToProps(r.props),r}static addParamsToProps(e){return!e||Array.isArray(e)&&-1===e.indexOf("params")?e=["params",...e||[]]:"object"!==typeof e||e.params||(e["params"]={type:Object}),e}static createAndMountComponent(e,t,r,o){const i=Iy.getComponentDefinition(e,r);if(!i)return;const{vNode:n,destroy:a,el:s}=this.mount(i,{params:Object.freeze(t)},r,o||{});return{componentInstance:n.component.proxy,element:s,destroy:a}}static mount(e,t,r,i){let n=(0,o.Wm)(e,t);n.appContext=r.$.appContext,n.appContext.provides=Object.assign(Object.assign(Object.assign({},i),n.appContext.provides?n.appContext.provides:{}),r.$parent.$options.provide?r.$parent.$options.provide:{});let a=document.createElement("div");(0,Fy.sY)(n,a);const s=()=>{a&&(0,Fy.sY)(null,a),a=null,n=null};return{vNode:n,destroy:s,el:a}}static searchForComponentInstance(e,t,r=10,o=!1){let i=null,n=e.$parent,a=0;while(!i&&n&&n.$options&&++a<r){const e=n;i=e.$options&&e.$options.components?e.$options.components[t]:null,n=n.$parent}if(!i){const r=e.$.appContext.components;r&&r[t]&&(i=r[t])}return i||o?i:(console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),null)}}class Ny extends kb{constructor(e,t){super(),this.parent=e,Ny.provides||(Ny.provides=t)}createWrapper(e){const t=this;class r extends Hy{init(e){super.init(e)}hasMethod(e){return null!=o.getFrameworkComponentInstance()[e]}callMethod(e,t){const r=this.getFrameworkComponentInstance(),i=o.getFrameworkComponentInstance();return i[e].apply(r,t)}addMethod(e,t){o[e]=t}overrideProcessing(e){return t.parent.autoParamsRefresh&&"refresh"===e}processMethod(e,t){return"refresh"===e&&(this.getFrameworkComponentInstance().params=t[0]),this.hasMethod(e)?this.callMethod(e,t):"refresh"===e}createComponent(r){return t.createComponent(e,r)}}const o=new r;return o}createComponent(e,t){return Iy.createAndMountComponent(e,t,this.parent,Ny.provides)}createMethodProxy(e,t,r){return function(){return e.overrideProcessing(t)?e.processMethod(t,arguments):e.hasMethod(t)?e.callMethod(t,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}destroy(){this.parent=null}}class Hy{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&"function"===typeof this.getFrameworkComponentInstance().destroy&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){const{componentInstance:t,element:r,destroy:o}=this.createComponent(e);this.componentInstance=t,this.unmount=o,this.element=r.firstElementChild}}const Gy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vy=e=>`on${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`,zy=()=>{const e={},t=Vt.PUBLIC_EVENTS.map((e=>Vy(Gy(e))));t.forEach((t=>e[t]=void 0));const r={};return Vt.ALL_PROPERTIES.filter((e=>"gridOptions"!=e)).forEach((t=>{e[t]={},r[t]={handler(e,r){this.processChanges(t,e,r)},deep:"popupParent"!==t&&"context"!==t}})),[e,r]};class By extends Eg{constructor(e){super(),this.parent=e}frameworkComponent(e,t){let r=Iy.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!r&&t&&t[e]){const o=t[e];r=Iy.searchForComponentInstance(this.parent,o,10,!0)?o:null}return r}isFrameworkComponent(e){return"object"===typeof e}}const jy=["rowDataChanged","rowDataUpdated","cellValueChanged","rowValueChanged"],Wy="onUpdate:modelValue",Uy="update:modelValue",[$y,Ky]=zy(),Yy=(0,o.aZ)({render(){return(0,o.h)("div")},props:Object.assign({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},$y),data(){return{gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},watch:Object.assign({modelValue:{handler(e,t){this.processChanges("rowData",e,t)},deep:!0}},Ky),methods:{globalEventListener(e,t){this.isDestroyed||("gridReady"===e&&(this.gridReadyFired=!0),this.updateModelIfUsed(e))},processChanges(e,t,r){if(this.gridCreated){if(this.skipChange(e,t,r))return;const o={};o[e]={currentValue:"rowData"===e?Object.isFrozen(t)?t:(0,i.Xl)((0,i.IU)(t)):t,previousValue:r},Vt.processOnChange(o,this.gridOptions.api)}},checkForBindingConflicts(){const e=this;(e.rowData||this.gridOptions.rowData)&&e.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){const e=[];return this.gridOptions.api.forEachNode((t=>{e.push(t.data)})),e},updateModelIfUsed(e){this.gridReadyFired&&this.$attrs[Wy]&&-1!==jy.indexOf(e)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const e=this,t=e.modelValue;return t||(e.rowData?e.rowData:e.gridOptions.rowData)},getProvides(){let e=(0,o.FN)(),t={};while(e)e&&e.provides&&(t=Object.assign(Object.assign({},t),e.provides)),e=e.parent;return t},skipChange(e,t,r){if(this.gridReadyFired&&"rowData"===e&&this.$attrs[Wy]){if(t===r)return!0;if(t&&r){const e=t,o=r;if(e.length===o.length){for(let t=0;t<e.length;t++)if(e[t]!==o[t])return!1;return!0}}}return!1},debounce(e,t){let r;return()=>{const o=function(){e()};window.clearTimeout(r),r=window.setTimeout(o,t)}}},mounted(){this.emitRowModel=this.debounce((()=>{this.$emit(Uy,Object.freeze(this.getRowData()))}),20);const e=this.getProvides(),t=new Ny(this,e),r=(0,i.Xl)(Vt.copyAttributesToGridOptions((0,i.IU)(this.gridOptions),this,!0));this.checkForBindingConflicts();const o=this.getRowDataBasedOnBindings();r.rowData=o?Object.isFrozen(o)?o:(0,i.Xl)((0,i.IU)(o)):o;const n={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:new By(this),providedBeanInstances:{frameworkComponentWrapper:t},modules:this.modules};new Sb(this.$el,r,n),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this.isDestroyed=!0)}})},8571:function(e,t,r){"use strict";r.d(t,{Ae:function(){return ir}});r(7658),r(1439),r(7585),r(5315),r(6229),r(7330),r(2062);class o{constructor(e){this.table=e}reloadData(e,t,r){return this.table.dataLoader.load(e,void 0,void 0,void 0,t,r)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,t){return"undefined"!==typeof t&&(this.table.options[e]=t),this.table.options[e]}deprecationCheck(e,t){return this.table.deprecationAdvisor.check(e,t)}deprecationCheckMsg(e,t){return this.table.deprecationAdvisor.checkMsg(e,t)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class i{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(e,t,r=[]){var o={}.__proto__,i=[].__proto__;for(var n in t||(t=Object.assign(Array.isArray(e)?[]:{},e)),e){let a,s,l=e[n];null==l||"object"!==typeof l||l.__proto__!==o&&l.__proto__!==i||(a=r.findIndex((e=>e.subject===l)),a>-1?t[n]=r[a].copy:(s=Object.assign(Array.isArray(l)?[]:{},l),r.unshift({subject:l,copy:s}),t[n]=this.deepClone(l,s,r)))}return t}}class n extends o{constructor(e,t,r){super(e),this.element=t,this.container=this._lookupContainer(),this.parent=r,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return"string"===typeof e?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):!0===e&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,t=this.table.element){return e===t||!!t.parentNode&&this._checkContainerIsParent(e,t.parentNode)}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var t=!(e instanceof MouseEvent),r=t?e.touches[0].pageX:e.pageX,o=t?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let e=i.elOffset(this.container);r-=e.left,o-=e.top}return{x:r,y:o}}elementPositionCoords(e,t="right"){var r,o,n,a=i.elOffset(e);switch(this.container!==document.body&&(r=i.elOffset(this.container),a.left-=r.left,a.top-=r.top),t){case"right":o=a.left+e.offsetWidth,n=a.top-1;break;case"bottom":o=a.left,n=a.top+e.offsetHeight;break;case"left":o=a.left,n=a.top-1;break;case"top":o=a.left,n=a.top;break;case"center":o=a.left+e.offsetWidth/2,n=a.top+e.offsetHeight/2;break}return{x:o,y:n,offset:a}}show(e,t){var r,o,i,n,a;return this.destroyed||this.table.destroyed||(e instanceof HTMLElement?(i=e,a=this.elementPositionCoords(e,t),n=a.offset,r=a.x,o=a.y):"number"===typeof e?(n={top:0,left:0},r=e,o=t):(a=this.containerEventCoords(e),r=a.x,o=a.y,this.reversedX=!1),this.element.style.top=o+"px",this.element.style.left=r+"px",this.container.appendChild(this.element),"function"===typeof this.renderedCallback&&this.renderedCallback(),this._fitToScreen(r,o,i,n,t),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",(e=>{e.stopPropagation()}))),this}_fitToScreen(e,t,r,o,i){var n=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;if((e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",this.element.style.right=r?this.container.offsetWidth-o.left+"px":this.container.offsetWidth-e+"px",this.reversedX=!0),t+this.element.offsetHeight>Math.max(this.container.offsetHeight,n?this.container.scrollHeight:0))if(r)switch(i){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-r.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+r.offsetHeight+1+"px"}else this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout((()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)}),100),this.blurCallback=e),this}_escapeCheck(e){27==e.keyCode&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new n(this.table,e,this),this.childPopup}}class a extends o{constructor(e,t){super(e),this._handler=null}initialize(){}registerTableOption(e,t){this.table.optionsList.register(e,t)}registerColumnOption(e,t){this.table.columnManager.optionsList.register(e,t)}registerTableFunction(e,t){"undefined"===typeof this.table[e]?this.table[e]=(...r)=>(this.table.initGuard(e),t(...r)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,t,r){return this.table.componentFunctionBinder.bind(e,t,r)}registerDataHandler(e,t){this.table.rowManager.registerDataPipelineHandler(e,t),this._handler=e}registerDisplayHandler(e,t){this.table.rowManager.registerDisplayPipelineHandler(e,t),this._handler=e}displayRows(e){var t,r=this.table.rowManager.displayRows.length-1;if(this._handler&&(t=this.table.rowManager.displayPipeline.findIndex((e=>e.handler===this._handler)),t>-1&&(r=t)),e&&(r+=e),this._handler)return r>-1?this.table.rowManager.getDisplayRows(r):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,t){t||(t=this._handler),t&&this.table.rowManager.refreshActiveData(t,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,t){return new n(this.table,e,t)}alert(e,t){return this.table.alertManager.alert(e,t)}clearAlert(){return this.table.alertManager.clear()}}var s={};class l extends a{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,r={};this.allowedTypes.forEach((o=>{var i,n="accessor"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[n]&&(i=this.lookupAccessor(e.definition[n]),i&&(t=!0,r[n]={accessor:i,params:e.definition[n+"Params"]||{}}))})),t&&(e.modules.accessor=r)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":l.accessors[e]?t=l.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t){var r="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),o=e.getComponent(),n=i.deepClone(e.data||{});return this.table.columnManager.traverse((function(e){var i,a,s,l;e.modules.accessor&&(a=e.modules.accessor[r]||e.modules.accessor.accessor||!1,a&&(i=e.getFieldValue(n),"undefined"!=i&&(l=e.getComponent(),s="function"===typeof a.params?a.params(i,n,t,l,o):a.params,e.setFieldValue(n,a.accessor(i,n,t,s,l,o)))))})),n}}l.moduleName="accessor",l.accessors=s;var c={method:"GET"};function u(e,t){var r=[];if(t=t||"",Array.isArray(e))e.forEach(((e,o)=>{r=r.concat(u(e,t?t+"["+o+"]":o))}));else if("object"===typeof e)for(var o in e)r=r.concat(u(e[o],t?t+"["+o+"]":o));else r.push({key:t,value:e});return r}function d(e){var t=u(e),r=[];return t.forEach((function(e){r.push(encodeURIComponent(e.key)+"="+encodeURIComponent(e.value))})),r.join("&")}function h(e,t,r){return e&&r&&Object.keys(r).length&&(t.method&&"get"!=t.method.toLowerCase()||(t.method="get",e+=(e.includes("?")?"&":"?")+d(r))),e}function p(e,t,r){var o;return new Promise(((i,n)=>{if(e=this.urlGenerator.call(this.table,e,t,r),"GET"!=t.method.toUpperCase())if(o="object"===typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],o){for(var a in o.headers)t.headers||(t.headers={}),"undefined"===typeof t.headers[a]&&(t.headers[a]=o.headers[a]);t.body=o.body.call(this,e,t,r)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);e?("undefined"===typeof t.headers&&(t.headers={}),"undefined"===typeof t.headers.Accept&&(t.headers.Accept="application/json"),"undefined"===typeof t.headers["X-Requested-With"]&&(t.headers["X-Requested-With"]="XMLHttpRequest"),"undefined"===typeof t.mode&&(t.mode="cors"),"cors"==t.mode?("undefined"===typeof t.headers["Origin"]&&(t.headers["Origin"]=window.location.origin),"undefined"===typeof t.credentials&&(t.credentials="same-origin")):"undefined"===typeof t.credentials&&(t.credentials="include"),fetch(e,t).then((e=>{e.ok?e.json().then((e=>{i(e)})).catch((e=>{n(e),console.warn("Ajax Load Error - Invalid JSON returned",e)})):(console.error("Ajax Load Error - Connection Error: "+e.status,e.statusText),n(e))})).catch((e=>{console.error("Ajax Load Error - Connection Error: ",e),n(e)}))):(console.warn("Ajax Load Error - No URL Set"),i([]))}))}function f(e,t){var r=[];if(t=t||"",Array.isArray(e))e.forEach(((e,o)=>{r=r.concat(f(e,t?t+"["+o+"]":o))}));else if("object"===typeof e)for(var o in e)r=r.concat(f(e[o],t?t+"["+o+"]":o));else r.push({key:t,value:e});return r}var g={json:{headers:{"Content-Type":"application/json"},body:function(e,t,r){return JSON.stringify(r)}},form:{headers:{},body:function(e,t,r){var o=f(r),i=new FormData;return o.forEach((function(e){i.append(e.key,e.value)})),i}}};class v extends a{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",(function(){})),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=v.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||v.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||v.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,r,o){var i=this.table.options.ajaxParams;return i&&("function"===typeof i&&(i=i.call(this.table)),o=Object.assign(o,i)),o}requestDataCheck(e,t,r,o){return!((e||!this.url)&&"string"!==typeof e)}requestData(e,t,r,o,i){var n;return!i&&this.requestDataCheck(e)?(e&&this.setUrl(e),n=this.generateConfig(r),this.sendRequest(this.url,t,n)):i}setDefaultConfig(e={}){this.config=Object.assign({},v.defaultConfig),"string"==typeof e?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return"string"==typeof e?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,r){return!1!==this.table.options.ajaxRequesting.call(this.table,e,t)?this.loaderPromise(e,r,t).then((r=>(this.table.options.ajaxResponse&&(r=this.table.options.ajaxResponse.call(this.table,e,t,r)),r))):Promise.reject()}}v.moduleName="ajax",v.defaultConfig=c,v.defaultURLGenerator=h,v.defaultLoaderPromise=p,v.contentTypeFormatters=g;var m={replace:function(e){return this.table.setData(e)},update:function(e){return this.table.updateOrAddData(e)},insert:function(e){return this.table.addData(e)}},b={table:function(e){var t=[],r=!0,o=this.table.columnManager.columns,i=[],n=[];return e=e.split("\n"),e.forEach((function(e){t.push(e.split("\t"))})),!(!t.length||1===t.length&&t[0].length<2)&&(t[0].forEach((function(e){var t=o.find((function(t){return e&&t.definition.title&&e.trim()&&t.definition.title.trim()===e.trim()}));t?i.push(t):r=!1})),r||(r=!0,i=[],t[0].forEach((function(e){var t=o.find((function(t){return e&&t.field&&e.trim()&&t.field.trim()===e.trim()}));t?i.push(t):r=!1})),r||(i=this.table.columnManager.columnsByIndex)),r&&t.shift(),t.forEach((function(e){var t={};e.forEach((function(e,r){i[r]&&(t[i[r].field]=e)})),n.push(t)})),n)}};class y extends a{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(e=>{var t,r,o;this.blocked||(e.preventDefault(),this.customSelection?(t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t))):(o=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),r=this.table.modules.export.generateHTMLTable(o),t=r?this.generatePlainContent(o):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),r=this.table.options.clipboardCopyFormatter("html",r))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),r&&e.clipboardData.setData("text/html",r)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),r&&e.originalEvent.clipboardData.setData("text/html",r)),this.dispatchExternal("clipboardCopied",t,r),this.reset())})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(e=>{this.paste(e)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach((e=>{var r=[];e.columns.forEach((t=>{var o="";if(t)if("group"===e.type&&(t.value=t.component.getKey()),null===t.value)o="";else switch(typeof t.value){case"object":o=JSON.stringify(t.value);break;case"undefined":o="";break;default:o=t.value}r.push(o)})),t.push(r.join("\t"))})),t.join("\n")}copy(e,t){var r,o;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=e||this.table.options.clipboardCopyRowRange,"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange?(e=document.createRange(),e.selectNodeContents(this.table.element),r=window.getSelection(),r.toString()&&t&&(this.customSelection=r.toString()),r.removeAllRanges(),r.addRange(e)):"undefined"!=typeof document.selection&&"undefined"!=typeof document.body.createTextRange&&(o=document.body.createTextRange(),o.moveToElementText(this.table.element),o.select()),document.execCommand("copy"),r&&r.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=y.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=y.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var t,r,o;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),r=this.pasteParser.call(this,t),r?(e.preventDefault(),this.table.modExists("mutator")&&(r=this.mutateData(r)),o=this.pasteAction.call(this,r),this.dispatchExternal("clipboardPasted",t,r,o)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach((e=>{t.push(this.table.modules.mutator.transformRow(e,"clipboard"))})):t=e,t}checkPaseOrigin(e){var t=!0;return("DIV"!=e.target.tagName||this.table.modules.edit.currentCell)&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}}y.moduleName="clipboard",y.pasteActions=m,y.pasteParsers=b;class w{constructor(e){return this._row=e,new Proxy(this,{get:function(e,t,r){return"undefined"!==typeof e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach((function(t){e.push(t.getComponent())})),e}getCell(e){var t=this._row.getCell(e);return!!t&&t.getComponent()}_getSelf(){return this._row}}class C{constructor(e){return this._cell=e,new Proxy(this,{get:function(e,t,r){return"undefined"!==typeof e[t]?e[t]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,t)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,t){"undefined"==typeof t&&(t=!0),this._cell.setValue(e,t)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class E extends o{constructor(e,t){super(e.table),this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell")}_configureCell(){var e=this.element,t=this.column.getField(),r={top:"flex-start",bottom:"flex-end",middle:"center"},o={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=r[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=o[this.column.hozAlign]||"")),t&&e.setAttribute("tabulator-field",t),this.column.definition.cssClass){var i=this.column.definition.cssClass.split(" ");i.forEach((t=>{e.classList.add(t)}))}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,(()=>this.element.innerHTML=this.value)),typeof e){case"object":if(e instanceof Node){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",null!=e&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,t,r){var o=this.setValueProcessData(e,t,r);o&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,t,r){var o=!1;return(this.value!==e||r)&&(o=!0,t&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),o&&this.dispatch("cell-value-changed",this),o}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new C(this)),this.component}}class S{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(e,t,r){return"undefined"!==typeof e[t]?e[t]:e._column.table.componentFunctionBinder.handle("column",e._column,t)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach((function(t){e.push(t.getComponent())})),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach((function(e){e.show()})):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach((function(e){e.hide()})):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach((function(t){e.push(t.getComponent())})),e}getParentColumn(){return this._column.parent instanceof T&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(e,t){return this._column.table.columnManager.scrollToColumn(this._column,e,t)}getTable(){return this._column.table}move(e,t){var r=this._column.table.columnManager.findColumn(e);r?this._column.table.columnManager.moveColumn(this._column,r,t):console.warn("Move Error - No matching column found:",r)}getNextColumn(){var e=this._column.nextColumn();return!!e&&e.getComponent()}getPrevColumn(){var e=this._column.prevColumn();return!!e&&e.getComponent()}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var t;return t=!0===e?this._column.reinitializeWidth(!0):this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),t}}var x={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};class T extends o{constructor(e,t){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach(((e,t)=>{var r=new T(e,this);this.attachColumn(r)})),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)"undefined"===typeof this.definition[t]&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(T.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach((e=>{-1===T.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)}))}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach((function(e){e.reRegisterPosition()})):this.registerColumnPosition(this)}_initialize(){var e=this.definition;while(this.element.firstChild)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),"undefined"!=typeof e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var t=e.cssClass.split(" ");t.forEach((e=>{this.element.classList.add(e)}))}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.headerWordWrap&&t.classList.add("tabulator-col-title-wrap"),e.editableTitle){var r=document.createElement("input");r.classList.add("tabulator-title-editor"),r.addEventListener("click",(e=>{e.stopPropagation(),r.focus()})),r.addEventListener("change",(()=>{e.title=r.value,this.dispatchExternal("columnTitleChanged",this.getComponent())})),t.appendChild(r),e.field?this.langBind("columns|"+e.field,(t=>{r.value=t||e.title||"&nbsp;"})):r.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,(r=>{this._formatColumnHeaderTitle(t,r||e.title||"&nbsp;")})):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var r=this.chain("column-format",[this,t,e],null,(()=>t));switch(typeof r){case"object":r instanceof Node?e.appendChild(r):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",r));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=r}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach((e=>{this.element.classList.add(e)}))}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var t,r=e,o=this.fieldStructure,i=o.length;for(let n=0;n<i;n++)if(r=r[o[n]],t=r,!r)break;return t}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var r=e,o=this.fieldStructure,i=o.length;for(let n=0;n<i;n++)if(n==i-1)r[o[n]]=t;else{if(!r[o[n]]){if("undefined"===typeof t)break;r[o[n]]={}}r=r[o[n]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var r=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=r+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=r-this.contentElement.offsetHeight+"px"),this.columns.forEach((function(t){t.verticalAlign(e)}))}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(e){e.clearVerticalAlign()})),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(e){var t=[];return e?this.columns.forEach((e=>{t.push(e),t=t.concat(e.getColumns(!0))})):t=this.columns,t}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach((function(e){t.push(e.getDefinition(!0))})),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach((function(t){t.visible&&(e=!0)})),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.hide()})),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(e){e.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach((function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)})),e.forEach((function(e){e.calcHeight()})),e.forEach((function(e){e.setCellHeight()}))}getWidth(){var e=0;return this.isGroup?this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(e){e.setMinWidth()}))}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(e){e.setMaxWidth()}))}delete(){return new Promise(((e,t)=>{this.isGroup&&this.columns.forEach((function(e){e.delete()})),this.dispatch("column-delete",this);var r=this.cells.length;for(let o=0;o<r;o++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),e()}))}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var t=new E(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,"undefined"===typeof this.definition.width||e||this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach((e=>{e.clearWidth()})));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach((e=>{var r=e.getWidth();r>t&&(t=r)})),t)){var r=t+1;this.maxInitialWidth&&!e&&(r=Math.min(r,this.maxInitialWidth)),this.setWidthActual(r)}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then((e=>(t.field==this.field&&(this.field=!1),this.delete().then((()=>e.getComponent()))))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new S(this)),this.component}}T.defaultOptionList=x;class k{constructor(e){return this._row=e,new Proxy(this,{get:function(e,t,r){return"undefined"!==typeof e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach((function(t){e.push(t.getComponent())})),e}getCell(e){var t=this._row.getCell(e);return!!t&&t.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,t){return this._row.table.rowManager.scrollToRow(this._row,e,t)}move(e,t){this._row.moveToRow(e,t)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e?e.getComponent():e}getPrevRow(){var e=this._row.prevRow();return e?e.getComponent():e}}class _ extends o{constructor(e,t,r="row"){super(t.table),this.parent=t,this.data={},this.type=r,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,t){if(this.create(),!this.initialized||e){this.deleteCells();while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,t),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,t)}rendered(){this.cells.forEach((e=>{e.cellRendered()}))}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var t,r=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(t=this.table.options.resizableRows?this.element.clientHeight:0,this.cells.forEach((function(e){var t=e.getHeight();t>r&&(r=t)})),this.height=e?Math.max(r,t):this.manualHeight?this.height:Math.max(r,t)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach((function(e){e.setHeight()})),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach((function(e){e.clearHeight()}))}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var t,r=this.element&&i.elVisible(this.element),o={};return new Promise(((i,n)=>{"string"===typeof e&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(o=Object.assign(o,this.data),o=Object.assign(o,e)),t=this.chain("row-data-changing",[this,o,e],null,e);for(let e in t)this.data[e]=t[e];this.dispatch("row-data-save-after",this);for(let o in e){let e=this.table.columnManager.getColumnsByFieldRoot(o);e.forEach((e=>{let o=this.getCell(e.getField());if(o){let i=e.getFieldValue(t);o.getValue()!==i&&(o.setValueProcessData(i),r&&o.cellRendered())}}))}r?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,r,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),i()}))}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var t=!1;return e=this.table.columnManager.findColumn(e),this.initialized||0!==this.cells.length||this.generateCells(),t=this.cells.find((function(t){return t.column===e})),t}getCellIndex(e){return this.cells.findIndex((function(t){return t===e}))}findCell(e){return this.cells.find((t=>t.element===e))}getCells(){return this.initialized||0!==this.cells.length||this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,t){var r=this.table.rowManager.findRow(e);r?(this.table.rowManager.moveRowActual(this,r,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let t=0;t<e;t++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return!!this.isDisplayed()&&this.position}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach((e=>{e(this.position)})))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new k(this)),this.component}}var R={avg:function(e,t,r){var o=0,i="undefined"!==typeof r.precision?r.precision:2;return e.length&&(o=e.reduce((function(e,t){return Number(e)+Number(t)})),o/=e.length,o=!1!==i?o.toFixed(i):o),parseFloat(o).toString()},max:function(e,t,r){var o=null,i="undefined"!==typeof r.precision&&r.precision;return e.forEach((function(e){e=Number(e),(e>o||null===o)&&(o=e)})),null!==o?!1!==i?o.toFixed(i):o:""},min:function(e,t,r){var o=null,i="undefined"!==typeof r.precision&&r.precision;return e.forEach((function(e){e=Number(e),(e<o||null===o)&&(o=e)})),null!==o?!1!==i?o.toFixed(i):o:""},sum:function(e,t,r){var o=0,i="undefined"!==typeof r.precision&&r.precision;return e.length&&e.forEach((function(e){e=Number(e),o+=isNaN(e)?0:Number(e)})),!1!==i?o.toFixed(i):o},concat:function(e,t,r){var o=0;return e.length&&(o=e.reduce((function(e,t){return String(e)+String(t)}))),o},count:function(e,t,r){var o=0;return e.length&&e.forEach((function(e){e&&o++})),o},unique:function(e,t,r){var o=e.filter(((t,r)=>(e||0===t)&&e.indexOf(t)===r));return o.length}};class O extends a{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new T({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,r={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":O.calculations[t.topCalc]?r.topCalc=O.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":r.topCalc=t.topCalc;break}r.topCalc&&(e.modules.columnCalcs=r,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":O.calculations[t.bottomCalc]?r.botCalc=O.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":r.botCalc=t.bottomCalc;break}r.botCalc&&(e.modules.columnCalcs=r,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var t,r;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(t=this.rowsToData(e),this.topInitialized){this.topRow&&this.topRow.deleteCells(),r=this.generateRow("top",t),this.topRow=r;while(this.topElement.firstChild)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(r.getElement()),r.initialize(!0)}if(this.botInitialized){this.botRow&&this.botRow.deleteCells(),r=this.generateRow("bottom",t),this.botRow=r;while(this.botElement.firstChild)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(r.getElement()),r.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)){var e=this.table.modules.groupRows.getChildGroups();e.forEach((e=>{this.recalcGroup(e)}))}}recalcGroup(e){var t,r;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),r=this.generateRowData("bottom",t),e.calcs.bottom.updateData(r),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),r=this.generateRowData("top",t),e.calcs.top.updateData(r),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[];return e.forEach((e=>{if(t.push(e.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&e.modules.dataTree&&e.modules.dataTree.open){var r=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(e));t=t.concat(r)}})),t}generateRow(e,t){var r,o=this.generateRowData(e,t);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),r=new _(o,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),r.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),r.component=!1,r.getComponent=()=>(r.component||(r.component=new w(r)),r.component),r.generateCells=()=>{var t=[];this.table.columnManager.columnsByIndex.forEach((o=>{this.genColumn.setField(o.getField()),this.genColumn.hozAlign=o.hozAlign,o.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter(o.definition[e+"CalcFormatter"]),params:o.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=o.definition.cssClass;var i=new E(this.genColumn,r);i.getElement(),i.column=o,i.setWidth(),o.cells.push(i),t.push(i),o.visible||i.hide()})),r.cells=t},r}generateRowData(e,t){var r,o,i={},n="top"==e?this.topCalcs:this.botCalcs,a="top"==e?"topCalc":"botCalc";return n.forEach((function(e){var n=[];e.modules.columnCalcs&&e.modules.columnCalcs[a]&&(t.forEach((function(t){n.push(e.getFieldValue(t))})),o=a+"Params",r="function"===typeof e.modules.columnCalcs[o]?e.modules.columnCalcs[o](n,t):e.modules.columnCalcs[o],e.setFieldValue(i,e.modules.columnCalcs[a](n,t,r)))})),i}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e,t={};return this.table.options.groupBy&&this.table.modExists("groupRows")?(e=this.table.modules.groupRows.getGroups(!0),e.forEach((e=>{t[e.getKey()]=this.getGroupResults(e)}))):t={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},t}getGroupResults(e){var t=e._getSelf(),r=e.getSubGroups(),o={},i={};return r.forEach((e=>{o[e.getKey()]=this.getGroupResults(e)})),i={top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:o},i}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}}O.moduleName="columnCalcs",O.calculations=R;class D extends a{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),t.dataTreeBranchElement?!0===t.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"===typeof t.dataTreeBranchElement?(e=document.createElement("div"),e.innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),t.dataTreeCollapseElement?"string"===typeof t.dataTreeCollapseElement?(e=document.createElement("div"),e.innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?"string"===typeof t.dataTreeExpandElement?(e=document.createElement("div"),e.innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(e,r){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(e,r){return t.dataTreeStartExpanded[r]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var t;e&&(t=this.table.rowManager.getRows(),t.forEach((e=>{this.reinitializeRowChildren(e)})))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!e&&e.field}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach((t=>{e=e.concat(this.getTreeChildren(t,!1,!0))})),e}rowDataChanged(e,t,r){this.redrawNeeded(r)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var t=e.column.getField();t===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],r=Array.isArray(t),o=r||!r&&"object"===typeof t&&null!==t;!o&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!o&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!o&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:o}}reinitializeRowChildren(e){var t=this.getTreeChildren(e,!1,!0);t.forEach((function(e){e.reinitialize(!0)}))}layoutRow(e){var t=this.elementField?e.getCell(this.elementField):e.getCells()[0],r=t.getElement(),o=e.modules.dataTree;o.branchEl&&(o.branchEl.parentNode&&o.branchEl.parentNode.removeChild(o.branchEl),o.branchEl=!1),o.controlEl&&(o.controlEl.parentNode&&o.controlEl.parentNode.removeChild(o.controlEl),o.controlEl=!1),this.generateControlElement(e,r),e.getElement().classList.add("tabulator-tree-level-"+o.index),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),r.insertBefore(o.branchEl,r.firstChild),this.table.rtl?o.branchEl.style.marginRight=(o.branchEl.offsetWidth+o.branchEl.style.marginLeft)*(o.index-1)+o.index*this.indent+"px":o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):this.table.rtl?r.style.paddingRight=parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-right"))+o.index*this.indent+"px":r.style.paddingLeft=parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")}generateControlElement(e,t){var r=e.modules.dataTree,o=r.controlEl;t=t||e.getCells()[0].getElement(),!1!==r.children&&(r.open?(r.controlEl=this.collapseEl.cloneNode(!0),r.controlEl.addEventListener("click",(t=>{t.stopPropagation(),this.collapseRow(e)}))):(r.controlEl=this.expandEl.cloneNode(!0),r.controlEl.addEventListener("click",(t=>{t.stopPropagation(),this.expandRow(e)}))),r.controlEl.addEventListener("mousedown",(e=>{e.stopPropagation()})),o&&o.parentNode===t?o.parentNode.replaceChild(r.controlEl,o):t.insertBefore(r.controlEl,t.firstChild))}getRows(e){var t=[];return e.forEach(((e,r)=>{var o,i;t.push(e),e instanceof _&&(e.create(),o=e.modules.dataTree,o.index||!1===o.children||(i=this.getChildren(e),i.forEach((e=>{e.create(),t.push(e)}))))})),t}getChildren(e,t){var r=e.modules.dataTree,o=[],i=[];return!1!==r.children&&(r.open||t)&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),o=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(r.children):r.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o),o.forEach((e=>{i.push(e);var t=this.getChildren(e);t.forEach((e=>{i.push(e)}))}))),i}generateChildren(e){var t=[],r=e.getData()[this.field];return Array.isArray(r)||(r=[r]),r.forEach((r=>{var o=new _(r||{},this.table.rowManager);o.create(),o.modules.dataTree.index=e.modules.dataTree.index+1,o.modules.dataTree.parent=e,o.modules.dataTree.children&&(o.modules.dataTree.open=this.startOpen(o.getComponent(),o.modules.dataTree.index)),t.push(o)})),t}expandRow(e,t){var r=e.modules.dataTree;!1!==r.children&&(r.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var t,r=e.modules.dataTree,o=[];return r.children&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),t=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(r.children):r.children,t.forEach((e=>{e instanceof _&&o.push(e)}))),o}rowDelete(e){var t,r=e.modules.dataTree.parent;r&&(t=this.findChildIndex(e,r),!1!==t&&r.data[this.field].splice(t,1),r.data[this.field].length||delete r.data[this.field],this.initializeRow(r),this.layoutRow(r)),this.refreshData(!0)}addTreeChildRow(e,t,r,o){var i=!1;"string"===typeof t&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),"undefined"!==typeof o&&(i=this.findChildIndex(o,e),!1!==i&&e.data[this.field].splice(r?i:i+1,0,t)),!1===i&&(r?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var r=!1;return"object"==typeof e?e instanceof _?r=e.data:e instanceof k?r=e._getSelf().data:"undefined"!==typeof HTMLElement&&e instanceof HTMLElement?t.modules.dataTree&&(r=t.modules.dataTree.children.find((t=>t instanceof _&&t.element===e)),r&&(r=r.data)):null===e&&(r=!1):r="undefined"!=typeof e&&t.data[this.field].find((t=>t.data[this.table.options.index]==e)),r&&(Array.isArray(t.data[this.field])&&(r=t.data[this.field].indexOf(r)),-1==r&&(r=!1)),r}getTreeChildren(e,t,r){var o=e.modules.dataTree,i=[];return o&&o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),o.children.forEach((e=>{e instanceof _&&(i.push(t?e.getComponent():e),r&&(i=i.concat(this.getTreeChildren(e,t,r))))}))),i}getChildField(){return this.field}redrawNeeded(e){return!!this.field&&"undefined"!==typeof e[this.field]||!!this.elementField&&"undefined"!==typeof e[this.elementField]}}function A(e,t={},r){var o=t.delimiter?t.delimiter:",",i=[],n=[];e.forEach((e=>{var t=[];switch(e.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":e.columns.forEach(((e,t)=>{e&&1===e.depth&&(n[t]="undefined"==typeof e.value||null===e.value?"":'"'+String(e.value).split('"').join('""')+'"')}));break;case"row":e.columns.forEach((e=>{if(e){switch(typeof e.value){case"object":e.value=null!==e.value?JSON.stringify(e.value):"";break;case"undefined":e.value="";break}t.push('"'+String(e.value).split('"').join('""')+'"')}})),i.push(t.join(o));break}})),n.length&&i.unshift(n.join(o)),i=i.join("\n"),t.bom&&(i="\ufeff"+i),r(i,"text/csv")}function P(e,t,r){var o=[];e.forEach((e=>{var t={};switch(e.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":e.columns.forEach((e=>{e&&(t[e.component.getTitleDownload()||e.component.getField()]=e.value)})),o.push(t);break}})),o=JSON.stringify(o,null,"\t"),r(o,"application/json")}function M(e,t={},r){var o=[],i=[],n={},a=t.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},s=t.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=t.jsPDF||{},c=t.title?t.title:"";function u(e,t){var r=[];return e.columns.forEach((e=>{var o;if(e){switch(typeof e.value){case"object":e.value=null!==e.value?JSON.stringify(e.value):"";break;case"undefined":e.value="";break}o={content:e.value,colSpan:e.width,rowSpan:e.height},t&&(o.styles=t),r.push(o)}})),r}l.orientation||(l.orientation=t.orientation||"landscape"),l.unit||(l.unit="pt"),e.forEach((e=>{switch(e.type){case"header":o.push(u(e));break;case"group":i.push(u(e,a));break;case"calc":i.push(u(e,s));break;case"row":i.push(u(e));break}}));var d=new jspdf.jsPDF(l);t.autoTable&&(n="function"===typeof t.autoTable?t.autoTable(d)||{}:t.autoTable),c&&(n.didDrawPage=function(e){d.text(c,40,30)}),n.head=o,n.body=i,d.autoTable(n),t.documentProcessing&&t.documentProcessing(d),r(d.output("arraybuffer"),"application/pdf")}function L(e,t,r){var i,n=this,a=t.sheetName||"Sheet1",s=XLSX.utils.book_new(),l=new o(this),c=!("compress"in t)||t.compress,u=t.writeOptions||{bookType:"xlsx",bookSST:!0,compression:c};function d(){var t=[],r=[],o={},i={s:{c:0,r:0},e:{c:e[0]?e[0].columns.reduce(((e,t)=>e+(t&&t.width?t.width:1)),0):0,r:e.length}};return e.forEach(((e,o)=>{var i=[];e.columns.forEach((function(e,t){e?(i.push(e.value instanceof Date||"object"!==typeof e.value?e.value:JSON.stringify(e.value)),(e.width>1||e.height>-1)&&(e.height>1||e.width>1)&&r.push({s:{r:o,c:t},e:{r:o+e.height-1,c:t+e.width-1}})):i.push("")})),t.push(i)})),XLSX.utils.sheet_add_aoa(o,t),o["!ref"]=XLSX.utils.encode_range(i),r.length&&(o["!merges"]=r),o}if(u.type="binary",s.SheetNames=[],s.Sheets={},t.sheetOnly)r(d());else{if(t.sheets)for(var h in t.sheets)!0===t.sheets[h]?(s.SheetNames.push(h),s.Sheets[h]=d()):(s.SheetNames.push(h),l.commsSend(t.sheets[h],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:n.active,intercept:function(e){s.Sheets[h]=e}}));else s.SheetNames.push(a),s.Sheets[a]=d();t.documentProcessing&&(s=t.documentProcessing(s)),i=XLSX.write(s,u),r(p(i),"application/octet-stream")}function p(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),o=0;o!=e.length;++o)r[o]=255&e.charCodeAt(o);return t}}function F(e,t,r){this.modExists("export",!0)&&r(this.modules.export.generateHTMLTable(e),"text/html")}function I(e,t,r){const o=[];e.forEach((e=>{const t={};switch(e.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":e.columns.forEach((e=>{e&&(t[e.component.getTitleDownload()||e.component.getField()]=e.value)})),o.push(JSON.stringify(t));break}})),r(o.join("\n"),"application/x-ndjson")}D.moduleName="dataTree";var N={csv:A,json:P,jsonLines:I,pdf:M,xlsx:L,html:F};class H extends a{constructor(e){super(e),this.registerTableOption("downloadEncoder",(function(e,t){return new Blob([e],{type:t})})),this.registerTableOption("downloadReady",void 0),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("downloadReady","downloadEncoder")}downloadToTab(e,t,r,o){this.download(e,t,r,o,!0)}download(e,t,r,o,i){var n=!1;function a(r,o){i?!0===i?this.triggerDownload(r,o,e,t,!0):i(r):this.triggerDownload(r,o,e,t)}if("function"==typeof e?n=e:H.downloaders[e]?n=H.downloaders[e]:console.warn("Download Error - No such download type found: ",e),n){var s=this.generateExportList(o);n.call(this.table,s,r||{},a.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),r=this.table.options.groupHeaderDownload;return r&&!Array.isArray(r)&&(r=[r]),t.forEach((e=>{var t;"group"===e.type&&(t=e.columns[0],r&&r[e.indent]&&(t.value=r[e.indent](t.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)))})),t}triggerDownload(e,t,r,o,i){var n=document.createElement("a"),a=this.table.options.downloadEncoder(e,t);a&&(i?window.open(window.URL.createObjectURL(a)):(o=o||"Tabulator."+("function"===typeof r?"txt":r),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,o):(n.setAttribute("href",window.URL.createObjectURL(a)),n.setAttribute("download",o),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n))),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,r){switch(t){case"intercept":this.download(r.type,"",r.options,r.active,r.intercept);break}}}function G(e,t){var r=t.mask,o="undefined"!==typeof t.maskLetterChar?t.maskLetterChar:"A",i="undefined"!==typeof t.maskNumberChar?t.maskNumberChar:"9",n="undefined"!==typeof t.maskWildcardChar?t.maskWildcardChar:"*";function a(t){var s=r[t];"undefined"!==typeof s&&s!==n&&s!==o&&s!==i&&(e.value=e.value+""+s,a(t+1))}e.addEventListener("keydown",(t=>{var a=e.value.length,s=t.key;if(t.keyCode>46&&!t.ctrlKey&&!t.metaKey){if(a>=r.length)return t.preventDefault(),t.stopPropagation(),!1;switch(r[a]){case o:if(s.toUpperCase()==s.toLowerCase())return t.preventDefault(),t.stopPropagation(),!1;break;case i:if(isNaN(s))return t.preventDefault(),t.stopPropagation(),!1;break;case n:break;default:if(s!==r[a])return t.preventDefault(),t.stopPropagation(),!1}}})),e.addEventListener("keyup",(r=>{r.keyCode>46&&t.maskAutoFill&&a(e.value.length)})),e.placeholder||(e.placeholder=r),t.maskAutoFill&&a(e.value.length)}function V(e,t,r,o,i){var n=e.getValue(),a=document.createElement("input");if(a.setAttribute("type",i.search?"search":"text"),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let l in i.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+i.elementAttributes["+"+l])):a.setAttribute(l,i.elementAttributes[l]);function s(e){(null===n||"undefined"===typeof n)&&""!==a.value||a.value!==n?r(a.value)&&(n=a.value):o()}return a.value="undefined"!==typeof n?n:"",t((function(){"cell"===e.getType()&&(a.focus({preventScroll:!0}),a.style.height="100%",i.selectContents&&a.select())})),a.addEventListener("change",s),a.addEventListener("blur",s),a.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:s();break;case 27:o();break;case 35:case 36:e.stopPropagation();break}})),i.mask&&G(a,i),a}function z(e,t,r,o,i){var n=e.getValue(),a=i.verticalNavigation||"hybrid",s=String(null!==n&&"undefined"!==typeof n?n:""),l=document.createElement("textarea"),c=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let d in i.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),l.setAttribute(d,l.getAttribute(d)+i.elementAttributes["+"+d])):l.setAttribute(d,i.elementAttributes[d]);function u(t){(null===n||"undefined"===typeof n)&&""!==l.value||l.value!==n?(r(l.value)&&(n=l.value),setTimeout((function(){e.getRow().normalizeHeight()}),300)):o()}return l.value=s,t((function(){"cell"===e.getType()&&(l.focus({preventScroll:!0}),l.style.height="100%",l.scrollHeight,l.style.height=l.scrollHeight+"px",e.getRow().normalizeHeight(),i.selectContents&&l.select())})),l.addEventListener("change",u),l.addEventListener("blur",u),l.addEventListener("keyup",(function(){l.style.height="";var t=l.scrollHeight;l.style.height=t+"px",t!=c&&(c=t,e.getRow().normalizeHeight())})),l.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:e.shiftKey&&i.shiftEnterSubmit&&u();break;case 27:o();break;case 38:("editor"==a||"hybrid"==a&&l.selectionStart)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 40:("editor"==a||"hybrid"==a&&l.selectionStart!==l.value.length)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 35:case 36:e.stopPropagation();break}})),i.mask&&G(l,i),l}function B(e,t,r,o,i){var n=e.getValue(),a=i.verticalNavigation||"editor",s=document.createElement("input");if(s.setAttribute("type","number"),"undefined"!=typeof i.max&&s.setAttribute("max",i.max),"undefined"!=typeof i.min&&s.setAttribute("min",i.min),"undefined"!=typeof i.step&&s.setAttribute("step",i.step),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let u in i.elementAttributes)"+"==u.charAt(0)?(u=u.slice(1),s.setAttribute(u,s.getAttribute(u)+i.elementAttributes["+"+u])):s.setAttribute(u,i.elementAttributes[u]);s.value=n;var l=function(e){c()};function c(){var e=s.value;isNaN(e)||""===e||(e=Number(e)),e!==n?r(e)&&(n=e):o()}return t((function(){"cell"===e.getType()&&(s.removeEventListener("blur",l),s.focus({preventScroll:!0}),s.style.height="100%",s.addEventListener("blur",l),i.selectContents&&s.select())})),s.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:c();break;case 27:o();break;case 38:case 40:"editor"==a&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 35:case 36:e.stopPropagation();break}})),i.mask&&G(s,i),s}function j(e,t,r,o,i){var n=e.getValue(),a=document.createElement("input");if(a.setAttribute("type","range"),"undefined"!=typeof i.max&&a.setAttribute("max",i.max),"undefined"!=typeof i.min&&a.setAttribute("min",i.min),"undefined"!=typeof i.step&&a.setAttribute("step",i.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let l in i.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+i.elementAttributes["+"+l])):a.setAttribute(l,i.elementAttributes[l]);function s(){var e=a.value;isNaN(e)||""===e||(e=Number(e)),e!=n?r(e)&&(n=e):o()}return a.value=n,t((function(){"cell"===e.getType()&&(a.focus({preventScroll:!0}),a.style.height="100%")})),a.addEventListener("blur",(function(e){s()})),a.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:s();break;case 27:o();break}})),a}function W(e,t,r,o,i){var n=i.format,a=i.verticalNavigation||"editor",s=n?window.DateTime||luxon.DateTime:null,l=e.getValue(),c=document.createElement("input");function u(e){var t;return t=s.isDateTime(e)?e:"iso"===n?s.fromISO(String(e)):s.fromFormat(String(e),n),t.toFormat("yyyy-MM-dd")}if(c.type="date",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",i.max&&c.setAttribute("max",n?u(i.max):i.max),i.min&&c.setAttribute("min",n?u(i.min):i.min),i.elementAttributes&&"object"==typeof i.elementAttributes)for(let h in i.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),c.setAttribute(h,c.getAttribute(h)+i.elementAttributes["+"+h])):c.setAttribute(h,i.elementAttributes[h]);function d(){var e,t=c.value;if((null===l||"undefined"===typeof l)&&""!==t||t!==l){if(t&&n)switch(e=s.fromFormat(String(t),"yyyy-MM-dd"),n){case!0:t=e;break;case"iso":t=e.toISO();break;default:t=e.toFormat(n)}r(t)&&(l=c.value)}else o()}return l="undefined"!==typeof l?l:"",n&&(s?l=u(l):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),c.value=l,t((function(){"cell"===e.getType()&&(c.focus({preventScroll:!0}),c.style.height="100%",i.selectContents&&c.select())})),c.addEventListener("blur",(function(e){(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==c)&&d()})),c.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:d();break;case 27:o();break;case 35:case 36:e.stopPropagation();break;case 38:case 40:"editor"==a&&(e.stopImmediatePropagation(),e.stopPropagation());break}})),c}function U(e,t,r,o,i){var n,a=i.format,s=i.verticalNavigation||"editor",l=a?window.DateTime||luxon.DateTime:null,c=e.getValue(),u=document.createElement("input");if(u.type="time",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let h in i.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),u.setAttribute(h,u.getAttribute(h)+i.elementAttributes["+"+h])):u.setAttribute(h,i.elementAttributes[h]);function d(){var e,t=u.value;if((null===c||"undefined"===typeof c)&&""!==t||t!==c){if(t&&a)switch(e=l.fromFormat(String(t),"hh:mm"),a){case!0:t=e;break;case"iso":t=e.toISO();break;default:t=e.toFormat(a)}r(t)&&(c=u.value)}else o()}return c="undefined"!==typeof c?c:"",a&&(l?(n=l.isDateTime(c)?c:"iso"===a?l.fromISO(String(c)):l.fromFormat(String(c),a),c=n.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),u.value=c,t((function(){"cell"==e.getType()&&(u.focus({preventScroll:!0}),u.style.height="100%",i.selectContents&&u.select())})),u.addEventListener("blur",(function(e){(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==u)&&d()})),u.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:d();break;case 27:o();break;case 35:case 36:e.stopPropagation();break;case 38:case 40:"editor"==s&&(e.stopImmediatePropagation(),e.stopPropagation());break}})),u}function $(e,t,r,o,i){var n,a=i.format,s=i.verticalNavigation||"editor",l=a?window.DateTime||luxon.DateTime:null,c=e.getValue(),u=document.createElement("input");if(u.type="datetime-local",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let h in i.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),u.setAttribute(h,u.getAttribute(h)+i.elementAttributes["+"+h])):u.setAttribute(h,i.elementAttributes[h]);function d(){var e,t=u.value;if((null===c||"undefined"===typeof c)&&""!==t||t!==c){if(t&&a)switch(e=l.fromISO(String(t)),a){case!0:t=e;break;case"iso":t=e.toISO();break;default:t=e.toFormat(a)}r(t)&&(c=u.value)}else o()}return c="undefined"!==typeof c?c:"",a&&(l?(n=l.isDateTime(c)?c:"iso"===a?l.fromISO(String(c)):l.fromFormat(String(c),a),c=n.toFormat("yyyy-MM-dd")+"T"+n.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),u.value=c,t((function(){"cell"===e.getType()&&(u.focus({preventScroll:!0}),u.style.height="100%",i.selectContents&&u.select())})),u.addEventListener("blur",(function(e){(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==u)&&d()})),u.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:d();break;case 27:o();break;case 35:case 36:e.stopPropagation();break;case 38:case 40:"editor"==s&&(e.stopImmediatePropagation(),e.stopPropagation());break}})),u}H.moduleName="download",H.downloaders=N;class K{constructor(e,t,r,o,i,n){this.edit=e,this.table=e.table,this.cell=t,this.params=this._initializeParams(n),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter="header"===t.getType(),this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:o,cancel:i},this._deprecatedOptionsCheck(),this._initializeValue(),r(this._onRendered.bind(this))}_deprecatedOptionsCheck(){this.params.listItemFormatter&&this.cell.getTable().deprecationAdvisor.msg("The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.sortValuesList&&this.cell.getTable().deprecationAdvisor.msg("The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchFunc&&this.cell.getTable().deprecationAdvisor.msg("The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchingPlaceholder&&this.cell.getTable().deprecationAdvisor.msg("The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options")}_initializeValue(){var e=this.cell.getValue();"undefined"===typeof e&&"undefined"!==typeof this.params.defaultValue&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function t(e){e.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",t),setTimeout((()=>{e.removeEventListener("click",t)}),1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(!0===this.params.maxWidth?this.listEl.style.maxWidth=e.offsetWidth+"px":"number"===typeof this.params.maxWidth?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,t=document.createElement("input");if(t.setAttribute("type",this.params.clearable?"search":"text"),t.style.padding="4px",t.style.width="100%",t.style.boxSizing="border-box",this.params.autocomplete||(t.style.cursor="default",t.style.caretColor="transparent"),e&&"object"==typeof e)for(let r in e)"+"==r.charAt(0)?(r=r.slice(1),t.setAttribute(r,t.getAttribute(r)+e["+"+r])):t.setAttribute(r,e[r]);return this.params.mask&&G(t,this.params),this._bindInputEvents(t),t}_initializeParams(e){var t,r=["values","valuesURL","valuesLookup"];return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading="undefined"===typeof e.placeholderLoading?"Searching ...":e.placeholderLoading,e.placeholderEmpty="undefined"===typeof e.placeholderEmpty?"No Results Found":e.placeholderEmpty,e.filterDelay="undefined"===typeof e.filterDelay?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",t=Object.keys(e).filter((e=>r.includes(e))).length,t?t>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&"function"!==typeof e.valuesLookup&&!e.valuesURL&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout((()=>{this.rebuildOptionsList()}),this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout((()=>{this.popup&&this.popup.restoreHide()}),10)}_preventBlur(){this.blurable=!1,setTimeout((()=>{this.blurable=!0}),10)}_keyTab(e){this.params.autocomplete&&"typing"===this.lastAction?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var t=this.displayItems.indexOf(this.focusedItem);("editor"==this.params.verticalNavigation||"hybrid"==this.params.verticalNavigation&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t>0&&this._focusItem(this.displayItems[t-1]))}_keyDown(e){var t=this.displayItems.indexOf(this.focusedItem);("editor"==this.params.verticalNavigation||"hybrid"==this.params.verticalNavigation&&t<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<this.displayItems.length-1&&(-1==t?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[t+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&"typing"===this.lastAction?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var t=String.fromCharCode(e).toLowerCase();this.filterTerm+=t.toLowerCase();var r=this.displayItems.find((e=>"undefined"!==typeof e.label&&e.label.toLowerCase().startsWith(this.filterTerm)));r&&this._focusItem(r),this.filterTimeout=setTimeout((()=>{this.filterTerm=""}),800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch((e=>{Number.isInteger(e)||console.error("List generation error",e)}))}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var t=[],r=++this.listIteration;return this.filtered=!1,this.params.values?t=this.params.values:this.params.valuesURL?t=this._ajaxRequest(this.params.valuesURL,this.input.value):"function"===typeof this.params.valuesLookup?t=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(t=this._uniqueColumnValues(this.params.valuesLookupField)),t instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),t.then().then((e=>this.listIteration===r?this._parseList(e):Promise.reject(r)))):Promise.resolve(this._parseList(t))}_addPlaceholder(e){var t=document.createElement("div");"function"===typeof e&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?t=e:(t.classList.add("tabulator-edit-list-placeholder"),t.innerHTML=e),this.listEl.appendChild(t),this._showList())}_ajaxRequest(e,t){var r=this.params.filterRemote?{term:t}:{};return e=h(e,{},r),fetch(e).then((e=>e.ok?e.json().catch((e=>(console.warn("List Ajax Load Error - Invalid JSON returned",e),Promise.reject(e)))):(console.error("List Ajax Load Error - Connection Error: "+e.status,e.statusText),Promise.reject(e)))).catch((e=>(console.error("List Ajax Load Error - Connection Error: ",e),Promise.reject(e))))}_uniqueColumnValues(e){var t,r={},o=this.table.getData(this.params.valuesLookup);return t=e?this.table.columnManager.getColumnByField(e):this.cell.getColumn()._getSelf(),t?o.forEach((e=>{var o=t.getFieldValue(e);null!==o&&"undefined"!==typeof o&&""!==o&&(r[o]=!0)})):(console.warn("unable to find matching column to create select lookup list:",e),r=[]),Object.keys(r)}_parseList(e){var t=[];return Array.isArray(e)||(e=Object.entries(e).map((([e,t])=>({label:t,value:e})))),e.forEach((e=>{"object"!==typeof e&&(e={label:e,value:e}),this._parseListItem(e,t,0)})),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=t,t}_parseListItem(e,t,r){var o={};e.options?o=this._parseListGroup(e,r+1):(o={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:r,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(o,!0)),t.push(o)}_parseListGroup(e,t){var r={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:t,options:[],original:e};return e.options.forEach((e=>{this._parseListItem(e,r.options,t)})),r}_sortOptions(e){var t;return this.params.sort&&(t="function"===typeof this.params.sort?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(t,e)),e}_sortGroup(e,t){t.sort(((t,r)=>e(t.label,r.label,t.value,r.value,t.original,r.original))),t.forEach((t=>{t.group&&this._sortGroup(e,t.options)}))}_defaultSortFunction(e,t){var r,o,i,n,a,s=0,l=/(\d+)|(\D+)/g,c=/\d/,u=0;if("desc"===this.params.sort&&([e,t]=[t,e]),e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if(r=String(e).toLowerCase(),o=String(t).toLowerCase(),r===o)return 0;if(!c.test(r)||!c.test(o))return r>o?1:-1;r=r.match(l),o=o.match(l),a=r.length>o.length?o.length:r.length;while(s<a)if(i=r[s],n=o[s++],i!==n)return isFinite(i)&&isFinite(n)?("0"===i.charAt(0)&&(i="."+i),"0"===n.charAt(0)&&(n="."+n),i-n):i>n?1:-1;return r.length>o.length}u=1}else u=t||0===t?-1:0;return u}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,t=this.input.value;return t?(this.filtered=!0,this.data.forEach((r=>{this._filterItem(e,t,r)}))):this.filtered=!1,this.data}_filterItem(e,t,r){var o=!1;return r.group?(r.options.forEach((r=>{this._filterItem(e,t,r)&&(o=!0)})),r.visible=o):r.visible=e(t,r.label,r.value,r.original),r.visible}_defaultFilterFunc(e,t,r,o){return e=String(e).toLowerCase(),null!==t&&"undefined"!==typeof t&&(String(t).toLowerCase().indexOf(e)>-1||String(r).toLowerCase().indexOf(e)>-1)}_clearList(){while(this.listEl.firstChild)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach((e=>{this._buildItem(e)})),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var t,r=e.element;if(!this.filtered||e.visible){if(!r){if(r=document.createElement("div"),r.tabIndex=0,t=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,r):e.label,t instanceof HTMLElement?r.appendChild(t):r.innerHTML=t,e.group?r.classList.add("tabulator-edit-list-group"):r.classList.add("tabulator-edit-list-item"),r.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&"object"==typeof e.elementAttributes)for(let t in e.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),r.setAttribute(t,this.input.getAttribute(t)+e.elementAttributes["+"+t])):r.setAttribute(t,e.elementAttributes[t]);e.group?r.addEventListener("click",this._groupClick.bind(this,e)):r.addEventListener("click",this._itemClick.bind(this,e)),r.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=r}this._styleItem(e),this.listEl.appendChild(r),e.group?e.options.forEach((e=>{this._buildItem(e)})):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&""===this.input.value&&!this.params.listOnEmpty)return void(this.popup&&this.popup.hide(!0));this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout((()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))}),10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,t){t.stopPropagation(),this._chooseItem(e)}_groupClick(e,t){t.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach((e=>{e.selected=!1,this._styleItem(e)})),this.currentItems=[],this.focusedItem=null}_chooseItem(e,t){var r;this.typing=!1,this.params.multiselect?(r=this.currentItems.indexOf(e),r>-1?(this.currentItems.splice(r,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map((e=>e.label)).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),t||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var t,r;if(this.popup&&this.popup.hide(!0),this.params.multiselect)t=this.currentItems.map((e=>e.value));else if(e&&this.params.autocomplete&&this.typing){if(!(this.params.freetext||this.params.allowEmpty&&""===this.input.value))return void this.actions.cancel();t=this.input.value}else this.currentItems[0]?t=this.currentItems[0].value:(r=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,t=null===r||"undefined"===typeof r||""===r?r:this.params.emptyValue);""===t&&(t=this.params.emptyValue),this.actions.success(t),this.isFilter&&(this.initialValues=t&&!Array.isArray(t)?[t]:t,this.currentItems=[])}}function Y(e,t,r,o,i){this.deprecationMsg("The select editor has been deprecated, please use the new list editor");var n=new K(this,e,t,r,o,i);return n.input}function q(e,t,r,o,i){var n=new K(this,e,t,r,o,i);return n.input}function X(e,t,r,o,i){this.deprecationMsg("The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam"),i.autocomplete=!0;var n=new K(this,e,t,r,o,i);return n.input}function J(e,t,r,o,i){var n=this,a=e.getElement(),s=e.getValue(),l=a.getElementsByTagName("svg").length||5,c=a.getElementsByTagName("svg")[0]?a.getElementsByTagName("svg")[0].getAttribute("width"):14,u=[],d=document.createElement("div"),h=document.createElementNS("http://www.w3.org/2000/svg","svg");function p(e){u.forEach((function(t,r){r<e?("ie"==n.table.browser?t.setAttribute("class","tabulator-star-active"):t.classList.replace("tabulator-star-inactive","tabulator-star-active"),t.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==n.table.browser?t.setAttribute("class","tabulator-star-inactive"):t.classList.replace("tabulator-star-active","tabulator-star-inactive"),t.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function f(e){var t=document.createElement("span"),o=h.cloneNode(!0);u.push(o),t.addEventListener("mouseenter",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),p(e)})),t.addEventListener("mousemove",(function(e){e.stopPropagation(),e.stopImmediatePropagation()})),t.addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),r(e),a.blur()})),t.appendChild(o),d.appendChild(t)}function g(e){s=e,p(e)}if(a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",d.style.verticalAlign="middle",d.style.display="inline-block",d.style.padding="4px",h.setAttribute("width",c),h.setAttribute("height",c),h.setAttribute("viewBox","0 0 512 512"),h.setAttribute("xml:space","preserve"),h.style.padding="0 1px",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let m in i.elementAttributes)"+"==m.charAt(0)?(m=m.slice(1),d.setAttribute(m,d.getAttribute(m)+i.elementAttributes["+"+m])):d.setAttribute(m,i.elementAttributes[m]);for(var v=1;v<=l;v++)f(v);return s=Math.min(parseInt(s),l),p(s),d.addEventListener("mousemove",(function(e){p(0)})),d.addEventListener("click",(function(e){r(0)})),a.addEventListener("blur",(function(e){o()})),a.addEventListener("keydown",(function(e){switch(e.keyCode){case 39:g(s+1);break;case 37:g(s-1);break;case 13:r(s);break;case 27:o();break}})),d}function Q(e,t,r,o,i){var n,a,s=e.getElement(),l="undefined"===typeof i.max?s.getElementsByTagName("div")[0]&&s.getElementsByTagName("div")[0].getAttribute("max")||100:i.max,c="undefined"===typeof i.min?s.getElementsByTagName("div")[0]&&s.getElementsByTagName("div")[0].getAttribute("min")||0:i.min,u=(l-c)/100,d=e.getValue()||0,h=document.createElement("div"),p=document.createElement("div");function f(){var e=window.getComputedStyle(s,null),t=u*Math.round(p.offsetWidth/((s.clientWidth-parseInt(e.getPropertyValue("padding-left"))-parseInt(e.getPropertyValue("padding-right")))/100))+c;r(t),s.setAttribute("aria-valuenow",t),s.setAttribute("aria-label",d)}if(h.style.position="absolute",h.style.right="0",h.style.top="0",h.style.bottom="0",h.style.width="5px",h.classList.add("tabulator-progress-handle"),p.style.display="inline-block",p.style.position="relative",p.style.height="100%",p.style.backgroundColor="#488CE9",p.style.maxWidth="100%",p.style.minWidth="0%",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let g in i.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),p.setAttribute(g,p.getAttribute(g)+i.elementAttributes["+"+g])):p.setAttribute(g,i.elementAttributes[g]);return s.style.padding="4px 4px",d=Math.min(parseFloat(d),l),d=Math.max(parseFloat(d),c),d=Math.round((d-c)/u),p.style.width=d+"%",s.setAttribute("aria-valuemin",c),s.setAttribute("aria-valuemax",l),p.appendChild(h),h.addEventListener("mousedown",(function(e){n=e.screenX,a=p.offsetWidth})),h.addEventListener("mouseover",(function(){h.style.cursor="ew-resize"})),s.addEventListener("mousemove",(function(e){n&&(p.style.width=a+e.screenX-n+"px")})),s.addEventListener("mouseup",(function(e){n&&(e.stopPropagation(),e.stopImmediatePropagation(),n=!1,a=!1,f())})),s.addEventListener("keydown",(function(e){switch(e.keyCode){case 39:e.preventDefault(),p.style.width=p.clientWidth+s.clientWidth/100+"px";break;case 37:e.preventDefault(),p.style.width=p.clientWidth-s.clientWidth/100+"px";break;case 9:case 13:f();break;case 27:o();break}})),s.addEventListener("blur",(function(){o()})),p}function Z(e,t,r,o,i){var n=e.getValue(),a=document.createElement("input"),s=i.tristate,l="undefined"===typeof i.indeterminateValue?null:i.indeterminateValue,c=!1,u=Object.keys(i).includes("trueValue"),d=Object.keys(i).includes("falseValue");if(a.setAttribute("type","checkbox"),a.style.marginTop="5px",a.style.boxSizing="border-box",i.elementAttributes&&"object"==typeof i.elementAttributes)for(let p in i.elementAttributes)"+"==p.charAt(0)?(p=p.slice(1),a.setAttribute(p,a.getAttribute(p)+i.elementAttributes["+"+p])):a.setAttribute(p,i.elementAttributes[p]);function h(e){var t=a.checked;return u&&t?t=i.trueValue:d&&!t&&(t=i.falseValue),s?e?c?l:t:a.checked&&!c?(a.checked=!1,a.indeterminate=!0,c=!0,l):(c=!1,t):t}return a.value=n,!s||"undefined"!==typeof n&&n!==l&&""!==n||(c=!0,a.indeterminate=!0),"firefox"!=this.table.browser&&"safari"!=this.table.browser&&t((function(){"cell"===e.getType()&&a.focus({preventScroll:!0})})),a.checked=u?n===i.trueValue:!0===n||"true"===n||"True"===n||1===n,a.addEventListener("change",(function(e){r(h())})),a.addEventListener("blur",(function(e){r(h(!0))})),a.addEventListener("keydown",(function(e){13==e.keyCode&&r(h()),27==e.keyCode&&o()})),a}var ee={input:V,textarea:z,number:B,range:j,date:W,time:U,datetime:$,select:Y,list:q,autocomplete:X,star:J,progress:Q,tickCross:Z};class te extends a{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=te.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this,void 0)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this,void 0)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}keybindingNavigateNext(e){var t=this.currentCell,r=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||r&&(t.getElement().firstChild.blur(),r=!0===r?this.table.addRow({}):"function"==typeof r?this.table.addRow(r(t.row.getComponent())):this.table.addRow(Object.assign({},r)),r.then((()=>{setTimeout((()=>{t.getComponent().navigateNext()}))}))))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach((e=>{this.table.modules.edit.clearEdited(e._getSelf())}))}navigatePrev(e=this.currentCell,t){var r,o;if(e){if(t&&t.preventDefault(),r=this.navigateLeft(),r)return!0;if(o=this.table.rowManager.prevDisplayRow(e.row,!0),o&&(r=this.findPrevEditableCell(o,o.cells.length),r))return r.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var r,o;if(e){if(t&&t.preventDefault(),r=this.navigateRight(),r)return!0;if(o=this.table.rowManager.nextDisplayRow(e.row,!0),o&&(r=this.findNextEditableCell(o,-1),r))return r.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var r,o;return!(!e||(t&&t.preventDefault(),r=e.getIndex(),o=this.findPrevEditableCell(e.row,r),!o))&&(o.getComponent().edit(),!0)}navigateRight(e=this.currentCell,t){var r,o;return!(!e||(t&&t.preventDefault(),r=e.getIndex(),o=this.findNextEditableCell(e.row,r),!o))&&(o.getComponent().edit(),!0)}navigateUp(e=this.currentCell,t){var r,o;return!(!e||(t&&t.preventDefault(),r=e.getIndex(),o=this.table.rowManager.prevDisplayRow(e.row,!0),!o))&&(o.cells[r].getComponent().edit(),!0)}navigateDown(e=this.currentCell,t){var r,o;return!(!e||(t&&t.preventDefault(),r=e.getIndex(),o=this.table.rowManager.nextDisplayRow(e.row,!0),!o))&&(o.cells[r].getComponent().edit(),!0)}findNextEditableCell(e,t){var r=!1;if(t<e.cells.length-1)for(var o=t+1;o<e.cells.length;o++){let t=e.cells[o];if(t.column.modules.edit&&i.elVisible(t.getElement())){let e=this.allowEdit(t);if(e){r=t;break}}}return r}findPrevEditableCell(e,t){var r=!1;if(t>0)for(var o=t-1;o>=0;o--){let t=e.cells[o];if(t.column.modules.edit&&i.elVisible(t.getElement())){let e=this.allowEdit(t);if(e){r=t;break}}}return r}initializeColumnCheck(e){"undefined"!==typeof e.definition.editor&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach((e=>{e.column.modules.edit&&"function"===typeof e.column.modules.edit.check&&this.updateCellClass(e)}))}initializeColumn(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!==typeof e.definition.formatter?this.editors[e.definition.formatter]?t.editor=this.editors[e.definition.formatter]:t.editor=this.editors["input"]:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter));break}t.editor&&(e.modules.edit=t)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(e){var t,r=this.currentCell;if(this.invalidEdit=!1,r){this.currentCell=!1,t=r.getElement(),this.dispatch("edit-editor-clear",r,e),t.classList.remove("tabulator-editing");while(t.firstChild)t.removeChild(t.firstChild);r.row.getElement().classList.remove("tabulator-editing"),r.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),("textarea"==e.column.definition.editor||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,r=e.getElement(!0);this.updateCellClass(e),r.setAttribute("tabindex",0),r.addEventListener("click",(function(e){r.classList.contains("tabulator-editing")||r.focus({preventScroll:!0})})),r.addEventListener("mousedown",(function(e){2===e.button?e.preventDefault():t.mouseClick=!0})),r.addEventListener("focus",(function(r){t.recursionBlock||t.edit(e,r,!1)}))}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if("virtual"==this.table.rowManager.getRenderMode()){var t=this.table.rowManager.element.scrollTop,r=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,o=e.row.getElement();o.offsetTop<t?this.table.rowManager.element.scrollTop-=t-o.offsetTop:o.offsetTop+o.offsetHeight>r&&(this.table.rowManager.element.scrollTop+=o.offsetTop+o.offsetHeight-r);var i=this.table.rowManager.element.scrollLeft,n=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,a=e.getElement();this.table.modExists("frozenColumns")&&(i+=parseInt(this.table.modules.frozenColumns.leftMargin||0),n-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),"virtual"===this.table.options.renderHorizontal&&(i-=parseInt(this.table.columnManager.renderer.vDomPadLeft),n-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),a.offsetLeft<i?this.table.rowManager.element.scrollLeft-=i-a.offsetLeft:a.offsetLeft+a.offsetWidth>n&&(this.table.rowManager.element.scrollLeft+=a.offsetLeft+a.offsetWidth-n)}}allowEdit(e){var t=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(t=e.column.modules.edit.check(e.getComponent()));break;case"string":t=!!e.row.data[e.column.modules.edit.check];break;case"boolean":t=e.column.modules.edit.check;break}return t}edit(e,t,r){var o,i,n,a=this,s=!0,l=function(){},c=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,c.blur(),!1;if(t&&t.stopPropagation(),s=this.allowEdit(e),s||r){if(a.cancelEdit(),a.currentCell=e,this.focusScrollAdjust(e),i=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,i)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,i),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",i),n="function"===typeof e.column.modules.edit.params?e.column.modules.edit.params(i):e.column.modules.edit.params,o=e.column.modules.edit.editor.call(a,i,f,h,p,n),!this.currentCell||!1===o)return c.blur(),!1;if(!(o instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",o),c.blur(),!1;c.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");while(c.firstChild)c.removeChild(c.firstChild);c.appendChild(o),l();for(var u=c.children,d=0;d<u.length;d++)u[d].addEventListener("click",(function(e){e.stopPropagation()}));return!0}return this.mouseClick=!1,c.blur(),!1}function h(t){if(a.currentCell===e){var r=a.chain("edit-success",[e,t],!0,!0);return!0===r||"highlight"===a.table.options.validationMode?(a.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==a.editedCells.indexOf(e)&&a.editedCells.push(e),e.setValue(t,!0),!0===r):(a.invalidEdit=!0,a.focusCellNoEvent(e,!0),l(),!1)}}function p(){a.currentCell===e&&a.cancelEdit()}function f(e){l=e}this.invalidEdit||this.currentCell===e||this.cancelEdit()}getEditedCells(){var e=[];return this.editedCells.forEach((t=>{e.push(t.getComponent())})),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),t=this.editedCells.indexOf(e),t>-1&&this.editedCells.splice(t,1)}}te.moduleName="edit",te.editors=ee;class re{constructor(e,t,r,o){this.type=e,this.columns=t,this.component=r||!1,this.indent=o||0}}class oe{constructor(e,t,r,o,i){this.value=e,this.component=t||!1,this.width=r,this.height=o,this.depth=i}}class ie extends a{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,r,o){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=o;var i=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],n=this.bodyToExportRows(this.rowLookup(r));return i.concat(n)}generateTable(e,t,r,o){var i=this.generateExportList(e,t,r,o);return this.generateTableElement(i)}rowLookup(e){var t=[];if("function"==typeof e)e.call(this.table).forEach((e=>{e=this.table.rowManager.findRow(e),e&&t.push(e)}));else switch(e){case!0:case"visible":t=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":t=this.table.rowManager.rows;break;case"selected":t=this.table.modules.selectRow.selectedRows;break;case"active":default:t=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],t)}generateColumnGroupHeaders(){var e=[],t=!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex;return t.forEach((t=>{var r=this.processColumnGroup(t);r&&e.push(r)})),e}processColumnGroup(e){var t=e.columns,r=0,o=e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,i={title:o,column:e,depth:1};if(t.length){if(i.subGroups=[],i.width=0,t.forEach((e=>{var t=this.processColumnGroup(e);t&&(i.width+=t.width,i.subGroups.push(t),t.depth>r&&(r=t.depth))})),i.depth+=r,!i.width)return!1}else{if(!this.columnVisCheck(e))return!1;i.width=1}return i}columnVisCheck(e){var t=e.definition[this.colVisProp];return"function"===typeof t&&(t=t.call(this.table,e.getComponent())),!1!==t&&(e.visible||!e.visible&&t)}headersToExportRows(e){var t=[],r=0,o=[];function i(e,o){var n=r-o;if("undefined"===typeof t[o]&&(t[o]=[]),e.height=e.subGroups?1:n-e.depth+1,t[o].push(e),e.height>1)for(let r=1;r<e.height;r++)"undefined"===typeof t[o+r]&&(t[o+r]=[]),t[o+r].push(!1);if(e.width>1)for(let r=1;r<e.width;r++)t[o].push(!1);e.subGroups&&e.subGroups.forEach((function(e){i(e,o+1)}))}return e.forEach((function(e){e.depth>r&&(r=e.depth)})),e.forEach((function(e){i(e,0)})),t.forEach((e=>{var t=[];e.forEach((e=>{if(e){let r="undefined"===typeof e.title?"":e.title;t.push(new oe(r,e.column.getComponent(),e.width,e.height,e.depth))}else t.push(null)})),o.push(new re("header",t))})),o}bodyToExportRows(e){var t=[],r=[];return this.table.columnManager.columnsByIndex.forEach((e=>{this.columnVisCheck(e)&&t.push(e.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter((e=>{switch(e.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&e.modules.dataTree.parent)}return!0})),e.forEach(((e,o)=>{var i=e.getData(this.colVisProp),n=[],a=0;switch(e.type){case"group":a=e.level,n.push(new oe(e.key,e.getComponent(),t.length,1));break;case"calc":case"row":t.forEach((e=>{n.push(new oe(e._column.getFieldValue(i),e,1,1))})),this.table.options.dataTree&&!1!==this.config.dataTree&&(a=e.modules.dataTree.index);break}r.push(new re(e.type,n,e.getComponent(),a))})),r}generateTableElement(e){var t=document.createElement("table"),r=document.createElement("thead"),o=document.createElement("tbody"),i=this.lookupTableStyles(),n=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a={};return a.rowFormatter=null!==n?n:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),r,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach(((e,t)=>{let n;switch(e.type){case"header":r.appendChild(this.generateHeaderElement(e,a,i));break;case"group":o.appendChild(this.generateGroupElement(e,a,i));break;case"calc":o.appendChild(this.generateCalcElement(e,a,i));break;case"row":n=this.generateRowElement(e,a,i),this.mapElementStyles(t%2&&i.evenRow?i.evenRow:i.oddRow,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.appendChild(n);break}})),r.innerHTML&&t.appendChild(r),t.appendChild(o),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,t,r){var o=document.createElement("tr");return e.columns.forEach((e=>{if(e){var t=document.createElement("th"),r=e.component._column.definition.cssClass?e.component._column.definition.cssClass.split(" "):[];t.colSpan=e.width,t.rowSpan=e.height,t.innerHTML=e.value,this.cloneTableStyle&&(t.style.boxSizing="border-box"),r.forEach((function(e){t.classList.add(e)})),this.mapElementStyles(e.component.getElement(),t,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(e.component._column.contentElement,t,["padding-top","padding-left","padding-right","padding-bottom"]),e.component._column.visible?this.mapElementStyles(e.component.getElement(),t,["width"]):e.component._column.definition.width&&(t.style.width=e.component._column.definition.width+"px"),e.component._column.parent&&this.mapElementStyles(e.component._column.parent.groupElement,t,["border-top"]),o.appendChild(t)}})),o}generateGroupElement(e,t,r){var o=document.createElement("tr"),i=document.createElement("td"),n=e.columns[0];return o.classList.add("tabulator-print-table-row"),t.groupHeader&&t.groupHeader[e.indent]?n.value=t.groupHeader[e.indent](n.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1!==t.groupHeader&&(n.value=e.component._group.generator(n.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),i.colSpan=n.width,i.innerHTML=n.value,o.classList.add("tabulator-print-table-group"),o.classList.add("tabulator-group-level-"+e.indent),n.component.isVisible()&&o.classList.add("tabulator-group-visible"),this.mapElementStyles(r.firstGroup,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(r.firstGroup,i,["padding-top","padding-left","padding-right","padding-bottom"]),o.appendChild(i),o}generateCalcElement(e,t,r){var o=this.generateRowElement(e,t,r);return o.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(r.calcRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o}generateRowElement(e,t,r){var o=document.createElement("tr");if(o.classList.add("tabulator-print-table-row"),e.columns.forEach(((i,n)=>{if(i){var a,s=document.createElement("td"),l=i.component._column,c=this.table.columnManager.findColumnIndex(l),u=i.value,d={modules:{},getValue:function(){return u},getField:function(){return l.definition.field},getElement:function(){return s},getType:function(){return"cell"},getColumn:function(){return l.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return d},column:l},h=l.definition.cssClass?l.definition.cssClass.split(" "):[];if(h.forEach((function(e){s.classList.add(e)})),this.table.modExists("format")&&!1!==this.config.formatCells)u=this.table.modules.format.formatExportValue(d,this.colVisProp);else switch(typeof u){case"object":u=null!==u?JSON.stringify(u):"";break;case"undefined":u="";break}u instanceof Node?s.appendChild(u):s.innerHTML=u,a=r.styleCells&&r.styleCells[c]?r.styleCells[c]:r.firstCell,a&&(this.mapElementStyles(a,s,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"]),l.definition.align&&(s.style.textAlign=l.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(t.treeElementField&&t.treeElementField==l.field||!t.treeElementField&&0==n)&&(e.component._row.modules.dataTree.controlEl&&s.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),s.firstChild),e.component._row.modules.dataTree.branchEl&&s.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),s.firstChild)),o.appendChild(s),d.modules.format&&d.modules.format.renderedCallback&&d.modules.format.renderedCallback()}})),t.rowFormatter&&"row"===e.type&&!1!==this.config.formatCells){let r=Object.assign(e.component);r.getElement=function(){return o},t.rowFormatter(e.component)}return o}generateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.generateTableElement(e)),t.innerHTML}getHtml(e,t,r,o){var i=this.generateExportList(r||this.table.options.htmlOutputConfig,t,e,o||"htmlOutput");return this.generateHTMLTable(i)}mapElementStyles(e,t,r){if(this.cloneTableStyle&&e&&t){var o={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var i=window.getComputedStyle(e);r.forEach((function(e){t.style[o[e]]||(t.style[o[e]]=i.getPropertyValue(e))}))}}}}ie.moduleName="export";var ne={"=":function(e,t,r,o){return t==e},"<":function(e,t,r,o){return t<e},"<=":function(e,t,r,o){return t<=e},">":function(e,t,r,o){return t>e},">=":function(e,t,r,o){return t>=e},"!=":function(e,t,r,o){return t!=e},regex:function(e,t,r,o){return"string"==typeof e&&(e=new RegExp(e)),e.test(t)},like:function(e,t,r,o){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().indexOf(e.toLowerCase())>-1},keywords:function(e,t,r,o){var i=e.toLowerCase().split("undefined"===typeof o.separator?" ":o.separator),n=String(null===t||"undefined"===typeof t?"":t).toLowerCase(),a=[];return i.forEach((e=>{n.includes(e)&&a.push(!0)})),o.matchAll?a.length===i.length:!!a.length},starts:function(e,t,r,o){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().startsWith(e.toLowerCase())},ends:function(e,t,r,o){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().endsWith(e.toLowerCase())},in:function(e,t,r,o){return Array.isArray(e)?!e.length||e.indexOf(t)>-1:(console.warn("Filter Error - filter value is not an array:",e),!1)}};class ae extends a{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach((e=>{var t=this.table.columnManager.findColumn(e.field);if(!t)return console.warn("Column Filter Error - No matching column found:",e.field),!1;this.setHeaderFilterValue(t,e.value)})),this.tableInitialized=!0}remoteFilterParams(e,t,r,o){return o.filter=this.getFilters(!0,!0),o}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,t,r,o){this.setFilter(e,t,r,o),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,r,o){this.addFilter(e,t,r,o),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.setHeaderFilterFocus(t)}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var r=this.table.columnManager.findColumn(e);if(!r)return console.warn("Column Filter Error - No matching column found:",e),!1;this.setHeaderFilterValue(r,t)}userRemoveFilter(e,t,r){this.removeFilter(e,t,r),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,r){return this.search("rows",e,t,r)}searchData(e,t,r){return this.search("data",e,t,r)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&this.initializeColumn(e)}initializeColumn(e,t){var r=this,o=e.getField();function i(t){var i,n="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",a="",s="";if("undefined"===typeof e.modules.filter.prevSuccess||e.modules.filter.prevSuccess!==t){if(e.modules.filter.prevSuccess=t,e.modules.filter.emptyFunc(t))delete r.headerFilters[o];else{switch(e.modules.filter.value=t,typeof e.definition.headerFilterFunc){case"string":ae.filters[e.definition.headerFilterFunc]?(a=e.definition.headerFilterFunc,i=function(r){var o=e.definition.headerFilterFuncParams||{},i=e.getFieldValue(r);return o="function"===typeof o?o(t,i,r):o,ae.filters[e.definition.headerFilterFunc](t,i,r,o)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":i=function(r){var o=e.definition.headerFilterFuncParams||{},i=e.getFieldValue(r);return o="function"===typeof o?o(t,i,r):o,e.definition.headerFilterFunc(t,i,r,o)},a=i;break}if(!i)switch(n){case"partial":i=function(r){var o=e.getFieldValue(r);return"undefined"!==typeof o&&null!==o&&String(o).toLowerCase().indexOf(String(t).toLowerCase())>-1},a="like";break;default:i=function(r){return e.getFieldValue(r)==t},a="="}r.headerFilters[o]={value:t,func:i,type:a}}e.modules.filter.value=t,s=JSON.stringify(r.headerFilters),r.prevHeaderFilterChangeCheck!==s&&(r.prevHeaderFilterChangeCheck=s,r.trackChanges(),r.refreshFilter())}return!0}e.modules.filter={success:i,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,r){var o,i,n,a,s,l,c,u,d=this,h=e.modules.filter.success,p=e.getField();function f(){}function g(e){u=e}if(e.modules.filter.value=t,e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),p){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(e){return!e&&0!==e},o=document.createElement("div"),o.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":d.table.modules.edit.editors[e.definition.headerFilter]?(i=d.table.modules.edit.editors[e.definition.headerFilter],"tick"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":i=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?i=e.modules.edit.editor:e.definition.formatter&&d.table.modules.edit.editors[e.definition.formatter]?(i=d.table.modules.edit.editors[e.definition.formatter],"tick"!==e.definition.formatter&&"tickCross"!==e.definition.formatter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):i=d.table.modules.edit.editors["input"];break}if(i){if(a={getValue:function(){return"undefined"!==typeof t?t:""},getField:function(){return e.definition.field},getElement:function(){return o},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},c=e.definition.headerFilterParams||{},c="function"===typeof c?c.call(d.table,a):c,n=i.call(this.table.modules.edit,a,g,h,f,c),!n)return void console.warn("Filter Error - Cannot add filter to "+p+" column, editor returned a value of false");if(!(n instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+p+" column, editor should return an instance of Node, the editor returned:",n);d.langBind("headerFilters|columns|"+e.definition.field,(function(t){n.setAttribute("placeholder","undefined"!==typeof t&&t?t:e.definition.headerFilterPlaceholder||d.langText("headerFilters|default"))})),n.addEventListener("click",(function(e){e.stopPropagation(),n.focus()})),n.addEventListener("focus",(e=>{var t=this.table.columnManager.contentsElement.scrollLeft,r=this.table.rowManager.element.scrollLeft;t!==r&&(this.table.rowManager.scrollHorizontal(t),this.table.columnManager.scrollHorizontal(t))})),s=!1,l=function(e){s&&clearTimeout(s),s=setTimeout((function(){h(n.value)}),d.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=n,e.modules.filter.attrType=n.hasAttribute("type")?n.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=n.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter&&("autocomplete"!==e.definition.editor&&"tickCross"!==e.definition.editor||!0!==e.definition.headerFilter)&&(n.addEventListener("keyup",l),n.addEventListener("search",l),"number"==e.modules.filter.attrType&&n.addEventListener("change",(function(e){h(n.value)})),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&n.setAttribute("type","search")),"input"!=e.modules.filter.tagType&&"select"!=e.modules.filter.tagType&&"textarea"!=e.modules.filter.tagType||n.addEventListener("mousedown",(function(e){e.stopPropagation()}))),o.appendChild(n),e.contentElement.appendChild(o),r||d.headerFilterColumns.push(e),u&&u()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach((function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")}))}showHeaderFilterElements(){this.headerFilterColumns.forEach((function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")}))}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,r,o){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:r,params:o}]),this.addFilter(e)}addFilter(e,t,r,o){var i=!1;Array.isArray(e)||(e=[{field:e,type:t,value:r,params:o}]),e.forEach((e=>{e=this.findFilter(e),e&&(this.filterList.push(e),i=!0)})),i&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var r=!1;return"function"==typeof e.field?r=function(t){return e.field(t,e.type||{})}:ae.filters[e.type]?(t=this.table.columnManager.getColumnByField(e.field),r=t?function(r){return ae.filters[e.type](e.value,t.getFieldValue(r),r,e.params||{})}:function(t){return ae.filters[e.type](e.value,t[e.field],t,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=r,!!e.func&&e}findSubFilters(e){var t=[];return e.forEach((e=>{e=this.findFilter(e),e&&t.push(e)})),!!t.length&&t}getFilters(e,t){var r=[];return e&&(r=this.getHeaderFilters()),t&&r.forEach((function(e){"function"==typeof e.type&&(e.type="function")})),r=r.concat(this.filtersToArray(this.filterList,t)),r}filtersToArray(e,t){var r=[];return e.forEach((e=>{var o;Array.isArray(e)?r.push(this.filtersToArray(e,t)):(o={field:e.field,type:e.type,value:e.value},t&&"function"==typeof o.type&&(o.type="function"),r.push(o))})),r}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,r){Array.isArray(e)||(e=[{field:e,type:t,value:r}]),e.forEach((e=>{var t=-1;t="object"==typeof e.field?this.filterList.findIndex((t=>e===t)):this.filterList.findIndex((t=>e.field===t.field&&e.type===t.type&&e.value===t.value)),t>-1?this.filterList.splice(t,1):console.warn("Filter Error - No matching filter type found, ignoring: ",e.type)})),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((e=>{"undefined"!==typeof e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)})),this.trackChanges()}search(e,t,r,o){var i=[],n=[];return Array.isArray(t)||(t=[{field:t,type:r,value:o}]),t.forEach((e=>{e=this.findFilter(e),e&&n.push(e)})),this.table.rowManager.rows.forEach((t=>{var r=!0;n.forEach((e=>{this.filterRecurse(e,t.getData())||(r=!1)})),r&&i.push("data"===e?t.getData("data"):t.getComponent())})),i}filter(e,t){var r=[],o=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach((e=>{this.filterRow(e)&&r.push(e)})):r=e.slice(0),this.subscribedExternal("dataFiltered")&&(r.forEach((e=>{o.push(e.getComponent())})),this.dispatchExternal("dataFiltered",this.getFilters(!0),o)),r}filterRow(e,t){var r=!0,o=e.getData();for(var i in this.filterList.forEach((e=>{this.filterRecurse(e,o)||(r=!1)})),this.headerFilters)this.headerFilters[i].func(o)||(r=!1);return r}filterRecurse(e,t){var r=!1;return Array.isArray(e)?e.forEach((e=>{this.filterRecurse(e,t)&&(r=!0)})):r=e.func(t),r}}function se(e,t,r){return this.emptyToSpace(this.sanitizeHTML(e.getValue()))}function le(e,t,r){return e.getValue()}function ce(e,t,r){return e.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(e.getValue()))}function ue(e,t,r){var o,i,n,a,s,l=parseFloat(e.getValue()),c="",u=t.decimal||".",d=t.thousand||",",h=t.negativeSign||"-",p=t.symbol||"",f=!!t.symbolAfter,g="undefined"!==typeof t.precision?t.precision:2;if(isNaN(l))return this.emptyToSpace(this.sanitizeHTML(e.getValue()));if(l<0&&(l=Math.abs(l),c=h),o=!1!==g?l.toFixed(g):l,o=String(o).split("."),i=o[0],n=o.length>1?u+o[1]:"",!1!==t.thousand){a=/(\d+)(\d{3})/;while(a.test(i))i=i.replace(a,"$1"+d+"$2")}return s=i+n,!0===c?(s="("+s+")",f?s+p:p+s):f?c+s+p:c+p+s}function de(e,t,r){var o,i=e.getValue(),n=t.urlPrefix||"",a=t.download,s=i,l=document.createElement("a");function c(e,t){var r=e.shift(),o=t[r];return e.length&&"object"===typeof o?c(e,o):o}if(t.labelField&&(o=e.getData(),s=c(t.labelField.split(this.table.options.nestedFieldSeparator),o)),t.label)switch(typeof t.label){case"string":s=t.label;break;case"function":s=t.label(e);break}if(s){if(t.urlField&&(o=e.getData(),i=o[t.urlField]),t.url)switch(typeof t.url){case"string":i=t.url;break;case"function":i=t.url(e);break}return l.setAttribute("href",n+i),t.target&&l.setAttribute("target",t.target),t.download&&(a="function"==typeof a?a(e):!0===a?"":a,l.setAttribute("download",a)),l.innerHTML=this.emptyToSpace(this.sanitizeHTML(s)),l}return"&nbsp;"}function he(e,t,r){var o=document.createElement("img"),i=e.getValue();switch(t.urlPrefix&&(i=t.urlPrefix+e.getValue()),t.urlSuffix&&(i+=t.urlSuffix),o.setAttribute("src",i),typeof t.height){case"number":o.style.height=t.height+"px";break;case"string":o.style.height=t.height;break}switch(typeof t.width){case"number":o.style.width=t.width+"px";break;case"string":o.style.width=t.width;break}return o.addEventListener("load",(function(){e.getRow().normalizeHeight()})),o}function pe(e,t,r){var o=e.getValue(),i=e.getElement(),n=t.allowEmpty,a=t.allowTruthy,s=Object.keys(t).includes("trueValue"),l="undefined"!==typeof t.tickElement?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',c="undefined"!==typeof t.crossElement?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s&&o===t.trueValue||!s&&(a&&o||!0===o||"true"===o||"True"===o||1===o||"1"===o)?(i.setAttribute("aria-checked",!0),l||""):!n||"null"!==o&&""!==o&&null!==o&&"undefined"!==typeof o?(i.setAttribute("aria-checked",!1),c||""):(i.setAttribute("aria-checked","mixed"),"")}function fe(e,t,r){var o,i=window.DateTime||luxon.DateTime,n=t.inputFormat||"yyyy-MM-dd HH:mm:ss",a=t.outputFormat||"dd/MM/yyyy HH:mm:ss",s="undefined"!==typeof t.invalidPlaceholder?t.invalidPlaceholder:"",l=e.getValue();if("undefined"!=typeof i)return o=i.isDateTime(l)?l:"iso"===n?i.fromISO(String(l)):i.fromFormat(String(l),n),o.isValid?(t.timezone&&(o=o.setZone(t.timezone)),o.toFormat(a)):!0!==s&&l?"function"===typeof s?s(l):s:l;console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function ge(e,t,r){var o,i=window.DateTime||luxon.DateTime,n=t.inputFormat||"yyyy-MM-dd HH:mm:ss",a="undefined"!==typeof t.invalidPlaceholder?t.invalidPlaceholder:"",s="undefined"!==typeof t.suffix&&t.suffix,l="undefined"!==typeof t.unit?t.unit:"days",c="undefined"!==typeof t.humanize&&t.humanize,u="undefined"!==typeof t.date?t.date:i.now(),d=e.getValue();if("undefined"!=typeof i)return o=i.isDateTime(d)?d:"iso"===n?i.fromISO(String(d)):i.fromFormat(String(d),n),o.isValid?c?o.diff(u,l).toHuman()+(s?" "+s:""):parseInt(o.diff(u,l)[l])+(s?" "+s:""):!0===a?d:"function"===typeof a?a(d):a;console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function ve(e,t,r){var o=e.getValue();return"undefined"===typeof t[o]?(console.warn("Missing display value for "+o),o):t[o]}function me(e,t,r){var o=e.getValue(),i=e.getElement(),n=t&&t.stars?t.stars:5,a=document.createElement("span"),s=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',c='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';a.style.verticalAlign="middle",s.setAttribute("width","14"),s.setAttribute("height","14"),s.setAttribute("viewBox","0 0 512 512"),s.setAttribute("xml:space","preserve"),s.style.padding="0 1px",o=o&&!isNaN(o)?parseInt(o):0,o=Math.max(0,Math.min(o,n));for(var u=1;u<=n;u++){var d=s.cloneNode(!0);d.innerHTML=u<=o?l:c,a.appendChild(d)}return i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.setAttribute("aria-label",o),a}function be(e,t,r){var o,i,n=this.sanitizeHTML(e.getValue())||0,a=document.createElement("span"),s=t&&t.max?t.max:100,l=t&&t.min?t.min:0,c=t&&"undefined"!==typeof t.color?t.color:["red","orange","green"],u="#666666";if(!isNaN(n)&&"undefined"!==typeof e.getValue()){switch(a.classList.add("tabulator-traffic-light"),i=parseFloat(n)<=s?parseFloat(n):s,i=parseFloat(i)>=l?parseFloat(i):l,o=(s-l)/100,i=Math.round((i-l)/o),typeof c){case"string":u=c;break;case"function":u=c(n);break;case"object":if(Array.isArray(c)){var d=100/c.length,h=Math.floor(i/d);h=Math.min(h,c.length-1),h=Math.max(h,0),u=c[h];break}}return a.style.backgroundColor=u,a}}function ye(e,t={},r){var o,i,n,a,s,l=this.sanitizeHTML(e.getValue())||0,c=e.getElement(),u=t.max?t.max:100,d=t.min?t.min:0,h=t.legendAlign?t.legendAlign:"center";switch(i=parseFloat(l)<=u?parseFloat(l):u,i=parseFloat(i)>=d?parseFloat(i):d,o=(u-d)/100,i=Math.round((i-d)/o),typeof t.color){case"string":n=t.color;break;case"function":n=t.color(l);break;case"object":if(Array.isArray(t.color)){let e=100/t.color.length,r=Math.floor(i/e);r=Math.min(r,t.color.length-1),r=Math.max(r,0),n=t.color[r];break}default:n="#2DC214"}switch(typeof t.legend){case"string":a=t.legend;break;case"function":a=t.legend(l);break;case"boolean":a=l;break;default:a=!1}switch(typeof t.legendColor){case"string":s=t.legendColor;break;case"function":s=t.legendColor(l);break;case"object":if(Array.isArray(t.legendColor)){let e=100/t.legendColor.length,r=Math.floor(i/e);r=Math.min(r,t.legendColor.length-1),r=Math.max(r,0),s=t.legendColor[r]}break;default:s="#000"}c.style.minWidth="30px",c.style.position="relative",c.setAttribute("aria-label",i);var p=document.createElement("div");p.style.display="inline-block",p.style.width=i+"%",p.style.backgroundColor=n,p.style.height="100%",p.setAttribute("data-max",u),p.setAttribute("data-min",d);var f=document.createElement("div");if(f.style.position="relative",f.style.width="100%",f.style.height="100%",a){var g=document.createElement("div");g.style.position="absolute",g.style.top=0,g.style.left=0,g.style.textAlign=h,g.style.width="100%",g.style.color=s,g.innerHTML=a}return r((function(){if(!(e instanceof C)){var t=document.createElement("div");t.style.position="absolute",t.style.top="4px",t.style.bottom="4px",t.style.left="4px",t.style.right="4px",c.appendChild(t),c=t}c.appendChild(f),f.appendChild(p),a&&f.appendChild(g)})),""}function we(e,t,r){return e.getElement().style.backgroundColor=this.sanitizeHTML(e.getValue()),""}function Ce(e,t,r){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function Ee(e,t,r){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function Se(e,t,r){var o=document.createElement("span"),i=e.getRow();return i.watchPosition((e=>{o.innerText=e})),o}function xe(e,t,r){return e.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function Te(e,t,r){var o=document.createElement("div"),i=e.getRow()._row.modules.responsiveLayout;function n(e){var t=i.element;i.open=e,t&&(i.open?(o.classList.add("open"),t.style.display=""):(o.classList.remove("open"),t.style.display="none"))}return o.classList.add("tabulator-responsive-collapse-toggle"),o.innerHTML='<svg class=\'tabulator-responsive-collapse-toggle-open\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>\n\n<svg class=\'tabulator-responsive-collapse-toggle-close\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>',e.getElement().classList.add("tabulator-row-handle"),o.addEventListener("click",(function(t){t.stopImmediatePropagation(),n(!i.open),e.getTable().rowManager.adjustTableSize()})),n(i.open),o}function ke(e,t,r){var o=document.createElement("input"),i=!1;if(o.type="checkbox",o.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(o.addEventListener("click",(e=>{e.stopPropagation()})),"function"==typeof e.getRow){var n=e.getRow();n instanceof k?(o.addEventListener("change",(e=>{"click"===this.table.options.selectableRangeMode&&i?i=!1:n.toggleSelect()})),"click"===this.table.options.selectableRangeMode&&o.addEventListener("click",(e=>{i=!0,this.table.modules.selectRow.handleComplexRowClick(n._row,e)})),o.checked=n.isSelected&&n.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(n,o)):o=""}else o.addEventListener("change",(e=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(t.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(o);return o}ae.moduleName="filter",ae.filters=ne;var _e={plaintext:se,html:le,textarea:ce,money:ue,link:de,image:he,tickCross:pe,datetime:fe,datetimediff:ge,lookup:ve,star:me,traffic:be,progress:ye,color:we,buttonTick:Ce,buttonCross:Ee,rownum:Se,handle:xe,responsiveCollapse:Te,rowSelection:ke};class Re extends a{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),"undefined"!==typeof e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),"undefined"!==typeof e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),"undefined"!==typeof e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,t){var r={params:e.definition["formatter"+t+"Params"]||{}},o=e.definition["formatter"+t];switch(typeof o){case"string":Re.formatters[o]?r.formatter=Re.formatters[o]:(console.warn("Formatter Error - No such formatter found: ",o),r.formatter=Re.formatters.plaintext);break;case"function":r.formatter=o;break;default:r.formatter=Re.formatters.plaintext;break}return r}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,r){var o,i,n,a;return e.definition.titleFormatter?(o=this.getFormatter(e.definition.titleFormatter),n=t=>{e.titleFormatterRendered=t},a={getValue:function(){return t},getElement:function(){return r},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},i=e.definition.titleFormatterParams||{},i="function"===typeof i?i():i,o.call(this,a,i,n)):t}formatValue(e){var t=e.getComponent(),r="function"===typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;function o(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,t,r,o)}formatExportValue(e,t){var r,o=e.column.modules.format[t];if(o){function i(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}return r="function"===typeof o.params?o.params(e.getComponent()):o.params,o.formatter.call(this,e.getComponent(),r,i)}return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,(function(e){return t[e]}))}return e}emptyToSpace(e){return null===e||"undefined"===typeof e||""===e?"&nbsp;":e}getFormatter(e){switch(typeof e){case"string":Re.formatters[e]?e=Re.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=Re.formatters.plaintext);break;case"function":break;default:e=Re.formatters.plaintext;break}return e}}Re.moduleName="format",Re.formatters=_e;class Oe extends a{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-delete",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach((e=>{this.initializeColumn(e)}))}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach((e=>{e.calcs.top&&this.layoutRow(e.calcs.top),e.calcs.bottom&&this.layoutRow(e.calcs.bottom),e.groupList&&e.groupList.length&&this.layoutGroupCalcs(e.groupList)}))}layoutColumnPosition(e){var t=[],r=0,o=0;this.leftColumns.forEach(((o,i)=>{if(o.modules.frozen.marginValue=r,o.modules.frozen.margin=o.modules.frozen.marginValue+"px",o.visible&&(r+=o.getWidth()),i==this.leftColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup){var n=this.getColGroupParentElement(o);t.includes(n)||(this.layoutElement(n,o),t.push(n)),o.modules.frozen.edge&&n.classList.add("tabulator-frozen-"+o.modules.frozen.position)}else this.layoutElement(o.getElement(),o);e&&o.cells.forEach((e=>{this.layoutElement(e.getElement(!0),o)}))})),this.rightColumns.forEach(((t,r)=>{t.modules.frozen.marginValue=o,t.modules.frozen.margin=t.modules.frozen.marginValue+"px",t.visible&&(o+=t.getWidth()),r==this.rightColumns.length-1?t.modules.frozen.edge=!0:t.modules.frozen.edge=!1,t.parent.isGroup?this.layoutElement(this.getColGroupParentElement(t),t):this.layoutElement(t.getElement(),t),e&&t.cells.forEach((e=>{this.layoutElement(e.getElement(!0),t)}))}))}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),t=this.table.rowManager.getRows().filter((t=>!e.includes(t)));t.forEach((e=>{e.deinitialize()})),e.forEach((e=>{"row"===e.type&&this.layoutRow(e)}))}layoutRow(e){"fitDataFill"===this.table.options.layout&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach((t=>{var r=e.getCell(t);r&&this.layoutElement(r.getElement(!0),t)})),this.rightColumns.forEach((t=>{var r=e.getCell(t);r&&this.layoutElement(r.getElement(!0),t)}))}layoutElement(e,t){var r;t.modules.frozen&&e&&(e.style.position="sticky",r=this.table.rtl?"left"===t.modules.frozen.position?"right":"left":t.modules.frozen.position,e.style[r]=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}_calcSpace(e,t){var r=0;for(let o=0;o<t;o++)e[o].visible&&(r+=e[o].getWidth());return r}}Oe.moduleName="frozenColumns";class De extends a{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach((e=>{this.initializeRow(e)}))}initializeRow(e){var t=this.table.options.frozenRows,r=typeof t;"number"===r?e.getPosition()&&e.getPosition()+this.rows.length<=t&&this.freezeRow(e):"function"===r?t.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(t)&&t.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var t=this.rows.indexOf(e);return t>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach((e=>{t.push(e)})),t}getRows(e){var t=e.slice(0);return this.rows.forEach((function(e){var r=t.indexOf(e);r>-1&&t.splice(r,1)})),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var r=e.getElement();r.parentNode&&r.parentNode.removeChild(r),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach(((e,t)=>{this.table.rowManager.styleRow(e,t)}))}}De.moduleName="frozenRows";class Ae{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(e,t,r){return"undefined"!==typeof e[t]?e[t]:e._group.groupManager.table.componentFunctionBinder.handle("group",e._group,t)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,t){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,t)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Pe{constructor(e,t,r,o,i,n,a){this.groupManager=e,this.parent=t,this.key=o,this.level=r,this.field=i,this.hasSubGroups=r<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=n,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:"undefined"!==typeof e.startOpen[r]?e.startOpen[r]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach((function(e){e.wipe()})):this.rows.forEach((e=>{e.modules&&delete e.modules.group}))),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach((t=>{this._createGroup(t,e)}))}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e="arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element,e.addEventListener("click",(e=>{"arrow"===this.groupManager.table.options.groupToggleElement&&(e.stopPropagation(),e.stopImmediatePropagation()),setTimeout((()=>{this.toggleVisibility()}))})))}_createGroup(e,t){var r=t+"_"+e,o=new Pe(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[r]);this.groups[r]=o,this.groupList.push(o)}_addRowToGroup(e){var t=this.level+1;if(this.hasSubGroups){var r=this.groupManager.groupIDLookups[t].func(e.getData()),o=t+"_"+r;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]?this.groups[o]&&this.groups[o].addRow(e):(this.groups[o]||this._createGroup(r,t),this.groups[o].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,t,r){var o=this.conformRowData({});e.updateData(o);var i=this.rows.indexOf(t);i>-1?r?this.rows.splice(i+1,0,e):this.rows.splice(i,0,e):r?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach((function(t){t.scrollHeader(e)})))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var t=this.rows.indexOf(e),r=e.getElement();t>-1&&this.rows.splice(t,1),this.groupManager.table.options.groupValues||this.rows.length?(r.parentNode&&r.parentNode.removeChild(r),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this))):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(e){var t,r=e.level+"_"+e.key;this.groups[r]&&(delete this.groups[r],t=this.groupList.indexOf(e),t>-1&&this.groupList.splice(t,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach((function(t){e=e.concat(t.getHeadersAndRows())})):("table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,t){var r=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach((e=>{r.push(e.getData(t||"data"))})),r}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach((t=>{e+=t.getRowCount()})):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"basic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination||(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((e=>{var t=e.getHeadersAndRows();t.forEach((e=>{e.detachElement()}))})):this.rows.forEach((e=>{var t=e.getElement();t.parentNode.removeChild(t)}))),this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"basic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach((t=>{var r=t.getHeadersAndRows();r.forEach((t=>{var r=t.getElement();e.parentNode.insertBefore(r,e.nextSibling),t.initialize(),e=r}))})):this.rows.forEach((t=>{var r=t.getElement();e.parentNode.insertBefore(r,e.nextSibling),t.initialize(),e=r})),this.groupManager.updateGroupRows(!0)}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];"function"==typeof this.visible&&(this.rows.forEach((function(t){e.push(t.getData())})),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var t=!1;return this.groupList.length?this.groupList.forEach((function(r){var o=r.getRowGroup(e);o&&(t=o)})):this.rows.find((function(t){return t===e}))&&(t=this),t}getSubGroups(e){var t=[];return this.groupList.forEach((function(r){t.push(e?r.getComponent():r)})),t}getRows(e,t){var r=[];return t&&this.groupList.length?this.groupList.forEach((o=>{r=r.concat(o.getRows(e,t))})):this.rows.forEach((function(t){r.push(e?t.getComponent():t)})),r}generateGroupHeaderContents(){var e=[],t=this.getRows(!1,!0);t.forEach((function(t){e.push(t.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());while(this.element.firstChild)this.element.removeChild(this.element.firstChild);"string"===typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){this.initialized&&!e||(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,i.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new Ae(this)),this.component}}class Me extends a{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,r=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(r)&&e.length>r.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",((e,t)=>{this.headerGenerator[0]=(r,o,i)=>("undefined"===typeof r?"":r)+"<span>("+o+" "+(1===o?e:t.groups.items)+")</span>"})),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs){var o=this.table.columnManager.getRealColumns();o.forEach((e=>{e.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),e.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}))}Array.isArray(e)||(e=[e]),e.forEach(((e,t)=>{var r,o;"function"==typeof e?r=e:(o=this.table.columnManager.getColumnByField(e),r=o?function(e){return o.getFieldValue(e)}:function(t){return t[e]}),this.groupIDLookups.push({field:"function"!==typeof e&&e,func:r,values:!!this.allowedValues&&this.allowedValues[t]})})),t&&(Array.isArray(t)||(t=[t]),t.forEach((e=>{})),this.startOpen=t),r&&(this.headerGenerator=Array.isArray(r)?r:[r])}else this.groupList=[],this.groups={}}rowSample(e,t){if(this.table.options.groupBy){var r=this.getGroups(!1)[0];t.push(r.getRows(!1)[0])}return t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();if(!this.table.options.groupBy)return t;t=t.filter((e=>"group"!==e.type)),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(e,t,r){if(this.table.options.groupBy){this.assignRowToGroup(e);var o=e.modules.group.rows;return o.length>1&&(!t||t&&-1==o.indexOf(t)?r?o[0]!==e&&(t=o[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!r)):o[o.length-1]!==e&&(t=o[o.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!r)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!r)),t}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&!0===this.table.options.columnCalcs&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return!!e.modules.group&&e.modules.group.getComponent()}rowMoving(e,t,r){if(this.table.options.groupBy){!r&&t instanceof Pe&&(t=this.table.rowManager.prevDisplayRow(e)||t);var o=t instanceof Pe?t:t.modules.group,i=e instanceof Pe?e:e.modules.group;o===i?this.table.rowManager.moveRowInArray(o.rows,e,t,r):(i&&i.removeRow(e),o.insertRow(e,t,r))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach((function(r){t.push(e?r.getComponent():r)})),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach((e=>{e.groupList.length?t=t.concat(this.getChildGroups(e)):t.push(e)})),t}wipe(){this.table.options.groupBy&&(this.groupList.forEach((function(e){e.wipe()})),this.groupList=[],this.groups={})}pullGroupListData(e){var t=[];return e.forEach((e=>{var r={level:0,rowCount:0,headerContent:""},o=[];e.hasSubGroups?(o=this.pullGroupListData(e.groupList),r.level=e.level,r.rowCount=o.length-e.groupList.length,r.headerContent=e.generator(e.key,r.rowCount,e.rows,e),t.push(r),t=t.concat(o)):(r.level=e.level,r.headerContent=e.generator(e.key,e.rows.length,e.rows,e),r.rowCount=e.getRows().length,t.push(r),e.getRows().forEach((e=>{t.push(e.getData("data"))})))})),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach((r=>{var o=r.getRowGroup(e);o&&(t=o)})),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((e=>{this.createGroup(e,0,t)})),e.forEach((e=>{this.assignRowToExistingGroup(e,t)}))):e.forEach((e=>{this.assignRowToGroup(e,t)})),Object.values(t).forEach((e=>{e.wipe(!0)}))}createGroup(e,t,r){var o,i=t+"_"+e;r=r||[],o=new Pe(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],r[i]),this.groups[i]=o,this.groupList.push(o)}assignRowToExistingGroup(e,t){var r=this.groupIDLookups[0].func(e.getData()),o="0_"+r;this.groups[o]&&this.groups[o].addRow(e)}assignRowToGroup(e,t){var r=this.groupIDLookups[0].func(e.getData()),o=!this.groups["0_"+r];return o&&this.createGroup(r,0,t),this.groups["0_"+r].addRow(e),!o}reassignRowToGroup(e){if("row"===e.type){var t,r=e.modules.group,o=r.getPath(),i=this.getExpectedPath(e);t=o.length==i.length&&o.every(((e,t)=>e===i[t])),t||(r.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],r=e.getData();return this.groupIDLookups.forEach((e=>{t.push(e.func(r))})),t}updateGroupRows(e){var t=[];return this.blockRedraw||(this.groupList.forEach((e=>{t=t.concat(e.getHeadersAndRows())})),e&&this.refreshData(!0)),t}scrollHeaders(e){this.table.options.groupBy&&("virtual"===this.table.options.renderHorizontal&&(e-=this.table.columnManager.renderer.vDomPadLeft),e+="px",this.groupList.forEach((t=>{t.scrollHeader(e)})))}removeGroup(e){var t,r=e.level+"_"+e.key;this.groups[r]&&(delete this.groups[r],t=this.groupList.indexOf(e),t>-1&&this.groupList.splice(t,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,t=!0;this.table.rowManager.getDisplayRows().forEach(((r,o)=>{this.table.rowManager.styleRow(r,o),e.appendChild(r.getElement()),r.initialize(!0),"group"!==r.type&&(t=!1)})),e.style.minWidth=t?this.table.columnManager.getWidth()+"px":""}}Me.moduleName="groupRows";var Le={cellEdit:function(e){e.component.setValueProcessData(e.data.oldValue),e.component.cellRendered()},rowAdd:function(e){e.component.deleteActual()},rowDelete:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(e.component,t)},rowMove:function(e){var t=e.data.posFrom-e.data.posTo>0;this.table.rowManager.moveRowActual(e.component,this.table.rowManager.getRowFromPosition(e.data.posFrom),t),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},Fe={cellEdit:function(e){e.component.setValueProcessData(e.data.newValue),e.component.cellRendered()},rowAdd:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(e.component,t)},rowDelete:function(e){e.component.deleteActual()},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.getRowFromPosition(e.data.posTo),e.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}};class Ie extends a{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,r){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:t.getPosition(),to:t,after:r})}rowAdded(e,t,r,o){this.action("rowAdd",e,{data:t,pos:r,index:o})}rowDeleted(e){var t,r;this.table.options.groupBy?(r=e.getComponent().getGroup()._getSelf().rows,t=r.indexOf(e),t&&(t=r[t-1])):(t=e.table.rowManager.getRowIndex(e),t&&(t=e.table.rowManager.rows[t-1])),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,r){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:r}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex((function(t){return t.component===e}));t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return Ie.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return Ie.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,t){this.history.forEach((function(r){if(r.component instanceof _)r.component===e&&(r.component=t);else if(r.component instanceof E&&r.component.row===e){var o=r.component.column.getField();o&&(r.component=t.getCell(o))}}))}}Ie.moduleName="history",Ie.undoers=Le,Ie.redoers=Fe;class Ne extends a{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,t=this.table.options,r=e.getElementsByTagName("th"),o=e.getElementsByTagName("tbody")[0],i=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),o=o?o.getElementsByTagName("tr"):[],this._extractOptions(e,t),r.length?this._extractHeaders(r,o):this._generateBlankHeaders(r,o);for(var n=0;n<o.length;n++){var a=o[n],s=a.getElementsByTagName("td"),l={};this.hasIndex||(l[t.index]=n);for(var c=0;c<s.length;c++){var u=s[c];"undefined"!==typeof this.fieldIndex[c]&&(l[this.fieldIndex[c]]=u.innerHTML)}i.push(l)}t.data=i,this.dispatchExternal("htmlImported")}_extractOptions(e,t,r){var o=e.attributes,i=r?Object.keys(r):Object.keys(t),n={};for(var a in i.forEach((e=>{n[e.toLowerCase()]=e})),o){var s,l=o[a];l&&"object"==typeof l&&l.name&&0===l.name.indexOf("tabulator-")&&(s=l.name.replace("tabulator-",""),"undefined"!==typeof n[s]&&(t[n[s]]=this._attribValue(l.value)))}}_attribValue(e){return"true"===e||"false"!==e&&e}_findCol(e){var t=this.table.options.columns.find((t=>t.title===e));return t||!1}_extractHeaders(e,t){for(var r=0;r<e.length;r++){var o,i=e[r],n=!1,a=this._findCol(i.textContent);a?n=!0:a={title:i.textContent.trim()},a.field||(a.field=i.textContent.trim().toLowerCase().replaceAll(" ","_")),o=i.getAttribute("width"),o&&!a.width&&(a.width=o),this._extractOptions(i,a,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[r]=a.field,a.field==this.table.options.index&&(this.hasIndex=!0),n||this.table.options.columns.push(a)}}_generateBlankHeaders(e,t){for(var r=0;r<e.length;r++){var o=e[r],i={title:"",field:"col"+r};this.fieldIndex[r]=i.field;var n=o.getAttribute("width");n&&(i.width=n),this.table.options.columns.push(i)}}}function He(e){var t=[],r=0,o=0,i=!1;for(let n=0;n<e.length;n++){let a=e[n],s=e[n+1];t[r]||(t[r]=[]),t[r][o]||(t[r][o]=""),'"'==a&&i&&'"'==s?(t[r][o]+=a,n++):'"'!=a?","!=a||i?"\r"!=a||"\n"!=s||i?"\r"!=a&&"\n"!=a||i?t[r][o]+=a:(o=0,r++):(o=0,r++,n++):o++:i=!i}return t}function Ge(e){try{return JSON.parse(e)}catch(t){return console.warn("JSON Import Error - File contents is invalid JSON",t),Promise.reject()}}function Ve(e){return e}Ne.moduleName="htmlTableImport";var ze={csv:He,json:Ge,array:Ve};class Be extends a{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&("string"===typeof e||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,t,r,o,i){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch((e=>(console.error("Import Error:",e||"Unable to import data"),Promise.reject(e))))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),t="string"===typeof e?Be.importers[e]:e,t||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t){var r=this.lookupImporter(e);if(r)return this.pickFile(t).then(this.importData.bind(this,r)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch((e=>(console.error("Import Error:",e||"Unable to import file"),Promise.reject(e))))}pickFile(e){return new Promise(((t,r)=>{var o=document.createElement("input");o.type="file",o.accept=e,o.addEventListener("change",(e=>{var i=o.files[0],n=new FileReader;switch(this.table.options.importReader){case"buffer":n.readAsArrayBuffer(i);break;case"binary":n.readAsBinaryString(i);break;case"url":n.readAsDataURL(i);break;case"text":default:n.readAsText(i)}n.onload=e=>{t(n.result)},n.onerror=e=>{console.warn("File Load Error - Unable to read file"),r()}})),o.click()}))}importData(e,t){var r=e.call(this.table,t);return r instanceof Promise?r:r?Promise.resolve(r):Promise.reject()}structureData(e){var t=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(t=this.table.options.autoColumns?this.structureArrayToObject(e):this.structureArrayToColumns(e),t):e}structureArrayToObject(e){var t=e.shift(),r=e.map((e=>{var r={};return t.forEach(((t,o)=>{r[t]=e[o]})),r}));return r}structureArrayToColumns(e){var t=[],r=this.table.getColumns();return r[0]&&e[0][0]&&r[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach((e=>{var o={};e.forEach(((e,t)=>{var i=r[t];i&&(o[i.getField()]=e)})),t.push(o)})),t}setData(e){return this.table.setData(e)}}Be.moduleName="import",Be.importers=ze;class je extends a{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach((e=>{for(let t in e)e[t]=null}))}cellContentsSelectionFixer(e,t){var r;if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==t){e.preventDefault();try{document.selection?(r=document.body.createTextRange(),r.moveToElementText(t.getElement()),r.select()):window.getSelection&&(r=document.createRange(),r.selectNode(t.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(r))}catch(e){}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?!this.subscribers[e]||this.columnSubscribers[e]||this.subscribedExternal(e)||(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,r=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let e in this.eventMap)this.eventMap[e]===r&&this.subscribers[e]&&(t=!1);t&&(this.unsubscribe(r+"-touchstart",this.touchSubscribers[r+"-touchstart"]),this.unsubscribe(r+"-touchend",this.touchSubscribers[r+"-touchend"]),delete this.touchSubscribers[r+"-touchstart"],delete this.touchSubscribers[r+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let r in this.eventMap)t[r]&&(this.subscriptionChanged(r,!0),this.columnSubscribers[r]||(this.columnSubscribers[r]=[]),this.columnSubscribers[r].push(e))}handle(e,t,r){this.dispatchEvent(e,t,r)}handleTouch(e,t,r,o){var i=this.touchWatchers[e];switch("column"===e&&(e="header"),t){case"start":i.tap=!0,clearTimeout(i.tapHold),i.tapHold=setTimeout((()=>{clearTimeout(i.tapHold),i.tapHold=null,i.tap=null,clearTimeout(i.tapDbl),i.tapDbl=null,this.dispatchEvent(e+"TapHold",r,o)}),1e3);break;case"end":i.tap&&(i.tap=null,this.dispatchEvent(e+"Tap",r,o)),i.tapDbl?(clearTimeout(i.tapDbl),i.tapDbl=null,this.dispatchEvent(e+"DblTap",r,o)):i.tapDbl=setTimeout((()=>{clearTimeout(i.tapDbl),i.tapDbl=null}),300),clearTimeout(i.tapHold),i.tapHold=null;break}}dispatchEvent(e,t,r){var o,i=r.getComponent();this.columnSubscribers[e]&&(r instanceof E?o=r.column.definition[e]:r instanceof T&&(o=r.definition[e]),o&&o(t,i)),this.dispatchExternal(e,t,i)}}je.moduleName="interaction";var We={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 67"]},Ue={keyBlock:function(e){e.stopPropagation(),e.preventDefault()},scrollPageUp:function(e){var t=this.table.rowManager,r=t.scrollTop-t.element.clientHeight;e.preventDefault(),t.displayRowsCount&&(r>=0?t.element.scrollTop=r:t.scrollToRow(t.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(e){var t=this.table.rowManager,r=t.scrollTop+t.element.clientHeight,o=t.element.scrollHeight;e.preventDefault(),t.displayRowsCount&&(r<=o?t.element.scrollTop=r:t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1]),this.table.element.focus()},navPrev:function(e){this.dispatch("keybinding-nav-prev",e)},navNext:function(e){this.dispatch("keybinding-nav-next",e)},navLeft:function(e){this.dispatch("keybinding-nav-left",e)},navRight:function(e){this.dispatch("keybinding-nav-right",e)},navUp:function(e){this.dispatch("keybinding-nav-up",e)},navDown:function(e){this.dispatch("keybinding-nav-down",e)},undo:function(e){var t=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell,t||(e.preventDefault(),this.table.modules.history.undo()))},redo:function(e){var t=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell,t||(e.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(e){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};class $e extends a{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],!1!==e&&(Object.assign(t,$e.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)$e.actions[t]?e[t]&&("object"!==typeof e[t]&&(e[t]=[e[t]]),e[t].forEach((e=>{var r=Array.isArray(e)?e:[e];r.forEach((e=>{this.mapBinding(t,e)}))}))):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var r={action:$e.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},o=t.toString().toLowerCase().split(" ").join("").split("+");o.forEach((e=>{switch(e){case"ctrl":r.ctrl=!0;break;case"shift":r.shift=!0;break;case"meta":r.meta=!0;break;default:e=isNaN(e)?e.toUpperCase().charCodeAt(0):parseInt(e),r.keys.push(e),this.watchKeys[e]||(this.watchKeys[e]=[]),this.watchKeys[e].push(r)}}))}bindEvents(){var e=this;this.keyupBinding=function(t){var r=t.keyCode,o=e.watchKeys[r];o&&(e.pressedKeys.push(r),o.forEach((function(r){e.checkBinding(t,r)})))},this.keydownBinding=function(t){var r=t.keyCode,o=e.watchKeys[r];if(o){var i=e.pressedKeys.indexOf(r);i>-1&&e.pressedKeys.splice(i,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var r=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta&&(t.keys.forEach((e=>{var t=this.pressedKeys.indexOf(e);-1==t&&(r=!1)})),r&&t.action.call(this,e),!0)}}$e.moduleName="keybindings",$e.bindings=We,$e.actions=Ue;class Ke extends a{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("menuContainer",void 0),this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("menuContainer","popupContainer")||(this.table.options.popupContainer=this.table.options.menuContainer)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),t.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var t,r=e.definition.headerMenuIcon;t=document.createElement("span"),t.classList.add("tabulator-header-popup-button"),r?("function"===typeof r&&(r=r(e.getComponent())),r instanceof HTMLElement?t.appendChild(r):t.innerHTML=r):t.innerHTML="&vellip;",t.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,t,e)})),e.titleElement.insertBefore(t,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,r){r._cell&&(r=r._cell),r.column.definition[e]&&this.loadMenuEvent(r.column.definition[e],t,r)}loadMenuTableColumnEvent(e,t,r){r._column&&(r=r._column),r.definition[e]&&this.loadMenuEvent(r.definition[e],t,r)}loadMenuEvent(e,t,r){r._group?r=r._group:r._row&&(r=r._row),e="function"==typeof e?e.call(this.table,t,r.getComponent()):e,this.loadMenu(t,r,e)}loadMenu(e,t,r,o,i){var n,a=!(e instanceof MouseEvent),s=document.createElement("div");if(s.classList.add("tabulator-menu"),a||e.preventDefault(),r&&r.length){if(o)n=i.child(s);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout((()=>{this.nestedMenuBlock=!1}),100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=n=this.popup(s)}r.forEach((e=>{var r=document.createElement("div"),o=e.label,i=e.disabled;e.separator?r.classList.add("tabulator-menu-separator"):(r.classList.add("tabulator-menu-item"),"function"==typeof o&&(o=o.call(this.table,t.getComponent())),o instanceof Node?r.appendChild(o):r.innerHTML=o,"function"==typeof i&&(i=i.call(this.table,t.getComponent())),i?(r.classList.add("tabulator-menu-item-disabled"),r.addEventListener("click",(e=>{e.stopPropagation()}))):e.menu&&e.menu.length?r.addEventListener("click",(o=>{o.stopPropagation(),this.loadMenu(o,t,e.menu,r,n)})):e.action&&r.addEventListener("click",(r=>{e.action(r,t.getComponent())})),e.menu&&e.menu.length&&r.classList.add("tabulator-menu-item-submenu")),s.appendChild(r)})),s.addEventListener("click",(e=>{this.rootPopup&&this.rootPopup.hide()})),n.show(o||e),n===this.rootPopup&&(this.rootPopup.hideOnBlur((()=>{this.rootPopup=null,this.currentComponent&&(this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)})),this.currentComponent=t,this.dispatchExternal("menuOpened",t.getComponent()))}}}Ke.moduleName="menu";class Ye extends a{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var t,r=this,o={};e.modules.frozen||e.isGroup||(t=e.getElement(),o.mousemove=function(o){e.parent===r.moving.parent&&((r.touchMove?o.touches[0].pageX:o.pageX)-i.elOffset(t).left+r.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?r.toCol===e&&r.toColAfter||(t.parentNode.insertBefore(r.placeholderElement,t.nextSibling),r.moveColumn(e,!0)):(r.toCol!==e||r.toColAfter)&&(t.parentNode.insertBefore(r.placeholderElement,t),r.moveColumn(e,!1)))}.bind(r),t.addEventListener("mousedown",(function(t){r.touchMove=!1,1===t.which&&(r.checkTimeout=setTimeout((function(){r.startMove(t,e)}),r.checkPeriod))})),t.addEventListener("mouseup",(function(e){1===e.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)})),r.bindTouchEvents(e)),e.modules.moveColumn=o}bindTouchEvents(e){var t,r,o,i,n,a,s=e.getElement(),l=!1;s.addEventListener("touchstart",(s=>{this.checkTimeout=setTimeout((()=>{this.touchMove=!0,t=e.nextColumn(),o=t?t.getWidth()/2:0,r=e.prevColumn(),i=r?r.getWidth()/2:0,n=0,a=0,l=!1,this.startMove(s,e)}),this.checkPeriod)}),{passive:!0}),s.addEventListener("touchmove",(s=>{var c,u;this.moving&&(this.moveHover(s),l||(l=s.touches[0].pageX),c=s.touches[0].pageX-l,c>0?t&&c-n>o&&(u=t,u!==e&&(l=s.touches[0].pageX,u.getElement().parentNode.insertBefore(this.placeholderElement,u.getElement().nextSibling),this.moveColumn(u,!0))):r&&-c-a>i&&(u=r,u!==e&&(l=s.touches[0].pageX,u.getElement().parentNode.insertBefore(this.placeholderElement,u.getElement()),this.moveColumn(u,!1))),u&&(t=u.nextColumn(),n=o,o=t?t.getWidth()/2:0,r=u.prevColumn(),a=i,i=r?r.getWidth()/2:0))}),{passive:!0}),s.addEventListener("touchend",(e=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(e)}))}startMove(e,t){var r=t.getElement(),o=this.table.columnManager.getContentsElement(),n=this.table.columnManager.getHeadersElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-i.elOffset(r).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",r.parentNode.insertBefore(this.placeholderElement,r),r.parentNode.removeChild(r),this.hoverElement=r.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),o.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=o.clientHeight-n.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach((function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)}))}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach((function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)}))}moveColumn(e,t){var r=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach((function(e,t){var o=e.getElement(!0);o.parentNode&&r[t]&&o.parentNode.insertBefore(r[t].getElement(),o.nextSibling)})):e.getCells().forEach((function(e,t){var o=e.getElement(!0);o.parentNode&&r[t]&&o.parentNode.insertBefore(r[t].getElement(),o)}))}endMove(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var t,r=this.table.columnManager.getContentsElement(),o=r.scrollLeft,n=(this.touchMove?e.touches[0].pageX:e.pageX)-i.elOffset(r).left+o;this.hoverElement.style.left=n-this.startX+"px",n-o<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout((()=>{t=Math.max(0,o-5),this.table.rowManager.getElement().scrollLeft=t,this.autoScrollTimeout=!1}),1))),o+r.clientWidth-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout((()=>{t=Math.min(r.clientWidth,o+5),this.table.rowManager.getElement().scrollLeft=t,this.autoScrollTimeout=!1}),1)))}}Ye.moduleName="moveColumn";class qe extends a{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var t=this,r={};r.mouseup=function(r){t.tableRowDrop(r,e)}.bind(t),r.mousemove=function(r){var o;r.pageY-i.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?t.toRow===e&&t.toRowAfter||(o=e.getElement(),o.parentNode.insertBefore(t.placeholderElement,o.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(o=e.getElement(),o.previousSibling&&(o.parentNode.insertBefore(t.placeholderElement,o),t.moveRow(e,!1)))}.bind(t),e.modules.moveRow=r}initializeRow(e){var t,r=this,o={};o.mouseup=function(t){r.tableRowDrop(t,e)}.bind(r),o.mousemove=function(t){var o=e.getElement();t.pageY-i.elOffset(o).top+r.table.rowManager.element.scrollTop>e.getHeight()/2?r.toRow===e&&r.toRowAfter||(o.parentNode.insertBefore(r.placeholderElement,o.nextSibling),r.moveRow(e,!0)):(r.toRow!==e||r.toRowAfter)&&(o.parentNode.insertBefore(r.placeholderElement,o),r.moveRow(e,!1))}.bind(r),this.hasHandle||(t=e.getElement(),t.addEventListener("mousedown",(function(t){1===t.which&&(r.checkTimeout=setTimeout((function(){r.startMove(t,e)}),r.checkPeriod))})),t.addEventListener("mouseup",(function(e){1===e.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)})),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=o}initializeColumn(e){e.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&!1!==this.table.options.movableRows){var t=this,r=e.getElement(!0);r.addEventListener("mousedown",(function(r){1===r.which&&(t.checkTimeout=setTimeout((function(){t.startMove(r,e.row)}),t.checkPeriod))})),r.addEventListener("mouseup",(function(e){1===e.which&&t.checkTimeout&&clearTimeout(t.checkTimeout)})),this.bindTouchEvents(e.row,r)}}bindTouchEvents(e,t){var r,o,i,n,a,s,l=!1;t.addEventListener("touchstart",(t=>{this.checkTimeout=setTimeout((()=>{this.touchMove=!0,r=e.nextRow(),i=r?r.getHeight()/2:0,o=e.prevRow(),n=o?o.getHeight()/2:0,a=0,s=0,l=!1,this.startMove(t,e)}),this.checkPeriod)}),{passive:!0}),this.moving,this.toRow,this.toRowAfter,t.addEventListener("touchmove",(t=>{var c,u;this.moving&&(t.preventDefault(),this.moveHover(t),l||(l=t.touches[0].pageY),c=t.touches[0].pageY-l,c>0?r&&c-a>i&&(u=r,u!==e&&(l=t.touches[0].pageY,u.getElement().parentNode.insertBefore(this.placeholderElement,u.getElement().nextSibling),this.moveRow(u,!0))):o&&-c-s>n&&(u=o,u!==e&&(l=t.touches[0].pageY,u.getElement().parentNode.insertBefore(this.placeholderElement,u.getElement()),this.moveRow(u,!1))),u&&(r=u.nextRow(),a=i,i=r?r.getHeight()/2:0,o=u.prevRow(),s=n,n=o?o.getHeight()/2:0))})),t.addEventListener("touchend",(e=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(e),this.touchMove=!1)}))}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach((e=>{("row"===e.type||"group"===e.type)&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)}))}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach((e=>{("row"===e.type||"group"===e.type)&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)}))}startMove(e,t){var r=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(r.parentNode.insertBefore(this.placeholderElement,r),r.parentNode.removeChild(r)),this.hoverElement=r.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",t.getComponent()),this.moveHover(e)}setStartPosition(e,t){var r,o,i=this.touchMove?e.touches[0].pageX:e.pageX,n=this.touchMove?e.touches[0].pageY:e.pageY;r=t.getElement(),this.connection?(o=r.getBoundingClientRect(),this.startX=o.left-i+window.pageXOffset,this.startY=o.top-n+window.pageYOffset):this.startY=n-r.getBoundingClientRect().top}endMove(e){e&&1!==e.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,t){this.toRow=e,this.toRowAfter=t}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var t=this.table.rowManager.getElement(),r=t.scrollTop,o=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+r;this.hoverElement.style.top=Math.min(o-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,t,r){this.dispatchExternal("movableRowsElementDrop",e,t,!!r&&r.getComponent())}connectToTables(e){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",t),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((e=>{"string"===typeof e?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(e))):this.connectionElements.push(e)})),this.connectionElements.forEach((e=>{var t=t=>{this.elementRowDrop(t,e,this.moving)};e.addEventListener("mouseup",t),e.tabulatorElementDropEvent=t,e.classList.add("tabulator-movingrow-receiving")})))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((e=>{e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent}))}connect(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((e=>{"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().addEventListener("mouseup",e.modules.moveRow.mouseup)})),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",t,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((e=>{"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)})),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,t,r){var o=!1;if(r){switch(typeof this.table.options.movableRowsSender){case"string":o=this.senders[this.table.options.movableRowsSender];break;case"function":o=this.table.options.movableRowsSender;break}o?o.call(this,this.moving?this.moving.getComponent():void 0,t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()}tableRowDrop(e,t){var r=!1,o=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":r=this.receivers[this.table.options.movableRowsReceiver];break;case"function":r=this.table.options.movableRowsReceiver;break}r?o=r.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),o?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:t,success:o})}commsReceived(e,t,r){switch(t){case"connect":return this.connect(e,r.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,r.row,r.success)}}}qe.prototype.receivers={insert:function(e,t,r){return this.table.addRow(e.getData(),void 0,t),!0},add:function(e,t,r){return this.table.addRow(e.getData()),!0},update:function(e,t,r){return!!t&&(t.update(e.getData()),!0)},replace:function(e,t,r){return!!t&&(this.table.addRow(e.getData(),void 0,t),t.delete(),!0)}},qe.prototype.senders={delete:function(e,t,r){e.delete()}},qe.moduleName="moveRow";var Xe={};class Je extends a{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,r){return this.transformRow(t,"data",r)}initializeColumn(e){var t=!1,r={};this.allowedTypes.forEach((o=>{var i,n="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[n]&&(i=this.lookupMutator(e.definition[n]),i&&(t=!0,r[n]={mutator:i,params:e.definition[n+"Params"]||{}}))})),t&&(e.modules.mutate=r)}lookupMutator(e){var t=!1;switch(typeof e){case"string":Je.mutators[e]?t=Je.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t,r){var o,i="mutator"+(t.charAt(0).toUpperCase()+t.slice(1));return this.enabled&&this.table.columnManager.traverse((n=>{var a,s,l;n.modules.mutate&&(a=n.modules.mutate[i]||n.modules.mutate.mutator||!1,a&&(o=n.getFieldValue("undefined"!==typeof r?r:e),("data"==t&&!r||"undefined"!==typeof o)&&(l=n.getComponent(),s="function"===typeof a.params?a.params(o,e,t,l):a.params,n.setFieldValue(e,a.mutator(o,e,t,s,l)))))})),e}transformCell(e,t){if(e.column.modules.mutate){var r=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,o={};if(r)return o=Object.assign(o,e.row.getData()),e.column.setFieldValue(o,t),r.mutator(t,o,"edit",r.params,e.getComponent())}return t}mutateLink(e){var t=e.column.definition.mutateLink;t&&(Array.isArray(t)||(t=[t]),t.forEach((t=>{var r=e.row.getCell(t);r&&r.setValue(r.getValue(),!0,!0)})))}enable(){this.enabled=!0}disable(){this.enabled=!1}}function Qe(e,t,r,o,i){var n=document.createElement("span"),a=document.createElement("span"),s=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span"),u=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",(e=>{a.innerHTML=e})),this.table.modules.localize.langBind("pagination|counter|of",(e=>{l.innerHTML=e})),this.table.modules.localize.langBind("pagination|counter|rows",(e=>{u.innerHTML=e})),o?(s.innerHTML=" "+t+"-"+Math.min(t+e-1,o)+" ",c.innerHTML=" "+o+" ",n.appendChild(a),n.appendChild(s),n.appendChild(l),n.appendChild(c),n.appendChild(u)):(s.innerHTML=" 0 ",n.appendChild(a),n.appendChild(s),n.appendChild(u)),n}function Ze(e,t,r,o,i){var n=document.createElement("span"),a=document.createElement("span"),s=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span"),u=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",(e=>{a.innerHTML=e})),s.innerHTML=" "+r+" ",this.table.modules.localize.langBind("pagination|counter|of",(e=>{l.innerHTML=e})),c.innerHTML=" "+i+" ",this.table.modules.localize.langBind("pagination|counter|pages",(e=>{u.innerHTML=e})),n.appendChild(a),n.appendChild(s),n.appendChild(l),n.appendChild(c),n.appendChild(u),n}Je.moduleName="mutator",Je.mutators=Xe;var et={rows:Qe,pages:Ze};class tt extends a{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),"page"==this.table.options.paginationAddRow&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var r,o=this.table.rowManager,i=o.getDisplayRows();return t?i.length?r=i[0]:o.activeRows.length&&(r=o.activeRows[o.activeRows.length-1],t=!1):i.length&&(r=i[i.length-1],t=!(i.length<this.size)),{index:r,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",t=document.createElement("div"),t.classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,r,o){return this.initialLoad||(this.progressiveLoad&&!r||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),o.page=this.page,this.size&&(o.size=this.size),o}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return!!this.table.options.pagination&&(this.setPageSize(e),this.setPage(1))}scrollVertical(e,t){var r,o,i;t||this.table.dataLoader.loading||(r=this.table.rowManager.getElement(),o=r.scrollHeight-r.clientHeight-e,i=this.table.options.progressiveLoadScrollMargin||2*r.clientHeight,o<i&&this.nextPage().catch((()=>{})))}restOnRenderBefore(e,t){return t||"local"===this.mode&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;while(this.pageSizeSelect.firstChild)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach((e=>{var t=document.createElement("option");t.value=e,!0===e?this.langBind("pagination|all",(function(e){t.innerHTML=e})):t.innerHTML=e,this.pageSizeSelect.appendChild(t)})),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&(t="function"===typeof e?e:tt.pageCounters[e],t?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,r;e||(this.langBind("pagination|first",(e=>{this.firstBut.innerHTML=e})),this.langBind("pagination|first_title",(e=>{this.firstBut.setAttribute("aria-label",e),this.firstBut.setAttribute("title",e)})),this.langBind("pagination|prev",(e=>{this.prevBut.innerHTML=e})),this.langBind("pagination|prev_title",(e=>{this.prevBut.setAttribute("aria-label",e),this.prevBut.setAttribute("title",e)})),this.langBind("pagination|next",(e=>{this.nextBut.innerHTML=e})),this.langBind("pagination|next_title",(e=>{this.nextBut.setAttribute("aria-label",e),this.nextBut.setAttribute("title",e)})),this.langBind("pagination|last",(e=>{this.lastBut.innerHTML=e})),this.langBind("pagination|last_title",(e=>{this.lastBut.setAttribute("aria-label",e),this.lastBut.setAttribute("title",e)})),this.firstBut.addEventListener("click",(()=>{this.setPage(1)})),this.prevBut.addEventListener("click",(()=>{this.previousPage()})),this.nextBut.addEventListener("click",(()=>{this.nextPage()})),this.lastBut.addEventListener("click",(()=>{this.setPage(this.max)})),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",(e=>{this.pageSizeSelect.setAttribute("aria-label",e),this.pageSizeSelect.setAttribute("title",e),t.innerHTML=e})),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",(e=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)}))),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):"string"===typeof this.table.options.paginationCounterElement&&(r=document.querySelector(this.table.options.paginationCounterElement),r?r.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){this.max=e?!0===this.size?1:Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||("local"==this.mode||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||"local"!==this.mode?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var t=this.displayRows(-1),r=t.indexOf(e);if(r>-1){var o=!0===this.size?1:Math.ceil((r+1)/this.size);return this.setPage(o)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){!0!==e&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,t,r){var o;if(this.pageCounter)switch("remote"===this.mode&&(t=this.size,r=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),o=this.pageCounter.call(this,t,r,this.page,e,this.max),typeof o){case"object":if(o instanceof Node){while(this.pageCounterElement.firstChild)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(o)}else this.pageCounterElement.innerHTML="",null!=o&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",o);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=o}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),r=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),o=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);while(this.pagesElement.firstChild)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let i=r;i<=o;i++)i>0&&i<=this.max&&this.pagesElement.appendChild(this._generatePageButton(i));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",(r=>{t.setAttribute("aria-label",r+" "+e),t.setAttribute("title",r+" "+e)})),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",(t=>{this.setPage(e)})),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t,r,o,i,n=0,a=e.filter((e=>"row"===e.type));if("local"==this.mode){t=[],this.setMaxRows(e.length),!0===this.size?(r=0,o=e.length):(r=this.size*(this.page-1),o=r+parseInt(this.size)),this._setPageButtons();for(let a=r;a<o;a++){let r=e[a];r&&(t.push(r),"row"===r.type&&(i||(i=r),n++))}return this._setPageCounter(a.length,n,i?a.indexOf(i)+1:0),t}return this._setPageButtons(),this._setPageCounter(a.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally((()=>{this.dataChanging=!1}));case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var t;if("undefined"===typeof e.last_page&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data){if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate="undefined"!==typeof e.last_row?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(e.data,!1,1==this.page):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout((()=>{this.nextPage()}),this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=1===this.page?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,1!==this.page,1==this.page),t=this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+t&&this.page<this.max&&setTimeout((()=>{this.nextPage()}));break}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}tt.moduleName="page",tt.pageCounters=et;var rt={local:function(e,t){var r=localStorage.getItem(e+"-"+t);return!!r&&JSON.parse(r)},cookie:function(e,t){var r,o,i=document.cookie,n=e+"-"+t,a=i.indexOf(n+"=");return a>-1&&(i=i.slice(a),r=i.indexOf(";"),r>-1&&(i=i.slice(0,r)),o=i.replace(n+"=","")),!!o&&JSON.parse(o)}},ot={local:function(e,t,r){localStorage.setItem(e+"-"+t,JSON.stringify(r))},cookie:function(e,t,r){var o=new Date;o.setDate(o.getDate()+1e4),document.cookie=e+"-"+t+"="+JSON.stringify(r)+"; expires="+o.toUTCString()}};class it extends a{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(t){return!1}}initialize(){if(this.table.options.persistence){var e,t=this.table.options.persistenceMode,r=this.table.options.persistenceID;this.mode=!0!==t?t:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"===typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:it.readers[this.table.options.persistenceReaderFunc]?this.readFunc=it.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):it.readers[this.mode]?this.readFunc=it.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"===typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:it.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=it.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):it.writers[this.mode]?this.writeFunc=it.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(r||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,headerFilter:!0===this.table.options.persistence||this.table.options.persistence.headerFilter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(e=this.retrieveData("page"),e&&("undefined"===typeof e.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=e.paginationSize),"undefined"===typeof e.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=e.paginationInitialPage))),this.config.group&&(e=this.retrieveData("group"),e&&("undefined"===typeof e.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=e.groupBy),"undefined"===typeof e.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=e.groupStartOpen),"undefined"===typeof e.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=e.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,t,r;this.config.sort&&(e=this.load("sort"),!1===!e&&(this.table.options.initialSort=e)),this.config.filter&&(t=this.load("filter"),!1===!t&&(this.table.options.initialFilter=t)),this.config.headerFilter&&(r=this.load("headerFilter"),!1===!r&&(this.table.options.initialHeaderFilter=r))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var t,r;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),r=!0===this.config.columns?Object.keys(t):this.config.columns,r.forEach((e=>{var r=Object.getOwnPropertyDescriptor(t,e),o=t[e];r&&Object.defineProperty(t,e,{set:e=>{o=e,this.defWatcherBlock||this.save("columns"),r.set&&r.set(e)},get:()=>(r.get&&r.get(),o)})})),this.defWatcherBlock=!1)}load(e,t){var r=this.retrieveData(e);return t&&(r=r?this.mergeDefinition(t,r):t),r}retrieveData(e){return!!this.readFunc&&this.readFunc(this.id,e)}mergeDefinition(e,t){var r=[];return t=t||[],t.forEach(((t,o)=>{var i,n=this._findColumn(e,t);n&&(!0===this.config.columns||void 0==this.config.columns?(i=Object.keys(n),i.push("width")):i=this.config.columns,i.forEach((e=>{"columns"!==e&&"undefined"!==typeof t[e]&&(n[e]=t[e])})),n.columns&&(n.columns=this.mergeDefinition(n.columns,t.columns)),r.push(n))})),e.forEach(((e,o)=>{var i=this._findColumn(t,e);i||(r.length>o?r.splice(o,0,e):r.push(e))})),r}_findColumn(e,t){var r=t.columns?"group":t.field?"field":"object";return e.find((function(e){switch(r){case"group":return e.title===t.title&&e.columns.length===t.columns.length;case"field":return e.field===t.field;case"object":return e===t}}))}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"headerFilter":t=this.table.modules.filter.getHeaderFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach((function(e){e.column=e.field,delete e.field})),e}getGroupConfig(){var e={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],r=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach((e=>{var o,i={},n=e.getDefinition();e.isGroup?(i.title=n.title,i.columns=this.parseColumns(e.getColumns())):(i.field=e.getField(),!0===this.config.columns||void 0==this.config.columns?(o=Object.keys(n),o.push("width"),o.push("visible")):o=this.config.columns,o.forEach((t=>{switch(t){case"width":i.width=e.getWidth();break;case"visible":i.visible=e.visible;break;default:"function"!==typeof n[t]&&-1===r.indexOf(t)&&(i[t]=n[t])}}))),t.push(i)})),t}}it.moduleName="persistence",it.moduleInitOrder=-10,it.readers=rt,it.writers=ot;class nt extends a{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,t,r){this.loadPopupEvent(t,null,e,r)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var t=e.definition;t.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),t.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),t.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),t.headerPopup&&this.initializeColumnHeaderPopup(e),t.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),t.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),t.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var t,r=e.definition.headerPopupIcon;t=document.createElement("span"),t.classList.add("tabulator-header-popup-button"),r?("function"===typeof r&&(r=r(e.getComponent())),r instanceof HTMLElement?t.appendChild(r):t.innerHTML=r):t.innerHTML="&vellip;",t.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,t,e)})),e.titleElement.insertBefore(t,e.titleElement.firstChild)}loadPopupTableCellEvent(e,t,r){r._cell&&(r=r._cell),r.column.definition[e]&&this.loadPopupEvent(r.column.definition[e],t,r)}loadPopupTableColumnEvent(e,t,r){r._column&&(r=r._column),r.definition[e]&&this.loadPopupEvent(r.definition[e],t,r)}loadPopupEvent(e,t,r,o){var i;function n(e){i=e}r._group?r=r._group:r._row&&(r=r._row),e="function"==typeof e?e.call(this.table,t,r.getComponent(),n):e,this.loadPopup(t,r,e,i,o)}loadPopup(e,t,r,o,i){var n,a,s=!(e instanceof MouseEvent);r instanceof HTMLElement?n=r:(n=document.createElement("div"),n.innerHTML=r),n.classList.add("tabulator-popup"),n.addEventListener("click",(e=>{e.stopPropagation()})),s||e.preventDefault(),a=this.popup(n),"function"===typeof o&&a.renderCallback(o),e?a.show(e):a.show(t.getElement(),i||"center"),a.hideOnBlur((()=>{this.dispatchExternal("popupClosed",t.getComponent())})),this.dispatchExternal("popupOpened",t.getComponent())}}nt.moduleName="popup";class at extends a{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,r){var o,i,n=window.scrollX,a=window.scrollY,s=document.createElement("div"),l=document.createElement("div"),c=this.table.modules.export.generateTable("undefined"!=typeof r?r:this.table.options.printConfig,"undefined"!=typeof t?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(s.classList.add("tabulator-print-header"),o="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader,"string"==typeof o?s.innerHTML=o:s.appendChild(o),this.element.appendChild(s)),this.element.appendChild(c),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),i="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter,"string"==typeof i?l.innerHTML=i:l.appendChild(i),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,c),window.print(),this.cleanup(),window.scrollTo(n,a),this.manualBlock=!1}}at.moduleName="print";class st extends a{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var t,r=this;this.currentVersion++,t=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var o,i=Array.from(arguments);return r.blocked||t!==r.currentVersion||(r.block("data-push"),i.forEach((e=>{r.table.rowManager.addRowActual(e,!1)})),o=r.origFuncs.push.apply(e,arguments),r.unblock("data-push")),o}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var o,i=Array.from(arguments);return r.blocked||t!==r.currentVersion||(r.block("data-unshift"),i.forEach((e=>{r.table.rowManager.addRowActual(e,!0)})),o=r.origFuncs.unshift.apply(e,arguments),r.unblock("data-unshift")),o}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var o,i;return r.blocked||t!==r.currentVersion||(r.block("data-shift"),r.data.length&&(o=r.table.rowManager.getRowFromDataObject(r.data[0]),o&&o.deleteActual()),i=r.origFuncs.shift.call(e),r.unblock("data-shift")),i}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var o,i;return r.blocked||t!==r.currentVersion||(r.block("data-pop"),r.data.length&&(o=r.table.rowManager.getRowFromDataObject(r.data[r.data.length-1]),o&&o.deleteActual()),i=r.origFuncs.pop.call(e),r.unblock("data-pop")),i}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var o,i,n=Array.from(arguments),a=n[0]<0?e.length+n[0]:n[0],s=n[1],l=!!n[2]&&n.slice(2);if(!r.blocked&&t===r.currentVersion){if(r.block("data-splice"),l&&(o=!!e[a]&&r.table.rowManager.getRowFromDataObject(e[a]),o?l.forEach((e=>{r.table.rowManager.addRowActual(e,!0,o,!0)})):(l=l.slice().reverse(),l.forEach((e=>{r.table.rowManager.addRowActual(e,!0,!1,!0)})))),0!==s){var c=e.slice(a,"undefined"===typeof n[1]?n[1]:a+s);c.forEach(((e,t)=>{var o=r.table.rowManager.getRowFromDataObject(e);o&&o.deleteActual(t!==c.length-1)}))}(l||0!==s)&&r.table.rowManager.reRenderInPosition(),i=r.origFuncs.splice.apply(e,arguments),r.unblock("data-splice")}return i}})}unwatchData(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var r in t)this.watchKey(e,t,r);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var t=this,r=e.getData()[this.table.options.dataTreeChildField],o={};r&&(o.push=r.push,Object.defineProperty(r,"push",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-push");var i=o.push.apply(r,arguments);this.rebuildTree(e),t.unblock("tree-push")}return i}}),o.unshift=r.unshift,Object.defineProperty(r,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-unshift");var i=o.unshift.apply(r,arguments);this.rebuildTree(e),t.unblock("tree-unshift")}return i}}),o.shift=r.shift,Object.defineProperty(r,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-shift");var i=o.shift.call(r);this.rebuildTree(e),t.unblock("tree-shift")}return i}}),o.pop=r.pop,Object.defineProperty(r,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-pop");var i=o.pop.call(r);this.rebuildTree(e),t.unblock("tree-pop")}return i}}),o.splice=r.splice,Object.defineProperty(r,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-splice");var i=o.splice.apply(r,arguments);this.rebuildTree(e),t.unblock("tree-splice")}return i}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,t,r){var o=this,i=Object.getOwnPropertyDescriptor(t,r),n=t[r],a=this.currentVersion;Object.defineProperty(t,r,{set:t=>{if(n=t,!o.blocked&&a===o.currentVersion){o.block("key");var s={};s[r]=t,e.updateData(s),o.unblock("key")}i.set&&i.set(t)},get:()=>(i.get&&i.get(),n)})}unwatchRow(e){var t=e.getData();for(var r in t)Object.defineProperty(t,r,{value:t[r]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}st.moduleName="reactiveData";class lt extends a{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){"row"===e.row.type&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var t=e.prevColumn();this.reinitializeColumn(e),t&&this.reinitializeColumn(t)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach((e=>{this.reinitializeColumn(e)})):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach((e=>{this.reinitializeColumn(e)})))}frozenColumnOffset(e){var t=!1;return e.modules.frozen&&(t=e.modules.frozen.marginValue,"left"===e.modules.frozen.position?t+=e.getWidth()-3:t&&(t-=3)),!1!==t&&t+"px"}reinitializeColumn(e){var t=this.frozenColumnOffset(e);e.cells.forEach((r=>{r.modules.resize&&r.modules.resize.handleEl&&(t&&(r.modules.resize.handleEl.style[e.modules.frozen.position]=t,r.modules.resize.handleEl.style["z-index"]=11),r.element.after(r.modules.resize.handleEl))})),e.modules.resize&&e.modules.resize.handleEl&&(t&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=t),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,t,r,o){var i=this,n=!1,a=r.definition.resizable,s={},l=r.getLastColumn();if("header"===e&&(n="textarea"==r.definition.formatter||r.definition.variableHeight,s={variableHeight:n}),(!0===a||a==e)&&this._checkResizability(l)){var c=document.createElement("span");c.className="tabulator-col-resize-handle",c.addEventListener("click",(function(e){e.stopPropagation()}));var u=function(e){i.startColumn=r,i.initialNextColumn=i.nextColumn=l.nextColumn(),i._mouseDown(e,l,c)};c.addEventListener("mousedown",u),c.addEventListener("touchstart",u,{passive:!0}),c.addEventListener("dblclick",(e=>{var t=l.getWidth();e.stopPropagation(),l.reinitializeWidth(!0),t!==l.getWidth()&&(i.dispatch("column-resized",l),i.table.externalEvents.dispatch("columnResized",l.getComponent()))})),r.modules.frozen&&(c.style.position="sticky",c.style[r.modules.frozen.position]=this.frozenColumnOffset(r)),s.handleEl=c,o.parentNode&&r.visible&&o.after(c)}t.modules.resize=s}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach((e=>{this.deInitializeComponent(e)}))}deInitializeComponent(e){var t;e.modules.resize&&(t=e.modules.resize.handleEl,t&&t.parentElement&&t.parentElement.removeChild(t))}resizeHandle(e,t){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=t)}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,r){var o=this;function i(e){var r,i,n="undefined"===typeof e.screenX?e.touches[0].screenX:e.screenX,a=n-o.startX,s=n-o.latestX;if(o.latestX=n,o.table.rtl&&(a=-a,s=-s),r=t.width==t.minWidth||t.width==t.maxWidth,t.setWidth(o.startWidth+a),i=t.width==t.minWidth||t.width==t.maxWidth,s<0&&(o.nextColumn=o.initialNextColumn),o.table.options.resizableColumnFit&&o.nextColumn&&(!r||!i)){let e=o.nextColumn.getWidth();s>0&&e<=o.nextColumn.minWidth&&(o.nextColumn=o.nextColumn.nextColumn()),o.nextColumn&&o.nextColumn.setWidth(o.nextColumn.getWidth()-s)}o.table.columnManager.rerenderColumns(!0),!o.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function n(e){o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!1),o.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",n),document.body.removeEventListener("mousemove",i),r.removeEventListener("touchmove",i),r.removeEventListener("touchend",n),o.table.element.classList.remove("tabulator-block-select"),o.startWidth!==t.getWidth()&&(o.table.columnManager.verticalAlignHeaders(),o.dispatch("column-resized",t),o.table.externalEvents.dispatch("columnResized",t.getComponent()))}o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!0),o.startX="undefined"===typeof e.screenX?e.touches[0].screenX:e.screenX,o.latestX=o.startX,o.startWidth=t.getWidth(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",n),r.addEventListener("touchmove",i,{passive:!0}),r.addEventListener("touchend",n)}}lt.moduleName="resizeColumns";class ct extends a{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,r=e.getElement(),o=document.createElement("div");o.className="tabulator-row-resize-handle";var i=document.createElement("div");i.className="tabulator-row-resize-handle prev",o.addEventListener("click",(function(e){e.stopPropagation()}));var n=function(r){t.startRow=e,t._mouseDown(r,e,o)};o.addEventListener("mousedown",n),o.addEventListener("touchstart",n,{passive:!0}),i.addEventListener("click",(function(e){e.stopPropagation()}));var a=function(r){var o=t.table.rowManager.prevDisplayRow(e);o&&(t.startRow=o,t._mouseDown(r,o,i))};i.addEventListener("mousedown",a),i.addEventListener("touchstart",a,{passive:!0}),r.appendChild(o),r.appendChild(i)}_mouseDown(e,t,r){var o=this;function i(e){t.setHeight(o.startHeight+(("undefined"===typeof e.screenY?e.touches[0].screenY:e.screenY)-o.startY))}function n(e){document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mousemove",i),r.removeEventListener("touchmove",i),r.removeEventListener("touchend",n),o.table.element.classList.remove("tabulator-block-select"),o.dispatchExternal("rowResized",t.getComponent())}o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startY="undefined"===typeof e.screenY?e.touches[0].screenY:e.screenY,o.startHeight=t.getHeight(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",n),r.addEventListener("touchmove",i,{passive:!0}),r.addEventListener("touchend",n)}}ct.moduleName="resizeRows";class ut extends a{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e,t=this.table;this.tableHeight=t.element.clientHeight,this.tableWidth=t.element.clientWidth,t.element.parentNode&&(this.containerHeight=t.element.parentNode.clientHeight,this.containerWidth=t.element.parentNode.clientWidth),"undefined"!==typeof IntersectionObserver&&"undefined"!==typeof ResizeObserver&&"virtual"===t.rowManager.getRenderMode()?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver((e=>{if(!t.browserMobile||t.browserMobile&&!t.modules.edit.currentCell){var r=Math.floor(e[0].contentRect.height),o=Math.floor(e[0].contentRect.width);this.tableHeight==r&&this.tableWidth==o||(this.tableHeight=r,this.tableWidth=o,t.element.parentNode&&(this.containerHeight=t.element.parentNode.clientHeight,this.containerWidth=t.element.parentNode.clientWidth),this.redrawTable())}})),this.resizeObserver.observe(t.element),e=window.getComputedStyle(t.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(e.getPropertyValue("max-height")||e.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((e=>{if(!t.browserMobile||t.browserMobile&&!t.modules.edit.currentCell){var r=Math.floor(e[0].contentRect.height),o=Math.floor(e[0].contentRect.width);this.containerHeight==r&&this.containerWidth==o||(this.containerHeight=r,this.containerWidth=o,this.tableHeight=t.element.clientHeight,this.tableWidth=t.element.clientWidth),this.redrawTable()}})),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!t.browserMobile||t.browserMobile&&!t.modules.edit.currentCell)&&(t.columnManager.rerenderColumns(!0),t.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver((e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)})),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}ut.moduleName="resizeTable";class dt extends a{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(((t,r)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=r,e.push(t),t.visible||"collapse"!==this.mode||this.hiddenColumns.push(t))})),e=e.reverse(),e=e.sort(((e,t)=>{var r=t.modules.responsive.order-e.modules.responsive.order;return r||t.modules.responsive.index-e.modules.responsive.index})),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==t.definition.formatter){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:"undefined"===typeof t.responsive?1:t.responsive,visible:!1!==t.visible}}initializeRow(e){var t;"calc"!==e.type&&(t=document.createElement("div"),t.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&(t=this.hiddenColumns.indexOf(e),t>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){var e=!0;while(e){let t="fitColumns"==this.table.modules.layout.getMode()?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),r=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-t;if(r<0){let t=this.columns[this.index];t?(this.hideColumn(t),this.index++):e=!1}else{let t=this.columns[this.index-1];t&&r>0&&r>=t.getWidth()?(this.showColumn(t),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach((e=>{this.generateCollapsedRowContent(e)}))}generateCollapsedRowContent(e){var t,r;if(e.modules.responsiveLayout){t=e.modules.responsiveLayout.element;while(t.firstChild)t.removeChild(t.firstChild);r=this.collapseFormatter(this.generateCollapsedRowData(e)),r&&t.appendChild(r)}}generateCollapsedRowData(e){var t,r=e.getData(),o=[];return this.hiddenColumns.forEach((i=>{var n=i.getFieldValue(r);if(i.definition.title&&i.field)if(i.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){function a(e){e()}t={value:!1,data:{},getValue:function(){return n},getData:function(){return r},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return i.getComponent()},getTable:()=>this.table},o.push({field:i.field,title:i.definition.title,value:i.modules.format.formatter.call(this.table.modules.format,t,i.modules.format.params,a)})}else o.push({field:i.field,title:i.definition.title,value:n})})),o}formatCollapsedData(e){var t=document.createElement("table");return e.forEach((function(e){var r,o=document.createElement("tr"),i=document.createElement("td"),n=document.createElement("td"),a=document.createElement("strong");i.appendChild(a),this.langBind("columns|"+e.field,(function(t){a.innerHTML=t||e.title})),e.value instanceof Node?(r=document.createElement("div"),r.appendChild(e.value),n.appendChild(r)):n.innerHTML=e.value,o.appendChild(i),o.appendChild(n),t.appendChild(o)}),this),Object.keys(e).length?t:""}}dt.moduleName="responsiveLayout";class ht extends a{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",(function(e,t){return!0})),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}rowRetrieve(e,t){return"selected"===e?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var t=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t&&!0!==e&&this._rowSelectionChanged()}initializeRow(e){var t=this,r=e.getElement(),o=function(){setTimeout((function(){t.selecting=!1}),50),document.body.removeEventListener("mouseup",o)};e.modules.select={selected:!1},t.checkRowSelectability(e)?(r.classList.add("tabulator-selectable"),r.classList.remove("tabulator-unselectable"),t.table.options.selectable&&"highlight"!=t.table.options.selectable&&("click"===t.table.options.selectableRangeMode?r.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(r.addEventListener("click",(function(r){t.table.modExists("edit")&&t.table.modules.edit.getCurrentCell()||t.table._clearSelection(),t.selecting||t.toggleRow(e)})),r.addEventListener("mousedown",(function(r){if(r.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",o),document.body.addEventListener("keyup",o),t.toggleRow(e),!1})),r.addEventListener("mouseenter",(function(r){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))})),r.addEventListener("mouseout",(function(r){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))}))))):(r.classList.add("tabulator-unselectable"),r.classList.remove("tabulator-selectable"))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var r=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),o=this.table.rowManager.getDisplayRowIndex(e),i=r<=o?r:o,n=r>=o?r:o,a=this.table.rowManager.getDisplayRows().slice(0),s=a.splice(i,n-i+1);t.ctrlKey||t.metaKey?(s.forEach((t=>{t!==this.lastClickedRow&&(!0===this.table.options.selectable||this.isRowSelected(e)||this.selectedRows.length<this.table.options.selectable)&&this.toggleRow(t)})),this.lastClickedRow=e):(this.deselectRows(void 0,!0),!0!==this.table.options.selectable&&s.length>this.table.options.selectable&&(s=s.slice(0,this.table.options.selectable)),this.selectRows(s)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return!(!e||"row"!==e.type)&&this.table.options.selectableCheck.call(this.table,e.getComponent())}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t,r,o=[];switch(typeof e){case"undefined":t=this.table.rowManager.rows;break;case"string":t=this.table.rowManager.findRow(e),t||(t=this.table.rowManager.getRows(e));break;default:t=e;break}Array.isArray(t)?t.length&&(t.forEach((e=>{r=this._selectRow(e,!0,!0),r&&o.push(r)})),this._rowSelectionChanged(!1,o)):t&&this._selectRow(t,!1,!0)}_selectRow(e,t,r){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!r&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var o=this.table.rowManager.findRow(e);if(o){if(-1==this.selectedRows.indexOf(o))return o.getElement().classList.add("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!0,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!0),this.selectedRows.push(o),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!0),this.dispatchExternal("rowSelected",o.getComponent()),this._rowSelectionChanged(t,o),o}else t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return-1!==this.selectedRows.indexOf(e)}deselectRows(e,t){var r,o,i=[];switch(typeof e){case"undefined":r=Object.assign([],this.selectedRows);break;case"string":r=this.table.rowManager.findRow(e),r||(r=this.table.rowManager.getRows(e));break;default:r=e;break}Array.isArray(r)?r.length&&(r.forEach((e=>{o=this._deselectRow(e,!0,!0),o&&i.push(o)})),this._rowSelectionChanged(t,[],i)):r&&this._deselectRow(r,t,!0)}_deselectRow(e,t){var r,o,i=this,n=i.table.rowManager.findRow(e);if(n){if(r=i.selectedRows.findIndex((function(e){return e==n})),r>-1)return o=n.getElement(),o&&o.classList.remove("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!1,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!1),i.selectedRows.splice(r,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!1),this.dispatchExternal("rowDeselected",n.getComponent()),i._rowSelectionChanged(t,void 0,n),n}else t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach((function(t){e.push(t.getData())})),e}getSelectedRows(){var e=[];return this.selectedRows.forEach((function(t){e.push(t.getComponent())})),e}_rowSelectionChanged(e,t=[],r=[]){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(t)||(t=[t]),t=t.map((e=>e.getComponent())),Array.isArray(r)||(r=[r]),r=r.map((e=>e.getComponent())),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),t,r))}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var r=this.table.modules.dataTree.getChildren(e,!0);if(t)for(let o of r)this._selectRow(o,!0);else for(let o of r)this._deselectRow(o,!0)}}function pt(e,t,r,o,i,n,a){var s=a.alignEmptyValues,l=a.decimalSeparator,c=a.thousandSeparator,u=0;if(e=String(e),t=String(t),c&&(e=e.split(c).join(""),t=t.split(c).join("")),l&&(e=e.split(l).join("."),t=t.split(l).join(".")),e=parseFloat(e),t=parseFloat(t),isNaN(e))u=isNaN(t)?0:-1;else{if(!isNaN(t))return e-t;u=1}return("top"===s&&"desc"===n||"bottom"===s&&"asc"===n)&&(u*=-1),u}function ft(e,t,r,o,i,n,a){var s,l=a.alignEmptyValues,c=0;if(e){if(t){switch(typeof a.locale){case"boolean":a.locale&&(s=this.langLocale());break;case"string":s=a.locale;break}return String(e).toLowerCase().localeCompare(String(t).toLowerCase(),s)}c=1}else c=t?-1:0;return("top"===l&&"desc"===n||"bottom"===l&&"asc"===n)&&(c*=-1),c}function gt(e,t,r,o,i,n,a){var s=window.DateTime||luxon.DateTime,l=a.format||"dd/MM/yyyy HH:mm:ss",c=a.alignEmptyValues,u=0;if("undefined"!=typeof s){if(s.isDateTime(e)||(e="iso"===l?s.fromISO(String(e)):s.fromFormat(String(e),l)),s.isDateTime(t)||(t="iso"===l?s.fromISO(String(t)):s.fromFormat(String(t),l)),e.isValid){if(t.isValid)return e-t;u=1}else u=t.isValid?-1:0;return("top"===c&&"desc"===n||"bottom"===c&&"asc"===n)&&(u*=-1),u}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function vt(e,t,r,o,i,n,a){return a.format||(a.format="dd/MM/yyyy"),gt.call(this,e,t,r,o,i,n,a)}function mt(e,t,r,o,i,n,a){return a.format||(a.format="HH:mm"),gt.call(this,e,t,r,o,i,n,a)}function bt(e,t,r,o,i,n,a){var s=!0===e||"true"===e||"True"===e||1===e?1:0,l=!0===t||"true"===t||"True"===t||1===t?1:0;return s-l}function yt(e,t,r,o,i,n,a){var s=a.type||"length",l=a.alignEmptyValues,c=0;function u(e){var t;switch(s){case"length":t=e.length;break;case"sum":t=e.reduce((function(e,t){return e+t}));break;case"max":t=Math.max.apply(null,e);break;case"min":t=Math.min.apply(null,e);break;case"avg":t=e.reduce((function(e,t){return e+t}))/e.length;break}return t}if(Array.isArray(e)){if(Array.isArray(t))return u(t)-u(e);c=1}else c=Array.isArray(t)?-1:0;return("top"===l&&"desc"===n||"bottom"===l&&"asc"===n)&&(c*=-1),c}function wt(e,t,r,o,i,n,a){var s="undefined"==typeof e?0:1,l="undefined"==typeof t?0:1;return s-l}function Ct(e,t,r,o,i,n,a){var s,l,c,u,d,h=0,p=/(\d+)|(\D+)/g,f=/\d/,g=a.alignEmptyValues,v=0;if(e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if(s=String(e).toLowerCase(),l=String(t).toLowerCase(),s===l)return 0;if(!f.test(s)||!f.test(l))return s>l?1:-1;s=s.match(p),l=l.match(p),d=s.length>l.length?l.length:s.length;while(h<d)if(c=s[h],u=l[h++],c!==u)return isFinite(c)&&isFinite(u)?("0"===c.charAt(0)&&(c="."+c),"0"===u.charAt(0)&&(u="."+u),c-u):c>u?1:-1;return s.length>l.length}v=1}else v=t||0===t?-1:0;return("top"===g&&"desc"===n||"bottom"===g&&"asc"===n)&&(v*=-1),v}ht.moduleName="selectRow";var Et={number:pt,string:ft,date:vt,time:mt,datetime:gt,boolean:bt,array:yt,exists:wt,alphanum:Ct};class St extends a{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,r,o){var i=this.getSort();return i.forEach((e=>{delete e.column})),o.sort=i,o}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var t,r,o=!1;switch(typeof e.definition.sorter){case"string":St.sorters[e.definition.sorter]?o=St.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":o=e.definition.sorter;break}if(e.modules.sort={sorter:o,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort){switch(t=e.getElement(),t.classList.add("tabulator-sortable"),r=document.createElement("div"),r.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":r.classList.add("tabulator-col-sorter-element");break;case"header":t.classList.add("tabulator-col-sorter-element");break;default:t.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":r.appendChild(this.table.options.headerSortElement);break;default:r.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(r),e.modules.sort.element=r,this.setColumnHeaderSortIcon(e,"none"),("icon"===this.table.options.headerSortClickElement?r:t).addEventListener("click",(t=>{var r="",o=[],i=!1;if(e.modules.sort){if(e.modules.sort.tristate)r="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":r="desc";break;case"desc":r="asc";break;default:r=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(t.shiftKey||t.ctrlKey)?(o=this.getSort(),i=o.findIndex((t=>t.field===e.getField())),i>-1?(o[i].dir=r,i=o.splice(i,1)[0],"none"!=r&&o.push(i)):"none"!=r&&o.push({column:e,dir:r}),this.setSort(o)):"none"==r?this.clear():this.setSort(e,r),this.refreshSort()}}))}}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,t=[];return e.sortList.forEach((function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})})),t}setSort(e,t){var r=this,o=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach((function(e){var t;t=r.table.columnManager.findColumn(e.column),t?(e.column=t,o.push(e),r.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)})),r.sortList=o,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var t,r,o=this.table.rowManager.activeRows[0],i="string";if(o&&(o=o.getData(),t=e.getField(),t))switch(r=e.getFieldValue(o),typeof r){case"undefined":i="string";break;case"boolean":i="boolean";break;default:isNaN(r)||""===r?r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum"):i="number";break}return St.sorters[i]}sort(e){var t=this,r=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,o=[],i=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",t.getSort()),t.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(r.forEach((function(e,r){var i;e.column&&(i=e.column.modules.sort,i&&(i.sorter||(i.sorter=t.findSorter(e.column)),e.params="function"===typeof i.params?i.params(e.column.getComponent(),e.dir):i.params,o.push(e)),t.setColumnHeader(e.column,e.dir))})),o.length&&t._sortItems(e,o)):r.forEach((function(e,r){t.setColumnHeader(e.column,e.dir)})),this.subscribedExternal("dataSorted")&&(e.forEach((e=>{i.push(e.getComponent())})),this.dispatchExternal("dataSorted",t.getSort(),i)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach((e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))}))}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort","asc"===t?"ascending":"descending"),this.setColumnHeaderSortIcon(e,t)}setColumnHeaderSortIcon(e,t){var r,o=e.modules.sort.element;if(e.definition.headerSort&&"function"===typeof this.table.options.headerSortElement){while(o.firstChild)o.removeChild(o.firstChild);r=this.table.options.headerSortElement.call(this.table,e.getComponent(),t),"object"===typeof r?o.appendChild(r):o.innerHTML=r}}_sortItems(e,t){var r=t.length-1;e.sort(((e,o)=>{for(var i,n=r;n>=0;n--){let r=t[n];if(i=this._sortRow(e,o,r.column,r.dir,r.params),0!==i)break}return i}))}_sortRow(e,t,r,o,i){var n,a,s="asc"==o?e:t,l="asc"==o?t:e;return e=r.getFieldValue(s.getData()),t=r.getFieldValue(l.getData()),e="undefined"!==typeof e?e:"",t="undefined"!==typeof t?t:"",n=s.getComponent(),a=l.getComponent(),r.modules.sort.sorter.call(this,e,t,n,a,r.getComponent(),o,i)}}St.moduleName="sort",St.sorters=Et;class xt extends a{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipGenerationMode",void 0),this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheckMsg("tooltipGenerationMode","This option is no longer needed as tooltips are always generated on hover now")}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,t,r){var o="tooltip"===e?r.column.definition.tooltip:r.definition.headerTooltip;o&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,t,r,o),this.table.options.tooltipDelay))}mouseoutCheck(e,t,r){this.popupInstance||this.clearPopup()}clearPopup(e,t,r){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,t,r){var o,i,n;function a(e){i=e}"function"===typeof r&&(r=r(e,t.getComponent(),a)),r instanceof HTMLElement?o=r:(o=document.createElement("div"),!0===r&&(t instanceof E?r=t.value:t.definition.field?this.langBind("columns|"+t.definition.field,(e=>{o.innerHTML=r=e||t.definition.title})):r=t.definition.title),o.innerHTML=r),(r||0===r||!1===r)&&(o.classList.add("tabulator-tooltip"),o.addEventListener("mousemove",(e=>e.preventDefault())),this.popupInstance=this.popup(o),"function"===typeof i&&this.popupInstance.renderCallback(i),n=this.popupInstance.containerEventCoords(e),this.popupInstance.show(n.x+15,n.y+15).hideOnBlur((()=>{this.dispatchExternal("TooltipClosed",t.getComponent()),this.popupInstance=null})),this.dispatchExternal("TooltipOpened",t.getComponent()))}}xt.moduleName="tooltip";var Tt={integer:function(e,t,r){return""===t||null===t||"undefined"===typeof t||(t=Number(t),!isNaN(t)&&isFinite(t)&&Math.floor(t)===t)},float:function(e,t,r){return""===t||null===t||"undefined"===typeof t||(t=Number(t),!isNaN(t)&&isFinite(t)&&t%1!==0)},numeric:function(e,t,r){return""===t||null===t||"undefined"===typeof t||!isNaN(t)},string:function(e,t,r){return""===t||null===t||"undefined"===typeof t||isNaN(t)},max:function(e,t,r){return""===t||null===t||"undefined"===typeof t||parseFloat(t)<=r},min:function(e,t,r){return""===t||null===t||"undefined"===typeof t||parseFloat(t)>=r},starts:function(e,t,r){return""===t||null===t||"undefined"===typeof t||String(t).toLowerCase().startsWith(String(r).toLowerCase())},ends:function(e,t,r){return""===t||null===t||"undefined"===typeof t||String(t).toLowerCase().endsWith(String(r).toLowerCase())},minLength:function(e,t,r){return""===t||null===t||"undefined"===typeof t||String(t).length>=r},maxLength:function(e,t,r){return""===t||null===t||"undefined"===typeof t||String(t).length<=r},in:function(e,t,r){return""===t||null===t||"undefined"===typeof t||("string"==typeof r&&(r=r.split("|")),r.indexOf(t)>-1)},regex:function(e,t,r){if(""===t||null===t||"undefined"===typeof t)return!0;var o=new RegExp(r);return o.test(t)},unique:function(e,t,r){if(""===t||null===t||"undefined"===typeof t)return!0;var o=!0,i=e.getData(),n=e.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(e){var r=e.getData();r!==i&&t==n.getFieldValue(r)&&(o=!1)})),o},required:function(e,t,r){return""!==t&&null!==t&&"undefined"!==typeof t}};class kt extends a{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,t,r){var o="manual"===this.table.options.validationMode||this.validate(e.column.modules.validate,e,t);return!0!==o&&setTimeout((()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),t,o)})),o}editorClear(e,t){t&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach((e=>{!0!==this.cellValidate(e)&&t.push(e.getComponent())})),!t.length||t}rowValidate(e){var t=[];return e.cells.forEach((e=>{!0!==this.cellValidate(e)&&t.push(e.getComponent())})),!t.length||t}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach((e=>{this.clearValidation(e._getSelf())}))}userValidate(e){var t=[];return this.table.rowManager.rows.forEach((e=>{e=e.getComponent();var r=e.validate();!0!==r&&(t=t.concat(r))})),!t.length||t}initializeColumnCheck(e){"undefined"!==typeof e.definition.validator&&this.initializeColumn(e)}initializeColumn(e){var t,r=this,o=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach((e=>{t=r._extractValidator(e),t&&o.push(t)})):(t=this._extractValidator(e.definition.validator),t&&o.push(t)),e.modules.validate=!!o.length&&o)}_extractValidator(e){var t,r,o;switch(typeof e){case"string":return o=e.indexOf(":"),o>-1?(t=e.substring(0,o),r=e.substring(o+1)):t=e,this._buildValidator(t,r);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var r="function"==typeof e?e:kt.validators[e];return r?{type:"function"==typeof e?"function":e,func:r,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,r){var o=this,i=[],n=this.invalidCells.indexOf(t);return e&&e.forEach((e=>{e.func.call(o,t.getComponent(),r,e.params)||i.push({type:e.type,parameters:e.params})})),t.modules.validate||(t.modules.validate={}),i.length?(t.modules.validate.invalid=i,"manual"!==this.table.options.validationMode&&t.getElement().classList.add("tabulator-validation-fail"),-1==n&&this.invalidCells.push(t)):(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),n>-1&&this.invalidCells.splice(n,1)),!i.length||i}getInvalidCells(){var e=[];return this.invalidCells.forEach((t=>{e.push(t.getComponent())})),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,t=this.invalidCells.indexOf(e),t>-1&&this.invalidCells.splice(t,1))}}kt.moduleName="validate",kt.validators=Tt;var _t=Object.freeze({__proto__:null,AccessorModule:l,AjaxModule:v,ClipboardModule:y,ColumnCalcsModule:O,DataTreeModule:D,DownloadModule:H,EditModule:te,ExportModule:ie,FilterModule:ae,FormatModule:Re,FrozenColumnsModule:Oe,FrozenRowsModule:De,GroupRowsModule:Me,HistoryModule:Ie,HtmlTableImportModule:Ne,ImportModule:Be,InteractionModule:je,KeybindingsModule:$e,MenuModule:Ke,MoveColumnsModule:Ye,MoveRowsModule:qe,MutatorModule:Je,PageModule:tt,PersistenceModule:it,PopupModule:nt,PrintModule:at,ReactiveDataModule:st,ResizeColumnsModule:lt,ResizeRowsModule:ct,ResizeTableModule:ut,ResponsiveLayoutModule:dt,SelectRowModule:ht,SortModule:St,TooltipModule:xt,ValidateModule:kt}),Rt={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class Ot{constructor(e,t,r={}){this.table=e,this.msgType=t,this.registeredDefaults=Object.assign({},r)}register(e,t){this.registeredDefaults[e]=t}generate(e,t={}){var r=Object.assign({},this.registeredDefaults),o=this.table.options.debugInvalidOptions||!0===t.debugInvalidOptions;Object.assign(r,e);for(let i in t)r.hasOwnProperty(i)||(o&&console.warn("Invalid "+this.msgType+" option:",i),r[i]=t.key);for(let i in r)i in t?r[i]=t[i]:Array.isArray(r[i])?r[i]=Object.assign([],r[i]):"object"===typeof r[i]&&null!==r[i]?r[i]=Object.assign({},r[i]):"undefined"===typeof r[i]&&delete r[i];return r}}class Dt extends o{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,t){}renderRowCells(e){}rerenderRowCells(e,t){}scrollColumns(e,t){}scrollRows(e,t){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,t){var r=e.getElement();t%2?(r.classList.add("tabulator-row-even"),r.classList.remove("tabulator-row-odd")):(r.classList.add("tabulator-row-odd"),r.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,t,r){var o=this.rows().indexOf(e),n=e.getElement(),a=0;return new Promise(((s,l)=>{if(o>-1){if("undefined"===typeof r&&(r=this.table.options.scrollToRowIfVisible),!r&&i.elVisible(n)&&(a=i.elOffset(n).top-i.elOffset(this.elementVertical).top,a>0&&a<this.elementVertical.clientHeight-n.offsetHeight))return s(),!1;switch("undefined"===typeof t&&(t=this.table.options.scrollToRowPosition),"nearest"===t&&(t=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),t){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(n.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-n.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-n.offsetTop)+n.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+n.offsetHeight;break;case"top":this.elementVertical.scrollTop=n.offsetTop;break}s()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")}))}}class At extends Dt{constructor(e){super(e)}renderRowCells(e,t){const r=document.createDocumentFragment();e.cells.forEach((e=>{r.appendChild(e.getElement())})),e.element.appendChild(r),t||e.cells.forEach((e=>{e.cellRendered()}))}reinitializeColumnWidths(e){e.forEach((function(e){e.reinitializeWidth()}))}}class Pt extends Dt{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){"fitDataTable"==this.options("layout")&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,t){this.dataChange()}scrollColumns(e,t){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach((t=>{if(t.visible){var r=t.getWidth();r>e&&(e=r)}})),this.windowBuffer=2*e}rerenderColumns(e,t){var r={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},o=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach((e=>{var t,r={};e.visible&&(e.modules.frozen||(t=e.getWidth(),r.leftPos=o,r.rightPos=o+t,r.width=t,this.isFitData&&(r.fitDataCheck=!e.modules.vdomHoz||e.modules.vdomHoz.fitDataCheck),o+t>this.vDomScrollPosLeft&&o<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=o),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=t),this.columns.push(e),e.modules.vdomHoz=r,o+=t))})),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||e&&!this.reinitChanged(r)||this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const t=document.createDocumentFragment();e.cells.forEach((e=>{t.appendChild(e.getElement())})),e.element.appendChild(t),e.cells.forEach((e=>{e.cellRendered()}))}}rerenderRowCells(e,t){this.reinitializeRow(e,t)}reinitializeColumnWidths(e){for(let t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e,t,r=!1;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach((e=>{!e.definition.width&&e.visible&&(r=!0)})),r&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,e=this.chain("rows-sample",[1],[],(()=>this.table.rowManager.getDisplayRows()))[0],e)){t=e.getElement(),e.generateCells(),this.tableElement.appendChild(t);for(let r=0;r<e.cells.length;r++){let o=e.cells[r];t.appendChild(o.getElement()),o.column.reinitializeWidth()}t.parentNode.removeChild(t),this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var t=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol||(e.cols.forEach(((e,r)=>{e!==this.columns[r]&&(t=!1)})),!t)}reinitializeRows(){var e=this.getVisibleRows(),t=this.table.rowManager.getRows().filter((t=>!e.includes(t)));e.forEach((e=>{this.reinitializeRow(e,!0)})),t.forEach((e=>{e.deinitialize()}))}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,t,r){for(let o=e;o<t;o++){let e=this.columns[o];e.modules.vdomHoz.leftPos+=r,e.modules.vdomHoz.rightPos+=r}}addColRight(){var e=!1,t=!0;while(t){let r=this.columns[this.rightCol+1];r&&r.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach((e=>{if("group"!==e.type){var t=e.getCell(r);e.getElement().insertBefore(t.getElement(),e.getCell(this.columns[this.rightCol]).getElement().nextSibling),t.cellRendered()}})),this.fitDataColActualWidthCheck(r),this.rightCol++,this.getVisibleRows().forEach((e=>{"group"!==e.type&&(e.modules.vdomHoz.rightCol=this.rightCol)})),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=r.getWidth()):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){var e=!1,t=!0;while(t){let r=this.columns[this.leftCol-1];if(r)if(r.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach((e=>{if("group"!==e.type){var t=e.getCell(r);e.getElement().insertBefore(t.getElement(),e.getCell(this.columns[this.leftCol]).getElement()),t.cellRendered()}})),this.leftCol--,this.getVisibleRows().forEach((e=>{"group"!==e.type&&(e.modules.vdomHoz.leftCol=this.leftCol)})),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=r.getWidth();let t=this.fitDataColActualWidthCheck(r);t&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+t,this.vDomPadRight-=t)}else t=!1;else t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){var e=!1,t=!0;while(t){let r=this.columns[this.rightCol];r&&r.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach((e=>{if("group"!==e.type){var t=e.getCell(r);try{e.getElement().removeChild(t.getElement())}catch(o){console.warn("Could not removeColRight",o.message)}}})),this.vDomPadRight+=r.getWidth(),this.rightCol--,this.getVisibleRows().forEach((e=>{"group"!==e.type&&(e.modules.vdomHoz.rightCol=this.rightCol)}))):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){var e=!1,t=!0;while(t){let r=this.columns[this.leftCol];r&&r.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach((e=>{if("group"!==e.type){var t=e.getCell(r);try{e.getElement().removeChild(t.getElement())}catch(o){console.warn("Could not removeColLeft",o.message)}}})),this.vDomPadLeft+=r.getWidth(),this.leftCol++,this.getVisibleRows().forEach((e=>{"group"!==e.type&&(e.modules.vdomHoz.leftCol=this.leftCol)}))):t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var t,r;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),t=e.getWidth(),r=t-e.modules.vdomHoz.width,r&&(e.modules.vdomHoz.rightPos+=r,e.modules.vdomHoz.width=t,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,r)),e.modules.vdomHoz.fitDataCheck=!1),r}initializeRow(e){if("group"!==e.type){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach((t=>{this.appendCell(e,t)}));for(let t=this.leftCol;t<=this.rightCol;t++)this.appendCell(e,this.columns[t]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach((t=>{this.appendCell(e,t)}))}}appendCell(e,t){if(t&&t.visible){let r=e.getCell(t);e.getElement().appendChild(r.getElement()),r.cellRendered()}}reinitializeRow(e,t){if("group"!==e.type&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){var r=e.getElement();while(r.firstChild)r.removeChild(r.firstChild);this.initializeRow(e)}}}class Mt extends o{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new Ot(this.table,"column definition",x),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,t={virtual:Pt,basic:At};e="string"===typeof this.table.options.renderHorizontal?t[this.table.options.renderHorizontal]:this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",(e=>{var t;e.deltaX&&(t=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(t),this.table.columnManager.scrollHorizontal(t))}))}generateColumnsFromRowData(e){var t,r,o=[],i=this.table.options.autoColumnsDefinitions;if(e&&e.length){for(var n in t=e[0],t){let e={field:n,title:n},i=t[n];switch(typeof i){case"undefined":r="string";break;case"boolean":r="boolean";break;case"object":r=Array.isArray(i)?"array":"string";break;default:r=isNaN(i)||""===i?i.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number";break}e.sorter=r,o.push(e)}if(i)switch(typeof i){case"function":this.table.options.columns=i.call(this.table,o);break;case"object":Array.isArray(i)?o.forEach((e=>{var t=i.find((t=>t.field===e.field));t&&Object.assign(e,t)})):o.forEach((e=>{i[e.field]&&Object.assign(e,i[e.field])})),this.table.options.columns=o;break}else this.table.options.columns=o;this.setColumns(this.table.options.columns)}}setColumns(e,t){while(this.headersElement.firstChild)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),e.forEach(((e,t)=>{this._addColumn(e)})),this._reIndexColumns(),this.dispatch("columns-loaded"),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,t,r){var o=new T(e,this),i=o.getElement(),n=r?this.findColumnIndex(r):r;if(r&&n>-1){var a=r.getTopColumn(),s=this.columns.indexOf(a),l=a.getElement();t?(this.columns.splice(s,0,o),l.parentNode.insertBefore(i,l)):(this.columns.splice(s+1,0,o),l.parentNode.insertBefore(i,l.nextSibling))}else t?(this.columns.unshift(o),this.headersElement.insertBefore(o.getElement(),this.headersElement.firstChild)):(this.columns.push(o),this.headersElement.appendChild(o.getElement()));return o.columnRendered(),o}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach((function(e){e.reRegisterPosition()}))}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach((e=>{e.clearVerticalAlign()})),this.columns.forEach((t=>{var r=t.getHeight();r>e&&(e=r)})),this.headersElement.style.height=e+"px",this.columns.forEach((t=>{t.verticalAlign(this.table.options.columnHeaderVertAlign,e)})),this.table.rowManager.adjustTableSize())}findColumn(e){var t;if("object"!=typeof e)return this.columnsByField[e]||!1;if(e instanceof T)return e;if(e instanceof S)return e._getSelf()||!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement){t=[],this.columns.forEach((e=>{t.push(e),t=t.concat(e.getColumns(!0))}));let r=t.find((t=>t.element===e));return r||!1}return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var t=[];return Object.keys(this.columnsByField).forEach((r=>{var o=r.split(".")[0];o===e&&t.push(this.columnsByField[r])})),t}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex((e=>e.visible));return e>-1&&this.columnsByIndex[e]}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex((t=>e===t))}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach(((t,r)=>{e(t,r)}))}getDefinitions(e){var t=[];return this.columnsByIndex.forEach((r=>{(!e||e&&r.visible)&&t.push(r.getDefinition())})),t}getDefinitionTree(){var e=[];return this.columns.forEach((t=>{e.push(t.getDefinition(!0))})),e}getComponents(e){var t=[],r=e?this.columns:this.columnsByIndex;return r.forEach((e=>{t.push(e.getComponent())})),t}getWidth(){var e=0;return this.columnsByIndex.forEach((t=>{t.visible&&(e+=t.getWidth())})),e}moveColumn(e,t,r){t.element.parentNode.insertBefore(e.element,t.element),r&&t.element.parentNode.insertBefore(t.element,e.element),this.moveColumnActual(e,t,r),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,t,r){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,r):this._moveColumnInArray(this.columns,e,t,r),this._moveColumnInArray(this.columnsByIndex,e,t,r,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,t,r),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,t,r,o,i){var n,a=e.indexOf(t),s=[];a>-1&&(e.splice(a,1),n=e.indexOf(r),n>-1?o&&(n+=1):n=a,e.splice(n,0,t),i&&(s=this.chain("column-moving-rows",[t,r,o],null,[])||[],s=s.concat(this.table.rowManager.rows),s.forEach((function(e){if(e.cells.length){var t=e.cells.splice(a,1)[0];e.cells.splice(n,0,t)}}))))}scrollToColumn(e,t,r){var o=0,i=e.getLeftOffset(),n=0,a=e.getElement();return new Promise(((s,l)=>{if("undefined"===typeof t&&(t=this.table.options.scrollToColumnPosition),"undefined"===typeof r&&(r=this.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":n=-this.element.clientWidth/2;break;case"right":n=a.clientWidth-this.headersElement.clientWidth;break}if(!r&&i>0&&i+a.offsetWidth<this.element.clientWidth)return!1;o=i+n,o=Math.max(Math.min(o,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(o),this.scrollHorizontal(o),s()}else console.warn("Scroll Error - Column not visible"),l("Scroll Error - Column not visible")}))}generateCells(e){var t=[];return this.columnsByIndex.forEach((r=>{t.push(r.generateCell(e))})),t}getFlexBaseWidth(){var e=this.table.element.clientWidth,t=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(r){var o,i,n;r.visible&&(o=r.definition.width||0,i=parseInt(r.minWidth),n="string"==typeof o?o.indexOf("%")>-1?e/100*parseInt(o):parseInt(o):o,t+=n>i?n:i)})),t}addColumn(e,t,r){return new Promise(((o,i)=>{var n=this._addColumn(e,t,r);this._reIndexColumns(),this.dispatch("column-add",e,t,r),"fitColumns"!=this.layoutMode()&&n.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),o(n)}))}deregisterColumn(e){var t,r=e.getField();r&&delete this.columnsByField[r],t=this.columnsByIndex.indexOf(e),t>-1&&this.columnsByIndex.splice(t,1),t=this.columns.indexOf(e),t>-1&&this.columns.splice(t,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,t){this.redrawBlock?(!1===e||!0===e&&null===this.redrawBlockUpdate)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,t)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){i.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class Lt extends Dt{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){var e=this.tableElement;while(e.firstChild)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,t=!0,r=document.createDocumentFragment(),o=this.rows();o.forEach(((e,o)=>{this.styleRow(e,o),e.initialize(!1,!0),"group"!==e.type&&(t=!1),r.appendChild(e.getElement())})),e.appendChild(r),o.forEach((e=>{e.rendered(),e.heightInitialized||e.calcHeight(!0)})),o.forEach((e=>{e.heightInitialized||e.setCellHeight()})),e.style.minWidth=t?this.table.columnManager.getWidth()+"px":""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows()}scrollToRowNearestTop(e){var t=i.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-t)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-t))}scrollToRow(e){var t=e.getElement();this.elementVertical.scrollTop=i.elOffset(t).top-i.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class Ft extends Dt{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){var e=this.tableElement;while(e.firstChild)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var t=this.elementVertical.scrollTop,r=!1,o=!1,i=this.table.rowManager.scrollLeft,n=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(n[a]){var s=t-n[a].getElement().offsetTop;if(!(!1===o||Math.abs(s)<o))break;o=s,r=a}n.forEach((e=>{e.deinitializeHeight()})),e&&e(),this.rows().length?this._virtualRenderFill(!1===r?this.rows.length-1:r,!0,o||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(i)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,t){var r=e-this.vDomScrollPosTop,o=e-this.vDomScrollPosBottom,i=2*this.vDomWindowBuffer,n=this.rows();if(this.scrollTop=e,-r>i||o>i){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*n.length)),this.scrollColumns(a)}else t?(r<0&&this._addTopRow(n,-r),o<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(n,-o):this.vDomScrollPosBottom=this.scrollTop)):(o>=0&&this._addBottomRow(n,o),r>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(n,r):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var t=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-t)>Math.abs(this.vDomBottom-t))}scrollToRow(e){var t=this.rows().indexOf(e);t>-1&&this._virtualRenderFill(t,!0)}visibleRows(e){var t=this.elementVertical.scrollTop,r=this.elementVertical.clientHeight+t,o=!1,i=0,n=0,a=this.rows();if(e)i=this.vDomTop,n=this.vDomBottom;else for(var s=this.vDomTop;s<=this.vDomBottom;s++)if(a[s])if(o){if(!(r-a[s].getElement().offsetTop>=0))break;n=s}else if(t-a[s].getElement().offsetTop>=0)i=s;else{if(o=!0,!(r-a[s].getElement().offsetTop>=0))break;n=s}return a.slice(i,n+1)}_virtualRenderFill(e,t,r){var o,n,a=this.tableElement,s=this.elementVertical,l=0,c=0,u=0,d=0,h=0,p=0,f=this.rows(),g=f.length,v=0,m=[],b=0,y=0,w=this.table.rowManager.fixedHeight,C=this.elementVertical.clientHeight,E=this.table.options.rowHeight,S=!0;if(e=e||0,r=r||0,e){while(a.firstChild)a.removeChild(a.firstChild);d=(g-e+1)*this.vDomRowHeight,d<C&&(e-=Math.ceil((C-d)/this.vDomRowHeight),e<0&&(e=0)),l=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=l}else this.clear();if(g&&i.elVisible(this.elementVertical)){this.vDomTop=e,this.vDomBottom=e-1,w||this.table.options.maxHeight?(E&&(y=C/E+this.vDomWindowBuffer/E),y=Math.max(this.vDomWindowMinTotalRows,Math.ceil(y))):y=g;while((y==g||c<=C+this.vDomWindowBuffer||b<this.vDomWindowMinTotalRows)&&this.vDomBottom<g-1){m=[],n=document.createDocumentFragment(),p=0;while(p<y&&this.vDomBottom<g-1)v=this.vDomBottom+1,o=f[v],this.styleRow(o,v),o.initialize(!1,!0),o.heightInitialized||this.table.options.rowHeight||o.clearCellHeight(),n.appendChild(o.getElement()),m.push(o),this.vDomBottom++,p++;if(!m.length)break;a.appendChild(n),m.forEach((e=>{e.rendered(),e.heightInitialized||e.calcHeight(!0)})),m.forEach((e=>{e.heightInitialized||e.setCellHeight()})),m.forEach((e=>{u=e.getHeight(),b<l?h+=u:c+=u,u>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*u),b++})),S=this.table.rowManager.adjustTableSize(),C=this.elementVertical.clientHeight,S&&(w||this.table.options.maxHeight)&&(E=c/b,y=Math.max(this.vDomWindowMinTotalRows,Math.ceil(C/E+this.vDomWindowBuffer/E)))}e?(this.vDomTopPad=t?this.vDomRowHeight*this.vDomTop+r:this.scrollTop-h,this.vDomBottomPad=this.vDomBottom==g-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-c-h,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((c+h)/b),this.vDomBottomPad=this.vDomRowHeight*(g-this.vDomBottom-1),this.vDomScrollHeight=h+c+this.vDomBottomPad-C),a.style.paddingTop=this.vDomTopPad+"px",a.style.paddingBottom=this.vDomBottomPad+"px",t&&(this.scrollTop=this.vDomTopPad+h+r-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-C:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-C),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&t&&(this.scrollTop+=this.elementVertical.offsetHeight-C),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,s.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,t){var r=this.tableElement,o=[],i=0,n=this.vDomTop-1,a=0,s=!0;while(s)if(this.vDomTop){let l,c,u=e[n];u&&a<this.vDomMaxRenderChain?(l=u.getHeight()||this.vDomRowHeight,c=u.initialized,t>=l?(this.styleRow(u,n),r.insertBefore(u.getElement(),r.firstChild),u.initialized&&u.heightInitialized||o.push(u),u.initialize(),c||(l=u.getElement().offsetHeight,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*l)),t-=l,i+=l,this.vDomTop--,n--,a++):s=!1):s=!1}else s=!1;for(let l of o)l.clearCellHeight();this._quickNormalizeRowHeight(o),i&&(this.vDomTopPad-=i,this.vDomTopPad<0&&(this.vDomTopPad=n*this.vDomRowHeight),n<1&&(this.vDomTopPad=0),r.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=i)}_removeTopRow(e,t){var r=[],o=0,i=0,n=!0;while(n){let a,s=e[this.vDomTop];s&&i<this.vDomMaxRenderChain?(a=s.getHeight()||this.vDomRowHeight,t>=a?(this.vDomTop++,t-=a,o+=a,r.push(s),i++):n=!1):n=!1}for(let a of r){let e=a.getElement();e.parentNode&&e.parentNode.removeChild(e)}o&&(this.vDomTopPad+=o,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?o:o+this.vDomWindowBuffer)}_addBottomRow(e,t){var r=this.tableElement,o=[],i=0,n=this.vDomBottom+1,a=0,s=!0;while(s){let l,c,u=e[n];u&&a<this.vDomMaxRenderChain?(l=u.getHeight()||this.vDomRowHeight,c=u.initialized,t>=l?(this.styleRow(u,n),r.appendChild(u.getElement()),u.initialized&&u.heightInitialized||o.push(u),u.initialize(),c||(l=u.getElement().offsetHeight,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*l)),t-=l,i+=l,this.vDomBottom++,n++,a++):s=!1):s=!1}for(let l of o)l.clearCellHeight();this._quickNormalizeRowHeight(o),i&&(this.vDomBottomPad-=i,(this.vDomBottomPad<0||n==e.length-1)&&(this.vDomBottomPad=0),r.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=i)}_removeBottomRow(e,t){var r=[],o=0,i=0,n=!0;while(n){let a,s=e[this.vDomBottom];s&&i<this.vDomMaxRenderChain?(a=s.getHeight()||this.vDomRowHeight,t>=a?(this.vDomBottom--,t-=a,o+=a,r.push(s),i++):n=!1):n=!1}for(let a of r){let e=a.getElement();e.parentNode&&e.parentNode.removeChild(e)}o&&(this.vDomBottomPad+=o,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=o)}_quickNormalizeRowHeight(e){for(let t of e)t.calcHeight();for(let t of e)t.setCellHeight()}}class It extends o{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if("function"===typeof e&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let t=document.createElement("div");if(t.classList.add("tabulator-placeholder"),"string"==typeof e){let r=document.createElement("div");r.classList.add("tabulator-placeholder-contents"),r.innerHTML=e,t.appendChild(r),this.placeholderContents=r}else"undefined"!==typeof HTMLElement&&e instanceof HTMLElement?(t.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=t}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",(()=>{var e=this.element.scrollLeft,t=this.scrollLeft>e,r=this.element.scrollTop,o=this.scrollTop>r;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,t),this.dispatchExternal("scrollHorizontal",e,t),this._positionPlaceholder()),this.scrollTop!=r&&(this.scrollTop=r,this.renderer.scrollRows(r,o),this.dispatch("scroll-vertical",r,o),this.dispatchExternal("scrollVertical",r,o))}))}findRow(e){if("object"!=typeof e){if("undefined"==typeof e)return!1;{let t=this.rows.find((t=>t.data[this.table.options.index]==e));return t||!1}}if(e instanceof _)return e;if(e instanceof k)return e._getSelf()||!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement){let t=this.rows.find((t=>t.getElement()===e));return t||!1}return!1}getRowFromDataObject(e){var t=this.rows.find((t=>t.data===e));return t||!1}getRowFromPosition(e){return this.getDisplayRows().find((t=>t.getPosition()===e&&t.isDisplayed()))}scrollToRow(e,t,r){return this.renderer.scrollToRowPosition(e,t,r)}setData(e,t,r){return new Promise(((o,i)=>{t&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition((()=>{this._setDataActual(e)})):(this.table.options.autoColumns&&r&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),o()}))}_setDataActual(e,t){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach(((e,t)=>{if(e&&"object"===typeof e){var r=new _(e,this);this.rows.push(r)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)})),this.refreshActiveData(!1,!1,t),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof e,"\nData:     ",e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach((e=>{e.wipe()})),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,t){var r=this.rows.indexOf(e),o=this.activeRows.indexOf(e);o>-1&&this.activeRows.splice(o,1),r>-1&&this.rows.splice(r,1),this.setActiveRows(this.activeRows),this.displayRowIterator((t=>{var r=t.indexOf(e);r>-1&&t.splice(r,1)})),t||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,t,r,o){var i=this.addRowActual(e,t,r,o);return i}addRows(e,t,r,o){var i=[];return new Promise(((n,a)=>{t=this.findAddRowPos(t),Array.isArray(e)||(e=[e]),("undefined"==typeof r&&t||"undefined"!==typeof r&&!t)&&e.reverse(),e.forEach(((e,o)=>{var n=this.addRow(e,t,r,!0);i.push(n),this.dispatch("row-added",n,e,t,r)})),this.refreshActiveData(!!o&&"displayPipeline",!1,!0),this.regenerateRowPositions(),i.length&&this._clearPlaceholder(),n(i)}))}findAddRowPos(e){return"undefined"===typeof e&&(e=this.table.options.addRowPos),"pos"===e&&(e=!0),"bottom"===e&&(e=!1),e}addRowActual(e,t,r,o){var i,n,a=e instanceof _?e:new _(e||{},this),s=this.findAddRowPos(t),l=-1;return r||(n=this.chain("row-adding-position",[a,s],null,{index:r,top:s}),r=n.index,s=n.top),"undefined"!==typeof r&&(r=this.findRow(r)),r=this.chain("row-adding-index",[a,r,s],null,r),r&&(l=this.rows.indexOf(r)),r&&l>-1?(i=this.activeRows.indexOf(r),this.displayRowIterator((function(e){var t=e.indexOf(r);t>-1&&e.splice(s?t:t+1,0,a)})),i>-1&&this.activeRows.splice(s?i:i+1,0,a),this.rows.splice(s?l:l+1,0,a)):s?(this.displayRowIterator((function(e){e.unshift(a)})),this.activeRows.unshift(a),this.rows.unshift(a)):(this.displayRowIterator((function(e){e.push(a)})),this.activeRows.push(a),this.rows.push(a)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",a.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),o||this.reRenderInPosition(),a}moveRow(e,t,r){this.dispatch("row-move",e,t,r),this.moveRowActual(e,t,r),this.regenerateRowPositions(),this.dispatch("row-moved",e,t,r),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,t,r){this.moveRowInArray(this.rows,e,t,r),this.moveRowInArray(this.activeRows,e,t,r),this.displayRowIterator((o=>{this.moveRowInArray(o,e,t,r)})),this.dispatch("row-moving",e,t,r)}moveRowInArray(e,t,r,o){var i,n,a,s;if(t!==r&&(i=e.indexOf(t),i>-1&&(e.splice(i,1),n=e.indexOf(r),n>-1?o?e.splice(n+1,0,t):e.splice(n,0,t):e.splice(i,0,t)),e===this.getDisplayRows())){a=i<n?i:n,s=n>i?n:i+1;for(let t=a;t<=s;t++)e[t]&&this.styleRow(e[t],t)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var t=this.getDisplayRows().indexOf(e);return t>-1&&t}nextDisplayRow(e,t){var r=this.getDisplayRowIndex(e),o=!1;return!1!==r&&r<this.displayRowsCount-1&&(o=this.getDisplayRows()[r+1]),!o||o instanceof _&&"row"==o.type?o:this.nextDisplayRow(o,t)}prevDisplayRow(e,t){var r=this.getDisplayRowIndex(e),o=!1;return r&&(o=this.getDisplayRows()[r-1]),!t||!o||o instanceof _&&"row"==o.type?o:this.prevDisplayRow(o,t)}findRowIndex(e,t){var r;return e=this.findRow(e),!!(e&&(r=t.indexOf(e),r>-1))&&r}getData(e,t){var r=[],o=this.getRows(e);return o.forEach((function(e){"row"==e.type&&r.push(e.getData(t||"data"))})),r}getComponents(e){var t=[],r=this.getRows(e);return r.forEach((function(e){t.push(e.getComponent())})),t}getDataCount(e){var t=this.getRows(e);return t.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,t){"undefined"!==typeof t?(this.dataPipeline.push({handler:e,priority:t}),this.dataPipeline.sort(((e,t)=>e.priority-t.priority))):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,t){"undefined"!==typeof t?(this.displayPipeline.push({handler:e,priority:t}),this.displayPipeline.sort(((e,t)=>e.priority-t.priority))):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,t,r){var o=this.table,n="",a=0,s=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if("function"===typeof e)if(a=this.dataPipeline.findIndex((t=>t.handler===e)),a>-1)n="dataPipeline",t&&(a==this.dataPipeline.length-1?n="display":a++);else{if(a=this.displayPipeline.findIndex((t=>t.handler===e)),!(a>-1))return void console.error("Unable to refresh data, invalid handler provided",e);n="displayPipeline",t&&(a==this.displayPipeline.length-1?n="end":a++)}else n=e||"all",a=0;if(this.redrawBlock)return void((!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===n&&a<this.redrawBlockRestoreConfig.index||s.indexOf(n)<s.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:t,renderInPosition:r,stage:n,index:a}));i.elVisible(this.element)?r?this.reRenderInPosition(this.refreshPipelines.bind(this,e,n,a,r)):(this.refreshPipelines(e,n,a,r),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),o.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,n,a,r),this.dispatch("data-refreshed")}}refreshPipelines(e,t,r,o){switch(this.dispatch("data-refreshing"),e||(this.activeRowsPipeline[0]=this.rows.slice(0)),t){case"all":case"dataPipeline":for(let e=r;e<this.dataPipeline.length;e++){let t=this.dataPipeline[e].handler(this.activeRowsPipeline[e].slice(0));this.activeRowsPipeline[e+1]=t||this.activeRowsPipeline[e].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":r=0,this.resetDisplayRows();case"displayPipeline":for(let e=r;e<this.displayPipeline.length;e++){let t=this.displayPipeline[e].handler((e?this.getDisplayRows(e-1):this.activeRows).slice(0),o);this.setDisplayRows(t||this.getDisplayRows(e-1).slice(0),e)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),t=1;e.forEach((e=>{"row"===e.type&&(e.setPosition(t),t++)}))}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,t){this.displayRows[t]=e,t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return"undefined"==typeof e?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,t){var r=Object.assign([],this.renderer.visibleRows(!t));return e&&(r=this.chain("rows-visible",[t],r,r)),r}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var t=[];switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!1,!0);break;default:t=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return t}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,t={virtual:Ft,basic:Lt};e="string"===typeof this.table.options.renderVertical?t[this.table.options.renderVertical]:this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),!this.table.element.clientHeight&&!this.table.options.height||this.table.options.minHeight&&this.table.options.maxHeight?this.fixedHeight=!1:this.fixedHeight=!0):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,t){var r=e.getElement();t%2?(r.classList.add("tabulator-row-even"),r.classList.remove("tabulator-row-odd")):(r.classList.add("tabulator-row-odd"),r.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach((function(e){e.normalizeHeight()}))}adjustTableSize(){let e,t=this.element.clientHeight,r=!1;if("fill"===this.renderer.verticalFillMode){let o=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){e=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const t="calc(100% - "+o+"px)";this.element.style.minHeight=e||"calc(100% - "+o+"px)",this.element.style.height=t,this.element.style.maxHeight=t}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-o+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),this.fixedHeight||t==this.element.clientHeight||(r=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),r}reinitialize(){this.rows.forEach((function(e){e.reinitialize(!0)}))}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){const t=this.adjustTableSize();this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(t&&this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class Nt extends o{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":"<"===this.table.options.footerElement[0]?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){this.element.firstChild&&!e||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class Ht extends o{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach((t=>{e[t]={handler:null,components:[]}})),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach((e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)})),this.pseudoTracking=!0}pseudoMouseEnter(e,t,r){this.pseudoTrackers[e].target!==r&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",t,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,t),this.pseudoTrackers[e].target=r,this.dispatch(e+"-mouseenter",t,r))}pseudoMouseLeave(e,t){var r=Object.keys(this.pseudoTrackers),o={row:["cell"],cell:["row"]};r=r.filter((t=>{var r=o[e];return t!==e&&(!r||r&&!r.includes(t))})),r.forEach((e=>{var r=this.pseudoTrackers[e].target;this.pseudoTrackers[e].target&&(this.dispatch(e+"-mouseleave",t,r),this.pseudoTrackers[e].target=null)}))}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),t=Object.values(this.componentMap);for(let r of t)for(let t of e){let e=r+"-"+t;this.subscriptionChange(e,this.subscriptionChanged.bind(this,r,t))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,t,r){var o=this.listeners[t].components,i=o.indexOf(e),n=!1;r?-1===i&&(o.push(e),n=!0):this.subscribed(e+"-"+t)||i>-1&&(o.splice(i,1),n=!0),"mouseenter"!==t&&"mouseleave"!==t||this.pseudoTracking||this.bindPseudoEvents(),n&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let t=this.listeners[e];t.components.length?t.handler||(t.handler=this.track.bind(this,e),this.el.addEventListener(e,t.handler)):t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}track(e,t){var r=t.composedPath&&t.composedPath()||t.path,o=this.findTargets(r);o=this.bindComponents(e,o),this.triggerEvents(e,t,o),!this.pseudoTracking||"mouseover"!=e&&"mouseleave"!=e||Object.keys(o).length||this.pseudoMouseLeave("none",t)}findTargets(e){var t={};let r=Object.keys(this.componentMap);for(let o of e){let e=o.classList?[...o.classList]:[],i=e.filter((e=>this.abortClasses.includes(e)));if(i.length)break;let n=e.filter((e=>r.includes(e)));for(let r of n)t[this.componentMap[r]]||(t[this.componentMap[r]]=o)}return t.group&&t.group===t.row&&delete t.row,t}bindComponents(e,t){var r=Object.keys(t).reverse(),o=this.listeners[e],i={},n={};for(let a of r){let e,r=t[a],s=this.previousTargets[a];if(s&&s.target===r)e=s.component;else switch(a){case"row":case"group":if(o.components.includes("row")||o.components.includes("cell")||o.components.includes("group")){let o=this.table.rowManager.getVisibleRows(!0);e=o.find((e=>e.getElement()===r)),t["row"]&&t["row"].parentNode&&t["row"].parentNode.closest(".tabulator-row")&&(t[a]=!1)}break;case"column":o.components.includes("column")&&(e=this.table.columnManager.findColumn(r));break;case"cell":o.components.includes("cell")&&(i["row"]instanceof _?e=i["row"].findCell(r):t["row"]&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}e&&(i[a]=e,n[a]={target:r,component:e})}return this.previousTargets=n,i}triggerEvents(e,t,r){var o=this.listeners[e];for(let i in r)r[i]&&o.components.includes(i)&&this.dispatch(i+"-"+e,t,r[i])}clearWatchers(){for(let e in this.listeners){let t=this.listeners[e];t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}}class Gt{constructor(e){this.table=e,this.bindings={}}bind(e,t,r){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][t]?console.warn("Unable to bind component handler, a matching function name is already bound",e,t,r):this.bindings[e][t]=r}handle(e,t,r){if(this.bindings[e]&&this.bindings[e][r]&&"function"===typeof this.bindings[e][r].bind)return this.bindings[e][r].bind(null,t);"then"===r||"string"!==typeof r||r.startsWith("_")||this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+r+" function, have you checked that you have the correct Tabulator module installed?")}}class Vt extends o{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,t,r,o,i,n){var a=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),!e||0!=e.indexOf("{")&&0!=e.indexOf("[")||(e=JSON.parse(e)),this.confirm("data-loading",[e,t,r,i])){this.loading=!0,i||this.alertLoader(),t=this.chain("data-params",[e,r,i],t||{},t||{}),t=this.mapParams(t,this.table.options.dataSendParams);var s=this.chain("data-load",[e,t,r,i],!1,Promise.resolve([]));return s.then((e=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{Array.isArray(e)||"object"!=typeof e||(e=this.mapParams(e,this.objectInvert(this.table.options.dataReceiveParams)));var t=this.chain("data-loaded",e,null,e);a==this.requestOrder?(this.clearAlert(),!1!==t&&(this.dispatchExternal("dataLoaded",t),this.table.rowManager.setData(t,o,"undefined"===typeof n?!o:n))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}})).catch((e=>{console.error("Data Load Error: ",e),this.dispatchExternal("dataLoadError",e),i||this.alertError(),setTimeout((()=>{this.clearAlert()}),this.table.options.dataLoaderErrorTimeout)})).finally((()=>{this.loading=!1}))}return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,o,"undefined"===typeof n?!o:n),Promise.resolve()}mapParams(e,t){var r={};for(let o in e)r[t.hasOwnProperty(o)?t[o]:o]=e[o];return r}objectInvert(e){var t={};for(let r in e)t[e[r]]=r;return t}blockActiveLoad(){this.requestOrder++}alertLoader(){var e="function"===typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class zt{constructor(e,t,r){this.table=e,this.events={},this.optionsList=t||{},this.subscriptionNotifiers={},this.dispatch=r?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=r}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var r;if(this.events[e]){if(t){if(r=this.events[e].findIndex((e=>e===t)),!(r>-1))return void console.warn("Cannot remove event, no matching event found:",e,t);this.events[e].splice(r,1)}else delete this.events[e];this._notifySubscriptionChange(e,!1)}else console.warn("Cannot remove event, no events set on:",e)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,t){var r=this.subscriptionNotifiers[e];r&&r.forEach((e=>{e(t)}))}_dispatch(){var e,t=Array.from(arguments),r=t.shift();return this.events[r]&&this.events[r].forEach(((r,o)=>{let i=r.apply(this.table,t);o||(e=i)})),e}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="ExternalEvent:"+e[0],(!0===this.debug||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}}class Bt{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t,r=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:t,priority:r}),this.events[e].sort(((e,t)=>e.priority-t.priority)),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var r;if(this.events[e]){if(t){if(r=this.events[e].findIndex((e=>e.callback===t)),!(r>-1))return void console.warn("Cannot remove event, no matching event found:",e,t);this.events[e].splice(r,1)}this._notifySubscriptionChange(e,!1)}else console.warn("Cannot remove event, no events set on:",e)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,t,r,o){var i=r;return Array.isArray(t)||(t=[t]),this.subscribed(e)?(this.events[e].forEach(((e,r)=>{i=e.callback.apply(this,t.concat([i]))})),i):"function"===typeof o?o():o}_confirm(e,t){var r=!1;return Array.isArray(t)||(t=[t]),this.subscribed(e)&&this.events[e].forEach(((e,o)=>{e.callback.apply(this,t)&&(r=!0)})),r}_notifySubscriptionChange(e,t){var r=this.subscriptionNotifiers[e];r&&r.forEach((e=>{e(t)}))}_dispatch(){var e=Array.from(arguments),t=e.shift();this.events[t]&&this.events[t].forEach((t=>{t.callback.apply(this,e)}))}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(!0===this.debug||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(!0===this.debug||this.debug.includes(t))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(!0===this.debug||this.debug.includes(t))&&console.log(...e),this._confirm(...arguments)}}class jt extends o{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,t){var r="";return"undefined"===typeof this.options(e)||(r="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",t?(r=r+", Please use the %c"+t+"%c option instead",this._warnUser(r,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;")):this._warnUser(r,"font-weight: bold;","font-weight: normal;"),!1)}checkMsg(e,t){return"undefined"===typeof this.options(e)||(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+t,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1)}msg(e){this._warnUser(e)}}class Wt{static register(e){Wt.tables.push(e)}static deregister(e){var t=Wt.tables.indexOf(e);t>-1&&Wt.tables.splice(t,1)}static lookupTable(e,t){var r,o,i=[];if("string"===typeof e){if(r=document.querySelectorAll(e),r.length)for(var n=0;n<r.length;n++)o=Wt.matchElement(r[n]),o&&i.push(o)}else"undefined"!==typeof HTMLElement&&e instanceof HTMLElement||e instanceof or?(o=Wt.matchElement(e),o&&i.push(o)):Array.isArray(e)?e.forEach((function(e){i=i.concat(Wt.lookupTable(e))})):t||console.warn("Table Connection Error - Invalid Selector",e);return i}static matchElement(e){return Wt.tables.find((function(t){return e instanceof or?t===e:t.element===e}))}}function Ut(e,t){t&&this.table.columnManager.renderer.reinitializeColumnWidths(e),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function $t(e,t){e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Kt(e,t){var r=0,o=this.table.rowManager.element.clientWidth,i=0,n=!1;e.forEach(((e,t)=>{e.widthFixed||e.reinitializeWidth(),(this.table.options.responsiveLayout?e.modules.responsive.visible:e.visible)&&(n=e),e.visible&&(r+=e.getWidth())})),n?(i=o-r+n.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(n.setWidth(0),this.table.modules.responsiveLayout.update()),i>0?n.setWidth(i):n.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Yt(e,t){var r=this.table.rowManager.element.getBoundingClientRect().width,o=0,i=0,n=0,a=0,s=[],l=[],c=0,u=0,d=0;function h(e){var t;return t="string"==typeof e?e.indexOf("%")>-1?r/100*parseInt(e):parseInt(e):e,t}function p(e,t,r,o){var i=[],a=0,s=0,l=0,c=n,u=0,d=0,f=[];function g(e){return r*(e.column.definition.widthGrow||1)}function v(e){return h(e.width)-r*(e.column.definition.widthShrink||0)}return e.forEach((function(e,n){var a=o?v(e):g(e);e.column.minWidth>=a?i.push(e):e.column.maxWidth&&e.column.maxWidth<a?(e.width=e.column.maxWidth,t-=e.column.maxWidth,c-=o?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1,c&&(r=Math.floor(t/c))):(f.push(e),d+=o?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)})),i.length?(i.forEach((function(e){a+=o?e.width-e.column.minWidth:e.column.minWidth,e.width=e.column.minWidth})),s=t-a,l=d?Math.floor(s/d):s,u=p(f,s,l,o)):(u=d?t-Math.floor(t/d)*d:t,f.forEach((function(e){e.width=o?v(e):g(e)}))),u}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(r-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),e.forEach((function(e){var t,r,i;e.visible&&(t=e.definition.width,r=parseInt(e.minWidth),t?(i=h(t),o+=i>r?i:r,e.definition.widthShrink&&(l.push({column:e,width:i>r?i:r}),c+=e.definition.widthShrink)):(s.push({column:e,width:0}),n+=e.definition.widthGrow||1))})),i=r-o,a=Math.floor(i/n),d=p(s,i,a,!1),s.length&&d>0&&(s[s.length-1].width+=d),s.forEach((function(e){i-=e.width})),u=Math.abs(d)+i,u>0&&c&&(d=p(l,u,Math.floor(u/c),!0)),d&&l.length&&(l[l.length-1].width-=d),s.forEach((function(e){e.column.setWidth(e.width)})),l.forEach((function(e){e.column.setWidth(e.width)}))}Wt.tables=[];var qt={fitData:Ut,fitDataFill:$t,fitDataTable:$t,fitDataStretch:Kt,fitColumns:Yt};class Xt extends a{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Xt.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){this.dispatch("layout-refreshing"),Xt.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),this.dispatch("layout-refreshed")}}Xt.moduleName="layout",Xt.modes=qt;var Jt={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};class Qt extends a{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=i.deepClone(Qt.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let r in t)e[r]&&"object"==typeof e[r]?this._setLangProp(e[r],t[r]):e[r]=t[r]}setLocale(e){function t(e,r){for(var o in e)"object"==typeof e[o]?(r[o]||(r[o]={}),t(e[o],r[o])):r[o]=e[o]}if(e=e||"default",!0===e&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let t=e.split("-")[0];this.langList[t]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,t),e=t):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=i.deepClone(this.langList.default||{}),"default"!=e&&t(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,t){var r=t?e+"|"+t:e,o=r.split("|"),i=this._getLangElement(o,this.locale);return i||""}_getLangElement(e,t){var r=this.lang;return e.forEach((function(e){var t;r&&(t=r[e],r="undefined"!=typeof t&&t)})),r}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach((t=>{t(this.getText(e),this.lang)}))}}Qt.moduleName="localize",Qt.langs=Jt;class Zt extends a{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t,r=[];return t=Wt.lookupTable(e),t.forEach((e=>{this.table!==e&&r.push(e)})),r}send(e,t,r,o){var i=this.getConnections(e);i.forEach((e=>{e.tableComms(this.table.element,t,r,o)})),!i.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,r,o){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,r,o);console.warn("Inter-table Comms Error - no such module:",t)}}Zt.moduleName="comms";var er=Object.freeze({__proto__:null,LayoutModule:Xt,LocalizeModule:Qt,CommsModule:Zt});class tr{constructor(e,t){this.bindStaticFunctionality(e),this.bindModules(e,er,!0),t&&this.bindModules(e,t)}bindStaticFunctionality(e){e.moduleBindings={},e.extendModule=function(t,r,o){if(e.moduleBindings[t]){var i=e.moduleBindings[t][r];if(i)if("object"==typeof o)for(let e in o)i[e]=o[e];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",r)}else console.warn("Module Error - module does not exist:",t)},e.registerModule=function(t){Array.isArray(t)||(t=[t]),t.forEach((t=>{e.registerModuleBinding(t)}))},e.registerModuleBinding=function(t){e.moduleBindings[t.moduleName]=t},e.findTable=function(e){var t=Wt.lookupTable(e,!0);return!(Array.isArray(t)&&!t.length)&&t},e.prototype.bindModules=function(){var t=[],r=[],o=[];for(var i in this.modules={},e.moduleBindings){let n=e.moduleBindings[i],a=new n(this);this.modules[i]=a,n.prototype.moduleCore?this.modulesCore.push(a):n.moduleInitOrder?n.moduleInitOrder<0?t.push(a):r.push(a):o.push(a)}t.sort(((e,t)=>e.moduleInitOrder>t.moduleInitOrder?1:-1)),r.sort(((e,t)=>e.moduleInitOrder>t.moduleInitOrder?1:-1)),this.modulesRegular=t.concat(o.concat(r))}}bindModules(e,t,r){var o=Object.values(t);r&&o.forEach((e=>{e.prototype.moduleCore=!0})),e.registerModule(o)}}class rr extends o{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,t="msg"){if(e){this.clear(),this.type=t;while(this.msgElement.firstChild)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),"function"===typeof e&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}class or{constructor(e,t){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Gt(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new jt(this),this.optionsList=new Ot(this,"table constructor"),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout((()=>{this._create()}))),Wt.register(this)}initializeElement(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"===typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new Mt(this),this.rowManager=new It(this),this.footerManager=new Nt(this),this.dataLoader=new Vt(this),this.alertManager=new rr(this),this.bindModules(),this.options=this.optionsList.generate(or.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new zt(this,this.options,this.options.debugEventsExternal),this.eventBus=new Bt(this.options.debugEventsInternal),this.interactionMonitor=new Ht(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e,t=this.element,r=this.options;if("TABLE"===t.tagName){this.originalElement=this.element,e=document.createElement("div");var o=t.attributes;for(var i in o)"object"==typeof o[i]&&e.setAttribute(o[i].name,o[i].value);t.parentNode.replaceChild(e,t),this.element=t=e}t.classList.add("tabulator"),t.setAttribute("role","grid");while(t.firstChild)t.removeChild(t.firstChild);r.height&&(r.height=isNaN(r.height)?r.height:r.height+"px",t.style.height=r.height),!1!==r.minHeight&&(r.minHeight=isNaN(r.minHeight)?r.minHeight:r.minHeight+"px",t.style.minHeight=r.minHeight),!1!==r.maxHeight&&(r.maxHeight=isNaN(r.maxHeight)?r.maxHeight:r.maxHeight+"px",t.style.maxHeight=r.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach((e=>{e.initialize()})),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach((e=>{e.initialize()})),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;this.destroyed=!0,Wt.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();while(e.firstChild)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,t){var r,o;return this.options.debugInitialization&&!this.initialized&&(e||(r=(new Error).stack.split("\n"),o="Error"==r[0]?r[2]:r[1],e=" "==o[0]?o.trim().split(" ")[1].split(".")[1]:o.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(t?" "+t:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,t,r){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,t,r,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,r){return this.initGuard(),this.dataLoader.load(e,t,r,!0,!0)}updateData(e){var t=0;return this.initGuard(),new Promise(((r,o)=>{this.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e&&e.length>0?e.forEach((e=>{var i=this.rowManager.findRow(e[this.options.index]);i?(t++,i.updateData(e).then((()=>{t--,t||r()})).catch((t=>{o("Update Error - Unable to update row",e,t)}))):o("Update Error - Unable to find row",e)})):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))}))}addData(e,t,r){return this.initGuard(),new Promise(((o,i)=>{this.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,r).then((e=>{var t=[];e.forEach((function(e){t.push(e.getComponent())})),o(t)})):(console.warn("Update Error - No data provided"),i("Update Error - No data provided"))}))}updateOrAddData(e){var t=[],r=0;return this.initGuard(),new Promise(((o,i)=>{this.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e&&e.length>0?e.forEach((e=>{var i=this.rowManager.findRow(e[this.options.index]);r++,i?i.updateData(e).then((()=>{r--,t.push(i.getComponent()),r||o(t)})):this.rowManager.addRows(e).then((e=>{r--,t.push(e[0].getComponent()),r||o(t)}))})):(console.warn("Update Error - No data provided"),i("Update Error - No data provided"))}))}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var t=this.rowManager.getRowFromPosition(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let r of e){let e=this.rowManager.findRow(r,!0);if(!e)return console.error("Delete Error - No matching row found:",r),Promise.reject("Delete Error - No matching row found");t.push(e)}return t.sort(((e,t)=>this.rowManager.rows.indexOf(e)>this.rowManager.rows.indexOf(t)?1:-1)),t.forEach((e=>{e.delete()})),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,r){return this.initGuard(),"string"===typeof e&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,r,!0).then((e=>e[0].getComponent()))}updateOrAddRow(e,t){var r=this.rowManager.findRow(e);return this.initGuard(),"string"===typeof t&&(t=JSON.parse(t)),r?r.updateData(t).then((()=>r.getComponent())):this.rowManager.addRows(t).then((e=>e[0].getComponent()))}updateRow(e,t){var r=this.rowManager.findRow(e);return this.initGuard(),"string"===typeof t&&(t=JSON.parse(t)),r?r.updateData(t).then((()=>Promise.resolve(r.getComponent()))):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,r){var o=this.rowManager.findRow(e);return o?this.rowManager.scrollToRow(o,t,r):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,r){var o=this.rowManager.findRow(e);this.initGuard(),o?o.moveToRow(t,r):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var t=this.rowManager.findRow(e);return t?t.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show()}hideColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide()}toggleColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()}addColumn(e,t,r){var o=this.columnManager.findColumn(r);return this.initGuard(),this.columnManager.addColumn(e,t,o).then((e=>e.getComponent()))}deleteColumn(e){var t=this.columnManager.findColumn(e);return this.initGuard(),t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var r=this.columnManager.findColumn(e);return this.initGuard(),r?r.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,r){var o=this.columnManager.findColumn(e),i=this.columnManager.findColumn(t);this.initGuard(),o?i?this.columnManager.moveColumn(o,i,r):console.warn("Move Error - No matching column found:",i):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,r){return new Promise(((o,i)=>{var n=this.columnManager.findColumn(e);return n?this.columnManager.scrollToColumn(n,t,r):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))}))}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,t){this.initGuard(),this.alertManager.alert(e,t)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}}or.defaultOptions=Rt,new tr(or);class ir extends or{}new tr(ir,_t)},89:function(e,t){"use strict";t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[o,i]of t)r[o]=i;return r}},7967:function(e,t,r){"use strict";r.d(t,{Z:function(){return kM}});var o=r(3396),i=r(7139),n=r(9242);const a=e=>((0,o.dD)("data-v-5d7c45f8"),e=e(),(0,o.Cn)(),e),s={class:"component-content"},l={key:0,style:{width:"40px"}},c={key:1,style:{width:"12px"}},u={class:"center-text"},d={style:{width:"100%"}},h={key:0,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-times-circle fa-w-16 fa-sm"},p=a((()=>(0,o._)("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},null,-1))),f=[p],g={key:1,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-bars fa-w-14 fa-sm"},v=a((()=>(0,o._)("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},null,-1))),b=[v],y=["colspan","onMousedown","onContextmenu"],w=["innerHTML"],C=a((()=>(0,o._)("div",{class:"add-col-btn"}," + ",-1))),E=[C],S={key:0},x=a((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"eraser",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-eraser fa-w-16 fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"})],-1))),T=[x],k={key:0},_=a((()=>(0,o._)("td",{colspan:"100%",style:{height:"40px","vertical-align":"middle","text-align":"center"}},null,-1))),R=[_],O=["id","pos"],D=["innerHTML"],A=["id","cell-RC"],P={key:0,class:"last-col"},M=a((()=>(0,o._)("td",{class:"row-summary first-col"}," ",-1))),L=["colspan"],F={style:{position:"relative",height:"100%",padding:"2px 2px 1px"}},I=a((()=>(0,o._)("div",{class:"rb-square"},null,-1))),N=["spellcheck"],H={ref:"dpContainer",style:{"z-index":"20",position:"fixed"}},G={ref:"frontdrop",class:"front-drop"},V=a((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-spinner fa-w-16 fa-spin fa-3x"},[(0,o._)("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"})],-1))),z=[V],B=["innerHTML"],j={ref:"autocomplete",class:"autocomplete-results"},W=a((()=>(0,o._)("span",{class:"left-block"},null,-1))),U={style:{position:"absolute",left:"46px"}},K=["innerHTML"],Y=a((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-spinner fa-w-16 fa-spin fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"})],-1))),q=["innerHTML"],X=a((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"step-backward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-step-backward fa-w-14 fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"})],-1))),J=["innerHTML"],Q=a((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"backward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-backward fa-w-16 fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"})],-1))),Z=["innerHTML"],ee=["innerHTML"],te=a((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"forward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-forward fa-w-16 fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"})],-1))),re=["innerHTML"],oe=a((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"step-forward",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-step-forward fa-w-14 fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"})],-1))),ie={style:{position:"absolute",right:"6px"}},ne=["innerHTML"],ae=["innerHTML"],se={class:(0,i.C_)({disabled:!0})},le=["innerHTML"];function ce(e,t,r,a,p,v){const m=(0,o.up)("vue-excel-filter"),C=(0,o.up)("date-picker"),x=(0,o.up)("panel-filter"),_=(0,o.up)("panel-setting"),V=(0,o.up)("panel-find");return(0,o.wg)(),(0,o.iD)("div",{ref:"editor",class:"vue-excel-editor",style:(0,i.j5)({display:"inline-block",width:e.width})},[(0,o._)("div",s,[e.localizedLabel.noRecordIndicator&&0==e.pagingTable.length?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"norecord",style:(0,i.j5)({bottom:e.noFooter?"12px":"37px"})},(0,i.zw)(e.localizedLabel.noRecordIndicator),5)):(0,o.kq)("",!0),(0,o._)("div",{ref:"tableContent",class:(0,i.C_)(["table-content",{"no-footer":e.noFooter}]),onScroll:t[16]||(t[16]=(...t)=>e.tableScroll&&e.tableScroll(...t)),onMouseover:t[17]||(t[17]=(...t)=>e.mouseOver&&e.mouseOver(...t)),onMouseout:t[18]||(t[18]=(...t)=>e.mouseOut&&e.mouseOut(...t))},[(0,o._)("table",{ref:"systable",id:"systable",style:{"table-layout":"fixed",width:"0"},class:(0,i.C_)(["systable",{"no-number":e.noNumCol}]),ondragenter:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",ondragover:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'"},[(0,o._)("colgroup",null,[e.noNumCol?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("col",l)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.fields,((e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("col",{key:t,style:(0,i.j5)({width:e.width})},null,4)),[[n.F8,!e.invisible]]))),128)),e.vScroller.buttonHeight<e.vScroller.height?((0,o.wg)(),(0,o.iD)("col",c)):(0,o.kq)("",!0)]),(0,o._)("thead",u,[(0,o._)("tr",null,[(0,o._)("th",{class:(0,i.C_)(["center-text first-col tl-setting",{hide:e.noNumCol}]),style:{top:"0"},onMousedown:t[0]||(t[0]=(0,n.iM)(((...t)=>e.selectAllClick&&e.selectAllClick(...t)),["left"])),onContextmenu:t[1]||(t[1]=(0,n.iM)(((...t)=>e.settingClick&&e.settingClick(...t)),["prevent"]))},[(0,o._)("span",d,[e.selectedCount>0?((0,o.wg)(),(0,o.iD)("svg",h,f)):((0,o.wg)(),(0,o.iD)("svg",g,b))])],34),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.fields,((r,a)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("th",{key:`th-${a}`,colspan:a===e.fields.length-1&&e.vScroller.buttonHeight<e.vScroller.height?2:1,class:(0,i.C_)({"sort-asc-sign":e.sortPos==a&&1==e.sortDir,"sort-des-sign":e.sortPos==a&&-1==e.sortDir,"sticky-column":r.sticky}),style:(0,i.j5)({left:r.left}),onMousedown:t=>e.headerClick(t,a),onContextmenu:(0,n.iM)((t=>e.panelFilterClick(r)),["prevent"])},[(0,o._)("div",{class:(0,i.C_)({"filter-sign":e.columnFilter[a]})},[(0,o._)("span",{class:(0,i.C_)({"table-col-header":!e.noHeaderEdit}),innerHTML:e.headerLabel(r.label,r)},null,10,w)],2),(0,o._)("div",{class:"col-sep",onMousedown:t[2]||(t[2]=(...t)=>e.colSepMouseDown&&e.colSepMouseDown(...t)),onMouseover:t[3]||(t[3]=(...t)=>e.colSepMouseOver&&e.colSepMouseOver(...t)),onMouseout:t[4]||(t[4]=(...t)=>e.colSepMouseOut&&e.colSepMouseOut(...t))},E,32)],46,y)),[[n.F8,!r.invisible]]))),128))]),(0,o._)("tr",{class:(0,i.C_)({hide:!e.filterRow})},[(0,o._)("td",{class:(0,i.C_)(["center-text first-col tl-filter",{hide:e.noNumCol}]),style:(0,i.j5)([{"vertical-align":"middle",padding:"0"},{top:e.calCellTop2+"px"}]),onClick:t[5]||(t[5]=t=>e.columnFilter={})},[Object.keys(e.columnFilter).length>0?((0,o.wg)(),(0,o.iD)("span",S,T)):(0,o.kq)("",!0)],6),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.fields,((t,r)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(m,{ref_for:!0,ref:`filter-${t.name}`,colspan:r===e.fields.length-1?2:1,key:`th2-${r}`,modelValue:e.columnFilter[r],"onUpdate:modelValue":t=>e.columnFilter[r]=t,class:(0,i.C_)([{"sticky-column":t.sticky},"column-filter"]),style:(0,i.j5)({left:t.left})},null,8,["colspan","modelValue","onUpdate:modelValue","class","style"])),[[n.F8,!t.invisible]]))),128))],2)]),(0,o._)("tbody",{onMousedown:t[10]||(t[10]=(...t)=>e.mouseDown&&e.mouseDown(...t))},[e.localizedLabel.noRecordIndicator&&0==e.pagingTable.length?((0,o.wg)(),(0,o.iD)("tr",k,R)):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(e.pagingTable,((r,a)=>((0,o.wg)(),(0,o.iD)("tr",{key:a,class:(0,i.C_)({select:"undefined"!==typeof e.selected[e.pageTop+a]}),style:(0,i.j5)(e.rowStyle(r))},[(0,o._)("td",{class:(0,i.C_)(["center-text first-col",{hide:e.noNumCol,error:e.rowerr[`rid-${r.$id}`]}]),id:`rid-${r.$id}`,pos:a,onMouseover:t[6]||(t[6]=(...t)=>e.numcolMouseOver&&e.numcolMouseOver(...t)),onClick:t[7]||(t[7]=(...t)=>e.rowLabelClick&&e.rowLabelClick(...t))},[(0,o._)("span",{innerHTML:e.recordLabel(e.pageTop+a+1,r)},null,8,D)],42,O),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.fields,((s,l)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("td",{id:`id-${r.$id}-${s.name}`,"cell-RC":`${a}-${s.name}`,class:(0,i.C_)({readonly:s.readonly,error:e.errmsg[`id-${r.$id}-${s.name}`],link:s.link,select:s.options,datepick:"date"==s.type,"sticky-column":s.sticky}),key:l,style:(0,i.j5)(Object.assign(e.cellStyle(r,s),e.renderColumnCellStyle(s))),onMouseover:t[8]||(t[8]=(...t)=>e.cellMouseOver&&e.cellMouseOver(...t)),onMousemove:t[9]||(t[9]=(...t)=>e.cellMouseMove&&e.cellMouseMove(...t))},(0,i.zw)(s.toText(r[s.name])),47,A)),[[n.F8,!s.invisible]]))),128)),e.vScroller.buttonHeight<e.vScroller.height?((0,o.wg)(),(0,o.iD)("td",P)):(0,o.kq)("",!0)],6)))),128))],32),(0,o._)("tfoot",null,[(0,o.wy)((0,o._)("tr",null,[M,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.fields,((t,r)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("td",{class:(0,i.C_)(["row-summary",{"sticky-column":t.sticky,"summary-column1":r+1<e.fields.length&&e.fields[r+1].summary,"summary-column2":t.summary}]),colspan:r===e.fields.length-1&&e.vScroller.buttonHeight<e.vScroller.height?2:1,key:`f${r}`,style:(0,i.j5)(e.renderColumnCellStyle(t))},(0,i.zw)(e.summary[t.name]),15,L)),[[n.F8,!t.invisible]]))),128))],512),[[n.F8,e.pagingTable.length&&e.summaryRow]])]),(0,o.WI)(e.$slots,"default",{},void 0,!0)],2),(0,o.wy)((0,o._)("div",{ref:"tooltip",class:"tool-tip"},(0,i.zw)(e.tip),513),[[n.F8,e.tip]]),(0,o.wy)((0,o._)("div",{ref:"inputSquare",class:"input-square",onMousedown:t[14]||(t[14]=(...t)=>e.inputSquareClick&&e.inputSquareClick(...t))},[(0,o._)("div",F,[I,(0,o._)("textarea",{ref:"inputBox",id:"inputBox",class:"input-box",style:(0,i.j5)({opacity:e.inputBoxShow}),onBlur:t[11]||(t[11]=(...t)=>e.inputBoxBlur&&e.inputBoxBlur(...t)),onMousemove:t[12]||(t[12]=(...t)=>e.inputBoxMouseMove&&e.inputBoxMouseMove(...t)),onMousedown:t[13]||(t[13]=(...t)=>e.inputBoxMouseDown&&e.inputBoxMouseDown(...t)),trim:"",autocomplete:"off",autocorrect:"off",autocompitaize:"off",spellcheck:e.spellcheck},null,44,N)])],544),[[n.F8,e.focused]]),(0,o.wy)((0,o._)("div",H,[(0,o.Wm)(C,{ref:"datepicker",inline:"","auto-apply":"",modelValue:e.inputDateTime,"onUpdate:modelValue":[t[15]||(t[15]=t=>e.inputDateTime=t),e.datepickerClick],valueType:"format"},null,8,["modelValue","onUpdate:modelValue"])],512),[[n.F8,e.showDatePicker]]),(0,o.wy)((0,o._)("div",G,z,512),[[n.F8,e.processing]])],34),e.vScroller.buttonHeight<e.vScroller.height?((0,o.wg)(),(0,o.iD)("div",{key:1,ref:"vScroll",class:"v-scroll",style:(0,i.j5)({top:`${e.vScroller.top}px`,height:`${e.vScroller.height}px`}),onMousedown:t[20]||(t[20]=(...t)=>e.vsMouseDown&&e.vsMouseDown(...t))},[(0,o._)("div",{ref:"vScrollButton",class:"v-scroll-button",style:(0,i.j5)({marginTop:`${e.vScroller.buttonTop}px`,height:`${e.vScroller.buttonHeight}px`}),onMousedown:t[19]||(t[19]=(...t)=>e.vsbMouseDown&&e.vsbMouseDown(...t))},[(0,o.wy)((0,o._)("div",{class:"runner",innerHTML:e.vScroller.runner},null,8,B),[[n.F8,e.vScroller.runner]])],36)],36)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("ul",j,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.autocompleteInputs,((r,a)=>((0,o.wg)(),(0,o.iD)("li",{key:a,class:(0,i.C_)([{select:e.autocompleteSelect===a},"autocomplete-result"]),onMousedown:t[21]||(t[21]=(0,n.iM)((t=>e.inputAutocompleteText(t.target.textContent,t)),["left","prevent"]))},(0,i.zw)(r),35)))),128))],512),[[n.F8,e.focused&&e.autocompleteInputs.length]]),(0,o._)("div",{ref:"footer",class:(0,i.C_)(["footer center-text",{hide:e.noFooter}]),style:{position:"relative"},onMousedown:t[29]||(t[29]=(...t)=>e.ftMouseDown&&e.ftMouseDown(...t))},[(0,o._)("div",{ref:"hScroll",class:"h-scroll",onMousedown:t[22]||(t[22]=(...t)=>e.sbMouseDown&&e.sbMouseDown(...t))},null,544),W,(0,o.wy)((0,o._)("span",U,[(0,o._)("span",{innerHTML:e.localizedLabel.footerLeft(e.pageTop+1,e.pageBottom,e.table.length)},null,8,K)],512),[[n.F8,!e.noPaging]]),(0,o.wy)((0,o._)("span",null,[e.processing?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[Y,(0,o.Uk)("   "),(0,o._)("span",{innerHTML:e.localizedLabel.processing},null,8,q)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("a",{class:(0,i.C_)({disabled:e.pageTop<=0}),onMousedown:t[23]||(t[23]=(...t)=>e.firstPage&&e.firstPage(...t))},[X,(0,o.Uk)("   "),(0,o._)("span",{innerHTML:e.localizedLabel.first},null,8,J)],34),(0,o.Uk)("  |  "),(0,o._)("a",{class:(0,i.C_)({disabled:e.pageTop<=0}),onMousedown:t[24]||(t[24]=(...t)=>e.prevPage&&e.prevPage(...t))},[Q,(0,o.Uk)("   "),(0,o._)("span",{innerHTML:e.localizedLabel.previous},null,8,Z)],34),(0,o.Uk)("  |  "),(0,o._)("a",{class:(0,i.C_)({disabled:e.pageTop+e.pageSize>=e.table.length}),onMousedown:t[25]||(t[25]=(...t)=>e.nextPage&&e.nextPage(...t))},[(0,o._)("span",{innerHTML:e.localizedLabel.next},null,8,ee),(0,o.Uk)("   "),te],34),(0,o.Uk)("  |  "),(0,o._)("a",{class:(0,i.C_)({disabled:e.pageTop+e.pageSize>=e.table.length}),onMousedown:t[26]||(t[26]=(...t)=>e.lastPage&&e.lastPage(...t))},[(0,o._)("span",{innerHTML:e.localizedLabel.last},null,8,re),(0,o.Uk)("   "),oe],34)],64))],512),[[n.F8,!e.noPaging&&e.pageBottom-e.pageTop<e.table.length]]),(0,o._)("span",ie,[(0,o._)("a",{class:(0,i.C_)({disabled:!e.showSelectedOnly&&e.selectedCount<=1}),onMousedown:t[27]||(t[27]=(...t)=>e.toggleSelectView&&e.toggleSelectView(...t))},[(0,o._)("span",{innerHTML:e.localizedLabel.footerRight.selected},null,8,ne),(0,o._)("span",{style:(0,i.j5)({color:e.selectedCount>0?"red":"inherit"})},(0,i.zw)(e.selectedCount),5)],34),(0,o.Uk)("  |  "),(0,o._)("a",{class:(0,i.C_)({disabled:"{}"===e.columnFilterString}),onMousedown:t[28]||(t[28]=(...t)=>e.toggleFilterView&&e.toggleFilterView(...t))},[(0,o._)("span",{innerHTML:e.localizedLabel.footerRight.filtered},null,8,ae),(0,o._)("span",{style:(0,i.j5)({color:e.table.length!==e.filteredValue.length?"red":"inherit"})},(0,i.zw)(e.table.length),5)],34),(0,o.Uk)("  |  "),(0,o._)("a",se,[(0,o._)("span",{innerHTML:e.localizedLabel.footerRight.loaded},null,8,le),(0,o._)("span",null,(0,i.zw)(e.filteredValue.length),1)])])],34),(0,o._)("input",{type:"file",ref:"importFile",accept:".xlsx, .xls, xlsm, .csv",style:{position:"absolute",top:"0",left:"0",width:"0",height:"0",opacity:"0","z-index":"-1"},onKeyup:t[30]||(t[30]=(...t)=>e.componentTabInto&&e.componentTabInto(...t)),onChange:t[31]||(t[31]=(...t)=>e.doImport&&e.doImport(...t))},null,544),(0,o.Wm)(x,{ref:"panelFilter","n-filter-count":e.nFilterCount,"localized-label":e.localizedLabel},null,8,["n-filter-count","localized-label"]),(0,o.Wm)(_,{ref:"panelSetting",modelValue:e.fields,"onUpdate:modelValue":t[32]||(t[32]=t=>e.fields=t),"localized-label":e.localizedLabel},null,8,["modelValue","localized-label"]),(0,o.Wm)(V,{ref:"panelFind","localized-label":e.localizedLabel},null,8,["localized-label"])])],4)}r(7658);const ue=["id"];function de(e,t,r,i,a,s){return(0,o.wg)(),(0,o.iD)("td",(0,o.dG)({id:a.uid,ref:"cell",contenteditable:"",ondragenter:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",ondragover:"event.preventDefault(); event.dataTransfer.dropEffect = 'none'",class:"cell column-filter",style:s.filterRowTop,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"-1"},(0,o.mx)(s.listeners,!0),{onFocus:t[0]||(t[0]=(...e)=>s.onFocus&&s.onFocus(...e)),onBlur:t[1]||(t[1]=(...e)=>s.onBlur&&s.onBlur(...e)),onKeydown:[t[2]||(t[2]=(0,n.D2)((0,n.iM)(((...e)=>s.keyWest&&s.keyWest(...e)),["exact"]),["left"])),t[3]||(t[3]=(0,n.D2)((0,n.iM)(((...e)=>s.keyEast&&s.keyEast(...e)),["exact"]),["right"])),t[4]||(t[4]=(0,n.D2)((0,n.iM)(((...e)=>s.keyEnter&&s.keyEnter(...e)),["exact"]),["enter"]))],onKeyup:t[5]||(t[5]=(0,n.D2)((0,n.iM)(((...e)=>s.keyDelete&&s.keyDelete(...e)),["exact"]),["delete"])),onMousemove:t[6]||(t[6]=(...e)=>s.mouseMove&&s.mouseMove(...e)),onMousedown:t[7]||(t[7]=(...e)=>s.mouseDown&&s.mouseDown(...e))}),null,16,ue)}var he={props:{modelValue:{type:String,default:""},interactive:{type:Boolean,default:!1}},data(){return{uid:"",table:null,cell:null,row:null,colPos:0,rect:null}},computed:{listeners(){return{...this.$attrs,input:this.onInput}},err(){return this.validate?this.validate(this.modelValue):""},filterRowTop(){return{}}},watch:{modelValue(e){e!==this.$el.textContent&&(this.$refs.cell.textContent=e)}},mounted(){this.uid="uid"+this._uid,this.cell=this.$refs.cell,this.cell.textContent=this.modelValue,this.row=this.cell.parentNode,this.thead=this.row.parentNode,this.colPos=Array.from(this.row.children).indexOf(this.cell)-1,this.colLabel=this.thead.children[0].children[this.colPos+1]},methods:{updateValue(e){const t=e.target.textContent;this.modelValue!==t&&this.$emit("update:modelValue",t)},onInput(e){this.interactive&&this.updateValue(e)},onFocus(){setTimeout((()=>{this.colLabel.classList.add("focus"),this.selectAll(this.cell),this.$parent.currentColPos=this.colPos,this.$parent.currentRowPos=-1,this.$parent.labelTr.children[this.$parent.currentColPos+1].classList.add("focus")}),0)},selectAll(e){const t=window.getSelection();if(t){const r=document.createRange();r.selectNodeContents(e),t.removeAllRanges(),t.addRange(r)}},onBlur(e){this.updateValue(e),this.colLabel.classList.remove("focus"),e.target.classList.remove("edit")},keyWest(e){const t=document.getSelection();if(e.target.textContent===t.toString()||0===t.focusOffset){let t=e.target.previousElementSibling;while(t&&t.style&&"none"===t.style.display)t=t.previousElementSibling;return t?(t.focus&&t.focus(),t):t}return e.target},keyEast(e){const t=document.getSelection();if(e.target.textContent===t.toString()||t.focusOffset>=e.target.textContent.length){let t=e.target.nextElementSibling;while(t&&t.style&&"none"===t.style.display)t=t.nextElementSibling;return t?(t.focus&&t.focus(),t):t}return e.target},keyEnter(e){e.preventDefault(),this.selectAll(this.cell),this.updateValue(e)},keyDelete(e){""===e.target.textContent&&setTimeout(this.updateValue(e),0)},mouseMove(e){this.cell.style.cursor=this.cell.offsetWidth-e.offsetX<15?"pointer":"text"},mouseDown(e){0===e.button&&this.cell.offsetWidth-e.offsetX<15&&(e.preventDefault(),setTimeout((()=>{this.$parent.$refs.panelFilter.showPanel(this)}),0))}}},pe=r(89);const fe=(0,pe.Z)(he,[["render",de],["__scopeId","data-v-f903637a"]]);var ge=fe;const ve=e=>((0,o.dD)("data-v-0b56781a"),e=e(),(0,o.Cn)(),e),me={ref:"panelFilter",class:"panel-body"},be={class:"panel-title"},ye=ve((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-amount-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-sort-amount-down fa-w-16 fa-1x"},[(0,o._)("path",{fill:"currentColor",d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",class:""})],-1))),we=["innerHTML"],Ce={class:"panel-content"},Ee={class:"panel-action"},Se=ve((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-alpha-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-sort-alpha-down fa-w-14"},[(0,o._)("path",{fill:"currentColor",d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z",class:""})],-1))),xe=["innerHTML"],Te=ve((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-alpha-up-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-sort-alpha-up-alt fa-w-14"},[(0,o._)("path",{fill:"currentColor",d:"M16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160zm272 64h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 65.63V48a16 16 0 0 0-16-16H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 190.37V208a16 16 0 0 0 16 16zm159.06 234.62l-59.27-160A16 16 0 0 0 372.72 288h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 480h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 480H432a16 16 0 0 0 15.06-21.38zM335.61 400L352 352l16.39 48z",class:""})],-1))),ke=["innerHTML"],_e={class:"panel-action"},Re=["innerHTML"],Oe=["innerHTML"],De=["innerHTML"],Ae=["innerHTML"],Pe=["innerHTML"],Me=["innerHTML"],Le=["innerHTML"],Fe=["innerHTML"],Ie={class:"panel-input-b"},Ne=["placeholder"],He={ref:"panelList",class:"panel-list"},Ge=["onClick"],Ve=ve((()=>(0,o._)("input",{type:"checkbox",class:"panel-checkbox"},null,-1))),ze={key:0,class:"normal-text",style:{float:"right"}},Be=["innerHTML"],je={class:"panel-footer"},We=ve((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-in-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-sign-in-alt fa-w-16 fa-fw fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z",class:""})],-1))),Ue=["innerHTML"];function $e(e,t,r,a,s,l){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{id:"panelModal",class:"panel-modal",onClick:t[14]||(t[14]=(...e)=>l.clickOutside&&l.clickOutside(...e)),onKeydown:t[15]||(t[15]=(0,n.D2)((0,n.iM)(((...e)=>l.hidePanel&&l.hidePanel(...e)),["exact"]),["esc"]))},[(0,o._)("div",me,[(0,o._)("div",be,[ye,(0,o._)("span",{innerHTML:r.localizedLabel.sortingAndFiltering},null,8,we)]),(0,o._)("div",Ce,[(0,o._)("div",Ee,[(0,o._)("button",{class:"panel-button float-left",onClick:t[0]||(t[0]=e=>l.sort(1))},[Se,(0,o._)("span",{innerHTML:r.localizedLabel.sortAscending},null,8,xe)]),(0,o._)("button",{class:"panel-button float-right",onClick:t[1]||(t[1]=e=>l.sort(-1))},[Te,(0,o._)("span",{innerHTML:r.localizedLabel.sortDescending},null,8,ke)])]),(0,o._)("div",_e,[(0,o._)("div",null,[(0,o._)("button",{class:"panel-input-button",onClick:t[2]||(t[2]=e=>s.showDropdown=!s.showDropdown)},(0,i.zw)(l.symbol),1),(0,o._)("div",{class:(0,i.C_)([{show:s.showDropdown},"panel-dropdown"])},[(0,o._)("div",{class:"panel-dropdown-item",onClick:t[3]||(t[3]=(0,n.iM)((e=>l.setFilterCondition("")),["prevent"]))},[(0,o._)("span",{innerHTML:r.localizedLabel.near},null,8,Re)]),(0,o._)("div",{class:"panel-dropdown-item",onClick:t[4]||(t[4]=(0,n.iM)((e=>l.setFilterCondition("=")),["prevent"]))},[(0,o._)("span",{innerHTML:r.localizedLabel.exactMatch},null,8,Oe)]),(0,o._)("div",{class:"panel-dropdown-item",onClick:t[5]||(t[5]=(0,n.iM)((e=>l.setFilterCondition("<>")),["prevent"]))},[(0,o._)("span",{innerHTML:r.localizedLabel.notMatch},null,8,De)]),(0,o._)("div",{class:"panel-dropdown-item",onClick:t[6]||(t[6]=(0,n.iM)((e=>l.setFilterCondition(">")),["prevent"]))},[(0,o._)("span",{innerHTML:r.localizedLabel.greaterThan},null,8,Ae)]),(0,o._)("div",{class:"panel-dropdown-item",onClick:t[7]||(t[7]=(0,n.iM)((e=>l.setFilterCondition(">=")),["prevent"]))},[(0,o._)("span",{innerHTML:r.localizedLabel.greaterThanOrEqualTo},null,8,Pe)]),(0,o._)("div",{class:"panel-dropdown-item",onClick:t[8]||(t[8]=(0,n.iM)((e=>l.setFilterCondition("<")),["prevent"]))},[(0,o._)("span",{innerHTML:r.localizedLabel.lessThan},null,8,Me)]),(0,o._)("div",{class:"panel-dropdown-item",onClick:t[9]||(t[9]=(0,n.iM)((e=>l.setFilterCondition("<=")),["prevent"]))},[(0,o._)("span",{innerHTML:r.localizedLabel.lessThanOrEqualTo},null,8,Le)]),(0,o._)("div",{class:"panel-dropdown-item",onClick:t[10]||(t[10]=(0,n.iM)((e=>l.setFilterCondition("~")),["prevent"]))},[(0,o._)("span",{innerHTML:r.localizedLabel.regularExpression},null,8,Fe)])],2),(0,o._)("span",Ie,[(0,o._)("input",{type:"text",ref:"inputFilter",class:"panel-input",placeholder:r.localizedLabel.customFilter,trim:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",onKeyup:t[11]||(t[11]=(...e)=>l.doInputFilter&&l.doInputFilter(...e)),onKeydown:t[12]||(t[12]=(0,n.D2)((0,n.iM)(((...e)=>l.doFilter&&l.doFilter(...e)),["exact"]),["enter"]))},null,40,Ne)])])]),(0,o._)("div",null,[(0,o._)("div",He,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.filteredSortedUniqueValueList.slice(0,r.nFilterCount),((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"panel-list-item",onClick:(0,n.iM)((t=>l.filterPanelSelect(e)),["prevent"])},[Ve,(0,o._)("span",null,(0,i.zw)(e),1)],8,Ge)))),128))],512),l.filteredSortedUniqueValueList.length>r.nFilterCount?((0,o.wg)(),(0,o.iD)("div",ze,[(0,o._)("span",{innerHTML:r.localizedLabel.listFirstNValuesOnly(r.nFilterCount)},null,8,Be)])):(0,o.kq)("",!0)])]),(0,o._)("div",je,[(0,o._)("button",{class:"panel-button",onClick:t[13]||(t[13]=(...e)=>l.doFilter&&l.doFilter(...e))},[We,(0,o._)("span",{innerHTML:r.localizedLabel.apply},null,8,Ue)])])],512)],544)),[[n.F8,s.show]])}var Ke={props:{nFilterCount:{type:Number,default:1e3},localizedLabel:{type:Object,default(){return{sortingAndFiltering:"Sorting And Filtering",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",near:"≒ Near",exactMatch:"= Exact Match",notMatch:"≠ Not Match",greaterThan:"&gt; Greater Than",greaterThanOrEqualTo:"≥ Greater Than or Equal To",lessThan:"&lt; Less Than",lessThanOrEqualTo:"≤ Less Than Or Equal To",regularExpression:"~ Regular Expression",customFilter:"Custom Filter",listFirstNValuesOnly:e=>`List first ${e} values only`,apply:"Apply"}}}},data(){return{show:!1,showDropdown:!1,processing:!1,columnFilterRef:null,inputFilter:"",inputFilterCondition:"",sortedUniqueValueList:[]}},computed:{filteredSortedUniqueValueList(){const e=this.inputFilter.toUpperCase();return this.sortedUniqueValueList.filter((t=>t.toUpperCase().startsWith(e)))},symbol(){switch(this.inputFilterCondition){case"":return"≒";case"<=":return"≤";case">=":return"≥";case"<>":return"≠";default:return this.inputFilterCondition}}},methods:{clickOutside(e){"panelModal"===e.target.id&&this.hidePanel()},sort(e){this.hidePanel(),this.$parent.sort(e,this.columnFilterRef.colPos)},setFilterCondition(e){this.showDropdown=!1,this.inputFilterCondition=e,this.$refs.inputFilter.focus()},freezePanelSizeAfterShown(){const e=this.$refs.panelList,t=e.getBoundingClientRect();e.setAttribute("style",`width:${t.width}px; height:${t.height}px;`)},removePanelSizeAfterHide(){const e=this.$refs.panelList;e.removeAttribute("style")},doInputFilter(){window.delay&&clearTimeout(window.delay),window.delay=setTimeout((()=>{this.inputFilter=this.$refs.inputFilter.modelValue}),200)},doFilter(){const e=this.inputFilterCondition+this.$refs.inputFilter.modelValue;this.columnFilterRef.$el.textContent=e,this.columnFilterRef.$emit("update:modelValue",e),this.hidePanel()},filterPanelSelect(e){this.columnFilterRef.$el.textContent="="+e,this.columnFilterRef.$emit("update:modelValue","="+e),this.hidePanel()},showPanel(e){this.columnFilterRef=e,this.inputFilter="",this.inputFilterCondition="",this.sortedUniqueValueList=[],this.$refs.inputFilter.modelValue="",""!=this.columnFilterRef.$el.textContent&&(this.columnFilterRef.$el.textContent="",this.columnFilterRef.$emit("update:modelValue",""),this.$parent.calTable()),setTimeout((()=>{this.show=!0,setTimeout((()=>this.$refs.inputFilter.focus()));const t={},r=this.$parent.fields[e.colPos].name;this.$parent.table.forEach((e=>t[e[r]]=!0));const o=Object.keys(t);o.sort(),o.length>0&&""===o[0]&&(o[0]=" "),this.sortedUniqueValueList=o,setTimeout((()=>this.freezePanelSizeAfterShown()))}))},hidePanel(){this.show=!1,this.removePanelSizeAfterHide(),setTimeout((()=>{this.sortedUniqueValueList=[]}),0)}}};const Ye=(0,pe.Z)(Ke,[["render",$e],["__scopeId","data-v-0b56781a"]]);var qe=Ye;const Xe=e=>((0,o.dD)("data-v-6071902c"),e=e(),(0,o.Cn)(),e),Je={ref:"panelSetting",class:"panel-body"},Qe={class:"panel-title"},Ze=Xe((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-bars fa-w-14 fa-1x"},[(0,o._)("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z",class:""})],-1))),et=["innerHTML"],tt={class:"panel-content"},rt={class:"panel-action"},ot=Xe((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"file-excel",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-file-excel fa-w-12"},[(0,o._)("path",{fill:"currentColor",d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z",class:""})],-1))),it=["innerHTML"],nt=Xe((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"file-csv",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-file-csv fa-w-12"},[(0,o._)("path",{fill:"currentColor",d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z",class:""})],-1))),at=["innerHTML"],st={ref:"panelList",class:"panel-list"},lt=["onClick"],ct=["onUpdate:modelValue"],ut={class:"panel-footer"},dt=Xe((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"save",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"svg-inline--fa fa-save fa-w-14 fa-fw fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",class:""})],-1))),ht=["innerHTML"],pt=Xe((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-in-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-sign-in-alt fa-w-16 fa-fw fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z",class:""})],-1))),ft=["innerHTML"];function gt(e,t,r,a,s,l){const c=(0,o.up)("draggable");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{id:"panelModal",class:"panel-modal",onClick:t[5]||(t[5]=(...e)=>l.clickOutside&&l.clickOutside(...e)),onKeydown:t[6]||(t[6]=(0,n.D2)((0,n.iM)(((...e)=>l.hidePanel&&l.hidePanel(...e)),["exact"]),["esc"]))},[(0,o._)("div",Je,[(0,o._)("div",Qe,[Ze,(0,o._)("span",{innerHTML:r.localizedLabel.tableSetting},null,8,et)]),(0,o._)("div",tt,[(0,o._)("div",rt,[(0,o._)("button",{class:"panel-button float-left no-margin",onClick:t[0]||(t[0]=e=>l.exportTable("excel"))},[ot,(0,o._)("span",{innerHTML:r.localizedLabel.exportExcel},null,8,it)]),(0,o._)("button",{class:"panel-button float-right no-margin",onClick:t[1]||(t[1]=(...e)=>l.importTable&&l.importTable(...e))},[nt,(0,o._)("span",{innerHTML:r.localizedLabel.importExcel},null,8,at)])]),(0,o._)("div",null,[(0,o._)("div",st,[(0,o.Wm)(c,{modelValue:l.fields,"onUpdate:modelValue":t[2]||(t[2]=e=>l.fields=e),draggable:".panel-list-item","item-key":"fields"},{item:(0,o.w5)((({element:e})=>[(0,o._)("div",{class:"panel-list-item",onClick:(0,n.iM)((t=>l.columnLabelClick(t,e)),["prevent"])},[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.invisible=t,class:"panel-checkbox","true-value":!1,"false-value":!0},null,8,ct),[[n.e8,e.invisible]]),(0,o._)("span",null,(0,i.zw)(e.label),1)],8,lt)])),_:1},8,["modelValue"])],512)])]),(0,o._)("div",ut,[(0,o._)("button",{ref:"button",class:"panel-button",onClick:t[3]||(t[3]=(...e)=>l.reset&&l.reset(...e))},[dt,(0,o._)("span",{innerHTML:r.localizedLabel.reset},null,8,ht)],512),(0,o._)("button",{ref:"button",class:"panel-button",onClick:t[4]||(t[4]=(...e)=>l.hidePanel&&l.hidePanel(...e))},[pt,(0,o._)("span",{innerHTML:r.localizedLabel.back},null,8,ft)],512)])],512)],544)),[[n.F8,s.show]])}
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e){return bt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wt(){return wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},wt.apply(this,arguments)}function Ct(e,t){if(null==e)return{};var r,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(i[r]=e[r]);return i}function Et(e,t){if(null==e)return{};var r,o,i=Ct(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var St="1.14.0";function xt(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Tt=xt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),kt=xt(/Edge/i),_t=xt(/firefox/i),Rt=xt(/safari/i)&&!xt(/chrome/i)&&!xt(/android/i),Ot=xt(/iP(ad|od|hone)/i),Dt=xt(/chrome/i)&&xt(/android/i),At={capture:!1,passive:!1};function Pt(e,t,r){e.addEventListener(t,r,!Tt&&At)}function Mt(e,t,r){e.removeEventListener(t,r,!Tt&&At)}function Lt(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(r){return!1}return!1}}function Ft(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function It(e,t,r,o){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&Lt(e,t):Lt(e,t))||o&&e===r)return e;if(e===r)break}while(e=Ft(e))}return null}var Nt,Ht=/\s+/g;function Gt(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Ht," ").replace(" "+t+" "," ");e.className=(o+(r?" "+t:"")).replace(Ht," ")}}function Vt(e,t,r){var o=e&&e.style;if(o){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),void 0===t?r:r[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=r+("string"===typeof r?"":"px")}}function zt(e,t){var r="";if("string"===typeof e)r=e;else do{var o=Vt(e,"transform");o&&"none"!==o&&(r=o+" "+r)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function Bt(e,t,r){if(e){var o=e.getElementsByTagName(t),i=0,n=o.length;if(r)for(;i<n;i++)r(o[i],i);return o}return[]}function jt(){var e=document.scrollingElement;return e||document.documentElement}function Wt(e,t,r,o,i){if(e.getBoundingClientRect||e===window){var n,a,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==jt()?(n=e.getBoundingClientRect(),a=n.top,s=n.left,l=n.bottom,c=n.right,u=n.height,d=n.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||r)&&e!==window&&(i=i||e.parentNode,!Tt))do{if(i&&i.getBoundingClientRect&&("none"!==Vt(i,"transform")||r&&"static"!==Vt(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(Vt(i,"border-top-width")),s-=h.left+parseInt(Vt(i,"border-left-width")),l=a+n.height,c=s+n.width;break}}while(i=i.parentNode);if(o&&e!==window){var p=zt(i||e),f=p&&p.a,g=p&&p.d;p&&(a/=g,s/=f,d/=f,u/=g,l=a+u,c=s+d)}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function Ut(e,t,r){var o=Jt(e,!0),i=Wt(e)[t];while(o){var n=Wt(o)[r],a=void 0;if(a="top"===r||"left"===r?i>=n:i<=n,!a)return o;if(o===jt())break;o=Jt(o,!1)}return!1}function $t(e,t,r,o){var i=0,n=0,a=e.children;while(n<a.length){if("none"!==a[n].style.display&&a[n]!==so.ghost&&(o||a[n]!==so.dragged)&&It(a[n],r.draggable,e,!1)){if(i===t)return a[n];i++}n++}return null}function Kt(e,t){var r=e.lastElementChild;while(r&&(r===so.ghost||"none"===Vt(r,"display")||t&&!Lt(r,t)))r=r.previousElementSibling;return r||null}function Yt(e,t){var r=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===so.clone||t&&!Lt(e,t)||r++;return r}function qt(e){var t=0,r=0,o=jt();if(e)do{var i=zt(e),n=i.a,a=i.d;t+=e.scrollLeft*n,r+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,r]}function Xt(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[r][o])return Number(r);return-1}function Jt(e,t){if(!e||!e.getBoundingClientRect)return jt();var r=e,o=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=Vt(r);if(r.clientWidth<r.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!r.getBoundingClientRect||r===document.body)return jt();if(o||t)return r;o=!0}}}while(r=r.parentNode);return jt()}function Qt(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Zt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function er(e,t){return function(){if(!Nt){var r=arguments,o=this;1===r.length?e.call(o,r[0]):e.apply(o,r),Nt=setTimeout((function(){Nt=void 0}),t)}}}function tr(){clearTimeout(Nt),Nt=void 0}function rr(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function or(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}var ir="Sortable"+(new Date).getTime();function nr(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==Vt(e,"display")&&e!==so.ghost){t.push({target:e,rect:Wt(e)});var r=mt({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=zt(e,!0);o&&(r.top-=o.f,r.left-=o.e)}e.fromRect=r}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(Xt(t,{target:e}),1)},animateAll:function(r){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof r&&r());var i=!1,n=0;t.forEach((function(e){var t=0,r=e.target,a=r.fromRect,s=Wt(r),l=r.prevFromRect,c=r.prevToRect,u=e.rect,d=zt(r,!0);d&&(s.top-=d.f,s.left-=d.e),r.toRect=s,r.thisAnimationDuration&&Zt(l,s)&&!Zt(a,s)&&(u.top-s.top)/(u.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=sr(u,l,c,o.options)),Zt(s,a)||(r.prevFromRect=a,r.prevToRect=s,t||(t=o.options.animation),o.animate(r,u,s,t)),t&&(i=!0,n=Math.max(n,t),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),t),r.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof r&&r()}),n):"function"===typeof r&&r(),t=[]},animate:function(e,t,r,o){if(o){Vt(e,"transition",""),Vt(e,"transform","");var i=zt(this.el),n=i&&i.a,a=i&&i.d,s=(t.left-r.left)/(n||1),l=(t.top-r.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,Vt(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=ar(e),Vt(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Vt(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Vt(e,"transition",""),Vt(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}function ar(e){return e.offsetWidth}function sr(e,t,r,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*o.animation}var lr=[],cr={initializeByDefault:!0},ur={mount:function(e){for(var t in cr)cr.hasOwnProperty(t)&&!(t in e)&&(e[t]=cr[t]);lr.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),lr.push(e)},pluginEvent:function(e,t,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=e+"Global";lr.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][i]&&t[o.pluginName][i](mt({sortable:t},r)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](mt({sortable:t},r)))}))},initializePlugins:function(e,t,r,o){for(var i in lr.forEach((function(o){var i=o.pluginName;if(e.options[i]||o.initializeByDefault){var n=new o(e,t,e.options);n.sortable=e,n.options=e.options,e[i]=n,wt(r,n.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var n=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof n&&(e.options[i]=n)}},getEventProperties:function(e,t){var r={};return lr.forEach((function(o){"function"===typeof o.eventProperties&&wt(r,o.eventProperties.call(t[o.pluginName],e))})),r},modifyOption:function(e,t,r){var o;return lr.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(o=i.optionListeners[t].call(e[i.pluginName],r))})),o}};function dr(e){var t=e.sortable,r=e.rootEl,o=e.name,i=e.targetEl,n=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||r&&r[ir],t){var g,v=t.options,m="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||Tt||kt?(g=document.createEvent("Event"),g.initEvent(o,!0,!0)):g=new CustomEvent(o,{bubbles:!0,cancelable:!0}),g.to=a||r,g.from=s||r,g.item=i||r,g.clone=n,g.oldIndex=l,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=p?p.lastPutMode:void 0;var b=mt(mt({},f),ur.getEventProperties(o,t));for(var y in b)g[y]=b[y];r&&r.dispatchEvent(g),v[m]&&v[m].call(t,g)}}var hr=["evt"],pr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.evt,i=Et(r,hr);ur.pluginEvent.bind(so)(e,t,mt({dragEl:gr,parentEl:vr,ghostEl:mr,rootEl:br,nextEl:yr,lastDownEl:wr,cloneEl:Cr,cloneHidden:Er,dragStarted:Fr,putSortable:Rr,activeSortable:so.active,originalEvent:o,oldIndex:Sr,oldDraggableIndex:Tr,newIndex:xr,newDraggableIndex:kr,hideGhostForTarget:oo,unhideGhostForTarget:io,cloneNowHidden:function(){Er=!0},cloneNowShown:function(){Er=!1},dispatchSortableEvent:function(e){fr({sortable:t,name:e,originalEvent:o})}},i))};function fr(e){dr(mt({putSortable:Rr,cloneEl:Cr,targetEl:gr,rootEl:br,oldIndex:Sr,oldDraggableIndex:Tr,newIndex:xr,newDraggableIndex:kr},e))}var gr,vr,mr,br,yr,wr,Cr,Er,Sr,xr,Tr,kr,_r,Rr,Or,Dr,Ar,Pr,Mr,Lr,Fr,Ir,Nr,Hr,Gr,Vr=!1,zr=!1,Br=[],jr=!1,Wr=!1,Ur=[],$r=!1,Kr=[],Yr="undefined"!==typeof document,qr=Ot,Xr=kt||Tt?"cssFloat":"float",Jr=Yr&&!Dt&&!Ot&&"draggable"in document.createElement("div"),Qr=function(){if(Yr){if(Tt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Zr=function(e,t){var r=Vt(e),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=$t(e,0,t),n=$t(e,1,t),a=i&&Vt(i),s=n&&Vt(n),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Wt(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Wt(n).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a["float"]&&"none"!==a["float"]){var u="left"===a["float"]?"left":"right";return!n||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=o&&"none"===r[Xr]||n&&"none"===r[Xr]&&l+c>o)?"vertical":"horizontal"},eo=function(e,t,r){var o=r?e.left:e.top,i=r?e.right:e.bottom,n=r?e.width:e.height,a=r?t.left:t.top,s=r?t.right:t.bottom,l=r?t.width:t.height;return o===a||i===s||o+n/2===a+l/2},to=function(e,t){var r;return Br.some((function(o){var i=o[ir].options.emptyInsertThreshold;if(i&&!Kt(o)){var n=Wt(o),a=e>=n.left-i&&e<=n.right+i,s=t>=n.top-i&&t<=n.bottom+i;return a&&s?r=o:void 0}})),r},ro=function(e){function t(e,r){return function(o,i,n,a){var s=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==e&&(r||s))return!0;if(null==e||!1===e)return!1;if(r&&"clone"===e)return e;if("function"===typeof e)return t(e(o,i,n,a),r)(o,i,n,a);var l=(r?o:i).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var r={},o=e.group;o&&"object"==bt(o)||(o={name:o}),r.name=o.name,r.checkPull=t(o.pull,!0),r.checkPut=t(o.put),r.revertClone=o.revertClone,e.group=r},oo=function(){!Qr&&mr&&Vt(mr,"display","none")},io=function(){!Qr&&mr&&Vt(mr,"display","")};Yr&&document.addEventListener("click",(function(e){if(zr)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),zr=!1,!1}),!0);var no=function(e){if(gr){e=e.touches?e.touches[0]:e;var t=to(e.clientX,e.clientY);if(t){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[ir]._onDragOver(r)}}},ao=function(e){gr&&gr.parentNode[ir]._isOutsideThisEl(e.target)};function so(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=wt({},t),e[ir]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Zr(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==so.supportPointer&&"PointerEvent"in window&&!Rt,emptyInsertThreshold:5};for(var o in ur.initializePlugins(this,e,r),r)!(o in t)&&(t[o]=r[o]);for(var i in ro(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Jr,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Pt(e,"pointerdown",this._onTapStart):(Pt(e,"mousedown",this._onTapStart),Pt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Pt(e,"dragover",this),Pt(e,"dragenter",this)),Br.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),wt(this,nr())}function lo(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function co(e,t,r,o,i,n,a,s){var l,c,u=e[ir],d=u.options.onMove;return!window.CustomEvent||Tt||kt?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=r,l.draggedRect=o,l.related=i||t,l.relatedRect=n||Wt(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function uo(e){e.draggable=!1}function ho(){$r=!1}function po(e,t,r){var o=Wt($t(r.el,0,r.options,!0)),i=10;return t?e.clientX<o.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-i||e.clientY<o.bottom&&e.clientX<o.left}function fo(e,t,r){var o=Wt(Kt(r.el,r.options.draggable)),i=10;return t?e.clientX>o.right+i||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+i}function go(e,t,r,o,i,n,a,s){var l=o?e.clientY:e.clientX,c=o?r.height:r.width,u=o?r.top:r.left,d=o?r.bottom:r.right,h=!1;if(!a)if(s&&Hr<c*i){if(!jr&&(1===Nr?l>u+c*n/2:l<d-c*n/2)&&(jr=!0),jr)h=!0;else if(1===Nr?l<u+Hr:l>d-Hr)return-Nr}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return vo(t);return h=h||a,h&&(l<u+c*n/2||l>d-c*n/2)?l>u+c/2?1:-1:0}function vo(e){return Yt(gr)<Yt(e)?1:-1}function mo(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,o=0;while(r--)o+=t.charCodeAt(r);return o.toString(36)}function bo(e){Kr.length=0;var t=e.getElementsByTagName("input"),r=t.length;while(r--){var o=t[r];o.checked&&Kr.push(o)}}function yo(e){return setTimeout(e,0)}function wo(e){return clearTimeout(e)}so.prototype={constructor:so,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Ir=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,gr):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,o=this.options,i=o.preventOnFilter,n=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=o.filter;if(bo(r),!gr&&!(/mousedown|pointerdown/.test(n)&&0!==e.button||o.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Rt||!s||"SELECT"!==s.tagName.toUpperCase())&&(s=It(s,o.draggable,r,!1),(!s||!s.animated)&&wr!==s)){if(Sr=Yt(s),Tr=Yt(s,o.draggable),"function"===typeof c){if(c.call(this,e,s,this))return fr({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:r,fromEl:r}),pr("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=It(l,o.trim(),r,!1),o)return fr({sortable:t,rootEl:o,name:"filter",targetEl:s,fromEl:r,toEl:r}),pr("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());o.handle&&!It(l,o.handle,r,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,r){var o,i=this,n=i.el,a=i.options,s=n.ownerDocument;if(r&&!gr&&r.parentNode===n){var l=Wt(r);if(br=n,gr=r,vr=gr.parentNode,yr=gr.nextSibling,wr=r,_r=a.group,so.dragged=gr,Or={target:gr,clientX:(t||e).clientX,clientY:(t||e).clientY},Mr=Or.clientX-l.left,Lr=Or.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,gr.style["will-change"]="all",o=function(){pr("delayEnded",i,{evt:e}),so.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!_t&&i.nativeDraggable&&(gr.draggable=!0),i._triggerDragStart(e,t),fr({sortable:i,name:"choose",originalEvent:e}),Gt(gr,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){Bt(gr,e.trim(),uo)})),Pt(s,"dragover",no),Pt(s,"mousemove",no),Pt(s,"touchmove",no),Pt(s,"mouseup",i._onDrop),Pt(s,"touchend",i._onDrop),Pt(s,"touchcancel",i._onDrop),_t&&this.nativeDraggable&&(this.options.touchStartThreshold=4,gr.draggable=!0),pr("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(kt||Tt))o();else{if(so.eventCanceled)return void this._onDrop();Pt(s,"mouseup",i._disableDelayedDrag),Pt(s,"touchend",i._disableDelayedDrag),Pt(s,"touchcancel",i._disableDelayedDrag),Pt(s,"mousemove",i._delayedDragTouchMoveHandler),Pt(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&Pt(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){gr&&uo(gr),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Mt(e,"mouseup",this._disableDelayedDrag),Mt(e,"touchend",this._disableDelayedDrag),Mt(e,"touchcancel",this._disableDelayedDrag),Mt(e,"mousemove",this._delayedDragTouchMoveHandler),Mt(e,"touchmove",this._delayedDragTouchMoveHandler),Mt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Pt(document,"pointermove",this._onTouchMove):Pt(document,t?"touchmove":"mousemove",this._onTouchMove):(Pt(gr,"dragend",this),Pt(br,"dragstart",this._onDragStart));try{document.selection?yo((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(e,t){if(Vr=!1,br&&gr){pr("dragStarted",this,{evt:t}),this.nativeDraggable&&Pt(document,"dragover",ao);var r=this.options;!e&&Gt(gr,r.dragClass,!1),Gt(gr,r.ghostClass,!0),so.active=this,e&&this._appendGhost(),fr({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Dr){this._lastX=Dr.clientX,this._lastY=Dr.clientY,oo();var e=document.elementFromPoint(Dr.clientX,Dr.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(Dr.clientX,Dr.clientY),e===t)break;t=e}if(gr.parentNode[ir]._isOutsideThisEl(e),t)do{if(t[ir]){var r=void 0;if(r=t[ir]._onDragOver({clientX:Dr.clientX,clientY:Dr.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);io()}},_onTouchMove:function(e){if(Or){var t=this.options,r=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,n=mr&&zt(mr,!0),a=mr&&n&&n.a,s=mr&&n&&n.d,l=qr&&Gr&&qt(Gr),c=(i.clientX-Or.clientX+o.x)/(a||1)+(l?l[0]-Ur[0]:0)/(a||1),u=(i.clientY-Or.clientY+o.y)/(s||1)+(l?l[1]-Ur[1]:0)/(s||1);if(!so.active&&!Vr){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(mr){n?(n.e+=c-(Ar||0),n.f+=u-(Pr||0)):n={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");Vt(mr,"webkitTransform",d),Vt(mr,"mozTransform",d),Vt(mr,"msTransform",d),Vt(mr,"transform",d),Ar=c,Pr=u,Dr=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!mr){var e=this.options.fallbackOnBody?document.body:br,t=Wt(gr,!0,qr,!0,e),r=this.options;if(qr){Gr=e;while("static"===Vt(Gr,"position")&&"none"===Vt(Gr,"transform")&&Gr!==document)Gr=Gr.parentNode;Gr!==document.body&&Gr!==document.documentElement?(Gr===document&&(Gr=jt()),t.top+=Gr.scrollTop,t.left+=Gr.scrollLeft):Gr=jt(),Ur=qt(Gr)}mr=gr.cloneNode(!0),Gt(mr,r.ghostClass,!1),Gt(mr,r.fallbackClass,!0),Gt(mr,r.dragClass,!0),Vt(mr,"transition",""),Vt(mr,"transform",""),Vt(mr,"box-sizing","border-box"),Vt(mr,"margin",0),Vt(mr,"top",t.top),Vt(mr,"left",t.left),Vt(mr,"width",t.width),Vt(mr,"height",t.height),Vt(mr,"opacity","0.8"),Vt(mr,"position",qr?"absolute":"fixed"),Vt(mr,"zIndex","100000"),Vt(mr,"pointerEvents","none"),so.ghost=mr,e.appendChild(mr),Vt(mr,"transform-origin",Mr/parseInt(mr.style.width)*100+"% "+Lr/parseInt(mr.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,o=e.dataTransfer,i=r.options;pr("dragStart",this,{evt:e}),so.eventCanceled?this._onDrop():(pr("setupClone",this),so.eventCanceled||(Cr=or(gr),Cr.draggable=!1,Cr.style["will-change"]="",this._hideClone(),Gt(Cr,this.options.chosenClass,!1),so.clone=Cr),r.cloneId=yo((function(){pr("clone",r),so.eventCanceled||(r.options.removeCloneOnHide||br.insertBefore(Cr,gr),r._hideClone(),fr({sortable:r,name:"clone"}))})),!t&&Gt(gr,i.dragClass,!0),t?(zr=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Mt(document,"mouseup",r._onDrop),Mt(document,"touchend",r._onDrop),Mt(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(r,o,gr)),Pt(document,"drop",r),Vt(gr,"transform","translateZ(0)")),Vr=!0,r._dragStartId=yo(r._dragStarted.bind(r,t,e)),Pt(document,"selectstart",r),Fr=!0,Rt&&Vt(document.body,"user-select","none"))},_onDragOver:function(e){var t,r,o,i,n=this.el,a=e.target,s=this.options,l=s.group,c=so.active,u=_r===l,d=s.sort,h=Rr||c,p=this,f=!1;if(!$r){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=It(a,s.draggable,n,!0),O("dragOver"),so.eventCanceled)return f;if(gr.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return A(!1);if(zr=!1,c&&!s.disabled&&(u?d||(o=vr!==br):Rr===this||(this.lastPutMode=_r.checkPull(this,c,gr,e))&&l.checkPut(this,c,gr,e))){if(i="vertical"===this._getDirection(e,a),t=Wt(gr),O("dragOverValid"),so.eventCanceled)return f;if(o)return vr=br,D(),this._hideClone(),O("revert"),so.eventCanceled||(yr?br.insertBefore(gr,yr):br.appendChild(gr)),A(!0);var g=Kt(n,s.draggable);if(!g||fo(e,i,this)&&!g.animated){if(g===gr)return A(!1);if(g&&n===e.target&&(a=g),a&&(r=Wt(a)),!1!==co(br,n,gr,t,a,r,e,!!a))return D(),n.appendChild(gr),vr=n,P(),A(!0)}else if(g&&po(e,i,this)){var v=$t(n,0,s,!0);if(v===gr)return A(!1);if(a=v,r=Wt(a),!1!==co(br,n,gr,t,a,r,e,!1))return D(),n.insertBefore(gr,v),vr=n,P(),A(!0)}else if(a.parentNode===n){r=Wt(a);var m,b,y=0,w=gr.parentNode!==n,C=!eo(gr.animated&&gr.toRect||t,a.animated&&a.toRect||r,i),E=i?"top":"left",S=Ut(a,"top","top")||Ut(gr,"top","top"),x=S?S.scrollTop:void 0;if(Ir!==a&&(m=r[E],jr=!1,Wr=!C&&s.invertSwap||w),y=go(e,a,r,i,C?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Wr,Ir===a),0!==y){var T=Yt(gr);do{T-=y,b=vr.children[T]}while(b&&("none"===Vt(b,"display")||b===mr))}if(0===y||b===a)return A(!1);Ir=a,Nr=y;var k=a.nextElementSibling,_=!1;_=1===y;var R=co(br,n,gr,t,a,r,e,_);if(!1!==R)return 1!==R&&-1!==R||(_=1===R),$r=!0,setTimeout(ho,30),D(),_&&!k?n.appendChild(gr):a.parentNode.insertBefore(gr,_?k:a),S&&rr(S,0,x-S.scrollTop),vr=gr.parentNode,void 0===m||Wr||(Hr=Math.abs(m-Wt(a)[E])),P(),A(!0)}if(n.contains(gr))return A(!1)}return!1}function O(s,l){pr(s,p,mt({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:o,dragRect:t,targetRect:r,canSort:d,fromSortable:h,target:a,completed:A,onMove:function(r,o){return co(br,n,gr,t,r,Wt(r),e,o)},changed:P},l))}function D(){O("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function A(t){return O("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==h&&(Gt(gr,Rr?Rr.options.ghostClass:c.options.ghostClass,!1),Gt(gr,s.ghostClass,!0)),Rr!==p&&p!==so.active?Rr=p:p===so.active&&Rr&&(Rr=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){O("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===gr&&!gr.animated||a===n&&!a.animated)&&(Ir=null),s.dragoverBubble||e.rootEl||a===document||(gr.parentNode[ir]._isOutsideThisEl(e.target),!t&&no(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function P(){xr=Yt(gr),kr=Yt(gr,s.draggable),fr({sortable:p,name:"change",toEl:n,newIndex:xr,newDraggableIndex:kr,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Mt(document,"mousemove",this._onTouchMove),Mt(document,"touchmove",this._onTouchMove),Mt(document,"pointermove",this._onTouchMove),Mt(document,"dragover",no),Mt(document,"mousemove",no),Mt(document,"touchmove",no)},_offUpEvents:function(){var e=this.el.ownerDocument;Mt(e,"mouseup",this._onDrop),Mt(e,"touchend",this._onDrop),Mt(e,"pointerup",this._onDrop),Mt(e,"touchcancel",this._onDrop),Mt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;xr=Yt(gr),kr=Yt(gr,r.draggable),pr("drop",this,{evt:e}),vr=gr&&gr.parentNode,xr=Yt(gr),kr=Yt(gr,r.draggable),so.eventCanceled||(Vr=!1,Wr=!1,jr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),wo(this.cloneId),wo(this._dragStartId),this.nativeDraggable&&(Mt(document,"drop",this),Mt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Rt&&Vt(document.body,"user-select",""),Vt(gr,"transform",""),e&&(Fr&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),mr&&mr.parentNode&&mr.parentNode.removeChild(mr),(br===vr||Rr&&"clone"!==Rr.lastPutMode)&&Cr&&Cr.parentNode&&Cr.parentNode.removeChild(Cr),gr&&(this.nativeDraggable&&Mt(gr,"dragend",this),uo(gr),gr.style["will-change"]="",Fr&&!Vr&&Gt(gr,Rr?Rr.options.ghostClass:this.options.ghostClass,!1),Gt(gr,this.options.chosenClass,!1),fr({sortable:this,name:"unchoose",toEl:vr,newIndex:null,newDraggableIndex:null,originalEvent:e}),br!==vr?(xr>=0&&(fr({rootEl:vr,name:"add",toEl:vr,fromEl:br,originalEvent:e}),fr({sortable:this,name:"remove",toEl:vr,originalEvent:e}),fr({rootEl:vr,name:"sort",toEl:vr,fromEl:br,originalEvent:e}),fr({sortable:this,name:"sort",toEl:vr,originalEvent:e})),Rr&&Rr.save()):xr!==Sr&&xr>=0&&(fr({sortable:this,name:"update",toEl:vr,originalEvent:e}),fr({sortable:this,name:"sort",toEl:vr,originalEvent:e})),so.active&&(null!=xr&&-1!==xr||(xr=Sr,kr=Tr),fr({sortable:this,name:"end",toEl:vr,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){pr("nulling",this),br=gr=vr=mr=yr=Cr=wr=Er=Or=Dr=Fr=xr=kr=Sr=Tr=Ir=Nr=Rr=_r=so.dragged=so.ghost=so.clone=so.active=null,Kr.forEach((function(e){e.checked=!0})),Kr.length=Ar=Pr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":gr&&(this._onDragOver(e),lo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],r=this.el.children,o=0,i=r.length,n=this.options;o<i;o++)e=r[o],It(e,n.draggable,this.el,!1)&&t.push(e.getAttribute(n.dataIdAttr)||mo(e));return t},sort:function(e,t){var r={},o=this.el;this.toArray().forEach((function(e,t){var i=o.children[t];It(i,this.options.draggable,o,!1)&&(r[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){r[e]&&(o.removeChild(r[e]),o.appendChild(r[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return It(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(void 0===t)return r[e];var o=ur.modifyOption(this,e,t);r[e]="undefined"!==typeof o?o:t,"group"===e&&ro(r)},destroy:function(){pr("destroy",this);var e=this.el;e[ir]=null,Mt(e,"mousedown",this._onTapStart),Mt(e,"touchstart",this._onTapStart),Mt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Mt(e,"dragover",this),Mt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Br.splice(Br.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Er){if(pr("hideClone",this),so.eventCanceled)return;Vt(Cr,"display","none"),this.options.removeCloneOnHide&&Cr.parentNode&&Cr.parentNode.removeChild(Cr),Er=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Er){if(pr("showClone",this),so.eventCanceled)return;gr.parentNode!=br||this.options.group.revertClone?yr?br.insertBefore(Cr,yr):br.appendChild(Cr):br.insertBefore(Cr,gr),this.options.group.revertClone&&this.animate(gr,Cr),Vt(Cr,"display",""),Er=!1}}else this._hideClone()}},Yr&&Pt(document,"touchmove",(function(e){(so.active||Vr)&&e.cancelable&&e.preventDefault()})),so.utils={on:Pt,off:Mt,css:Vt,find:Bt,is:function(e,t){return!!It(e,t,e,!1)},extend:Qt,throttle:er,closest:It,toggleClass:Gt,clone:or,index:Yt,nextTick:yo,cancelNextTick:wo,detectDirection:Zr,getChild:$t},so.get=function(e){return e[ir]},so.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(so.utils=mt(mt({},so.utils),e.utils)),ur.mount(e)}))},so.create=function(e,t){return new so(e,t)},so.version=St;var Co,Eo,So,xo,To,ko,_o=[],Ro=!1;function Oo(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Pt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Pt(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Pt(document,"touchmove",this._handleFallbackAutoScroll):Pt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Mt(document,"dragover",this._handleAutoScroll):(Mt(document,"pointermove",this._handleFallbackAutoScroll),Mt(document,"touchmove",this._handleFallbackAutoScroll),Mt(document,"mousemove",this._handleFallbackAutoScroll)),Ao(),Do(),tr()},nulling:function(){To=Eo=Co=Ro=ko=So=xo=null,_o.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,n=document.elementFromPoint(o,i);if(To=e,t||this.options.forceAutoScrollFallback||kt||Tt||Rt){Po(e,this.options,n,t);var a=Jt(n,!0);!Ro||ko&&o===So&&i===xo||(ko&&Ao(),ko=setInterval((function(){var n=Jt(document.elementFromPoint(o,i),!0);n!==a&&(a=n,Do()),Po(e,r.options,n,t)}),10),So=o,xo=i)}else{if(!this.options.bubbleScroll||Jt(n,!0)===jt())return void Do();Po(e,this.options,Jt(n,!1),!1)}}},wt(e,{pluginName:"scroll",initializeByDefault:!0})}function Do(){_o.forEach((function(e){clearInterval(e.pid)})),_o=[]}function Ao(){clearInterval(ko)}var Po=er((function(e,t,r,o){if(t.scroll){var i,n=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=jt(),u=!1;Eo!==r&&(Eo=r,Do(),Co=t.scroll,i=t.scrollFn,!0===Co&&(Co=Jt(r,!0)));var d=0,h=Co;do{var p=h,f=Wt(p),g=f.top,v=f.bottom,m=f.left,b=f.right,y=f.width,w=f.height,C=void 0,E=void 0,S=p.scrollWidth,x=p.scrollHeight,T=Vt(p),k=p.scrollLeft,_=p.scrollTop;p===c?(C=y<S&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),E=w<x&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(C=y<S&&("auto"===T.overflowX||"scroll"===T.overflowX),E=w<x&&("auto"===T.overflowY||"scroll"===T.overflowY));var R=C&&(Math.abs(b-n)<=s&&k+y<S)-(Math.abs(m-n)<=s&&!!k),O=E&&(Math.abs(v-a)<=s&&_+w<x)-(Math.abs(g-a)<=s&&!!_);if(!_o[d])for(var D=0;D<=d;D++)_o[D]||(_o[D]={});_o[d].vx==R&&_o[d].vy==O&&_o[d].el===p||(_o[d].el=p,_o[d].vx=R,_o[d].vy=O,clearInterval(_o[d].pid),0==R&&0==O||(u=!0,_o[d].pid=setInterval(function(){o&&0===this.layer&&so.active._onTouchMove(To);var t=_o[this.layer].vy?_o[this.layer].vy*l:0,r=_o[this.layer].vx?_o[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(so.dragged.parentNode[ir],r,t,e,To,_o[this.layer].el)||rr(_o[this.layer].el,r,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=Jt(h,!1)));Ro=u}}),30),Mo=function(e){var t=e.originalEvent,r=e.putSortable,o=e.dragEl,i=e.activeSortable,n=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=r||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(n("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function Lo(){}function Fo(){}Lo.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=$t(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:Mo},wt(Lo,{pluginName:"revertOnSpill"}),Fo.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,o=r||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:Mo},wt(Fo,{pluginName:"removeOnSpill"});so.mount(new Oo),so.mount(Fo,Lo);var Io=so;function No(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function Ho(e,t,r){const o=0===r?e.children[0]:e.children[r-1].nextSibling;e.insertBefore(t,o)}function Go(){return"undefined"!==typeof window?window.console:r.g.console}const Vo=Go();function zo(e){const t=Object.create(null);return function(r){const o=t[r];return o||(t[r]=e(r))}}const Bo=/-(\w)/g,jo=zo((e=>e.replace(Bo,((e,t)=>t.toUpperCase())))),Wo=["Start","Add","Remove","Update","End"],Uo=["Choose","Unchoose","Sort","Filter","Clone"],$o=["Move"],Ko=[$o,Wo,Uo].flatMap((e=>e)).map((e=>`on${e}`)),Yo={manage:$o,manageAndEmit:Wo,emit:Uo};function qo(e){return-1!==Ko.indexOf(e)}const Xo=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Jo(e){return Xo.includes(e)}function Qo(e){return["transition-group","TransitionGroup"].includes(e)}function Zo(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function ei(e){return e.reduce(((e,[t,r])=>(e[t]=r,e)),{})}function ti({$attrs:e,componentData:t={}}){const r=ei(Object.entries(e).filter((([e,t])=>Zo(e))));return{...r,...t}}function ri({$attrs:e,callBackBuilder:t}){const r=ei(oi(e));Object.entries(t).forEach((([e,t])=>{Yo[e].forEach((e=>{r[`on${e}`]=t(e)}))}));const o=`[data-draggable]${r.draggable||""}`;return{...r,draggable:o}}function oi(e){return Object.entries(e).filter((([e,t])=>!Zo(e))).map((([e,t])=>[jo(e),t])).filter((([e,t])=>!qo(e)))}const ii=({el:e})=>e,ni=(e,t)=>e.__draggable_context=t,ai=e=>e.__draggable_context;class si{constructor({nodes:{header:e,default:t,footer:r},root:o,realList:i}){this.defaultNodes=t,this.children=[...e,...t,...r],this.externalComponent=o.externalComponent,this.rootTransition=o.transition,this.tag=o.tag,this.realList=i}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(e,t){const{tag:r,children:o,_isRootComponent:i}=this,n=i?{default:()=>o}:o;return e(r,t,n)}updated(){const{defaultNodes:e,realList:t}=this;e.forEach(((e,r)=>{ni(ii(e),{element:t[r],index:r})}))}getUnderlyingVm(e){return ai(e)}getVmIndexFromDomIndex(e,t){const{defaultNodes:r}=this,{length:o}=r,i=t.children,n=i.item(e);if(null===n)return o;const a=ai(n);if(a)return a.index;if(0===o)return 0;const s=ii(r[0]),l=[...i].findIndex((e=>e===s));return e<l?0:o}}function li(e,t){const r=e[t];return r?r():[]}function ci({$slots:e,realList:t,getKey:r}){const o=t||[],[i,n]=["header","footer"].map((t=>li(e,t))),{item:a}=e;if(!a)throw new Error("draggable element must have an item slot");const s=o.flatMap(((e,t)=>a({element:e,index:t}).map((t=>(t.key=r(e),t.props={...t.props||{},"data-draggable":!0},t)))));if(s.length!==o.length)throw new Error("Item slot must have only one child");return{header:i,footer:n,default:s}}function ui(e){const t=Qo(e),r=!Jo(e)&&!t;return{transition:t,externalComponent:r,tag:r?(0,o.up)(e):t?n.W3:e}}function di({$slots:e,tag:t,realList:r,getKey:o}){const i=ci({$slots:e,realList:r,getKey:o}),n=ui(t);return new si({nodes:i,root:n,realList:r})}function hi(e,t){(0,o.Y3)((()=>this.$emit(e.toLowerCase(),t)))}function pi(e){return(t,r)=>{if(null!==this.realList)return this[`onDrag${e}`](t,r)}}function fi(e){const t=pi.call(this,e);return(r,o)=>{t.call(this,r,o),hi.call(this,e,r)}}let gi=null;const vi={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},mi=["update:modelValue","change",...[...Yo.manageAndEmit,...Yo.emit].map((e=>e.toLowerCase()))],bi=(0,o.aZ)({name:"draggable",inheritAttrs:!1,props:vi,emits:mi,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:e,$attrs:t,tag:r,componentData:i,realList:n,getKey:a}=this,s=di({$slots:e,tag:r,realList:n,getKey:a});this.componentStructure=s;const l=ti({$attrs:t,componentData:i});return s.render(o.h,l)}catch(e){return this.error=!0,(0,o.h)("pre",{style:{color:"red"}},e.stack)}},created(){null!==this.list&&null!==this.modelValue&&Vo.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:e,$el:t,componentStructure:r}=this;r.updated();const o=ri({$attrs:e,callBackBuilder:{manageAndEmit:e=>fi.call(this,e),emit:e=>hi.bind(this,e),manage:e=>pi.call(this,e)}}),i=1===t.nodeType?t:t.parentElement;this._sortable=new Io(i,o),this.targetDomElement=i,i.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList(){const{list:e}=this;return e||this.modelValue},getKey(){const{itemKey:e}=this;return"function"===typeof e?e:t=>t[e]}},watch:{$attrs:{handler(e){const{_sortable:t}=this;t&&oi(e).forEach((([e,r])=>{t.option(e,r)}))},deep:!0}},methods:{getUnderlyingVm(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent(e){return e.__draggable_component__},emitChanges(e){(0,o.Y3)((()=>this.$emit("change",e)))},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=e=>e.splice(...arguments);this.alterList(e)},updatePosition(e,t){const r=r=>r.splice(t,0,r.splice(e,1)[0]);this.alterList(r)},getRelatedContextFromMoveEvent({to:e,related:t}){const r=this.getUnderlyingPotencialDraggableComponent(e);if(!r)return{component:r};const o=r.realList,i={list:o,component:r};if(e!==t&&o){const e=r.getUnderlyingVm(t)||{};return{...e,...i}}return i},getVmIndexFromDomIndex(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),gi=e.item},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;No(e.item);const r=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(r,0,t);const o={element:t,newIndex:r};this.emitChanges({added:o})},onDragRemove(e){if(Ho(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void No(e.clone);const{index:t,element:r}=this.context;this.spliceList(t,1);const o={element:r,oldIndex:t};this.emitChanges({removed:o})},onDragUpdate(e){No(e.item),Ho(e.from,e.item,e.oldIndex);const t=this.context.index,r=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,r);const o={element:this.context.element,oldIndex:t,newIndex:r};this.emitChanges({moved:o})},computeFutureIndex(e,t){if(!e.element)return 0;const r=[...t.to.children].filter((e=>"none"!==e.style["display"])),o=r.indexOf(t.related),i=e.component.getVmIndexFromDomIndex(o),n=-1!==r.indexOf(gi);return n||!t.willInsertAfter?i:i+1},onDragMove(e,t){const{move:r,realList:o}=this;if(!r||!o)return!0;const i=this.getRelatedContextFromMoveEvent(e),n=this.computeFutureIndex(i,e),a={...this.context,futureIndex:n},s={...e,relatedContext:i,draggedContext:a};return r(s,t)},onDragEnd(){gi=null}}});var yi=bi,wi={components:{draggable:yi},props:{modelValue:Array,localizedLabel:{type:Object,default(){return{tableSetting:"Table Setting",exportExcel:"Export Excel",importExcel:"Import Excel",back:"Back",reset:"Default"}}}},data(){return{show:!1,processing:!1}},computed:{fields:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}}},methods:{reset(){this.$parent.resetColumn(),this.hidePanel()},clickOutside(e){"panelModal"===e.target.id&&this.hidePanel()},columnLabelClick(e,t){t.invisible=!t.invisible,setTimeout(this.$parent.calStickyLeft)},freezePanelSizeAfterShown(){const e=this.$refs.panelList,t=e.getBoundingClientRect();e.setAttribute("style",`width:${t.width}px; height:${t.height}px;`)},removePanelSizeAfterHide(){const e=this.$refs.panelList;e.removeAttribute("style")},exportTable(e){this.hidePanel(),this.$parent.exportTable(e)},importTable(){this.hidePanel(),this.$parent.importTable()},showPanel(){this.show=!0,setTimeout((()=>this.$refs.button.focus())),setTimeout((()=>this.freezePanelSizeAfterShown()))},hidePanel(){this.show=!1,this.removePanelSizeAfterHide()}}};const Ci=(0,pe.Z)(wi,[["render",gt],["__scopeId","data-v-6071902c"]]);var Ei=Ci;const Si=e=>((0,o.dD)("data-v-73cfc62a"),e=e(),(0,o.Cn)(),e),xi={ref:"panelFind",class:"panel-body"},Ti={class:"panel-input-b"},ki=Si((()=>(0,o._)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-search fa-w-16 fa-sm"},[(0,o._)("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",class:""})],-1))),_i=[ki];function Ri(e,t,r,i,a,s){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{id:"panelModal",class:"panel-modal",onClick:t[3]||(t[3]=(...e)=>s.clickOutside&&s.clickOutside(...e)),onKeydown:t[4]||(t[4]=(0,n.D2)((0,n.iM)(((...e)=>s.hidePanel&&s.hidePanel(...e)),["exact"]),["esc"]))},[(0,o._)("div",xi,[(0,o._)("div",null,[(0,o._)("span",Ti,[(0,o.wy)((0,o._)("input",{type:"text",ref:"inputFind","onUpdate:modelValue":t[0]||(t[0]=e=>a.inputFind=e),class:"panel-input",trim:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",onKeydown:t[1]||(t[1]=(0,n.D2)((0,n.iM)((e=>s.doFind(a.inputFind,e)),["exact"]),["enter"]))},null,544),[[n.nr,a.inputFind]])]),(0,o._)("button",{class:"panel-input-button",onClick:t[2]||(t[2]=e=>s.doFind(a.inputFind))},_i)])],512)],544)),[[n.F8,a.show]])}var Oi={props:{localizedLabel:{type:Object,default(){return{}}}},data(){return{show:!1,processing:!1,inputFind:""}},methods:{clickOutside(e){"panelModal"===e.target.id&&this.hidePanel()},doFind(e,t){t&&t.preventDefault(),this.hidePanel(),this.$parent.doFind(this.inputFind)},showPanel(){this.show=!0,setTimeout((()=>this.$refs.inputFind.focus()))},hidePanel(){this.show=!1}}};const Di=(0,pe.Z)(Oi,[["render",Ri],["__scopeId","data-v-73cfc62a"]]);var Ai=Di,Pi=r(4870);function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Fi(e,t){if(e){if("string"===typeof e)return Li(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Li(e,t):void 0}}function Ii(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Fi(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,n=e},f:function(){try{a||null==r["return"]||r["return"]()}finally{if(s)throw n}}}}var Ni={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hi=function(e,t,r){var o,i=Ni[e];return o="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o},Gi=Hi;function Vi(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,o=e.formats[r]||e.formats[e.defaultWidth];return o}}var zi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bi={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ji={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wi={date:Vi({formats:zi,defaultWidth:"full"}),time:Vi({formats:Bi,defaultWidth:"full"}),dateTime:Vi({formats:ji,defaultWidth:"full"})},Ui=Wi,$i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ki=function(e,t,r,o){return $i[e]},Yi=Ki;function qi(e){return function(t,r){var o,i=null!==r&&void 0!==r&&r.context?String(r.context):"standalone";if("formatting"===i&&e.formattingValues){var n=e.defaultFormattingWidth||e.defaultWidth,a=null!==r&&void 0!==r&&r.width?String(r.width):n;o=e.formattingValues[a]||e.formattingValues[n]}else{var s=e.defaultWidth,l=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;o=e.values[l]||e.values[s]}var c=e.argumentCallback?e.argumentCallback(t):t;return o[c]}}var Xi={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ji={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qi={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zi={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},en={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rn=function(e,t){var r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},on={ordinalNumber:rn,era:qi({values:Xi,defaultWidth:"wide"}),quarter:qi({values:Ji,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:qi({values:Qi,defaultWidth:"wide"}),day:qi({values:Zi,defaultWidth:"wide"}),dayPeriod:qi({values:en,defaultWidth:"wide",formattingValues:tn,defaultFormattingWidth:"wide"})},nn=on;function an(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.width,i=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],n=t.match(i);if(!n)return null;var a,s=n[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ln(l,(function(e){return e.test(s)})):sn(l,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(c):c,a=r.valueCallback?r.valueCallback(a):a;var u=t.slice(s.length);return{value:a,rest:u}}}function sn(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function ln(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function cn(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.match(e.matchPattern);if(!o)return null;var i=o[0],n=t.match(e.parsePattern);if(!n)return null;var a=e.valueCallback?e.valueCallback(n[0]):n[0];a=r.valueCallback?r.valueCallback(a):a;var s=t.slice(i.length);return{value:a,rest:s}}}var un=/^(\d+)(th|st|nd|rd)?/i,dn=/\d+/i,hn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pn={any:[/^b/i,/^(a|c)/i]},fn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gn={any:[/1/i,/2/i,/3/i,/4/i]},vn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},En={ordinalNumber:cn({matchPattern:un,parsePattern:dn,valueCallback:function(e){return parseInt(e,10)}}),era:an({matchPatterns:hn,defaultMatchWidth:"wide",parsePatterns:pn,defaultParseWidth:"any"}),quarter:an({matchPatterns:fn,defaultMatchWidth:"wide",parsePatterns:gn,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:an({matchPatterns:vn,defaultMatchWidth:"wide",parsePatterns:mn,defaultParseWidth:"any"}),day:an({matchPatterns:bn,defaultMatchWidth:"wide",parsePatterns:yn,defaultParseWidth:"any"}),dayPeriod:an({matchPatterns:wn,defaultMatchWidth:"any",parsePatterns:Cn,defaultParseWidth:"any"})},Sn=En,xn={code:"en-US",formatDistance:Gi,formatLong:Ui,formatRelative:Yi,localize:nn,match:Sn,options:{weekStartsOn:0,firstWeekContainsDate:1}},Tn=xn,kn=Tn;function _n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Rn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function On(e){Rn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Mi(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Dn(e,t){Rn(2,arguments);var r=On(e).getTime(),o=_n(t);return new Date(r+o)}function An(e,t){Rn(2,arguments);var r=_n(t);return Dn(e,-r)}function Pn(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var Mn=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ln=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Fn=function(e,t){var r,o=e.match(/(P+)(p+)?/)||[],i=o[1],n=o[2];if(!n)return Mn(e,t);switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",Mn(i,t)).replace("{{time}}",Ln(n,t))},In={p:Ln,P:Fn},Nn=In;function Hn(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Gn=["D","DD"],Vn=["YY","YYYY"];function zn(e){return-1!==Gn.indexOf(e)}function Bn(e){return-1!==Vn.indexOf(e)}function jn(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(e,t){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Un(e,t)}function $n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Un(e,t)}function Kn(e){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kn(e)}function Yn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qn(e,t){if(t&&("object"===Mi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wn(e)}function Xn(e){var t=Yn();return function(){var r,o=Kn(e);if(t){var i=Kn(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return qn(this,r)}}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qn(e,t){if("object"!==Mi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==Mi(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Zn(e){var t=Qn(e,"string");return"symbol"===Mi(t)?t:String(t)}function ea(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Zn(o.key),o)}}function ta(e,t,r){return t&&ea(e.prototype,t),r&&ea(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ra(e,t,r){return t=Zn(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oa=10,ia=function(){function e(){Jn(this,e),ra(this,"priority",void 0),ra(this,"subPriority",0)}return ta(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),na=function(e){$n(r,e);var t=Xn(r);function r(e,o,i,n,a){var s;return Jn(this,r),s=t.call(this),s.value=e,s.validateValue=o,s.setValue=i,s.priority=n,a&&(s.subPriority=a),s}return ta(r,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,r){return this.setValue(e,t,this.value,r)}}]),r}(ia),aa=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",oa),ra(Wn(e),"subPriority",-1),e}return ta(r,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}}]),r}(ia),sa=function(){function e(){Jn(this,e),ra(this,"incompatibleTokens",void 0),ra(this,"priority",void 0),ra(this,"subPriority",void 0)}return ta(e,[{key:"run",value:function(e,t,r,o){var i=this.parse(e,t,r,o);return i?{setter:new na(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,r){return!0}}]),e}(),la=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",140),ra(Wn(e),"incompatibleTokens",["R","u","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,r){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(sa),ca=(Math.pow(10,8),6e4),ua=36e5,da=1e3,ha={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},pa={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function fa(e,t){return e?{value:t(e.value),rest:e.rest}:e}function ga(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function va(e,t){var r=t.match(e);if(!r)return null;if("Z"===r[0])return{value:0,rest:t.slice(1)};var o="+"===r[1]?1:-1,i=r[2]?parseInt(r[2],10):0,n=r[3]?parseInt(r[3],10):0,a=r[5]?parseInt(r[5],10):0;return{value:o*(i*ua+n*ca+a*da),rest:t.slice(r[0].length)}}function ma(e){return ga(ha.anyDigitsSigned,e)}function ba(e,t){switch(e){case 1:return ga(ha.singleDigit,t);case 2:return ga(ha.twoDigits,t);case 3:return ga(ha.threeDigits,t);case 4:return ga(ha.fourDigits,t);default:return ga(new RegExp("^\\d{1,"+e+"}"),t)}}function ya(e,t){switch(e){case 1:return ga(ha.singleDigitSigned,t);case 2:return ga(ha.twoDigitsSigned,t);case 3:return ga(ha.threeDigitsSigned,t);case 4:return ga(ha.fourDigitsSigned,t);default:return ga(new RegExp("^-?\\d{1,"+e+"}"),t)}}function wa(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ca(e,t){var r,o=t>0,i=o?t:1-t;if(i<=50)r=e||100;else{var n=i+50,a=100*Math.floor(n/100),s=e>=n%100;r=e+a-(s?100:0)}return o?r:1-r}function Ea(e){return e%400===0||e%4===0&&e%100!==0}var Sa=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",130),ra(Wn(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){var o=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return fa(ba(4,e),o);case"yo":return fa(r.ordinalNumber(e,{unit:"year"}),o);default:return fa(ba(t.length,e),o)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r){var o=e.getUTCFullYear();if(r.isTwoDigitYear){var i=Ca(r.year,o);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var n="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(sa),xa={};function Ta(){return xa}function ka(e,t){var r,o,i,n,a,s,l,c;Rn(1,arguments);var u=Ta(),d=_n(null!==(r=null!==(o=null!==(i=null!==(n=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==n?n:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==o?o:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=On(e),p=h.getUTCDay(),f=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function _a(e,t){var r,o,i,n,a,s,l,c;Rn(1,arguments);var u=On(e),d=u.getUTCFullYear(),h=Ta(),p=_n(null!==(r=null!==(o=null!==(i=null!==(n=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==n?n:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==o?o:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,p),f.setUTCHours(0,0,0,0);var g=ka(f,t),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var m=ka(v,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=m.getTime()?d:d-1}var Ra=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",130),ra(Wn(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){var o=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return fa(ba(4,e),o);case"Yo":return fa(r.ordinalNumber(e,{unit:"year"}),o);default:return fa(ba(t.length,e),o)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r,o){var i=_a(e,o);if(r.isTwoDigitYear){var n=Ca(r.year,i);return e.setUTCFullYear(n,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),ka(e,o)}var a="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(a,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),ka(e,o)}}]),r}(sa);function Oa(e){Rn(1,arguments);var t=1,r=On(e),o=r.getUTCDay(),i=(o<t?7:0)+o-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}var Da=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",130),ra(Wn(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t){return ya("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,r){var o=new Date(0);return o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0),Oa(o)}}]),r}(sa),Aa=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",130),ra(Wn(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t){return ya("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,r){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(sa),Pa=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",120),ra(Wn(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"Q":case"QQ":return ba(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(sa),Ma=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",120),ra(Wn(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"q":case"qq":return ba(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(sa),La=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ra(Wn(e),"priority",110),e}return ta(r,[{key:"parse",value:function(e,t,r){var o=function(e){return e-1};switch(t){case"M":return fa(ga(ha.month,e),o);case"MM":return fa(ba(2,e),o);case"Mo":return fa(r.ordinalNumber(e,{unit:"month"}),o);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(sa),Fa=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",110),ra(Wn(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){var o=function(e){return e-1};switch(t){case"L":return fa(ga(ha.month,e),o);case"LL":return fa(ba(2,e),o);case"Lo":return fa(r.ordinalNumber(e,{unit:"month"}),o);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(sa);function Ia(e,t){var r,o,i,n,a,s,l,c;Rn(1,arguments);var u=Ta(),d=_n(null!==(r=null!==(o=null!==(i=null!==(n=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==n?n:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==o?o:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1),h=_a(e,t),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var f=ka(p,t);return f}var Na=6048e5;function Ha(e,t){Rn(1,arguments);var r=On(e),o=ka(r,t).getTime()-Ia(r,t).getTime();return Math.round(o/Na)+1}function Ga(e,t,r){Rn(2,arguments);var o=On(e),i=_n(t),n=Ha(o,r)-i;return o.setUTCDate(o.getUTCDate()-7*n),o}var Va=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",100),ra(Wn(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"w":return ga(ha.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r,o){return ka(Ga(e,r,o),o)}}]),r}(sa);function za(e){Rn(1,arguments);var t=On(e),r=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(r+1,0,4),o.setUTCHours(0,0,0,0);var i=Oa(o),n=new Date(0);n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0);var a=Oa(n);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Ba(e){Rn(1,arguments);var t=za(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var o=Oa(r);return o}var ja=6048e5;function Wa(e){Rn(1,arguments);var t=On(e),r=Oa(t).getTime()-Ba(t).getTime();return Math.round(r/ja)+1}function Ua(e,t){Rn(2,arguments);var r=On(e),o=_n(t),i=Wa(r)-o;return r.setUTCDate(r.getUTCDate()-7*i),r}var $a=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",100),ra(Wn(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"I":return ga(ha.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r){return Oa(Ua(e,r))}}]),r}(sa),Ka=[31,28,31,30,31,30,31,31,30,31,30,31],Ya=[31,29,31,30,31,30,31,31,30,31,30,31],qa=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",90),ra(Wn(e),"subPriority",1),ra(Wn(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"d":return ga(ha.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){var r=e.getUTCFullYear(),o=Ea(r),i=e.getUTCMonth();return o?t>=1&&t<=Ya[i]:t>=1&&t<=Ka[i]}},{key:"set",value:function(e,t,r){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e}}]),r}(sa),Xa=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",90),ra(Wn(e),"subpriority",1),ra(Wn(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"D":case"DD":return ga(ha.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){var r=e.getUTCFullYear(),o=Ea(r);return o?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,r){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e}}]),r}(sa);function Ja(e,t,r){var o,i,n,a,s,l,c,u;Rn(2,arguments);var d=Ta(),h=_n(null!==(o=null!==(i=null!==(n=null!==(a=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==a?a:null===r||void 0===r||null===(s=r.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==n?n:d.weekStartsOn)&&void 0!==i?i:null===(c=d.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=On(e),f=_n(t),g=p.getUTCDay(),v=f%7,m=(v+7)%7,b=(m<h?7:0)+f-g;return p.setUTCDate(p.getUTCDate()+b),p}var Qa=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",90),ra(Wn(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,o){return e=Ja(e,r,o),e.setUTCHours(0,0,0,0),e}}]),r}(sa),Za=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",90),ra(Wn(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r,o){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+o.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return fa(ba(t.length,e),i);case"eo":return fa(r.ordinalNumber(e,{unit:"day"}),i);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,o){return e=Ja(e,r,o),e.setUTCHours(0,0,0,0),e}}]),r}(sa),es=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",90),ra(Wn(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r,o){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+o.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return fa(ba(t.length,e),i);case"co":return fa(r.ordinalNumber(e,{unit:"day"}),i);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,o){return e=Ja(e,r,o),e.setUTCHours(0,0,0,0),e}}]),r}(sa);function ts(e,t){Rn(2,arguments);var r=_n(t);r%7===0&&(r-=7);var o=1,i=On(e),n=i.getUTCDay(),a=r%7,s=(a+7)%7,l=(s<o?7:0)+r-n;return i.setUTCDate(i.getUTCDate()+l),i}var rs=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",90),ra(Wn(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){var o=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return ba(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return fa(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return fa(r.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return fa(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o);case"iiii":default:return fa(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,r){return e=ts(e,r),e.setUTCHours(0,0,0,0),e}}]),r}(sa),os=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",80),ra(Wn(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(wa(r),0,0,0),e}}]),r}(sa),is=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",80),ra(Wn(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(wa(r),0,0,0),e}}]),r}(sa),ns=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",80),ra(Wn(e),"incompatibleTokens",["a","b","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(wa(r),0,0,0),e}}]),r}(sa),as=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",70),ra(Wn(e),"incompatibleTokens",["H","K","k","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"h":return ga(ha.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,r){var o=e.getUTCHours()>=12;return o&&r<12?e.setUTCHours(r+12,0,0,0):o||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e}}]),r}(sa),ss=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",70),ra(Wn(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"H":return ga(ha.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,r){return e.setUTCHours(r,0,0,0),e}}]),r}(sa),ls=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",70),ra(Wn(e),"incompatibleTokens",["h","H","k","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"K":return ga(ha.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){var o=e.getUTCHours()>=12;return o&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e}}]),r}(sa),cs=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",70),ra(Wn(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"k":return ga(ha.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,r){var o=r<=24?r%24:r;return e.setUTCHours(o,0,0,0),e}}]),r}(sa),us=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",60),ra(Wn(e),"incompatibleTokens",["t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"m":return ga(ha.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCMinutes(r,0,0),e}}]),r}(sa),ds=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",50),ra(Wn(e),"incompatibleTokens",["t","T"]),e}return ta(r,[{key:"parse",value:function(e,t,r){switch(t){case"s":return ga(ha.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return ba(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCSeconds(r,0),e}}]),r}(sa),hs=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",30),ra(Wn(e),"incompatibleTokens",["t","T"]),e}return ta(r,[{key:"parse",value:function(e,t){var r=function(e){return Math.floor(e*Math.pow(10,3-t.length))};return fa(ba(t.length,e),r)}},{key:"set",value:function(e,t,r){return e.setUTCMilliseconds(r),e}}]),r}(sa),ps=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",10),ra(Wn(e),"incompatibleTokens",["t","T","x"]),e}return ta(r,[{key:"parse",value:function(e,t){switch(t){case"X":return va(pa.basicOptionalMinutes,e);case"XX":return va(pa.basic,e);case"XXXX":return va(pa.basicOptionalSeconds,e);case"XXXXX":return va(pa.extendedOptionalSeconds,e);case"XXX":default:return va(pa.extended,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(sa),fs=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",10),ra(Wn(e),"incompatibleTokens",["t","T","X"]),e}return ta(r,[{key:"parse",value:function(e,t){switch(t){case"x":return va(pa.basicOptionalMinutes,e);case"xx":return va(pa.basic,e);case"xxxx":return va(pa.basicOptionalSeconds,e);case"xxxxx":return va(pa.extendedOptionalSeconds,e);case"xxx":default:return va(pa.extended,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(sa),gs=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",40),ra(Wn(e),"incompatibleTokens","*"),e}return ta(r,[{key:"parse",value:function(e){return ma(e)}},{key:"set",value:function(e,t,r){return[new Date(1e3*r),{timestampIsSet:!0}]}}]),r}(sa),vs=function(e){$n(r,e);var t=Xn(r);function r(){var e;Jn(this,r);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i)),ra(Wn(e),"priority",20),ra(Wn(e),"incompatibleTokens","*"),e}return ta(r,[{key:"parse",value:function(e){return ma(e)}},{key:"set",value:function(e,t,r){return[new Date(r),{timestampIsSet:!0}]}}]),r}(sa),ms={G:new la,y:new Sa,Y:new Ra,R:new Da,u:new Aa,Q:new Pa,q:new Ma,M:new La,L:new Fa,w:new Va,I:new $a,d:new qa,D:new Xa,E:new Qa,e:new Za,c:new es,i:new rs,a:new os,b:new is,B:new ns,h:new as,H:new ss,K:new ls,k:new cs,m:new us,s:new ds,S:new hs,X:new ps,x:new fs,t:new gs,T:new vs},bs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ys=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ws=/^'([^]*?)'?$/,Cs=/''/g,Es=/\S/,Ss=/[a-zA-Z]/;function xs(e,t,r,o){var i,n,a,s,l,c,u,d,h,p,f,g,v,m,b,y,w,C;Rn(3,arguments);var E=String(e),S=String(t),x=Ta(),T=null!==(i=null!==(n=null===o||void 0===o?void 0:o.locale)&&void 0!==n?n:x.locale)&&void 0!==i?i:kn;if(!T.match)throw new RangeError("locale must contain match property");var k=_n(null!==(a=null!==(s=null!==(l=null!==(c=null===o||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==c?c:null===o||void 0===o||null===(u=o.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:x.firstWeekContainsDate)&&void 0!==s?s:null===(h=x.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==a?a:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=_n(null!==(f=null!==(g=null!==(v=null!==(m=null===o||void 0===o?void 0:o.weekStartsOn)&&void 0!==m?m:null===o||void 0===o||null===(b=o.locale)||void 0===b||null===(y=b.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==v?v:x.weekStartsOn)&&void 0!==g?g:null===(w=x.locale)||void 0===w||null===(C=w.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==f?f:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===S)return""===E?On(r):new Date(NaN);var R,O={firstWeekContainsDate:k,weekStartsOn:_,locale:T},D=[new aa],A=S.match(ys).map((function(e){var t=e[0];if(t in Nn){var r=Nn[t];return r(e,T.formatLong)}return e})).join("").match(bs),P=[],M=Ii(A);try{var L=function(){var t=R.value;null!==o&&void 0!==o&&o.useAdditionalWeekYearTokens||!Bn(t)||jn(t,S,e),null!==o&&void 0!==o&&o.useAdditionalDayOfYearTokens||!zn(t)||jn(t,S,e);var r=t[0],i=ms[r];if(i){var n=i.incompatibleTokens;if(Array.isArray(n)){var a=P.find((function(e){return n.includes(e.token)||e.token===r}));if(a)throw new RangeError("The format string mustn't contain `".concat(a.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===i.incompatibleTokens&&P.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));P.push({token:r,fullToken:t});var s=i.run(E,t,T.match,O);if(!s)return{v:new Date(NaN)};D.push(s.setter),E=s.rest}else{if(r.match(Ss))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");if("''"===t?t="'":"'"===r&&(t=Ts(t)),0!==E.indexOf(t))return{v:new Date(NaN)};E=E.slice(t.length)}};for(M.s();!(R=M.n()).done;){var F=L();if("object"===Mi(F))return F.v}}catch(W){M.e(W)}finally{M.f()}if(E.length>0&&Es.test(E))return new Date(NaN);var I=D.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return D.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),N=On(r);if(isNaN(N.getTime()))return new Date(NaN);var H,G=An(N,Hn(N)),V={},z=Ii(I);try{for(z.s();!(H=z.n()).done;){var B=H.value;if(!B.validate(G,O))return new Date(NaN);var j=B.set(G,V,O);Array.isArray(j)?(G=j[0],Pn(V,j[1])):G=j}}catch(W){z.e(W)}finally{z.f()}return G}function Ts(e){return e.match(ws)[1].replace(Cs,"'")}function ks(e){return Rn(1,arguments),e instanceof Date||"object"===Mi(e)&&"[object Date]"===Object.prototype.toString.call(e)}function _s(e){if(Rn(1,arguments),!ks(e)&&"number"!==typeof e)return!1;var t=On(e);return!isNaN(Number(t))}function Rs(e,t){Rn(2,arguments);var r=On(e),o=_n(t);return r.setHours(o),r}function Os(e,t){Rn(2,arguments);var r=On(e),o=_n(t);return r.setMinutes(o),r}function Ds(e,t){Rn(2,arguments);var r=On(e),o=_n(t);return r.setSeconds(o),r}function As(e,t){Rn(2,arguments);var r=On(e),o=_n(t);return r.setMilliseconds(o),r}function Ps(e,t){Rn(2,arguments);var r=On(e),o=On(t);return r.getTime()<o.getTime()}function Ms(e,t){Rn(2,arguments);var r=On(e),o=On(t);return r.getTime()===o.getTime()}function Ls(e,t){Rn(2,arguments);var r=On(e),o=On(t);return r.getTime()>o.getTime()}var Fs=864e5;function Is(e){Rn(1,arguments);var t=On(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),i=r-o;return Math.floor(i/Fs)+1}function Ns(e,t){var r=e<0?"-":"",o=Math.abs(e).toString();while(o.length<t)o="0"+o;return r+o}var Hs={y:function(e,t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return Ns("yy"===t?o%100:o,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):Ns(r+1,2)},d:function(e,t){return Ns(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return Ns(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ns(e.getUTCHours(),t.length)},m:function(e,t){return Ns(e.getUTCMinutes(),t.length)},s:function(e,t){return Ns(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,o=e.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return Ns(i,t.length)}},Gs=Hs,Vs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zs={G:function(e,t,r){var o=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var o=e.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return Gs.y(e,t)},Y:function(e,t,r,o){var i=_a(e,o),n=i>0?i:1-i;if("YY"===t){var a=n%100;return Ns(a,2)}return"Yo"===t?r.ordinalNumber(n,{unit:"year"}):Ns(n,t.length)},R:function(e,t){var r=za(e);return Ns(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return Ns(r,t.length)},Q:function(e,t,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return Ns(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return Ns(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,r){var o=e.getUTCMonth();switch(t){case"M":case"MM":return Gs.M(e,t);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,r){var o=e.getUTCMonth();switch(t){case"L":return String(o+1);case"LL":return Ns(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,r,o){var i=Ha(e,o);return"wo"===t?r.ordinalNumber(i,{unit:"week"}):Ns(i,t.length)},I:function(e,t,r){var o=Wa(e);return"Io"===t?r.ordinalNumber(o,{unit:"week"}):Ns(o,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Gs.d(e,t)},D:function(e,t,r){var o=Is(e);return"Do"===t?r.ordinalNumber(o,{unit:"dayOfYear"}):Ns(o,t.length)},E:function(e,t,r){var o=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,r,o){var i=e.getUTCDay(),n=(i-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(n);case"ee":return Ns(n,2);case"eo":return r.ordinalNumber(n,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,o){var i=e.getUTCDay(),n=(i-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(n);case"cc":return Ns(n,t.length);case"co":return r.ordinalNumber(n,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var o=e.getUTCDay(),i=0===o?7:o;switch(t){case"i":return String(i);case"ii":return Ns(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,r){var o=e.getUTCHours(),i=o/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var o,i=e.getUTCHours();switch(o=12===i?Vs.noon:0===i?Vs.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){var o,i=e.getUTCHours();switch(o=i>=17?Vs.evening:i>=12?Vs.afternoon:i>=4?Vs.morning:Vs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var o=e.getUTCHours()%12;return 0===o&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Gs.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Gs.H(e,t)},K:function(e,t,r){var o=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(o,{unit:"hour"}):Ns(o,t.length)},k:function(e,t,r){var o=e.getUTCHours();return 0===o&&(o=24),"ko"===t?r.ordinalNumber(o,{unit:"hour"}):Ns(o,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Gs.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Gs.s(e,t)},S:function(e,t){return Gs.S(e,t)},X:function(e,t,r,o){var i=o._originalDate||e,n=i.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return js(n);case"XXXX":case"XX":return Ws(n);case"XXXXX":case"XXX":default:return Ws(n,":")}},x:function(e,t,r,o){var i=o._originalDate||e,n=i.getTimezoneOffset();switch(t){case"x":return js(n);case"xxxx":case"xx":return Ws(n);case"xxxxx":case"xxx":default:return Ws(n,":")}},O:function(e,t,r,o){var i=o._originalDate||e,n=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Bs(n,":");case"OOOO":default:return"GMT"+Ws(n,":")}},z:function(e,t,r,o){var i=o._originalDate||e,n=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Bs(n,":");case"zzzz":default:return"GMT"+Ws(n,":")}},t:function(e,t,r,o){var i=o._originalDate||e,n=Math.floor(i.getTime()/1e3);return Ns(n,t.length)},T:function(e,t,r,o){var i=o._originalDate||e,n=i.getTime();return Ns(n,t.length)}};function Bs(e,t){var r=e>0?"-":"+",o=Math.abs(e),i=Math.floor(o/60),n=o%60;if(0===n)return r+String(i);var a=t||"";return r+String(i)+a+Ns(n,2)}function js(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Ns(Math.abs(e)/60,2)}return Ws(e,t)}function Ws(e,t){var r=t||"",o=e>0?"-":"+",i=Math.abs(e),n=Ns(Math.floor(i/60),2),a=Ns(i%60,2);return o+n+r+a}var Us=zs,$s=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ks=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ys=/^'([^]*?)'?$/,qs=/''/g,Xs=/[a-zA-Z]/;function Js(e,t,r){var o,i,n,a,s,l,c,u,d,h,p,f,g,v,m,b,y,w;Rn(2,arguments);var C=String(t),E=Ta(),S=null!==(o=null!==(i=null===r||void 0===r?void 0:r.locale)&&void 0!==i?i:E.locale)&&void 0!==o?o:kn,x=_n(null!==(n=null!==(a=null!==(s=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:E.firstWeekContainsDate)&&void 0!==a?a:null===(d=E.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=_n(null!==(p=null!==(f=null!==(g=null!==(v=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==v?v:null===r||void 0===r||null===(m=r.locale)||void 0===m||null===(b=m.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==g?g:E.weekStartsOn)&&void 0!==f?f:null===(y=E.locale)||void 0===y||null===(w=y.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==p?p:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var k=On(e);if(!_s(k))throw new RangeError("Invalid time value");var _=Hn(k),R=An(k,_),O={firstWeekContainsDate:x,weekStartsOn:T,locale:S,_originalDate:k},D=C.match(Ks).map((function(e){var t=e[0];if("p"===t||"P"===t){var r=Nn[t];return r(e,S.formatLong)}return e})).join("").match($s).map((function(o){if("''"===o)return"'";var i=o[0];if("'"===i)return Qs(o);var n=Us[i];if(n)return null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!Bn(o)||jn(o,t,String(e)),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!zn(o)||jn(o,t,String(e)),n(R,o,S.localize,O);if(i.match(Xs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return o})).join("");return D}function Qs(e){var t=e.match(Ys);return t?t[1].replace(qs,"'"):e}function Zs(e){Rn(1,arguments);var t=On(e),r=t.getMonth();return r}function el(e){Rn(1,arguments);var t=On(e),r=t.getDay();return r}function tl(e){return Rn(1,arguments),On(e).getFullYear()}function rl(e){Rn(1,arguments);var t=On(e),r=t.getHours();return r}function ol(e){Rn(1,arguments);var t=On(e),r=t.getMinutes();return r}function il(e){Rn(1,arguments);var t=On(e),r=t.getSeconds();return r}function nl(e,t){var r;Rn(1,arguments);var o=_n(null!==(r=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==r?r:2);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,n=ul(e);if(n.date){var a=dl(n.date,o);i=hl(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var s,l=i.getTime(),c=0;if(n.time&&(c=fl(n.time),isNaN(c)))return new Date(NaN);if(!n.timezone){var u=new Date(l+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return s=vl(n.timezone),isNaN(s)?new Date(NaN):new Date(l+c+s)}var al={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sl=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ll=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cl=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ul(e){var t,r={},o=e.split(al.dateTimeDelimiter);if(o.length>2)return r;if(/:/.test(o[0])?t=o[0]:(r.date=o[0],t=o[1],al.timeZoneDelimiter.test(r.date)&&(r.date=e.split(al.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){var i=al.timezone.exec(t);i?(r.time=t.replace(i[1],""),r.timezone=i[1]):r.time=t}return r}function dl(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(r);if(!o)return{year:NaN,restDateString:""};var i=o[1]?parseInt(o[1]):null,n=o[2]?parseInt(o[2]):null;return{year:null===n?i:100*n,restDateString:e.slice((o[1]||o[2]).length)}}function hl(e,t){if(null===t)return new Date(NaN);var r=e.match(sl);if(!r)return new Date(NaN);var o=!!r[4],i=pl(r[1]),n=pl(r[2])-1,a=pl(r[3]),s=pl(r[4]),l=pl(r[5])-1;if(o)return El(t,s,l)?ml(t,s,l):new Date(NaN);var c=new Date(0);return wl(t,n,a)&&Cl(t,i)?(c.setUTCFullYear(t,n,Math.max(i,a)),c):new Date(NaN)}function pl(e){return e?parseInt(e):1}function fl(e){var t=e.match(ll);if(!t)return NaN;var r=gl(t[1]),o=gl(t[2]),i=gl(t[3]);return Sl(r,o,i)?r*ua+o*ca+1e3*i:NaN}function gl(e){return e&&parseFloat(e.replace(",","."))||0}function vl(e){if("Z"===e)return 0;var t=e.match(cl);if(!t)return 0;var r="+"===t[1]?-1:1,o=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return xl(o,i)?r*(o*ua+i*ca):NaN}function ml(e,t,r){var o=new Date(0);o.setUTCFullYear(e,0,4);var i=o.getUTCDay()||7,n=7*(t-1)+r+1-i;return o.setUTCDate(o.getUTCDate()+n),o}var bl=[31,null,31,30,31,30,31,31,30,31,30,31];function yl(e){return e%400===0||e%4===0&&e%100!==0}function wl(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(bl[t]||(yl(e)?29:28))}function Cl(e,t){return t>=1&&t<=(yl(e)?366:365)}function El(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Sl(e,t,r){return 24===e?0===t&&0===r:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function xl(e,t){return t>=0&&t<=59}function Tl(e,t){var r,o,i,n,a,s,l,c;Rn(1,arguments);var u=Ta(),d=_n(null!==(r=null!==(o=null!==(i=null!==(n=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==n?n:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==o?o:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=On(e),p=h.getDay(),f=(p<d?7:0)+p-d;return h.setDate(h.getDate()-f),h.setHours(0,0,0,0),h}function kl(e,t){var r,o,i,n,a,s,l,c;Rn(1,arguments);var u=Ta(),d=_n(null!==(r=null!==(o=null!==(i=null!==(n=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==n?n:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==o?o:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=On(e),p=h.getDay(),f=6+(p<d?-7:0)-(p-d);return h.setDate(h.getDate()+f),h.setHours(23,59,59,999),h}function _l(e){Rn(1,arguments);var t=On(e),r=t.getFullYear(),o=t.getMonth(),i=new Date(0);return i.setFullYear(r,o+1,0),i.setHours(0,0,0,0),i.getDate()}function Rl(e,t){Rn(2,arguments);var r=On(e),o=_n(t),i=r.getFullYear(),n=r.getDate(),a=new Date(0);a.setFullYear(i,o,15),a.setHours(0,0,0,0);var s=_l(a);return r.setMonth(o,Math.min(n,s)),r}function Ol(e,t){Rn(2,arguments);var r=On(e),o=_n(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(o),r)}function Dl(e,t){if(Rn(2,arguments),"object"!==Mi(t)||null===t)throw new RangeError("values parameter must be an object");var r=On(e);return isNaN(r.getTime())?new Date(NaN):(null!=t.year&&r.setFullYear(t.year),null!=t.month&&(r=Rl(r,t.month)),null!=t.date&&r.setDate(_n(t.date)),null!=t.hours&&r.setHours(_n(t.hours)),null!=t.minutes&&r.setMinutes(_n(t.minutes)),null!=t.seconds&&r.setSeconds(_n(t.seconds)),null!=t.milliseconds&&r.setMilliseconds(_n(t.milliseconds)),r)}function Al(e,t){Rn(2,arguments);var r=On(e),o=_n(t);return isNaN(o)?new Date(NaN):o?(r.setDate(r.getDate()+o),r):r}function Pl(e,t){Rn(2,arguments);var r=On(e),o=_n(t);if(isNaN(o))return new Date(NaN);if(!o)return r;var i=r.getDate(),n=new Date(r.getTime());n.setMonth(r.getMonth()+o+1,0);var a=n.getDate();return i>=a?n:(r.setFullYear(n.getFullYear(),n.getMonth(),i),r)}function Ml(e,t){if(Rn(2,arguments),!t||"object"!==Mi(t))return new Date(NaN);var r=t.years?_n(t.years):0,o=t.months?_n(t.months):0,i=t.weeks?_n(t.weeks):0,n=t.days?_n(t.days):0,a=t.hours?_n(t.hours):0,s=t.minutes?_n(t.minutes):0,l=t.seconds?_n(t.seconds):0,c=On(e),u=o||r?Pl(c,o+12*r):c,d=n||i?Al(u,n+7*i):u,h=s+60*a,p=l+60*h,f=1e3*p,g=new Date(d.getTime()+f);return g}function Ll(e,t){var r;Rn(1,arguments);var o=e||{},i=On(o.start),n=On(o.end),a=n.getTime();if(!(i.getTime()<=a))throw new RangeError("Invalid interval");var s=[],l=i;l.setHours(0,0,0,0);var c=Number(null!==(r=null===t||void 0===t?void 0:t.step)&&void 0!==r?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");while(l.getTime()<=a)s.push(On(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return s}function Fl(e){Rn(1,arguments);var t=On(e);return t.setHours(0,0,0,0),t}var Il=864e5;function Nl(e,t){Rn(2,arguments);var r=Fl(e),o=Fl(t),i=r.getTime()-Hn(r),n=o.getTime()-Hn(o);return Math.round((i-n)/Il)}function Hl(e){return Rn(1,arguments),Tl(e,{weekStartsOn:1})}function Gl(e){Rn(1,arguments);var t=On(e),r=t.getFullYear(),o=new Date(0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);var i=Hl(o),n=new Date(0);n.setFullYear(r,0,4),n.setHours(0,0,0,0);var a=Hl(n);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Vl(e){Rn(1,arguments);var t=Gl(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var o=Hl(r);return o}var zl=6048e5;function Bl(e){Rn(1,arguments);var t=On(e),r=Hl(t).getTime()-Vl(t).getTime();return Math.round(r/zl)+1}function jl(e,t){Rn(2,arguments);var r=_n(t);return Pl(e,-r)}function Wl(e,t){Rn(2,arguments);var r=_n(t);return Pl(e,12*r)}function Ul(e,t){Rn(2,arguments);var r=_n(t);return Wl(e,-r)}function $l(e,t){Rn(2,arguments);var r=_n(t);return Al(e,-r)}function Kl(e,t){if(Rn(2,arguments),!t||"object"!==Mi(t))return new Date(NaN);var r=t.years?_n(t.years):0,o=t.months?_n(t.months):0,i=t.weeks?_n(t.weeks):0,n=t.days?_n(t.days):0,a=t.hours?_n(t.hours):0,s=t.minutes?_n(t.minutes):0,l=t.seconds?_n(t.seconds):0,c=jl(e,o+12*r),u=$l(c,n+7*i),d=s+60*a,h=l+60*d,p=1e3*h,f=new Date(u.getTime()-p);return f}const Yl=(e,t)=>{const r=e.__vccOpts||e;for(const[o,i]of t)r[o]=i;return r},ql={},Xl={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Jl=(0,o._)("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),Ql=(0,o._)("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),Zl=(0,o._)("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),ec=(0,o._)("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1),tc=[Jl,Ql,Zl,ec];function rc(e,t){return(0,o.wg)(),(0,o.iD)("svg",Xl,tc)}const oc=Yl(ql,[["render",rc]]),ic={},nc={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ac=(0,o._)("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),sc=(0,o._)("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),lc=[ac,sc];function cc(e,t){return(0,o.wg)(),(0,o.iD)("svg",nc,lc)}const uc=Yl(ic,[["render",cc]]),dc={},hc={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},pc=(0,o._)("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),fc=[pc];function gc(e,t){return(0,o.wg)(),(0,o.iD)("svg",hc,fc)}const vc=Yl(dc,[["render",gc]]),mc={},bc={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},yc=(0,o._)("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1),wc=[yc];function Cc(e,t){return(0,o.wg)(),(0,o.iD)("svg",bc,wc)}const Ec=Yl(mc,[["render",Cc]]),Sc={},xc={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Tc=(0,o._)("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),kc=(0,o._)("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),_c=[Tc,kc];function Rc(e,t){return(0,o.wg)(),(0,o.iD)("svg",xc,_c)}const Oc=Yl(Sc,[["render",Rc]]),Dc={},Ac={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Pc=(0,o._)("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),Mc=[Pc];function Lc(e,t){return(0,o.wg)(),(0,o.iD)("svg",Ac,Mc)}const Fc=Yl(Dc,[["render",Lc]]),Ic={},Nc={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Hc=(0,o._)("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),Gc=[Hc];function Vc(e,t){return(0,o.wg)(),(0,o.iD)("svg",Nc,Gc)}const zc=Yl(Ic,[["render",Vc]]),Bc=(e,t)=>{const r=xs(e,t.slice(0,e.length),new Date);return _s(r)&&ks(r)?r:null},jc=(e,t)=>{if("string"==typeof t)return Bc(e,t);if(Array.isArray(t)){let r=null;for(const o of t)if(r=Bc(e,o),r)break;return r}return"function"==typeof t?t(e):null},Wc=e=>e?new Date(e):new Date,Uc=(e,t)=>{if(t){const t=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0");return`${e.getFullYear()}-${t}-${r}T${o}:${i}:00.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},$c=e=>{let t=Wc(JSON.parse(JSON.stringify(e)));return t=Rs(t,0),t=Os(t,0),t=Ds(t,0),t=As(t,0),t},Kc=(e,t,r,o)=>{let i=e?Wc(e):Wc();return(t||0===t)&&(i=Rs(i,+t)),(r||0===r)&&(i=Os(i,+r)),(o||0===o)&&(i=Ds(i,+o)),As(i,0)},Yc=(e,t)=>!(!e||!t)&&Ps($c(e),$c(t)),qc=(e,t)=>!(!e||!t)&&Ms($c(e),$c(t)),Xc=(e,t)=>!(!e||!t)&&Ls($c(e),$c(t)),Jc=(e,t,r)=>e&&e[0]&&e[1]?Xc(r,e[0])&&Yc(r,e[1]):!!(e&&e[0]&&t)&&(Xc(r,e[0])&&Yc(r,t)||Yc(r,e[0])&&Xc(r,t)),Qc=(0,Pi.qj)({menuFocused:!1,shiftKeyInMenu:!1}),Zc=()=>{const e=e=>{Qc.menuFocused=e},t=e=>{Qc.shiftKeyInMenu!==e&&(Qc.shiftKeyInMenu=e)};return{control:(0,o.Fl)((()=>({shiftKeyInMenu:Qc.shiftKeyInMenu,menuFocused:Qc.menuFocused}))),setMenuFocused:e,setShiftKey:t}};function eu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tu={},ru={get exports(){return tu},set exports(e){tu=e}};(function(e,t){function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default})(ru,tu);const ou=eu(tu);var iu={},nu={get exports(){return iu},set exports(e){iu=e}};(function(e,t){function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default})(nu,iu);const au=eu(iu);function su(e,t){var r=hu(t);return r.formatToParts?cu(r,e):uu(r,e)}var lu={year:0,month:1,day:2,hour:3,minute:4,second:5};function cu(e,t){try{for(var r=e.formatToParts(t),o=[],i=0;i<r.length;i++){var n=lu[r[i].type];n>=0&&(o[n]=parseInt(r[i].value,10))}return o}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function uu(e,t){var r=e.format(t).replace(/\u200E/g,""),o=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[o[3],o[1],o[2],o[4],o[5],o[6]]}var du={};function hu(e){if(!du[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r="06/25/2014, 00:00:00"===t||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===t;du[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return du[e]}function pu(e,t,r,o,i,n,a){var s=new Date(0);return s.setUTCFullYear(e,t,r),s.setUTCHours(o,i,n,a),s}var fu=36e5,gu=6e4,vu={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function mu(e,t,r){var o,i,n;if(!e||(o=vu.timezoneZ.exec(e),o))return 0;if(o=vu.timezoneHH.exec(e),o)return n=parseInt(o[1],10),Cu(n)?-n*fu:NaN;if(o=vu.timezoneHHMM.exec(e),o){n=parseInt(o[1],10);var a=parseInt(o[2],10);return Cu(n,a)?(i=Math.abs(n)*fu+a*gu,n>0?-i:i):NaN}if(Su(e)){t=new Date(t||Date.now());var s=r?t:bu(t),l=yu(s,e),c=r?l:wu(t,l,e);return-c}return NaN}function bu(e){return pu(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function yu(e,t){var r=su(e,t),o=pu(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),i=e.getTime(),n=i%1e3;return i-=n>=0?n:1e3+n,o-i}function wu(e,t,r){var o=e.getTime(),i=o-t,n=yu(new Date(i),r);if(t===n)return t;i-=n-t;var a=yu(new Date(i),r);return n===a?n:Math.max(n,a)}function Cu(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var Eu={};function Su(e){if(Eu[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Eu[e]=!0,!0}catch{return!1}}var xu=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Tu=xu;var ku=36e5,_u=6e4,Ru=2,Ou={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Tu};function Du(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var r=t||{},o=null==r.additionalDigits?Ru:ou(r.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i=Au(e),n=Pu(i.date,o),a=n.year,s=n.restDateString,l=Mu(s,a);if(isNaN(l))return new Date(NaN);if(l){var c,u=l.getTime(),d=0;if(i.time&&(d=Lu(i.time),isNaN(d)))return new Date(NaN);if(i.timeZone||r.timeZone){if(c=mu(i.timeZone||r.timeZone,new Date(u+d)),isNaN(c))return new Date(NaN)}else c=au(new Date(u+d)),c=au(new Date(u+d+c));return new Date(u+d+c)}return new Date(NaN)}function Au(e){var t,r={},o=Ou.dateTimePattern.exec(e);if(o?(r.date=o[1],t=o[3]):(o=Ou.datePattern.exec(e),o?(r.date=o[1],t=o[2]):(r.date=null,t=e)),t){var i=Ou.timeZone.exec(t);i?(r.time=t.replace(i[1],""),r.timeZone=i[1].trim()):r.time=t}return r}function Pu(e,t){var r,o=Ou.YYY[t],i=Ou.YYYYY[t];if(r=Ou.YYYY.exec(e)||i.exec(e),r){var n=r[1];return{year:parseInt(n,10),restDateString:e.slice(n.length)}}if(r=Ou.YY.exec(e)||o.exec(e),r){var a=r[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}function Mu(e,t){if(null===t)return null;var r,o,i,n;if(0===e.length)return o=new Date(0),o.setUTCFullYear(t),o;if(r=Ou.MM.exec(e),r)return o=new Date(0),i=parseInt(r[1],10)-1,Gu(t,i)?(o.setUTCFullYear(t,i),o):new Date(NaN);if(r=Ou.DDD.exec(e),r){o=new Date(0);var a=parseInt(r[1],10);return Vu(t,a)?(o.setUTCFullYear(t,0,a),o):new Date(NaN)}if(r=Ou.MMDD.exec(e),r){o=new Date(0),i=parseInt(r[1],10)-1;var s=parseInt(r[2],10);return Gu(t,i,s)?(o.setUTCFullYear(t,i,s),o):new Date(NaN)}if(r=Ou.Www.exec(e),r)return n=parseInt(r[1],10)-1,zu(t,n)?Fu(t,n):new Date(NaN);if(r=Ou.WwwD.exec(e),r){n=parseInt(r[1],10)-1;var l=parseInt(r[2],10)-1;return zu(t,n,l)?Fu(t,n,l):new Date(NaN)}return null}function Lu(e){var t,r,o;if(t=Ou.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),Bu(r)?r%24*ku:NaN;if(t=Ou.HHMM.exec(e),t)return r=parseInt(t[1],10),o=parseFloat(t[2].replace(",",".")),Bu(r,o)?r%24*ku+o*_u:NaN;if(t=Ou.HHMMSS.exec(e),t){r=parseInt(t[1],10),o=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return Bu(r,o,i)?r%24*ku+o*_u+1e3*i:NaN}return null}function Fu(e,t,r){t=t||0,r=r||0;var o=new Date(0);o.setUTCFullYear(e,0,4);var i=o.getUTCDay()||7,n=7*t+r+1-i;return o.setUTCDate(o.getUTCDate()+n),o}var Iu=[31,28,31,30,31,30,31,31,30,31,30,31],Nu=[31,29,31,30,31,30,31,31,30,31,30,31];function Hu(e){return e%400===0||e%4===0&&e%100!==0}function Gu(e,t,r){if(t<0||t>11)return!1;if(null!=r){if(r<1)return!1;var o=Hu(e);if(o&&r>Nu[t]||!o&&r>Iu[t])return!1}return!0}function Vu(e,t){if(t<1)return!1;var r=Hu(e);return!(r&&t>366||!r&&t>365)}function zu(e,t,r){return!(t<0||t>52||null!=r&&(r<0||r>6))}function Bu(e,t,r){return!(null!=e&&(e<0||e>=25)||null!=t&&(t<0||t>=60)||null!=r&&(r<0||r>=60))}var ju={},Wu={get exports(){return ju},set exports(e){ju=e}},Uu={},$u={get exports(){return Uu},set exports(e){Uu=e}};(function(e,t){function r(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default})($u,Uu),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=o(Uu);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,r.default)({},e)}e.exports=t.default}(Wu,ju);const Ku=eu(ju);function Yu(e,t,r){var o=Du(e,r),i=mu(t,o,!0),n=new Date(o.getTime()-i),a=new Date(0);return a.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),a.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),a}function qu(e,t,r){if("string"==typeof e&&!e.match(Tu)){var o=Ku(r);return o.timeZone=t,Du(e,o)}var i=Du(e,r),n=pu(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),a=mu(t,new Date(n));return new Date(n+a)}const Xu=(e,t=3)=>{const r=[];for(let o=0;o<e.length;o+=t)r.push([e[o],e[o+1],e[o+2]]);return r},Ju=(e,t)=>{const r=[1,2,3,4,5,6,7].map((t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2))),o=r.slice(0,t),i=r.slice(t+1,r.length);return[r[t]].concat(...i).concat(...o)},Qu=e=>{const t=[];for(let r=+e[0];r<=+e[1];r++)t.push({value:+r,text:`${r}`});return t},Zu=(e,t)=>{const r=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map((e=>{const t=e<10?`0${e}`:e;return new Date(`2017-${t}-01T00:00:00+00:00`)})).map(((e,t)=>({text:r.format(e),value:t})))},ed=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],td=e=>{const t=(0,Pi.SU)(e);return null!=t&&t.$el?null==t?void 0:t.$el:t},rd=e=>Object.assign({type:"dot"},e),od=e=>!!Array.isArray(e)&&(!!e[0]&&!!e[1]),id={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},nd=e=>e,ad=e=>0===e?e:!e||isNaN(+e)?null:+e,sd=e=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),ld=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},e),cd=e=>null===e?0:"boolean"==typeof e?e?2:0:+e>=2?+e:2,ud=(e,t,r)=>e||("string"==typeof r?r:t),dd=e=>"boolean"==typeof e?!!e&&sd({}):sd(e),hd=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),pd=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),fd=e=>{const t=()=>{if(e.partialRange)return null;throw new Error(id.prop("partial-range"))},r=(0,o.Fl)((()=>({ariaLabels:ld(e.ariaLabels),textInputOptions:Object.assign(hd(),e.textInputOptions),multiCalendars:cd(e.multiCalendars),previewFormat:ud(e.previewFormat,e.format,a()),filters:pd(e.filters),transitions:dd(e.transitions),startTime:p()}))),i=t=>{if(e.range)return t();throw new Error(id.prop("range"))},n=()=>{const t=e.enableSeconds?":ss":"";return e.is24?`HH:mm${t}`:`hh:mm${t} aa`},a=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?n():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy",s=(t,o)=>{if("function"==typeof e.format)return e.format(t);const i=o||a(),n=e.formatLocale?{locale:e.formatLocale}:void 0;return Array.isArray(t)?`${Js(t[0],i,n)} ${e.modelAuto&&!t[1]?"":r.value.textInputOptions.rangeSeparator||"-"} ${t[1]?Js(t[1],i,n):""}`:Js(t,i,n)},l=t=>e.timezone?Yu(t,e.timezone):t,c=t=>e.timezone?qu(t,e.timezone):t,u=(0,o.Fl)((()=>t=>{var r;return null==(r=e.hideNavigation)?void 0:r.includes(t)})),d=t=>{const o=!!e.maxDate&&Xc(l(t),l(Wc(e.maxDate))),i=!!e.minDate&&Yc(l(t),l(Wc(e.minDate))),n=b(t,e.disabledDates),a=r.value.filters.months.map((e=>+e)).includes(Zs(t)),s=!!e.disabledWeekDays.length&&e.disabledWeekDays.some((e=>+e===el(t))),c=!!e.allowedDates.length&&!e.allowedDates.some((e=>qc(l(Wc(e)),l(t)))),u=tl(t),d=u<+e.yearRange[0]||u>+e.yearRange[1];return!(o||i||n||a||d||s||c)},h=e=>{const t={hours:rl(Wc()),minutes:ol(Wc()),seconds:il(Wc())};return Object.assign(t,e)},p=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[h(e.startTime[0]),h(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?h(e.startTime):null,f=e=>!d(e),g=e=>Array.isArray(e)?_s(e[0])&&(!e[1]||_s(e[1])):!!e&&_s(e),v=e=>e instanceof Date?e:nl(e),m=t=>{const r=Tl(l(t),{weekStartsOn:+e.weekStart}),o=kl(l(t),{weekStartsOn:+e.weekStart});return[r,o]},b=(e,t)=>Array.isArray(t)?t.some((t=>qc(l(Wc(t)),l(e)))):t(e),y=(e,t,r)=>{let o=e?Wc(e):Wc();return(t||0===t)&&(o=Rl(o,t)),r&&(o=Ol(o,r)),o},w=e=>Dl(Wc(),{hours:rl(e),minutes:ol(e),seconds:il(e)}),C=e=>Dl(Wc(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),E=(e,t,r,o)=>{if(!e)return!0;if(o){const o="max"===r?Ps(e,t):Ls(e,t),i={seconds:0,milliseconds:0};return o||Ms(Dl(e,i),Dl(t,i))}return"max"===r?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},S=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,x=e=>Array.isArray(e)?[e[0]?w(e[0]):null,e[1]?w(e[1]):null]:w(e),T=t=>{const r=e.maxTime?C(e.maxTime):Wc(e.maxDate);return Array.isArray(t)?E(t[0],r,"max",!!e.maxDate)&&E(t[1],r,"max",!!e.maxDate):E(t,r,"max",!!e.maxDate)},k=(t,r)=>{const o=e.minTime?C(e.minTime):Wc(e.minDate);return Array.isArray(t)?E(t[0],o,"min",!!e.minDate)&&E(t[1],o,"min",!!e.minDate)&&r:E(t,o,"min",!!e.minDate)&&r},_=t=>{let r=!0;if(!t||S())return!0;const o=e.minDate||e.maxDate?t:x(t);return(e.maxTime||e.maxDate)&&(r=T(nd(o))),(e.minTime||e.minDate)&&(r=k(nd(o),r)),r},R=(t,r)=>{const o=Wc(JSON.parse(JSON.stringify(t))),i=[];for(let n=0;n<7;n++){const t=Al(o,n),a=Zs(t)!==r;i.push({text:e.hideOffsetDates&&a?"":t.getDate(),value:t,current:!a,classData:{}})}return i},O=(t,r)=>{const o=[],i=Wc(l(new Date(r,t))),n=Wc(l(new Date(r,t+1,0))),a=Tl(i,{weekStartsOn:e.weekStart}),s=e=>{const r=R(e,t);if(o.push({days:r}),!o[o.length-1].days.some((e=>qc($c(e.value),$c(n))))){const t=Al(e,7);s(t)}};if(s(a),e.sixWeeks&&o.length<6){const e=6-o.length;for(let t=1;t<=e;t++){const e=o[o.length-1],t=e.days[e.days.length-1],r=R(Al(t.value,1),Zs(i));o.push({days:r})}}return o},D=(e,t,r)=>[Dl(Wc(e),{date:1}),Dl(Wc(),{month:t,year:r,date:1})],A=(t,r)=>Yc(...D(e.minDate,t,r))||qc(...D(e.minDate,t,r)),P=(t,r)=>Xc(...D(e.maxDate,t,r))||qc(...D(e.maxDate,t,r)),M=(t,r,o)=>{let i=!1;return e.maxDate&&o&&P(t,r)&&(i=!0),e.minDate&&!o&&A(t,r)&&(i=!0),i};return{checkPartialRangeValue:t,checkRangeEnabled:i,getZonedDate:l,getZonedToUtc:c,formatDate:s,getDefaultPattern:a,validateDate:d,getDefaultStartTime:p,isDisabled:f,isValidDate:g,sanitizeDate:v,getWeekFromDate:m,matchDate:b,setDateMonthOrYear:y,isValidTime:_,getCalendarDays:O,validateMonthYearInRange:(t,r,o,i)=>{let n=!1;return i?e.minDate&&e.maxDate?n=M(t,r,o):(e.minDate&&A(t,r)||e.maxDate&&P(t,r))&&(n=!0):n=!0,n},validateMaxDate:P,validateMinDate:A,defaults:r,hideNavigationButtons:u}},gd=(0,Pi.qj)({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),vd=(0,Pi.iH)(null),md=(0,Pi.iH)(!1),bd=(0,Pi.iH)(!1),yd=(0,Pi.iH)(!1),wd=(0,Pi.iH)(!1),Cd=(0,Pi.iH)(0),Ed=(0,Pi.iH)(0),Sd=()=>{const e=(0,o.Fl)((()=>md.value?[...gd.selectionGrid,gd.actionRow].filter((e=>e.length)):bd.value?[...gd.timePicker[0],...gd.timePicker[1],wd.value?[]:[vd.value],gd.actionRow].filter((e=>e.length)):yd.value?[...gd.monthPicker,gd.actionRow]:[gd.monthYear,...gd.calendar,gd.time,gd.actionRow].filter((e=>e.length)))),t=t=>{Cd.value=t?Cd.value+1:Cd.value-1;let r=null;e.value[Ed.value]&&(r=e.value[Ed.value][Cd.value]),r||(Cd.value=t?Cd.value-1:Cd.value+1)},r=t=>{0===Ed.value&&!t||Ed.value===e.value.length&&t||(Ed.value=t?Ed.value+1:Ed.value-1,e.value[Ed.value]?e.value[Ed.value]&&!e.value[Ed.value][Cd.value]&&0!==Cd.value&&(Cd.value=e.value[Ed.value].length-1):Ed.value=t?Ed.value-1:Ed.value+1)},i=t=>{let r=null;e.value[Ed.value]&&(r=e.value[Ed.value][Cd.value]),r?r.focus({preventScroll:!md.value}):Cd.value=t?Cd.value-1:Cd.value+1},n=()=>{t(!0),i(!0)},a=()=>{t(!1),i(!1)},s=()=>{r(!1),i(!0)},l=()=>{r(!0),i(!0)},c=(e,t)=>{gd[t]=e},u=(e,t)=>{gd[t]=e},d=()=>{Cd.value=0,Ed.value=0};return{buildMatrix:c,buildMultiLevelMatrix:u,setTimePickerBackRef:e=>{vd.value=e},setSelectionGrid:e=>{md.value=e,d(),e||(gd.selectionGrid=[])},setTimePicker:(e,t=!1)=>{bd.value=e,wd.value=t,d(),e||(gd.timePicker[0]=[],gd.timePicker[1]=[])},setTimePickerElements:(e,t=0)=>{gd.timePicker[t]=e},arrowRight:n,arrowLeft:a,arrowUp:s,arrowDown:l,clearArrowNav:()=>{gd.monthYear=[],gd.calendar=[],gd.time=[],gd.actionRow=[],gd.selectionGrid=[],gd.timePicker[0]=[],gd.timePicker[1]=[],md.value=!1,bd.value=!1,wd.value=!1,yd.value=!1,d(),vd.value=null},setMonthPicker:e=>{yd.value=e,d()},refSets:gd}},xd=e=>Array.isArray(e),Td=e=>Array.isArray(e),kd=e=>Array.isArray(e)&&2===e.length,_d=(e,t,r,i,n)=>{const{getDefaultStartTime:a,isDisabled:s,sanitizeDate:l,getWeekFromDate:c,setDateMonthOrYear:u,validateMonthYearInRange:d,defaults:h}=fd(e),p=(0,o.Fl)({get:()=>e.internalModelValue,set:r=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",r)}}),f=(0,Pi.iH)([]);(0,o.YP)(p,(()=>{e.multiCalendars||E()}));const g=(0,Pi.iH)([{month:Zs(Wc()),year:tl(Wc())}]),v=(0,Pi.qj)({hours:e.range?[rl(Wc()),rl(Wc())]:rl(Wc()),minutes:e.range?[ol(Wc()),ol(Wc())]:ol(Wc()),seconds:e.range?[0,0]:0}),m=(0,o.Fl)((()=>e=>g.value[e]?g.value[e].month:0)),b=(0,o.Fl)((()=>e=>g.value[e]?g.value[e].year:0)),y=(0,o.Fl)((()=>!e.flow||!e.flow.length||n.value===e.flow.length)),w=(e,t,r)=>{var o,i;g.value[e]||(g.value[e]={month:0,year:0}),g.value[e].month=null===t?null==(o=g.value[e])?void 0:o.month:t,g.value[e].year=null===r?null==(i=g.value[e])?void 0:i.year:r},C=(e,t)=>{v[e]=t};(0,o.bv)((()=>{p.value||(e.startDate&&(w(0,Zs(Wc(e.startDate)),tl(Wc(e.startDate))),h.value.multiCalendars&&te(0)),h.value.startTime&&P()),E(!0)}));const E=(t=!1)=>p.value?Array.isArray(p.value)?(f.value=p.value,_(t)):x(p.value):e.timePicker?R():e.monthPicker&&!e.range?O():e.yearPicker&&!e.range?D():h.value.multiCalendars&&t&&!e.startDate?S(Wc(),t):void 0,S=(t,r=!1)=>{if((!h.value.multiCalendars||!e.multiStatic||r)&&w(0,Zs(t),tl(t)),h.value.multiCalendars)for(let e=1;e<h.value.multiCalendars;e++){const t=Dl(Wc(),{month:m.value(e-1),year:b.value(e-1)}),r=Ml(t,{months:1});g.value[e]={month:Zs(r),year:tl(r)}}},x=e=>{S(e),C("hours",rl(e)),C("minutes",ol(e)),C("seconds",il(e))},T=(e,t)=>{S(e[0],t);const r=(t,r)=>[t(e[0]),e[1]?t(e[1]):v[r][1]];C("hours",r(rl,"hours")),C("minutes",r(ol,"minutes")),C("seconds",r(il,"seconds"))},k=(t,r)=>{if((e.range||e.weekPicker)&&!e.multiDates)return T(t,r);if(e.multiDates){const e=t[t.length-1];return x(e)}},_=t=>{const r=p.value;k(r,t),h.value.multiCalendars&&e.multiCalendarsSolo&&L()},R=()=>{if(P(),e.range){const e=v.hours,t=v.minutes;p.value=[Kc(Wc(),e[0],t[0],A()),Kc(Wc(),e[1],t[1],A(!1))]}else p.value=Kc(Wc(),v.hours,v.minutes,A())},O=()=>{p.value=u(Wc(),m.value(0),b.value(0))},D=()=>{p.value=Wc()},A=(t=!0)=>e.enableSeconds?Array.isArray(v.seconds)?t?v.seconds[0]:v.seconds[1]:v.seconds:0,P=()=>{const t=a();if(t){const r=Array.isArray(t),o=r?[+t[0].hours,+t[1].hours]:+t.hours,i=r?[+t[0].minutes,+t[1].minutes]:+t.minutes,n=r?[+t[0].seconds,+t[1].seconds]:+t.seconds;C("hours",o),C("minutes",i),e.enableSeconds&&C("seconds",n)}},M=()=>Array.isArray(p.value)&&p.value.length?p.value[p.value.length-1]:null,L=()=>{if(Array.isArray(p.value)&&2===p.value.length){const t=Wc(Wc(p.value[1]?p.value[1]:Pl(p.value[0],1))),[r,o]=[Zs(p.value[0]),tl(p.value[0])],[i,n]=[Zs(p.value[1]),tl(p.value[1])];(r!==i||r===i&&o!==n)&&e.multiCalendarsSolo&&w(1,Zs(t),tl(t))}},F=e=>{const t=Pl(e,1);return{month:Zs(t),year:tl(t)}},I=e=>{const t=Zs(Wc(e)),r=tl(Wc(e));if(w(0,t,r),h.value.multiCalendars>0)for(let o=1;o<h.value.multiCalendars;o++){const t=F(Dl(Wc(e),{year:m.value(o-1),month:b.value(o-1)}));w(o,t.month,t.year)}},N=t=>{if(p.value&&Array.isArray(p.value))if(p.value.some((e=>qc(t,e)))){const e=p.value.filter((e=>!qc(e,t)));p.value=e.length?e:null}else(e.multiDatesLimit&&+e.multiDatesLimit>p.value.length||!e.multiDatesLimit)&&p.value.push(t);else p.value=[t]},H=(e,t)=>{const r=Xc(e,t)?t:e,o=Xc(t,e)?t:e;return Ll({start:r,end:o})},G=t=>{if(Array.isArray(p.value)&&p.value[0]){const r=Nl(t,p.value[0]),o=H(p.value[0],t),i=1===o.length?0:o.filter((e=>s(e))).length,n=Math.abs(r)-i;if(e.minRange&&e.maxRange)return n>=+e.minRange&&n<=+e.maxRange;if(e.minRange)return n>=+e.minRange;if(e.maxRange)return n<=+e.maxRange}return!0},V=r=>Array.isArray(p.value)&&2===p.value.length?e.fixedStart&&(Xc(r,p.value[0])||qc(r,p.value[0]))?[p.value[0],r]:e.fixedEnd&&(Yc(r,p.value[1])||qc(r,p.value[1]))?[r,p.value[1]]:(t("invalid-fixed-range",r),p.value):[],z=()=>{e.autoApply&&y.value&&t("auto-apply")},B=()=>{e.autoApply&&t("select-date")},j=e=>!Ll({start:e[0],end:e[1]}).some((e=>s(e))),W=e=>(p.value=c(Wc(e.value)),z()),U=t=>{const o=Kc(Wc(t.value),v.hours,v.minutes,A());e.multiDates?N(o):p.value=o,r(),z()},$=()=>{f.value=p.value?p.value.slice():[],2===f.value.length&&!e.fixedStart&&!e.fixedEnd&&(f.value=[])},K=(t,r)=>{const o=[Wc(t.value),Al(Wc(t.value),+e.autoRange)];j(o)&&(r&&I(t.value),f.value=o)},Y=e=>{q(e.value)||(f.value=V(Wc(e.value)))},q=t=>!!e.noDisabledRange&&H(f.value[0],t).some((e=>s(e))),X=(t,r)=>($(),e.autoRange?K(t,r):e.fixedStart||e.fixedEnd?Y(t):void(f.value[0]?G(Wc(t.value))&&!q(t.value)&&(Yc(Wc(t.value),Wc(f.value[0]))?f.value.unshift(Wc(t.value)):f.value[1]=Wc(t.value)):f.value[0]=Wc(t.value))),J=e=>{f.value[e]=Kc(f.value[e],v.hours[e],v.minutes[e],A(1!==e))},Q=()=>{f.value.length&&(f.value[0]&&!f.value[1]?J(0):(J(0),J(1),r()),p.value=f.value.slice(),f.value[0]&&f.value[1]&&e.autoApply&&t("auto-apply"),f.value[0]&&!f.value[1]&&e.modelAuto&&e.autoApply&&t("auto-apply"))},Z=(t,r=!1)=>{if(!(s(t.value)||!t.current&&e.hideOffsetDates)){if(e.weekPicker)return W(t);if(!e.range)return U(t);Td(v.hours)&&Td(v.minutes)&&!e.multiDates&&(X(t,r),Q())}},ee=e=>{const t=e.find((e=>e.current));return t?Bl(t.value):""},te=e=>{for(let t=e-1;t>=0;t--){const e=jl(Dl(Wc(),{month:m.value(t+1),year:b.value(t+1)}),1);w(t,Zs(e),tl(e))}for(let t=e+1;t<=h.value.multiCalendars-1;t++){const e=Pl(Dl(Wc(),{month:m.value(t-1),year:b.value(t-1)}),1);w(t,Zs(e),tl(e))}},re=e=>u(Wc(),m.value(e),b.value(e)),oe=e=>Kc(e,v.hours,v.minutes,A()),ie=(r,o)=>{const n=e.monthPicker?m.value(r)!==o.month||!o.fromNav:b.value(r)!==o.year;if(w(r,o.month,o.year),h.value.multiCalendars&&!e.multiCalendarsSolo&&te(r),e.monthPicker||e.yearPicker)if(e.range){if(n){let e=p.value?p.value.slice():[];2===e.length&&null!==e[1]&&(e=[]),e.length?Yc(re(r),e[0])?e.unshift(re(r)):e[1]=re(r):e=[re(r)],p.value=e}}else p.value=re(r);t("update-month-year",{instance:r,month:o.month,year:o.year}),i(e.multiCalendarsSolo?r:void 0)},ne=async(i=!1)=>{if(e.autoApply&&(e.monthPicker||e.yearPicker)){await(0,o.Y3)();const r=!!e.monthPicker&&i;e.range?t("auto-apply",r||!p.value||1===p.value.length):t("auto-apply",r)}r()},ae=(r,o)=>{const n=Dl(Wc(),{month:m.value(o),year:b.value(o)}),a=r<0?Pl(n,1):jl(n,1);d(Zs(a),tl(a),r<0,e.preventMinMaxNavigation)&&(w(o,Zs(a),tl(a)),h.value.multiCalendars&&!e.multiCalendarsSolo&&te(o),t("update-month-year",{instance:o,month:Zs(a),year:tl(a)}),i())},se=r=>{xd(r)&&xd(p.value)&&Td(v.hours)&&Td(v.minutes)?(r[0]&&p.value[0]&&(p.value[0]=Kc(r[0],v.hours[0],v.minutes[0],A())),r[1]&&p.value[1]&&(p.value[1]=Kc(r[1],v.hours[1],v.minutes[1],A(!1)))):e.multiDates&&Array.isArray(p.value)?p.value[p.value.length-1]=oe(r):!e.range&&!kd(r)&&(p.value=oe(r)),t("time-update")},le=(t,o=!0,i=!1)=>{const n=o?t:v.hours,a=o||i?v.minutes:t,s=i?t:v.seconds;if(e.range&&kd(p.value)&&Td(n)&&Td(a)&&Td(s)&&!e.disableTimeRangeValidation){const e=e=>Kc(p.value[e],n[e],a[e],s[e]),t=e=>As(p.value[e],0);if(qc(p.value[0],p.value[1])&&(Ls(e(0),t(1))||Ps(e(1),t(0))))return}if(C("hours",n),C("minutes",a),C("seconds",s),p.value)if(e.multiDates){const e=M();e&&se(e)}else se(p.value);else e.timePicker&&se(e.range?[Wc(),Wc()]:Wc());r()},ce=(t,r)=>{e.monthChangeOnScroll&&ae("inverse"!==e.monthChangeOnScroll?-t.deltaY:t.deltaY,r)},ue=(t,r,o=!1)=>{e.monthChangeOnArrows&&e.vertical===o&&de(t,r)},de=(e,t)=>{ae("right"===e?-1:1,t)};return{time:v,month:m,year:b,modelValue:p,calendars:g,monthYearSelect:ne,isDisabled:s,updateTime:le,getWeekNum:ee,selectDate:Z,updateMonthYear:ie,handleScroll:ce,getMarker:t=>e.markers.find((e=>qc(l(t.value),l(e.date)))),handleArrow:ue,handleSwipe:de,selectCurrentDate:()=>{e.range?p.value&&Array.isArray(p.value)&&p.value[0]?p.value=Yc(Wc(),p.value[0])?[Wc(),p.value[0]]:[p.value[0],Wc()]:p.value=[Wc()]:p.value=Wc(),B()},presetDateRange:(t,r)=>{r||t.length&&t.length<=2&&e.range&&(p.value=t.map((e=>Wc(e))),B(),e.multiCalendars&&(0,o.Y3)().then((()=>E(!0))))}}},Rd=(e,t,r)=>{const i=(0,Pi.iH)(),{getZonedToUtc:n,getZonedDate:a,formatDate:s,getDefaultPattern:l,checkRangeEnabled:c,checkPartialRangeValue:u,isValidDate:d,setDateMonthOrYear:h,defaults:p}=fd(t),f=(0,Pi.iH)(""),g=(0,Pi.Vh)(t,"format");(0,o.YP)(i,(()=>{e("internal-model-change",i.value)})),(0,o.YP)(g,(()=>{F()}));const v=e=>{const r=e||Wc();return t.modelType?N(r):{hours:rl(r),minutes:ol(r),seconds:t.enableSeconds?il(r):0}},m=e=>t.modelType?N(e):{month:Zs(e),year:tl(e)},b=e=>Array.isArray(e)?c((()=>[Ol(Wc(),e[0]),e[1]?Ol(Wc(),e[1]):u()])):Ol(Wc(),+e),y=(e,r)=>"string"!=typeof e&&"number"!=typeof e||!t.modelType?r:I(e),w=e=>Array.isArray(e)?[y(e[0],Kc(null,+e[0].hours,+e[0].minutes,e[0].seconds)),y(e[1],Kc(null,+e[1].hours,+e[1].minutes,e[1].seconds))]:y(e,Kc(null,e.hours,e.minutes,e.seconds)),C=e=>Array.isArray(e)?c((()=>[y(e[0],h(null,+e[0].month,+e[0].year)),y(e[1],e[1]?h(null,+e[1].month,+e[1].year):u())])):y(e,h(null,+e.month,+e.year)),E=e=>{if(Array.isArray(e))return e.map((e=>I(e)));throw new Error(id.dateArr("multi-dates"))},S=e=>{if(Array.isArray(e))return[Wc(e[0]),Wc(e[1])];throw new Error(id.dateArr("week-picker"))},x=e=>t.modelAuto?Array.isArray(e)?[I(e[0]),I(e[1])]:t.autoApply?[I(e)]:[I(e),null]:Array.isArray(e)?c((()=>[I(e[0]),e[1]?I(e[1]):u()])):I(e),T=()=>{Array.isArray(i.value)&&t.range&&1===i.value.length&&i.value.push(u())},k=()=>{const e=i.value;return[N(e[0]),e[1]?N(e[1]):u()]},_=()=>i.value[1]?k():N(nd(i.value[0])),R=()=>(i.value||[]).map((e=>N(e))),O=()=>(T(),t.modelAuto?_():t.multiDates?R():Array.isArray(i.value)?c((()=>k())):N(nd(i.value))),D=e=>e?t.timePicker?w(nd(e)):t.monthPicker?C(nd(e)):t.yearPicker?b(nd(e)):t.multiDates?E(nd(e)):t.weekPicker?S(nd(e)):x(nd(e)):null,A=e=>{const t=D(e);d(nd(t))?(i.value=nd(t),F()):(i.value=null,f.value="")},P=()=>{var e;const t=e=>{var t;return Js(e,null==(t=p.value.textInputOptions)?void 0:t.format)};return`${t(i.value[0])} ${null==(e=p.value.textInputOptions)?void 0:e.rangeSeparator} ${i.value[1]?t(i.value[1]):""}`},M=()=>{var e;return r.value&&i.value?Array.isArray(i.value)?P():Js(i.value,null==(e=p.value.textInputOptions)?void 0:e.format):s(i.value)},L=()=>{var e;return i.value?t.multiDates?i.value.map((e=>s(e))).join("; "):t.textInput&&"string"==typeof(null==(e=p.value.textInputOptions)?void 0:e.format)?M():s(i.value):""},F=()=>{t.format&&"string"!=typeof t.format?f.value=t.format(i.value):f.value=L()},I=e=>{if(t.utc){const r=new Date(e);return"preserve"===t.utc?new Date(r.getTime()+6e4*r.getTimezoneOffset()):r}return t.modelType?"date"===t.modelType||"timestamp"===t.modelType?a(new Date(e)):"format"!==t.modelType||"string"!=typeof t.format&&t.format?a(xs(e,t.modelType,new Date)):xs(e,l(),new Date):a(new Date(e))},N=e=>t.utc?Uc(e,"preserve"===t.utc):t.modelType?"timestamp"===t.modelType?+n(e):"format"!==t.modelType||"string"!=typeof t.format&&t.format?s(n(e),t.modelType):s(n(e)):n(e),H=t=>{e("update:model-value",t)},G=e=>Array.isArray(i.value)?[e(i.value[0]),i.value[1]?e(i.value[1]):u()]:e(nd(i.value)),V=e=>H(nd(G(e)));return{inputValue:f,internalModelValue:i,checkBeforeEmit:()=>!!i.value&&(t.range?t.partialRange?i.value.length>=1:2===i.value.length:!!i.value),parseExternalModelValue:A,formatInputValue:F,emitModelValue:()=>(F(),t.monthPicker?V(m):t.timePicker?V(v):t.yearPicker?V(tl):t.weekPicker?H(i.value):H(O()))}},Od=(e,t)=>{const{validateMonthYearInRange:r,validateMaxDate:i,validateMinDate:n,defaults:a}=fd(e),s=(e,t)=>{let r=e;return a.value.filters.months.includes(Zs(r))?(r=t?Pl(e,1):jl(e,1),s(r,t)):r},l=(e,t)=>{let r=e;return a.value.filters.years.includes(tl(r))?(r=t?Wl(e,1):Ul(e,1),l(r,t)):r},c=t=>{const o=Dl(new Date,{month:e.month,year:e.year});let i=t?Pl(o,1):jl(o,1),n=Zs(i),c=tl(i);a.value.filters.months.includes(n)&&(i=s(i,t),n=Zs(i),c=tl(i)),a.value.filters.years.includes(c)&&(i=l(i,t),c=tl(i)),r(n,c,t,e.preventMinMaxNavigation)&&u(n,c)},u=(e,r)=>{t("update-month-year",{month:e,year:r})},d=(0,o.Fl)((()=>t=>{if(!e.preventMinMaxNavigation||t&&!e.maxDate||!t&&!e.minDate)return!1;const r=Dl(new Date,{month:e.month,year:e.year}),o=t?Pl(r,1):jl(r,1),a=[Zs(o),tl(o)];return t?!i(...a):!n(...a)}));return{handleMonthYearChange:c,isDisabled:d,updateMonthYear:u}};var Dd=(e=>(e.center="center",e.left="left",e.right="right",e))(Dd||{});const Ad=(e,t,r,i)=>{const n=(0,Pi.iH)({top:"0",left:"0",transform:"none"}),a=(0,Pi.iH)(!1),s=(0,Pi.Vh)(i,"teleportCenter");(0,o.YP)(s,(()=>{m()}));const l=e=>{const t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY}},c=e=>{const t=e.getBoundingClientRect();let r=0,o=0;for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)r+=e.offsetLeft-e.scrollLeft,o=t.top+e.scrollTop,e=e.offsetParent;return{top:o,left:r}},u=(e,t)=>{n.value.left=`${e+t}px`,n.value.transform="translateX(-100%)"},d=e=>{n.value.left=`${e}px`,n.value.transform="translateX(0)"},h=(e,t,r=!1)=>{i.position===Dd.left&&d(e),i.position===Dd.right&&u(e,t),i.position===Dd.center&&(n.value.left=`${e+t/2}px`,n.value.transform=r?"translate(-50%, -50%)":"translateX(-50%)")},p=e=>{const{width:t,height:r}=e.getBoundingClientRect(),{top:o,left:n}=i.altPosition?c(e):l(e);return{top:o,left:n,width:t,height:r}},f=()=>{const e=td(t);if(e){const{top:t,left:r,width:o,height:i}=p(e);n.value.top=`${t+i/2}px`,n.value.transform="translateY(-50%)",h(r,o,!0)}},g=()=>{n.value.left="50%",n.value.top="50%",n.value.transform="translate(-50%, -50%)",n.value.position="fixed"},v=()=>{const e=td(t);n.value=i.altPosition(e)},m=(e=!0)=>{if(!i.inline)return s.value?g():i.altPosition&&"boolean"!=typeof i.altPosition?v():(e&&r("recalculate-position"),S())},b=({inputEl:e,menuEl:t,left:r,width:o})=>{window.screen.width>768&&h(r,o),C(e,t)},y=(e,t)=>{const{top:r,left:o,height:s,width:l}=p(e);n.value.top=`${s+r+ +i.offset}px`,b({inputEl:e,menuEl:t,left:o,width:l}),a.value=!1},w=(e,t)=>{const{top:r,left:o,width:s}=p(e),{height:l}=t.getBoundingClientRect();n.value.top=r-l-+i.offset+"px",b({inputEl:e,menuEl:t,left:o,width:s}),a.value=!0},C=(e,t)=>{if(i.autoPosition){const{left:r,width:o}=p(e),{left:i,right:n}=t.getBoundingClientRect();if(i<0)return d(r);if(n>document.documentElement.clientWidth)return u(r,o)}},E=(e,t)=>{const{height:r}=t.getBoundingClientRect(),{top:o,height:i}=e.getBoundingClientRect(),n=window.innerHeight-o-i,a=o;return r<=n?y(e,t):r>n&&r<=a?w(e,t):n>=a?y(e,t):w(e,t)},S=()=>{const r=td(t),o=td(e);if(r&&o)return i.autoPosition?E(r,o):y(r,o)};return{openOnTop:a,menuPosition:n,setMenuPosition:m,setInitialPosition:f}},Pd=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],Md=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Ld={all:()=>Pd,monthYear:()=>Pd.filter((e=>e.use.includes("month-year"))),input:()=>Md,timePicker:()=>Pd.filter((e=>e.use.includes("time"))),action:()=>Pd.filter((e=>e.use.includes("action"))),calendar:()=>Pd.filter((e=>e.use.includes("calendar"))),menu:()=>Pd.filter((e=>e.use.includes("menu")))},Fd=(e,t,r)=>{const o=[];return Ld[t]().forEach((t=>{e[t.name]&&o.push(t.name)})),r&&r.length&&r.forEach((e=>{e.slot&&o.push(e.slot)})),o},Id=e=>({transitionName:(0,o.Fl)((()=>t=>e&&"boolean"!=typeof e?t?e.open:e.close:"")),showTransition:!!e}),Nd={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},Hd=["aria-label","aria-disabled","aria-readonly"],Gd={key:1,class:"dp__input_wrap"},Vd=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],zd={key:2,class:"dp__input_icon"},Bd={key:4,class:"dp__clear_icon"},jd=(0,o.aZ)({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Nd},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(e,{expose:t,emit:r}){const a=e,{getDefaultPattern:s,isValidDate:l,defaults:c}=fd(a),u=(0,Pi.iH)(),d=(0,Pi.iH)(null),h=(0,Pi.iH)(!1),p=(0,o.Fl)((()=>({dp__pointer:!a.disabled&&!a.readonly&&!a.textInput,dp__disabled:a.disabled,dp__input_readonly:!a.textInput,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:a.state,dp__input_invalid:!1===a.state,dp__input_focus:h.value||a.isMenuOpen,dp__input_reg:!a.textInput,[a.inputClassName]:!!a.inputClassName}))),f=()=>{r("set-input-date",null),a.autoApply&&(r("set-empty-date"),u.value=null)},g=e=>{var t;return jc(e,(null==(t=c.value.textInputOptions)?void 0:t.format)||s())},v=e=>{const{rangeSeparator:t}=c.value.textInputOptions,[r,o]=e.split(`${t}`);if(r){const e=g(r.trim()),t=o?g(o.trim()):null,i=e&&t?[e,t]:[e];u.value=e?i:null}},m=e=>{if(a.range)v(e);else if(a.multiDates){const t=e.split(";");u.value=t.map((e=>g(e.trim()))).filter((e=>e))}else u.value=g(e)},b=e=>{var t;const{value:o}=e.target;""!==o?(null!=(t=c.value.textInputOptions)&&t.openMenu&&!a.isMenuOpen&&r("open"),m(o),r("set-input-date",u.value)):f(),r("update:input-value",o)},y=()=>{var e,t;null!=(e=c.value.textInputOptions)&&e.enterSubmit&&l(u.value)&&""!==a.inputValue?(r("set-input-date",u.value,!0),u.value=null):null!=(t=c.value.textInputOptions)&&t.enterSubmit&&""===a.inputValue&&(u.value=null,r("clear"))},w=()=>{var e,t;null!=(e=c.value.textInputOptions)&&e.tabSubmit&&l(u.value)&&""!==a.inputValue?(r("set-input-date",u.value,!0),u.value=null):null!=(t=c.value.textInputOptions)&&t.tabSubmit&&""===a.inputValue&&(u.value=null,r("clear"))},C=()=>{h.value=!0,r("focus")},E=e=>{var t;e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),a.textInput&&null!=(t=c.value.textInputOptions)&&t.openMenu&&!a.inlineWithInput?a.isMenuOpen?c.value.textInputOptions.enterSubmit&&r("select-date"):r("open"):a.textInput||r("toggle")},S=()=>{h.value=!1,a.isMenuOpen||r("blur"),a.autoApply&&a.textInput&&u.value&&(r("set-input-date",u.value),r("select-date"),u.value=null)},x=()=>{r("clear")},T=e=>{a.textInput||e.preventDefault()};return t({focusInput:()=>{d.value&&d.value.focus({preventScroll:!0})}}),(t,r)=>{var a;return(0,o.wg)(),(0,o.iD)("div",{onClick:E,"aria-label":null==(a=(0,Pi.SU)(c).ariaLabels)?void 0:a.input,role:"textbox","aria-multiline":"false","aria-disabled":t.disabled,"aria-readonly":t.readonly},[!t.$slots.trigger||t.$slots["dp-input"]||t.inline?(0,o.kq)("",!0):(0,o.WI)(t.$slots,"trigger",{key:0}),t.$slots.trigger||t.inline&&!t.inlineWithInput?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Gd,[!t.$slots["dp-input"]||t.$slots.trigger||t.inline?(0,o.kq)("",!0):(0,o.WI)(t.$slots,"dp-input",{key:0,value:e.inputValue,onInput:b,onEnter:y,onTab:w,onClear:x}),t.$slots["dp-input"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("input",{key:1,ref_key:"inputRef",ref:d,id:t.uid?`dp-input-${t.uid}`:void 0,name:t.name,class:(0,i.C_)((0,Pi.SU)(p)),inputmode:t.textInput?"text":"none",placeholder:t.placeholder,disabled:t.disabled,readonly:t.readonly,required:t.required,value:e.inputValue,autocomplete:t.autocomplete,onInput:b,onKeydown:[(0,n.D2)(E,["enter"]),(0,n.D2)(w,["tab"])],onBlur:S,onFocus:C,onKeypress:T},null,42,Vd)),t.$slots["input-icon"]&&!t.hideInputIcon?((0,o.wg)(),(0,o.iD)("span",zd,[(0,o.WI)(t.$slots,"input-icon")])):(0,o.kq)("",!0),t.$slots["input-icon"]||t.hideInputIcon||t.$slots["dp-input"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(oc),{key:3,class:"dp__input_icon dp__input_icons"})),t.$slots["clear-icon"]&&e.inputValue&&t.clearable&&!t.disabled&&!t.readonly?((0,o.wg)(),(0,o.iD)("span",Bd,[(0,o.WI)(t.$slots,"clear-icon",{clear:x})])):(0,o.kq)("",!0),!t.clearable||t.$slots["clear-icon"]||!e.inputValue||t.disabled||t.readonly?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(uc),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:(0,n.iM)(x,["stop","prevent"])},null,8,["onClick"]))]))],8,Hd)}}}),Wd={class:"dp__selection_preview"},Ud={class:"dp__action_buttons"},$d=["onKeydown"],Kd=(0,o.aZ)({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Nd},emits:["close-picker","select-date","invalid-select"],setup(e,{emit:t}){const r=e,{formatDate:a,isValidTime:s,defaults:l}=fd(r),{buildMatrix:c}=Sd(),u=(0,Pi.iH)(null),d=(0,Pi.iH)(null);(0,o.bv)((()=>{r.arrowNavigation&&c([td(u),td(d)],"actionRow")}));const h=(0,o.Fl)((()=>!(r.range&&!r.partialRange&&r.internalModelValue)||2===r.internalModelValue.length)),p=(0,o.Fl)((()=>!g.value||!v.value||!h.value)),f=(0,o.Fl)((()=>({dp__action:!0,dp__select:!0,dp__action_disabled:p.value}))),g=(0,o.Fl)((()=>!(r.enableTimePicker&&!r.ignoreTimeValidation)||s(r.internalModelValue))),v=(0,o.Fl)((()=>!r.monthPicker||w(r.internalModelValue))),m=()=>{const e=l.value.previewFormat;return r.timePicker||r.monthPicker,e(nd(r.internalModelValue))},b=()=>{const e=r.internalModelValue;return l.value.multiCalendars>0?`${a(e[0])} - ${a(e[1])}`:[a(e[0]),a(e[1])]},y=(0,o.Fl)((()=>r.internalModelValue&&r.menuMount?"string"==typeof l.value.previewFormat?Array.isArray(r.internalModelValue)?2===r.internalModelValue.length&&r.internalModelValue[1]?b():r.multiDates?r.internalModelValue.map((e=>`${a(e)}`)):r.modelAuto?`${a(r.internalModelValue[0])}`:`${a(r.internalModelValue[0])} -`:a(r.internalModelValue):m():"")),w=e=>{if(!r.monthPicker)return!0;let t=!0;return r.minDate&&r.maxDate?Xc(Wc(e),Wc(r.minDate))&&Yc(Wc(e),Wc(r.maxDate)):(r.minDate&&(t=Xc(Wc(e),Wc(r.minDate))),r.maxDate&&(t=Yc(Wc(e),Wc(r.maxDate))),t)},C=()=>{g.value&&v.value&&h.value?t("select-date"):t("invalid-select")};return(t,r)=>((0,o.wg)(),(0,o.iD)("div",{class:"dp__action_row",style:(0,i.j5)(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[t.$slots["action-row"]?(0,o.WI)(t.$slots,"action-row",(0,i.vs)((0,o.dG)({key:0},{internalModelValue:e.internalModelValue,disabled:(0,Pi.SU)(p),selectDate:()=>t.$emit("select-date"),closePicker:()=>t.$emit("close-picker")}))):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",Wd,[t.$slots["action-preview"]?(0,o.WI)(t.$slots,"action-preview",{key:0,value:e.internalModelValue}):(0,o.kq)("",!0),t.$slots["action-preview"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[Array.isArray((0,Pi.SU)(y))?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,i.zw)((0,Pi.SU)(y)),1)],64)),Array.isArray((0,Pi.SU)(y))?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)((0,Pi.SU)(y),((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},(0,i.zw)(e),1)))),128)):(0,o.kq)("",!0)],64))]),(0,o._)("div",Ud,[t.$slots["action-select"]?(0,o.WI)(t.$slots,"action-select",{key:0,value:e.internalModelValue}):(0,o.kq)("",!0),t.$slots["action-select"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[t.inline?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:u,tabindex:"0",onClick:r[0]||(r[0]=e=>t.$emit("close-picker")),onKeydown:[r[1]||(r[1]=(0,n.D2)((e=>t.$emit("close-picker")),["enter"])),r[2]||(r[2]=(0,n.D2)((e=>t.$emit("close-picker")),["space"]))]},(0,i.zw)(t.cancelText),545)),(0,o._)("span",{class:(0,i.C_)((0,Pi.SU)(f)),tabindex:"0",onKeydown:[(0,n.D2)(C,["enter"]),(0,n.D2)(C,["space"])],onClick:C,"data-test":"select-button",ref_key:"selectButtonRef",ref:d},(0,i.zw)(t.selectText),43,$d)],64))])],64))],4))}}),Yd=["aria-label"],qd={class:"dp__calendar_header",role:"row"},Xd={key:0,class:"dp__calendar_header_item",role:"gridcell"},Jd=(0,o._)("div",{class:"dp__calendar_header_separator"},null,-1),Qd=["aria-label"],Zd={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},eh={class:"dp__cell_inner"},th=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],rh=(0,o._)("div",{class:"dp__arrow_bottom_tp"},null,-1),oh=(0,o.aZ)({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Nd},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:r}){const a=e,{buildMultiLevelMatrix:s}=Sd(),{setDateMonthOrYear:l,defaults:c}=fd(a),u=(0,Pi.iH)(null),d=(0,Pi.iH)({bottom:"",left:"",transform:""}),h=(0,Pi.iH)([]),p=(0,Pi.iH)(null),f=(0,Pi.iH)(!0),g=(0,Pi.iH)(""),v=(0,Pi.iH)({startX:0,endX:0,startY:0,endY:0}),m=(0,o.Fl)((()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Ju(a.locale,+a.weekStart)));(0,o.bv)((()=>{r("mount",{cmp:"calendar",refs:h}),a.noSwipe||p.value&&(p.value.addEventListener("touchstart",R,{passive:!1}),p.value.addEventListener("touchend",O,{passive:!1}),p.value.addEventListener("touchmove",D,{passive:!1})),a.monthChangeOnScroll&&p.value&&p.value.addEventListener("wheel",M,{passive:!1})}));const b=e=>e?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",y=(e,t)=>{if(a.transitions){const r=$c(l(Wc(),a.month,a.year));g.value=Xc($c(l(Wc(),e,t)),r)?c.value.transitions[b(!0)]:c.value.transitions[b(!1)],f.value=!1,(0,o.Y3)((()=>{f.value=!0}))}},w=(0,o.Fl)((()=>({dp__calendar_wrap:!0,[a.calendarClassName]:!!a.calendarClassName}))),C=(0,o.Fl)((()=>e=>{const t=rd(e);return{dp__marker_dot:"dot"===t.type,dp__marker_line:"line"===t.type}})),E=(0,o.Fl)((()=>e=>qc(e,u.value))),S=(0,o.Fl)((()=>({dp__calendar:!0,dp__calendar_next:c.value.multiCalendars>0&&0!==a.instance}))),x=(0,o.Fl)((()=>e=>!a.hideOffsetDates||e.current)),T=(0,o.Fl)((()=>a.specificMode?{height:`${a.modeHeight}px`}:void 0)),k=(e,t,o)=>{var i,n;if(r("set-hover-date",e),null!=(n=null==(i=e.marker)?void 0:i.tooltip)&&n.length){const i=td(h.value[t][o]);if(i){const{width:t,height:o}=i.getBoundingClientRect();d.value={bottom:`${o}px`,left:t/2+"px",transform:"translateX(-50%)"},u.value=e.value,r("tooltip-open",e.value)}}},_=e=>{u.value&&(u.value=null,r("tooltip-close",e.value))},R=e=>{v.value.startX=e.changedTouches[0].screenX,v.value.startY=e.changedTouches[0].screenY},O=e=>{v.value.endX=e.changedTouches[0].screenX,v.value.endY=e.changedTouches[0].screenY,A()},D=e=>{a.vertical&&!a.inline&&e.preventDefault()},A=()=>{const e=a.vertical?"Y":"X";Math.abs(v.value[`start${e}`]-v.value[`end${e}`])>10&&r("handle-swipe",v.value[`start${e}`]>v.value[`end${e}`]?"right":"left")},P=(e,t,r)=>{e&&(Array.isArray(h.value[t])?h.value[t][r]=e:h.value[t]=[e]),a.arrowNavigation&&s(h.value,"calendar")},M=e=>{a.monthChangeOnScroll&&(e.preventDefault(),r("handle-scroll",e))};return t({triggerTransition:y}),(t,r)=>{var a;return(0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)((0,Pi.SU)(S))},[(0,o._)("div",{style:(0,i.j5)((0,Pi.SU)(T))},[e.specificMode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,ref_key:"calendarWrapRef",ref:p,class:(0,i.C_)((0,Pi.SU)(w)),role:"grid","aria-label":null==(a=(0,Pi.SU)(c).ariaLabels)?void 0:a.calendarWrap},[(0,o._)("div",qd,[t.weekNumbers?((0,o.wg)(),(0,o.iD)("div",Xd,(0,i.zw)(t.weekNumName),1)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,Pi.SU)(m),((e,r)=>((0,o.wg)(),(0,o.iD)("div",{class:"dp__calendar_header_item",role:"gridcell",key:r,"data-test":"calendar-header"},[t.$slots["calendar-header"]?(0,o.WI)(t.$slots,"calendar-header",{key:0,day:e,index:r}):(0,o.kq)("",!0),t.$slots["calendar-header"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(e),1)],64))])))),128))]),Jd,(0,o.Wm)(n.uT,{name:g.value,css:!!t.transitions},{default:(0,o.w5)((()=>{var a;return[f.value?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"dp__calendar",role:"grid","aria-label":null==(a=(0,Pi.SU)(c).ariaLabels)?void 0:a.calendarDays},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.mappedDates,((a,s)=>((0,o.wg)(),(0,o.iD)("div",{class:"dp__calendar_row",role:"row",key:s},[t.weekNumbers?((0,o.wg)(),(0,o.iD)("div",Zd,[(0,o._)("div",eh,(0,i.zw)(e.getWeekNum(a.days)),1)])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.days,((e,a)=>{var l,u,h;return(0,o.wg)(),(0,o.iD)("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:e=>P(e,s,a),key:a+s,"aria-selected":e.classData.dp__active_date||e.classData.dp__range_start||e.classData.dp__range_start,"aria-disabled":e.classData.dp__cell_disabled,"aria-label":null==(u=null==(l=(0,Pi.SU)(c).ariaLabels)?void 0:l.day)?void 0:u.call(l,e),tabindex:"0","data-test":e.value,onClick:(0,n.iM)((r=>t.$emit("select-date",e)),["stop","prevent"]),onKeydown:[(0,n.D2)((r=>t.$emit("select-date",e)),["enter"]),(0,n.D2)((r=>t.$emit("handle-space",e)),["space"])],onMouseenter:t=>k(e,s,a),onMouseleave:t=>_(e)},[(0,o._)("div",{class:(0,i.C_)(["dp__cell_inner",e.classData])},[t.$slots.day&&(0,Pi.SU)(x)(e)?(0,o.WI)(t.$slots,"day",{key:0,day:+e.text,date:e.value}):(0,o.kq)("",!0),t.$slots.day?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(e.text),1)],64)),e.marker&&(0,Pi.SU)(x)(e)?((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,i.C_)((0,Pi.SU)(C)(e.marker)),style:(0,i.j5)(e.marker.color?{backgroundColor:e.marker.color}:{})},null,6)):(0,o.kq)("",!0),(0,Pi.SU)(E)(e.value)?((0,o.wg)(),(0,o.iD)("div",{key:3,class:"dp__marker_tooltip",style:(0,i.j5)(d.value)},[null!=(h=e.marker)&&h.tooltip?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"dp__tooltip_content",onClick:r[0]||(r[0]=(0,n.iM)((()=>{}),["stop"]))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.marker.tooltip,((r,n)=>((0,o.wg)(),(0,o.iD)("div",{key:n,class:"dp__tooltip_text"},[t.$slots["marker-tooltip"]?(0,o.WI)(t.$slots,"marker-tooltip",{key:0,tooltip:r,day:e.value}):(0,o.kq)("",!0),t.$slots["marker-tooltip"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",{class:"dp__tooltip_mark",style:(0,i.j5)(r.color?{backgroundColor:r.color}:{})},null,4),(0,o._)("div",null,(0,i.zw)(r.text),1)],64))])))),128)),rh])):(0,o.kq)("",!0)],4)):(0,o.kq)("",!0)],2)],40,th)})),128))])))),128))],8,Qd)):(0,o.kq)("",!0)]})),_:3},8,["name","css"])],10,Yd))],4)],2)}}}),ih=["aria-label","aria-disabled"],nh=(0,o.aZ)({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(e,{emit:t}){const r=(0,Pi.iH)(null);return(0,o.bv)((()=>t("set-ref",r))),(t,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"dp__month_year_col_nav",onClick:a[0]||(a[0]=e=>t.$emit("activate")),onKeydown:[a[1]||(a[1]=(0,n.D2)((e=>t.$emit("activate")),["enter"])),a[2]||(a[2]=(0,n.D2)((e=>t.$emit("activate")),["space"]))],tabindex:"0",role:"button","aria-label":e.ariaLabel,"aria-disabled":e.disabled,ref_key:"elRef",ref:r},[(0,o._)("div",{class:(0,i.C_)(["dp__inner_nav",{dp__inner_nav_disabled:e.disabled}])},[(0,o.WI)(t.$slots,"default")],2)],40,ih))}}),ah=["onKeydown"],sh={class:"dp__selection_grid_header"},lh=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],ch=["aria-label","onKeydown"],uh=(0,o.aZ)({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(e,{expose:t,emit:r}){const a=e,{setSelectionGrid:s,buildMultiLevelMatrix:l,setMonthPicker:c}=Sd(),{hideNavigationButtons:u}=fd(a),d=(0,Pi.iH)(!1),h=(0,Pi.iH)(null),p=(0,Pi.iH)(null),f=(0,Pi.iH)([]),g=(0,Pi.iH)(),v=(0,Pi.iH)(null),m=(0,Pi.iH)(0),b=(0,Pi.iH)(null);(0,o.Xn)((()=>{h.value=null})),(0,o.bv)((()=>{(0,o.Y3)().then((()=>R())),w(),y(!0)})),(0,o.Ah)((()=>y(!1)));const y=e=>{var t;a.arrowNavigation&&(null!=(t=a.headerRefs)&&t.length?c(e):s(e))},w=()=>{const e=td(p);e&&(a.textInput||e.focus({preventScroll:!0}),d.value=e.clientHeight<e.scrollHeight)},C=(0,o.Fl)((()=>({dp__overlay:!0}))),E=(0,o.Fl)((()=>({dp__overlay_col:!0}))),S=e=>!a.skipActive&&e.value===a.modelValue,x=(0,o.Fl)((()=>a.items.map((e=>e.filter((e=>e)).map((e=>{var t,r,o;const i=a.disabledValues.some((t=>t===e.value))||_(e.value),n=null!=(t=a.multiModelValue)&&t.length?null==(r=a.multiModelValue)?void 0:r.some((t=>qc(t,Ol(a.monthPicker?Rl(new Date,e.value):new Date,a.monthPicker?a.year:e.value)))):S(e);return{...e,className:{dp__overlay_cell_active:n,dp__overlay_cell:!n,dp__overlay_cell_disabled:i,dp__overlay_cell_active_disabled:i&&n,dp__overlay_cell_pad:!0,dp__cell_in_between:!(null==(o=a.multiModelValue)||!o.length)&&D(e.value)}}})))))),T=(0,o.Fl)((()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:d.value,dp__button_bottom:a.autoApply}))),k=(0,o.Fl)((()=>{var e,t;return{dp__overlay_container:!0,dp__container_flex:(null==(e=a.items)?void 0:e.length)<=6,dp__container_block:(null==(t=a.items)?void 0:t.length)>6}})),_=e=>{const t=a.maxValue||0===a.maxValue,r=a.minValue||0===a.minValue;return!(!t&&!r)&&(t&&r?+e>+a.maxValue||+e<+a.minValue:t?+e>+a.maxValue:!!r&&+e<+a.minValue)},R=()=>{const e=td(h),t=td(p),r=td(v),o=td(b),i=r?r.getBoundingClientRect().height:0;t&&(m.value=t.getBoundingClientRect().height-i),e&&o&&(o.scrollTop=e.offsetTop-o.offsetTop-(m.value/2-e.getBoundingClientRect().height)-i)},O=e=>{!a.disabledValues.some((t=>t===e))&&!_(e)&&(r("update:model-value",e),r("selected"))},D=e=>{const t=a.monthPicker?a.year:e;return Jc(a.multiModelValue,Ol(a.monthPicker?Rl(new Date,g.value||0):new Date,a.monthPicker?t:g.value||t),Ol(a.monthPicker?Rl(new Date,e):new Date,t))},A=()=>{r("toggle"),r("reset-flow")},P=()=>{a.escClose&&A()},M=(e,t,r,o)=>{e&&(t.value===+a.modelValue&&!a.disabledValues.includes(t.value)&&(h.value=e),a.arrowNavigation&&(Array.isArray(f.value[r])?f.value[r][o]=e:f.value[r]=[e],L()))},L=()=>{var e,t;const r=null!=(e=a.headerRefs)&&e.length?[a.headerRefs].concat(f.value):f.value.concat([a.skipButtonRef?[]:[v.value]]);l(nd(r),null!=(t=a.headerRefs)&&t.length?"monthPicker":"selectionGrid")};return t({focusGrid:w}),(t,r)=>{var a;return(0,o.wg)(),(0,o.iD)("div",{ref_key:"gridWrapRef",ref:p,class:(0,i.C_)((0,Pi.SU)(C)),role:"dialog",tabindex:"0",onKeydown:(0,n.D2)(P,["esc"])},[(0,o._)("div",{class:(0,i.C_)((0,Pi.SU)(k)),ref_key:"containerRef",ref:b,role:"grid",style:(0,i.j5)({height:`${m.value}px`})},[(0,o._)("div",sh,[(0,o.WI)(t.$slots,"header")]),t.$slots.overlay?(0,o.WI)(t.$slots,"overlay",{key:0}):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)((0,Pi.SU)(x),((r,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"dp__overlay_row",key:a,role:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r,((r,s)=>((0,o.wg)(),(0,o.iD)("div",{role:"gridcell",class:(0,i.C_)((0,Pi.SU)(E)),key:r.value,"aria-selected":r.value===e.modelValue&&!e.disabledValues.includes(r.value),"aria-disabled":r.className.dp__overlay_cell_disabled,ref_for:!0,ref:e=>M(e,r,a,s),tabindex:"0","data-test":r.text,onClick:e=>O(r.value),onKeydown:[(0,n.D2)((e=>O(r.value)),["enter"]),(0,n.D2)((e=>O(r.value)),["space"])],onMouseover:e=>g.value=r.value},[(0,o._)("div",{class:(0,i.C_)(r.className)},[t.$slots.item?(0,o.WI)(t.$slots,"item",{key:0,item:r}):(0,o.kq)("",!0),t.$slots.item?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(r.text),1)],64))],2)],42,lh)))),128))])))),128))],6),t.$slots["button-icon"]?(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{key:0,role:"button","aria-label":null==(a=e.ariaLabels)?void 0:a.toggleOverlay,class:(0,i.C_)((0,Pi.SU)(T)),tabindex:"0",ref_key:"toggleButton",ref:v,onClick:A,onKeydown:(0,n.D2)(A,["enter"])},[(0,o.WI)(t.$slots,"button-icon")],42,ch)),[[n.F8,!(0,Pi.SU)(u)(e.type)]]):(0,o.kq)("",!0)],42,ah)}}}),dh=["aria-label"],hh=(0,o.aZ)({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(e,{emit:t}){const r=e,{transitionName:i,showTransition:a}=Id(r.transitions),s=(0,Pi.iH)(null);return(0,o.bv)((()=>t("set-ref",s))),(t,r)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",{class:"dp__month_year_select",onClick:r[0]||(r[0]=e=>t.$emit("toggle")),onKeydown:[r[1]||(r[1]=(0,n.D2)((e=>t.$emit("toggle")),["enter"])),r[2]||(r[2]=(0,n.D2)((e=>t.$emit("toggle")),["space"]))],role:"button","aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:s},[(0,o.WI)(t.$slots,"default")],40,dh),(0,o.Wm)(n.uT,{name:(0,Pi.SU)(i)(e.showSelectionGrid),css:(0,Pi.SU)(a)},{default:(0,o.w5)((()=>[e.showSelectionGrid?((0,o.wg)(),(0,o.j4)(uh,(0,o.dG)({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue,escClose:e.escClose,type:e.type,arrowNavigation:e.arrowNavigation,textInput:e.textInput,autoApply:e.autoApply,ariaLabels:e.ariaLabels,hideNavigation:e.hideNavigation},{"header-refs":[],"onUpdate:modelValue":r[3]||(r[3]=e=>t.$emit("update:model-value",e)),onToggle:r[4]||(r[4]=e=>t.$emit("toggle"))}),(0,o.Nv)({"button-icon":(0,o.w5)((()=>[t.$slots["calendar-icon"]?(0,o.WI)(t.$slots,"calendar-icon",{key:0}):(0,o.kq)("",!0),t.$slots["calendar-icon"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(oc),{key:1}))])),_:2},[t.$slots[e.slotName]?{name:"item",fn:(0,o.w5)((({item:r})=>[(0,o.WI)(t.$slots,e.slotName,{item:r})])),key:"0"}:void 0,t.$slots[e.overlaySlot]?{name:"overlay",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,e.overlaySlot)])),key:"1"}:void 0,t.$slots[`${e.overlaySlot}-header`]?{name:"header",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,`${e.overlaySlot}-header`)])),key:"2"}:void 0]),1040)):(0,o.kq)("",!0)])),_:3},8,["name","css"])],64))}}),ph={class:"dp__month_year_row"},fh={class:"dp__month_year_wrap"},gh={class:"dp__month_picker_header"},vh=["aria-label"],mh=["aria-label"],bh=["aria-label"],yh=(0,o.aZ)({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Nd},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:r}){const a=e,{defaults:s}=fd(a),{transitionName:l,showTransition:c}=Id(s.value.transitions),{buildMatrix:u}=Sd(),{handleMonthYearChange:d,isDisabled:h,updateMonthYear:p}=Od(a,r),f=(0,Pi.iH)(!1),g=(0,Pi.iH)(!1),v=(0,Pi.iH)([null,null,null,null]),m=(0,Pi.iH)(null),b=(0,Pi.iH)(null),y=(0,Pi.iH)(null);(0,o.bv)((()=>{r("mount")}));const w=e=>({get:()=>a[e],set:t=>{const o="month"===e?"year":"month";r("update-month-year",{[e]:t,[o]:a[o]}),r("month-year-select","year"===e),"month"===e?G(!0):V(!0)}}),C=(0,o.Fl)(w("month")),E=(0,o.Fl)(w("year")),S=e=>{const t=tl(Wc(e));return a.year===t},x=(0,o.Fl)((()=>a.monthPicker&&Array.isArray(a.disabledDates)?a.disabledDates.map((e=>Wc(e))).filter((e=>S(e))).map((e=>Zs(e))):[])),T=(0,o.Fl)((()=>e=>{const t="month"===e;return{showSelectionGrid:(t?f:g).value,items:(t?F:I).value,disabledValues:s.value.filters[t?"months":"years"].concat(x.value),minValue:(t?O:_).value,maxValue:(t?D:R).value,headerRefs:t&&a.monthPicker?[m.value,b.value,y.value]:[],escClose:a.escClose,transitions:s.value.transitions,ariaLabels:s.value.ariaLabels,textInput:a.textInput,autoApply:a.autoApply,arrowNavigation:a.arrowNavigation,hideNavigation:a.hideNavigation}})),k=(0,o.Fl)((()=>e=>({month:a.month,year:a.year,items:"month"===e?a.months:a.years,instance:a.instance,updateMonthYear:p,toggle:"month"===e?G:V}))),_=(0,o.Fl)((()=>a.minDate?tl(Wc(a.minDate)):null)),R=(0,o.Fl)((()=>a.maxDate?tl(Wc(a.maxDate)):null)),O=(0,o.Fl)((()=>{if(a.minDate&&_.value){if(_.value>a.year)return 12;if(_.value===a.year)return Zs(Wc(a.minDate))}return null})),D=(0,o.Fl)((()=>a.maxDate&&R.value?R.value<a.year?-1:R.value===a.year?Zs(Wc(a.maxDate)):null:null)),A=(0,o.Fl)((()=>a.range&&a.internalModelValue&&(a.monthPicker||a.yearPicker)?a.internalModelValue:[])),P=e=>e.reverse(),M=(e,t=!1)=>{const r=[],o=e=>t?P(e):e;for(let i=0;i<e.length;i+=3){const t=[e[i],e[i+1],e[i+2]];r.push(o(t))}return t?r.reverse():r},L=(0,o.Fl)((()=>{const e=a.months.find((e=>e.value===a.month));return e||{text:"",value:0}})),F=(0,o.Fl)((()=>M(a.months))),I=(0,o.Fl)((()=>M(a.years,a.reverseYears))),N=(0,o.Fl)((()=>!s.value.multiCalendars||(!!a.multiCalendarsSolo||0===a.instance))),H=(0,o.Fl)((()=>!s.value.multiCalendars||(!!a.multiCalendarsSolo||a.instance===s.value.multiCalendars-1))),G=(e=!1)=>{z(e),f.value=!f.value,f.value||r("overlay-closed")},V=(e=!1)=>{z(e),g.value=!g.value,g.value||r("overlay-closed")},z=e=>{e||r("reset-flow")},B=(e=!1)=>{h.value(e)||r("update-month-year",{year:e?a.year+1:a.year-1,month:a.month,fromNav:!0})},j=(e,t)=>{a.arrowNavigation&&(v.value[t]=td(e),u(v.value,"monthYear"))};return t({toggleMonthPicker:G,toggleYearPicker:V}),(t,r)=>{var a,u,f,v,w;return(0,o.wg)(),(0,o.iD)("div",ph,[t.$slots["month-year"]?(0,o.WI)(t.$slots,"month-year",(0,i.vs)((0,o.dG)({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:(0,Pi.SU)(p),handleMonthYearChange:(0,Pi.SU)(d),instance:e.instance}))):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[t.monthPicker||t.yearPicker?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,Pi.SU)(N)&&!t.vertical?((0,o.wg)(),(0,o.j4)(nh,{key:0,"aria-label":null==(a=(0,Pi.SU)(s).ariaLabels)?void 0:a.prevMonth,disabled:(0,Pi.SU)(h)(!1),onActivate:r[0]||(r[0]=e=>(0,Pi.SU)(d)(!1)),onSetRef:r[1]||(r[1]=e=>j(e,0))},{default:(0,o.w5)((()=>[t.$slots["arrow-left"]?(0,o.WI)(t.$slots,"arrow-left",{key:0}):(0,o.kq)("",!0),t.$slots["arrow-left"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(vc),{key:1}))])),_:3},8,["aria-label","disabled"])):(0,o.kq)("",!0),(0,o._)("div",fh,[(0,o.Wm)(hh,(0,o.dG)({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":null==(u=(0,Pi.SU)(s).ariaLabels)?void 0:u.openMonthsOverlay,modelValue:(0,Pi.SU)(C),"onUpdate:modelValue":r[2]||(r[2]=e=>(0,Pi.dq)(C)?C.value=e:null)},(0,Pi.SU)(T)("month"),{onToggle:G,onSetRef:r[3]||(r[3]=e=>j(e,1))}),(0,o.Nv)({default:(0,o.w5)((()=>[t.$slots.month?(0,o.WI)(t.$slots,"month",(0,i.vs)((0,o.dG)({key:0},(0,Pi.SU)(L)))):(0,o.kq)("",!0),t.$slots.month?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)((0,Pi.SU)(L).text),1)],64))])),_:2},[t.$slots["calendar-icon"]?{name:"calendar-icon",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"calendar-icon")])),key:"0"}:void 0,t.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:(0,o.w5)((({item:e})=>[(0,o.WI)(t.$slots,"month-overlay-value",{text:e.text,value:e.value})])),key:"1"}:void 0,t.$slots["month-overlay"]?{name:"overlay-month",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"month-overlay",(0,i.vs)((0,o.F4)((0,Pi.SU)(k)("month"))))])),key:"2"}:void 0,t.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"month-overlay-header",{toggle:G})])),key:"3"}:void 0]),1040,["aria-label","modelValue"]),(0,o.Wm)(hh,(0,o.dG)({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":null==(f=(0,Pi.SU)(s).ariaLabels)?void 0:f.openYearsOverlay,modelValue:(0,Pi.SU)(E),"onUpdate:modelValue":r[4]||(r[4]=e=>(0,Pi.dq)(E)?E.value=e:null)},(0,Pi.SU)(T)("year"),{onToggle:V,onSetRef:r[5]||(r[5]=e=>j(e,2))}),(0,o.Nv)({default:(0,o.w5)((()=>[t.$slots.year?(0,o.WI)(t.$slots,"year",{key:0,year:e.year}):(0,o.kq)("",!0),t.$slots.year?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(e.year),1)],64))])),_:2},[t.$slots["calendar-icon"]?{name:"calendar-icon",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"calendar-icon")])),key:"0"}:void 0,t.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:(0,o.w5)((({item:e})=>[(0,o.WI)(t.$slots,"year-overlay-value",{text:e.text,value:e.value})])),key:"1"}:void 0,t.$slots["year-overlay"]?{name:"overlay-year",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"year-overlay",(0,i.vs)((0,o.F4)((0,Pi.SU)(k)("year"))))])),key:"2"}:void 0,t.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"year-overlay-header",{toggle:V})])),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),(0,Pi.SU)(N)&&t.vertical?((0,o.wg)(),(0,o.j4)(nh,{key:1,"aria-label":null==(v=(0,Pi.SU)(s).ariaLabels)?void 0:v.prevMonth,disabled:(0,Pi.SU)(h)(!1),onActivate:r[6]||(r[6]=e=>(0,Pi.SU)(d)(!1))},{default:(0,o.w5)((()=>[t.$slots["arrow-up"]?(0,o.WI)(t.$slots,"arrow-up",{key:0}):(0,o.kq)("",!0),t.$slots["arrow-up"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(Fc),{key:1}))])),_:3},8,["aria-label","disabled"])):(0,o.kq)("",!0),(0,Pi.SU)(H)?((0,o.wg)(),(0,o.j4)(nh,{key:2,ref:"rightIcon",disabled:(0,Pi.SU)(h)(!0),"aria-label":null==(w=(0,Pi.SU)(s).ariaLabels)?void 0:w.nextMonth,onActivate:r[7]||(r[7]=e=>(0,Pi.SU)(d)(!0)),onSetRef:r[8]||(r[8]=e=>j(e,3))},{default:(0,o.w5)((()=>[t.$slots[t.vertical?"arrow-down":"arrow-right"]?(0,o.WI)(t.$slots,t.vertical?"arrow-down":"arrow-right",{key:0}):(0,o.kq)("",!0),t.$slots[t.vertical?"arrow-down":"arrow-right"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,o.LL)(t.vertical?(0,Pi.SU)(zc):(0,Pi.SU)(Ec)),{key:1}))])),_:3},8,["disabled","aria-label"])):(0,o.kq)("",!0)],64)),t.monthPicker?((0,o.wg)(),(0,o.j4)(uh,(0,o.dG)({key:1},(0,Pi.SU)(T)("month"),{"skip-active":t.range,year:e.year,"multi-model-value":(0,Pi.SU)(A),"month-picker":"",modelValue:(0,Pi.SU)(C),"onUpdate:modelValue":r[17]||(r[17]=e=>(0,Pi.dq)(C)?C.value=e:null),onToggle:G,onSelected:r[18]||(r[18]=e=>t.$emit("overlay-closed"))}),(0,o.Nv)({header:(0,o.w5)((()=>{var a,u,d;return[(0,o._)("div",gh,[(0,o._)("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:m,onClick:r[9]||(r[9]=e=>B(!1)),onKeydown:r[10]||(r[10]=(0,n.D2)((e=>B(!1)),["enter"]))},[(0,o._)("div",{class:(0,i.C_)(["dp__inner_nav",{dp__inner_nav_disabled:(0,Pi.SU)(h)(!1)}]),role:"button","aria-label":null==(a=(0,Pi.SU)(s).ariaLabels)?void 0:a.prevMonth},[t.$slots["arrow-left"]?(0,o.WI)(t.$slots,"arrow-left",{key:0}):(0,o.kq)("",!0),t.$slots["arrow-left"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(vc),{key:1}))],10,vh)],544),(0,o._)("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:b,"aria-label":null==(u=(0,Pi.SU)(s).ariaLabels)?void 0:u.openYearsOverlay,tabindex:"0",onClick:r[11]||(r[11]=()=>V(!1)),onKeydown:r[12]||(r[12]=(0,n.D2)((()=>V(!1)),["enter"]))},[t.$slots.year?(0,o.WI)(t.$slots,"year",{key:0,year:e.year}):(0,o.kq)("",!0),t.$slots.year?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(e.year),1)],64))],40,mh),(0,o._)("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:y,onClick:r[13]||(r[13]=e=>B(!0)),onKeydown:r[14]||(r[14]=(0,n.D2)((e=>B(!0)),["enter"]))},[(0,o._)("div",{class:(0,i.C_)(["dp__inner_nav",{dp__inner_nav_disabled:(0,Pi.SU)(h)(!0)}]),role:"button","aria-label":null==(d=(0,Pi.SU)(s).ariaLabels)?void 0:d.nextMonth},[t.$slots["arrow-right"]?(0,o.WI)(t.$slots,"arrow-right",{key:0}):(0,o.kq)("",!0),t.$slots["arrow-right"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(Ec),{key:1}))],10,bh)],544)]),(0,o.Wm)(n.uT,{name:(0,Pi.SU)(l)(g.value),css:(0,Pi.SU)(c)},{default:(0,o.w5)((()=>[g.value?((0,o.wg)(),(0,o.j4)(uh,(0,o.dG)({key:0},(0,Pi.SU)(T)("year"),{modelValue:(0,Pi.SU)(E),"onUpdate:modelValue":r[15]||(r[15]=e=>(0,Pi.dq)(E)?E.value=e:null),onToggle:V,onSelected:r[16]||(r[16]=e=>t.$emit("overlay-closed"))}),(0,o.Nv)({"button-icon":(0,o.w5)((()=>[t.$slots["calendar-icon"]?(0,o.WI)(t.$slots,"calendar-icon",{key:0}):(0,o.kq)("",!0),t.$slots["calendar-icon"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(oc),{key:1}))])),_:2},[t.$slots["year-overlay-value"]?{name:"item",fn:(0,o.w5)((({item:e})=>[(0,o.WI)(t.$slots,"year-overlay-value",{text:e.text,value:e.value})])),key:"0"}:void 0]),1040,["modelValue"])):(0,o.kq)("",!0)])),_:3},8,["name","css"])]})),_:2},[t.$slots["month-overlay-value"]?{name:"item",fn:(0,o.w5)((({item:e})=>[(0,o.WI)(t.$slots,"month-overlay-value",{text:e.text,value:e.value})])),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):(0,o.kq)("",!0),t.yearPicker?((0,o.wg)(),(0,o.j4)(uh,(0,o.dG)({key:2},(0,Pi.SU)(T)("year"),{modelValue:(0,Pi.SU)(E),"onUpdate:modelValue":r[19]||(r[19]=e=>(0,Pi.dq)(E)?E.value=e:null),"multi-model-value":(0,Pi.SU)(A),"skip-active":t.range,"skip-button-ref":"","year-picker":"",onToggle:V,onSelected:r[20]||(r[20]=e=>t.$emit("overlay-closed"))}),(0,o.Nv)({_:2},[t.$slots["year-overlay-value"]?{name:"item",fn:(0,o.w5)((({item:e})=>[(0,o.WI)(t.$slots,"year-overlay-value",{text:e.text,value:e.value})])),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):(0,o.kq)("",!0)],64))])}}}),wh={key:0,class:"dp__time_input"},Ch=["aria-label","onKeydown","onClick"],Eh=["aria-label","data-test","onKeydown","onClick"],Sh=["aria-label","onKeydown","onClick"],xh={key:0},Th=["aria-label","onKeydown"],kh=(0,o.aZ)({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Nd},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(e,{expose:t,emit:r}){const a=e,{setTimePickerElements:s,setTimePickerBackRef:l}=Sd(),{defaults:c}=fd(a),{transitionName:u,showTransition:d}=Id(c.value.transitions),h=(0,Pi.qj)({hours:!1,minutes:!1,seconds:!1}),p=(0,Pi.iH)("AM"),f=(0,Pi.iH)(null),g=(0,Pi.iH)([]);(0,o.bv)((()=>{r("mounted")}));const v=(0,o.Fl)((()=>e=>!!(a.maxTime&&a.maxTime[e]&&a.maxTime[e]<a[e]+ +a[`${e}Increment`]))),m=(0,o.Fl)((()=>e=>!!(a.minTime&&a.minTime[e]&&a.minTime[e]>a[e]-+a[`${e}Increment`]))),b=(e,t)=>Ml(Dl(Wc(),e),t),y=(e,t)=>Kl(Dl(Wc(),e),t),w=(0,o.Fl)((()=>({dp__time_col:!0,dp__time_col_reg:!a.enableSeconds&&a.is24,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24}))),C=(0,o.Fl)((()=>{const e=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return a.enableSeconds?e.concat([{type:"",separator:!0},{type:"seconds"}]):e})),E=(0,o.Fl)((()=>C.value.filter((e=>!e.separator)))),S=(0,o.Fl)((()=>e=>{if("hours"===e){const e=A(a.hours);return{text:e<10?`0${e}`:`${e}`,value:e}}return{text:a[e]<10?`0${a[e]}`:`${a[e]}`,value:a[e]}})),x=e=>{const t=a.is24?24:12,r="hours"===e?t:60,o=+a[`${e}GridIncrement`],i="hours"!==e||a.is24?0:o,n=[];for(let a=i;a<r;a+=o)n.push({value:a,text:a<10?`0${a}`:`${a}`});return"hours"===e&&!a.is24&&n.push({value:0,text:"12"}),Xu(n)},T=(e,t)=>{const r=a.minTime&&a.minTime[t],o=a.maxTime&&a.maxTime[t];return r&&o?e<r||e>o:r?e<r:!!o&&e>o},k=(0,o.Fl)((()=>e=>x(e).flat().map((e=>e.value)).filter((t=>T(t,e))))),_=e=>a[`no${e[0].toUpperCase()+e.slice(1)}Overlay`],R=e=>{_(e)||(h[e]=!h[e],h[e]||r("overlay-closed"))},O=e=>"hours"===e?rl:"minutes"===e?ol:il,D=(e,t=!0)=>{const o=t?b:y;(t?v.value(e):m.value(e))||r(`update:${e}`,O(e)(o({[e]:+a[e]},{[e]:+a[`${e}Increment`]})))},A=e=>a.is24?e:(p.value=e>=12?"PM":"AM",ed(e)),P=()=>{"PM"===p.value?(p.value="AM",r("update:hours",a.hours-12)):(p.value="PM",r("update:hours",a.hours+12))},M=e=>{h[e]=!0},L=(e,t,r)=>{if(e&&a.arrowNavigation){Array.isArray(g.value[t])?g.value[t][r]=e:g.value[t]=[e];const o=g.value.reduce(((e,t)=>t.map(((r,o)=>[...e[o]||[],t[o]]))),[]);l(a.closeTimePickerBtn),f.value&&(o[1]=o[1].concat(f.value)),s(o,a.order)}},F=(e,t)=>"hours"!==e||a.is24?r(`update:${e}`,t):r(`update:${e}`,"PM"===p.value?t+12:t);return t({openChildCmp:M}),(e,t)=>{var r;return e.disabled?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",wh,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,Pi.SU)(C),((t,r)=>{var a,s,l;return(0,o.wg)(),(0,o.iD)("div",{key:r,class:(0,i.C_)((0,Pi.SU)(w))},[t.separator?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)(" : ")],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",{class:(0,i.C_)({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:(0,Pi.SU)(v)(t.type)}),role:"button","data-test":"time-inc-btn","aria-label":null==(a=(0,Pi.SU)(c).ariaLabels)?void 0:a.incrementValue(t.type),tabindex:"0",onKeydown:[(0,n.D2)((e=>D(t.type)),["enter"]),(0,n.D2)((e=>D(t.type)),["space"])],onClick:e=>D(t.type),ref_for:!0,ref:e=>L(e,r,0)},[e.$slots["arrow-up"]?(0,o.WI)(e.$slots,"arrow-up",{key:0}):(0,o.kq)("",!0),e.$slots["arrow-up"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(Fc),{key:1}))],42,Ch),(0,o._)("div",{role:"button","aria-label":null==(s=(0,Pi.SU)(c).ariaLabels)?void 0:s.openTpOverlay(t.type),class:(0,i.C_)(_(t.type)?"":"dp__time_display"),tabindex:"0","data-test":`${t.type}-toggle-overlay-btn`,onKeydown:[(0,n.D2)((e=>R(t.type)),["enter"]),(0,n.D2)((e=>R(t.type)),["space"])],onClick:e=>R(t.type),ref_for:!0,ref:e=>L(e,r,1)},[e.$slots[t.type]?(0,o.WI)(e.$slots,t.type,{key:0,text:(0,Pi.SU)(S)(t.type).text,value:(0,Pi.SU)(S)(t.type).value}):(0,o.kq)("",!0),e.$slots[t.type]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)((0,Pi.SU)(S)(t.type).text),1)],64))],42,Eh),(0,o._)("div",{class:(0,i.C_)({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:(0,Pi.SU)(m)(t.type)}),role:"button","data-test":"time-dec-btn","aria-label":null==(l=(0,Pi.SU)(c).ariaLabels)?void 0:l.decrementValue(t.type),tabindex:"0",onKeydown:[(0,n.D2)((e=>D(t.type,!1)),["enter"]),(0,n.D2)((e=>D(t.type,!1)),["space"])],onClick:e=>D(t.type,!1),ref_for:!0,ref:e=>L(e,r,2)},[e.$slots["arrow-down"]?(0,o.WI)(e.$slots,"arrow-down",{key:0}):(0,o.kq)("",!0),e.$slots["arrow-down"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(zc),{key:1}))],42,Sh)],64))],2)})),128)),e.is24?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",xh,[e.$slots["am-pm-button"]?(0,o.WI)(e.$slots,"am-pm-button",{key:0,toggle:P,value:p.value}):(0,o.kq)("",!0),e.$slots["am-pm-button"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:1,ref_key:"amPmButton",ref:f,type:"button",class:"dp__pm_am_button",role:"button","aria-label":null==(r=(0,Pi.SU)(c).ariaLabels)?void 0:r.amPmButton,tabindex:"0",onClick:P,onKeydown:[(0,n.D2)((0,n.iM)(P,["prevent"]),["enter"]),(0,n.D2)((0,n.iM)(P,["prevent"]),["space"])]},(0,i.zw)(p.value),41,Th))])),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,Pi.SU)(E),((r,i)=>((0,o.wg)(),(0,o.j4)(n.uT,{key:i,name:(0,Pi.SU)(u)(h[r.type]),css:(0,Pi.SU)(d)},{default:(0,o.w5)((()=>[h[r.type]?((0,o.wg)(),(0,o.j4)(uh,{key:0,items:x(r.type),"disabled-values":(0,Pi.SU)(c).filters.times[r.type].concat((0,Pi.SU)(k)(r.type)),"esc-close":e.escClose,"aria-labels":(0,Pi.SU)(c).ariaLabels,"hide-navigation":e.hideNavigation,"onUpdate:modelValue":e=>F(r.type,e),onSelected:e=>R(r.type),onToggle:e=>R(r.type),onResetFlow:t[0]||(t[0]=t=>e.$emit("reset-flow")),type:r.type},(0,o.Nv)({"button-icon":(0,o.w5)((()=>[e.$slots["clock-icon"]?(0,o.WI)(e.$slots,"clock-icon",{key:0}):(0,o.kq)("",!0),e.$slots["clock-icon"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(Oc),{key:1}))])),_:2},[e.$slots[`${r.type}-overlay-value`]?{name:"item",fn:(0,o.w5)((({item:t})=>[(0,o.WI)(e.$slots,`${r.type}-overlay-value`,{text:t.text,value:t.value})])),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):(0,o.kq)("",!0)])),_:2},1032,["name","css"])))),128))]))}}}),_h=["aria-label"],Rh={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},Oh={key:1,class:"dp__overlay_row"},Dh=["aria-label"],Ah=(0,o.aZ)({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Nd},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:r}){const a=e,{buildMatrix:s,setTimePicker:l}=Sd(),c=(0,o.Rr)(),{hideNavigationButtons:u,defaults:d}=fd(a),{transitionName:h,showTransition:p}=Id(d.value.transitions),f=(0,Pi.iH)(null),g=(0,Pi.iH)(null),v=(0,Pi.iH)([]),m=(0,Pi.iH)(null);(0,o.bv)((()=>{r("mount"),!a.timePicker&&a.arrowNavigation?s([td(f.value)],"time"):l(!0,a.timePicker)}));const b=(0,o.Fl)((()=>!a.range||!a.modelAuto||od(a.internalModelValue))),y=(0,Pi.iH)(!1),w=e=>({hours:Array.isArray(a.hours)?a.hours[e]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[e]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[e]:a.seconds}),C=(0,o.Fl)((()=>{const e=[];if(a.range)for(let t=0;t<2;t++)e.push(w(t));else e.push(w(0));return e})),E=(e,t=!1,i="")=>{t||r("reset-flow"),y.value=e,a.arrowNavigation&&(l(e),e||r("overlay-closed")),(0,o.Y3)((()=>{""!==i&&v.value[0]&&v.value[0].openChildCmp(i)}))},S=(0,o.Fl)((()=>({dp__button:!0,dp__button_bottom:a.autoApply}))),x=Fd(c,"timePicker"),T=(e,t,r)=>a.range?0===t?[e,C.value[1][r]]:[C.value[0][r],e]:e,k=e=>{r("update:hours",e)},_=e=>{r("update:minutes",e)},R=e=>{r("update:seconds",e)},O=()=>{m.value&&a.arrowNavigation&&m.value.focus({preventScroll:!0})};return t({toggleTimePicker:E}),(t,r)=>{var a;return(0,o.wg)(),(0,o.iD)("div",null,[t.timePicker?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)((0,Pi.SU)(S)),role:"button","aria-label":null==(a=(0,Pi.SU)(d).ariaLabels)?void 0:a.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:f,onKeydown:[r[0]||(r[0]=(0,n.D2)((e=>E(!0)),["enter"])),r[1]||(r[1]=(0,n.D2)((e=>E(!0)),["space"]))],onClick:r[2]||(r[2]=e=>E(!0))},[t.$slots["clock-icon"]?(0,o.WI)(t.$slots,"clock-icon",{key:0}):(0,o.kq)("",!0),t.$slots["clock-icon"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(Oc),{key:1}))],42,_h)),[[n.F8,!(0,Pi.SU)(u)("time")]]),(0,o.Wm)(n.uT,{name:(0,Pi.SU)(h)(y.value),css:(0,Pi.SU)(p)},{default:(0,o.w5)((()=>{var a;return[y.value||t.timePicker?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:m,tabindex:"0"},[(0,o._)("div",Rh,[t.$slots["time-picker-overlay"]?(0,o.WI)(t.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:k,setMinutes:_,setSeconds:R}):(0,o.kq)("",!0),t.$slots["time-picker-overlay"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Oh,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,Pi.SU)(C),((e,r)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(kh,(0,o.dG)({key:r},{...t.$props,order:r,hours:e.hours,minutes:e.minutes,seconds:e.seconds,closeTimePickerBtn:g.value,disabled:0===r?t.fixedStart:t.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:v,"onUpdate:hours":e=>k(T(e,r,"hours")),"onUpdate:minutes":e=>_(T(e,r,"minutes")),"onUpdate:seconds":e=>R(T(e,r,"seconds")),onMounted:O,onOverlayClosed:O}),(0,o.Nv)({_:2},[(0,o.Ko)((0,Pi.SU)(x),((e,r)=>({name:e,fn:(0,o.w5)((r=>[(0,o.WI)(t.$slots,e,(0,i.vs)((0,o.F4)(r)))]))})))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[n.F8,0===r||(0,Pi.SU)(b)]]))),128))])),t.timePicker?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{key:2,ref_key:"closeTimePickerBtn",ref:g,class:(0,i.C_)((0,Pi.SU)(S)),role:"button","aria-label":null==(a=(0,Pi.SU)(d).ariaLabels)?void 0:a.closeTimePicker,tabindex:"0",onKeydown:[r[3]||(r[3]=(0,n.D2)((e=>E(!1)),["enter"])),r[4]||(r[4]=(0,n.D2)((e=>E(!1)),["space"]))],onClick:r[5]||(r[5]=e=>E(!1))},[t.$slots["calendar-icon"]?(0,o.WI)(t.$slots,"calendar-icon",{key:0}):(0,o.kq)("",!0),t.$slots["calendar-icon"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,Pi.SU)(oc),{key:1}))],42,Dh)),[[n.F8,!(0,Pi.SU)(u)("time")]])])],512)):(0,o.kq)("",!0)]})),_:3},8,["name","css"])])}}}),Ph=(e,t)=>{const{isDisabled:r,matchDate:o,getWeekFromDate:i}=fd(t),n=(0,Pi.iH)(null),a=(0,Pi.iH)(Wc()),s=e=>{!e.current&&t.hideOffsetDates||(n.value=e.value)},l=()=>{n.value=null},c=r=>!(Array.isArray(e.value)&&t.range&&e.value[0]&&n.value)||(r?Xc(n.value,e.value[0]):Yc(n.value,e.value[0])),u=(t,r)=>{const o=()=>e.value?r?e.value[0]||null:e.value[1]:null,i=e.value&&Array.isArray(e.value)?o():null;return qc(Wc(t.value),i)},d=t=>{const r=Array.isArray(e.value)?e.value[0]:null;return!t||!Yc(n.value||null,r)},h=(r,o=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)?!(t.hideOffsetDates&&!r.current)&&qc(Wc(r.value),e.value[o?0:1]):!!t.range&&(u(r,o)&&d(o)||qc(r.value,Array.isArray(e.value)?e.value[0]:null)&&c(o)),p=(t,r,o)=>!(!Array.isArray(e.value)||!e.value[0]||1!==e.value.length)&&(!t&&(o?Xc(e.value[0],r.value):Yc(e.value[0],r.value))),f=r=>!(!e.value||t.hideOffsetDates&&!r.current)&&(t.range?!(!t.modelAuto||!Array.isArray(e.value))&&qc(r.value,e.value[0]?e.value[0]:a.value):t.multiDates&&Array.isArray(e.value)?e.value.some((e=>qc(e,r.value))):qc(r.value,e.value?e.value:a.value)),g=e=>{if(t.autoRange||t.weekPicker){if(n.value){if(t.hideOffsetDates&&!e.current)return!1;const r=Al(n.value,+t.autoRange),o=i(Wc(n.value));return t.weekPicker?qc(o[1],Wc(e.value)):qc(r,Wc(e.value))}return!1}return!1},v=e=>{if(t.autoRange||t.weekPicker){if(n.value){const r=Al(n.value,+t.autoRange);if(t.hideOffsetDates&&!e.current)return!1;const o=i(Wc(n.value));return t.weekPicker?Xc(e.value,o[0])&&Yc(e.value,o[1]):Xc(e.value,n.value)&&Yc(e.value,r)}return!1}return!1},m=e=>{if(t.autoRange||t.weekPicker){if(n.value){if(t.hideOffsetDates&&!e.current)return!1;const r=i(Wc(n.value));return t.weekPicker?qc(r[0],e.value):qc(n.value,e.value)}return!1}return!1},b=t=>Jc(e.value,n.value,t.value),y=()=>!(!t.modelAuto||!Array.isArray(t.internalModelValue))&&!!t.internalModelValue[0],w=()=>!t.modelAuto||od(t.internalModelValue),C=o=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const i=!t.range||!h(o)&&!h(o,!1);return!r(o.value)&&!f(o)&&!(!o.current&&t.hideOffsetDates)&&i},E=e=>t.range?!!t.modelAuto&&(y()&&f(e)):f(e),S=e=>!!t.highlight&&o(e.value,t.highlight),x=e=>r(e.value)&&!1===t.highlightDisabledDays,T=e=>t.highlightWeekDays&&t.highlightWeekDays.includes(e.value.getDay()),k=e=>!(!t.range&&!t.weekPicker||t.multiCalendars>0&&!e.current||!w()||!e.current&&t.hideOffsetDates||f(e))&&b(e),_=e=>({dp__cell_offset:!e.current,dp__pointer:!t.disabled&&!(!e.current&&t.hideOffsetDates)&&!r(e.value),dp__cell_disabled:r(e.value),dp__cell_highlight:!x(e)&&(S(e)||T(e))&&!E(e),dp__cell_highlight_active:!x(e)&&(S(e)||T(e))&&E(e),dp__today:!t.noToday&&qc(e.value,a.value)&&e.current}),R=e=>({dp__active_date:E(e),dp__date_hover:C(e)}),O=e=>({...D(e),...A(e),dp__range_between_week:k(e)&&t.weekPicker}),D=e=>({dp__range_start:t.multiCalendars>0?e.current&&h(e)&&w():h(e)&&w(),dp__range_end:t.multiCalendars>0?e.current&&h(e,!1)&&w():h(e,!1)&&w(),dp__range_between:k(e)&&!t.weekPicker,dp__date_hover_start:p(C(e),e,!0),dp__date_hover_end:p(C(e),e,!1)}),A=e=>({...D(e),dp__cell_auto_range:v(e),dp__cell_auto_range_start:m(e),dp__cell_auto_range_end:g(e)}),P=e=>t.range?t.autoRange?A(e):t.modelAuto?{...R(e),...D(e)}:D(e):t.weekPicker?O(e):R(e);return{setHoverDate:s,clearHoverDate:l,getDayClassData:e=>({..._(e),...P(e),[t.dayClass?t.dayClass(e.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName})}},Mh=["id","onKeydown"],Lh={key:0,class:"dp__sidebar_left"},Fh={key:1,class:"dp__preset_ranges"},Ih=["onClick"],Nh={key:2,class:"dp__sidebar_right"},Hh={key:3,class:"dp__now_wrap"},Gh=(0,o.aZ)({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Nd},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:r}){const a=e,{setMenuFocused:s,setShiftKey:l,control:c}=Zc(),{getCalendarDays:u,defaults:d}=fd(a),h=(0,o.Rr)(),p=(0,Pi.iH)(null),f=(0,Pi.qj)({timePicker:!(a.enableTimePicker&&!a.timePicker&&!a.monthPicker),monthYearInput:!!a.timePicker,calendar:!1}),g=(0,Pi.iH)([]),v=(0,Pi.iH)([]),m=(0,Pi.iH)(null),b=(0,Pi.iH)(null),y=(0,Pi.iH)(0),w=(0,Pi.iH)(!1),C=(0,Pi.iH)(0);(0,o.bv)((()=>{var e;w.value=!0,(null==(e=a.presetRanges)||!e.length)&&!h["left-sidebar"]&&!h["right-sidebar"]&&re();const t=td(b);if(t&&!a.textInput&&!a.inline&&(s(!0),_()),t){const e=e=>{!a.monthYearComponent&&!a.timePickerComponent&&!Object.keys(h).length&&e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()};t.addEventListener("pointerdown",e),t.addEventListener("mousedown",e)}window.addEventListener("resize",re)})),(0,o.Ah)((()=>{window.removeEventListener("resize",re)}));const{arrowRight:E,arrowLeft:S,arrowDown:x,arrowUp:T}=Sd(),k=e=>{e||0===e?v.value[e].triggerTransition(P.value(e),M.value(e)):v.value.forEach(((e,t)=>e.triggerTransition(P.value(t),M.value(t))))},_=()=>{const e=td(b);e&&e.focus({preventScroll:!0})},R=()=>{var e;null!=(e=a.flow)&&e.length&&-1!==C.value&&(C.value+=1,r("flow-step",C.value),be())},O=()=>{C.value=-1},{calendars:D,modelValue:A,month:P,year:M,time:L,updateTime:F,updateMonthYear:I,selectDate:N,getWeekNum:H,monthYearSelect:G,handleScroll:V,handleArrow:z,handleSwipe:B,getMarker:j,selectCurrentDate:W,presetDateRange:U}=_d(a,r,R,k,C),{setHoverDate:$,clearHoverDate:K,getDayClassData:Y}=Ph(A,a);(0,o.YP)(D,(()=>{a.openOnTop&&setTimeout((()=>{r("recalculate-position")}),0)}),{deep:!0});const q=Fd(h,"calendar"),X=Fd(h,"action"),J=Fd(h,"timePicker"),Q=Fd(h,"monthYear"),Z=(0,o.Fl)((()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top")),ee=(0,o.Fl)((()=>Qu(a.yearRange))),te=(0,o.Fl)((()=>Zu(a.locale,a.monthNameFormat))),re=()=>{const e=td(p);e&&(y.value=e.getBoundingClientRect().width)},oe=(0,o.Fl)((()=>e=>u(P.value(e),M.value(e)))),ie=(0,o.Fl)((()=>d.value.multiCalendars>0&&a.range?[...Array(d.value.multiCalendars).keys()]:[0])),ne=(0,o.Fl)((()=>e=>1===e)),ae=(0,o.Fl)((()=>a.monthPicker||a.timePicker||a.yearPicker)),se=(0,o.Fl)((()=>({dp__flex_display:d.value.multiCalendars>0}))),le=(0,o.Fl)((()=>({dp__instance_calendar:d.value.multiCalendars>0}))),ce=(0,o.Fl)((()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly}))),ue=(0,o.Fl)((()=>e=>he(oe,e))),de=(0,o.Fl)((()=>({dp__menu:!0,dp__menu_index:!a.inline,dp__relative:a.inline,[a.menuClassName]:!!a.menuClassName}))),he=(e,t)=>e.value(t).map((e=>({...e,days:e.days.map((e=>(e.marker=j(e),e.classData=Y(e),e)))}))),pe=e=>{e.stopPropagation(),e.stopImmediatePropagation()},fe=()=>{a.escClose&&r("close-picker")},ge=(e,t=!1)=>{N(e,t),a.spaceConfirm&&r("select-date")},ve=e=>{var t;null!=(t=a.flow)&&t.length&&(f[e]=!0,Object.keys(f).filter((e=>!f[e])).length||be())},me=(e,t,r,o,...i)=>{if(a.flow[C.value]===e){const e=o?t.value[0]:t.value;e&&e[r](...i)}},be=()=>{me("month",g,"toggleMonthPicker",!0,!0),me("year",g,"toggleYearPicker",!0,!0),me("calendar",m,"toggleTimePicker",!1,!1,!0),me("time",m,"toggleTimePicker",!1,!0,!0);const e=a.flow[C.value];("hours"===e||"minutes"===e||"seconds"===e)&&me(e,m,"toggleTimePicker",!1,!0,!0,e)},ye=e=>{if(a.arrowNavigation){if("up"===e)return T();if("down"===e)return x();if("left"===e)return S();if("right"===e)return E()}else"left"===e||"up"===e?z("left",0,"up"===e):z("right",0,"down"===e)},we=e=>{l(e.shiftKey),!a.disableMonthYearSelect&&"Tab"===e.code&&e.target.classList.contains("dp__menu")&&c.value.shiftKeyInMenu&&(e.preventDefault(),e.stopImmediatePropagation(),r("close-picker"))};return t({updateMonthYear:I}),(t,r)=>{var a;return(0,o.wg)(),(0,o.j4)(n.uT,{appear:"",name:null==(a=(0,Pi.SU)(d).transitions)?void 0:a.menuAppear,mode:"out-in",css:!!t.transitions},{default:(0,o.w5)((()=>{var a,s;return[(0,o._)("div",{id:t.uid?`dp-menu-${t.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:b,role:"dialog",class:(0,i.C_)((0,Pi.SU)(de)),onMouseleave:r[14]||(r[14]=(...e)=>(0,Pi.SU)(K)&&(0,Pi.SU)(K)(...e)),onClick:pe,onKeydown:[(0,n.D2)(fe,["esc"]),r[15]||(r[15]=(0,n.D2)((0,n.iM)((e=>ye("left")),["prevent"]),["left"])),r[16]||(r[16]=(0,n.D2)((0,n.iM)((e=>ye("up")),["prevent"]),["up"])),r[17]||(r[17]=(0,n.D2)((0,n.iM)((e=>ye("down")),["prevent"]),["down"])),r[18]||(r[18]=(0,n.D2)((0,n.iM)((e=>ye("right")),["prevent"]),["right"])),we]},[(t.disabled||t.readonly)&&t.inline?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)((0,Pi.SU)(ce))},null,2)):(0,o.kq)("",!0),t.inline||t.teleportCenter?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,i.C_)((0,Pi.SU)(Z))},null,2)),(0,o._)("div",{class:(0,i.C_)({dp__menu_content_wrapper:(null==(a=t.presetRanges)?void 0:a.length)||!!t.$slots["left-sidebar"]||!!t.$slots["right-sidebar"]})},[t.$slots["left-sidebar"]?((0,o.wg)(),(0,o.iD)("div",Lh,[(0,o.WI)(t.$slots,"left-sidebar")])):(0,o.kq)("",!0),null!=(s=t.presetRanges)&&s.length?((0,o.wg)(),(0,o.iD)("div",Fh,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.presetRanges,((e,r)=>((0,o.wg)(),(0,o.iD)("div",{key:r,style:(0,i.j5)(e.style||{}),class:"dp__preset_range",onClick:t=>(0,Pi.SU)(U)(e.range,!!e.slot)},[e.slot?(0,o.WI)(t.$slots,e.slot,{key:0,presetDateRange:(0,Pi.SU)(U),label:e.label,range:e.range}):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(e.label),1)],64))],12,Ih)))),128))])):(0,o.kq)("",!0),(0,o._)("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:p,role:"document"},[(0,o._)("div",{class:(0,i.C_)((0,Pi.SU)(se))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,Pi.SU)(ie),((n,a)=>((0,o.wg)(),(0,o.iD)("div",{key:n,class:(0,i.C_)((0,Pi.SU)(le))},[t.disableMonthYearSelect||t.timePicker?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,o.LL)(t.monthYearComponent?t.monthYearComponent:yh),(0,o.dG)({key:0,ref_for:!0,ref:e=>{e&&(g.value[a]=e)},months:(0,Pi.SU)(te),years:(0,Pi.SU)(ee),month:(0,Pi.SU)(P)(n),year:(0,Pi.SU)(M)(n),instance:n,"internal-model-value":e.internalModelValue},t.$props,{onMount:r[0]||(r[0]=e=>ve("monthYearInput")),onResetFlow:O,onUpdateMonthYear:e=>(0,Pi.SU)(I)(n,e),onMonthYearSelect:(0,Pi.SU)(G),onOverlayClosed:_}),(0,o.Nv)({_:2},[(0,o.Ko)((0,Pi.SU)(Q),((e,r)=>({name:e,fn:(0,o.w5)((r=>[(0,o.WI)(t.$slots,e,(0,i.vs)((0,o.F4)(r)))]))})))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])),(0,o.Wm)(oh,(0,o.dG)({ref_for:!0,ref:e=>{e&&(v.value[a]=e)},"specific-mode":(0,Pi.SU)(ae),"get-week-num":(0,Pi.SU)(H),instance:n,"mapped-dates":(0,Pi.SU)(ue)(n),month:(0,Pi.SU)(P)(n),year:(0,Pi.SU)(M)(n)},t.$props,{"flow-step":C.value,"onUpdate:flowStep":r[1]||(r[1]=e=>C.value=e),onSelectDate:e=>(0,Pi.SU)(N)(e,!(0,Pi.SU)(ne)(n)),onHandleSpace:e=>ge(e,!(0,Pi.SU)(ne)(n)),onSetHoverDate:r[2]||(r[2]=e=>(0,Pi.SU)($)(e)),onHandleScroll:e=>(0,Pi.SU)(V)(e,n),onHandleSwipe:e=>(0,Pi.SU)(B)(e,n),onMount:r[3]||(r[3]=e=>ve("calendar")),onResetFlow:O,onTooltipOpen:r[4]||(r[4]=e=>t.$emit("tooltip-open",e)),onTooltipClose:r[5]||(r[5]=e=>t.$emit("tooltip-close",e))}),(0,o.Nv)({_:2},[(0,o.Ko)((0,Pi.SU)(q),((e,r)=>({name:e,fn:(0,o.w5)((r=>[(0,o.WI)(t.$slots,e,(0,i.vs)((0,o.F4)({...r})))]))})))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2)))),128))],2),(0,o._)("div",null,[t.$slots["time-picker"]?(0,o.WI)(t.$slots,"time-picker",(0,i.vs)((0,o.dG)({key:0},{time:(0,Pi.SU)(L),updateTime:(0,Pi.SU)(F)}))):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[!t.enableTimePicker||t.monthPicker||t.weekPicker?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,o.LL)(t.timePickerComponent?t.timePickerComponent:Ah),(0,o.dG)({key:0,ref_key:"timePickerRef",ref:m,hours:(0,Pi.SU)(L).hours,minutes:(0,Pi.SU)(L).minutes,seconds:(0,Pi.SU)(L).seconds,"internal-model-value":e.internalModelValue},t.$props,{onMount:r[6]||(r[6]=e=>ve("timePicker")),"onUpdate:hours":r[7]||(r[7]=e=>(0,Pi.SU)(F)(e)),"onUpdate:minutes":r[8]||(r[8]=e=>(0,Pi.SU)(F)(e,!1)),"onUpdate:seconds":r[9]||(r[9]=e=>(0,Pi.SU)(F)(e,!1,!0)),onResetFlow:O,onOverlayClosed:_}),(0,o.Nv)({_:2},[(0,o.Ko)((0,Pi.SU)(J),((e,r)=>({name:e,fn:(0,o.w5)((r=>[(0,o.WI)(t.$slots,e,(0,i.vs)((0,o.F4)(r)))]))})))]),1040,["hours","minutes","seconds","internal-model-value"]))],64))])],512),t.$slots["right-sidebar"]?((0,o.wg)(),(0,o.iD)("div",Nh,[(0,o.WI)(t.$slots,"right-sidebar")])):(0,o.kq)("",!0),t.showNowButton?((0,o.wg)(),(0,o.iD)("div",Hh,[t.$slots["now-button"]?(0,o.WI)(t.$slots,"now-button",{key:0,selectCurrentDate:(0,Pi.SU)(W)}):(0,o.kq)("",!0),t.$slots["now-button"]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:r[10]||(r[10]=(...e)=>(0,Pi.SU)(W)&&(0,Pi.SU)(W)(...e))},(0,i.zw)(t.nowButtonLabel),1))])):(0,o.kq)("",!0)],2),!t.autoApply||t.keepActionRow?((0,o.wg)(),(0,o.j4)((0,o.LL)(t.actionRowComponent?t.actionRowComponent:Kd),(0,o.dG)({key:2,"menu-mount":w.value,"calendar-width":y.value,"internal-model-value":e.internalModelValue},t.$props,{onClosePicker:r[11]||(r[11]=e=>t.$emit("close-picker")),onSelectDate:r[12]||(r[12]=e=>t.$emit("select-date")),onInvalidSelect:r[13]||(r[13]=e=>t.$emit("invalid-select"))}),(0,o.Nv)({_:2},[(0,o.Ko)((0,Pi.SU)(X),((e,r)=>({name:e,fn:(0,o.w5)((r=>[(0,o.WI)(t.$slots,e,(0,i.vs)((0,o.F4)({...r})))]))})))]),1040,["menu-mount","calendar-width","internal-model-value"])):(0,o.kq)("",!0)],42,Mh)]})),_:3},8,["name","css"])}}}),Vh=typeof window<"u"?window:void 0,zh=()=>{},Bh=e=>!!(0,Pi.nZ)()&&((0,Pi.EB)(e),!0),jh=(e,t,r,i)=>{if(!e)return zh;let n=zh;const a=(0,o.YP)((()=>(0,Pi.SU)(e)),(e=>{n(),e&&(e.addEventListener(t,r,i),n=()=>{e.removeEventListener(t,r,i),n=zh})}),{immediate:!0,flush:"post"}),s=()=>{a(),n()};return Bh(s),s},Wh=(e,t,r,o={})=>{const{window:i=Vh,event:n="pointerdown"}=o;return i?jh(i,n,(o=>{const i=td(e),n=td(t);!i||!n||i===o.target||o.composedPath().includes(i)||o.composedPath().includes(n)||r(o)}),{passive:!0}):void 0},Uh=(0,o.aZ)({__name:"VueDatePicker",props:{...Nd},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:r}){const n=e,a=(0,o.Rr)(),s=(0,Pi.iH)(!1),l=(0,Pi.Vh)(n,"modelValue"),c=(0,Pi.Vh)(n,"timezone"),u=(0,Pi.iH)(null),d=(0,Pi.iH)(null),h=(0,Pi.iH)(!1),{setMenuFocused:p,setShiftKey:f}=Zc(),{clearArrowNav:g}=Sd(),{validateDate:v,isValidTime:m,defaults:b}=fd(n);(0,o.bv)((()=>{_(n.modelValue),n.inline||(window.addEventListener("scroll",M),window.addEventListener("resize",L)),n.inline&&(s.value=!0)})),(0,o.Ah)((()=>{n.inline||(window.removeEventListener("scroll",M),window.removeEventListener("resize",L))}));const y=Fd(a,"all",n.presetRanges),w=Fd(a,"input");(0,o.YP)([l,c],(()=>{_(l.value)}),{deep:!0});const{openOnTop:C,menuPosition:E,setMenuPosition:S,setInitialPosition:x}=Ad(u,d,r,n),{inputValue:T,internalModelValue:k,parseExternalModelValue:_,emitModelValue:R,formatInputValue:O,checkBeforeEmit:D}=Rd(r,n,h),A=(0,o.Fl)((()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput}))),P=(0,o.Fl)((()=>n.dark?"dp__theme_dark":"dp__theme_light")),M=()=>{s.value&&(n.closeOnScroll?B():n.autoPosition&&S())},L=()=>{s.value&&S()},F=()=>{!n.disabled&&!n.readonly&&(x(),s.value=!0,(0,o.Y3)().then((()=>{S(),s.value&&r("open")})),s.value||z(),_(n.modelValue))},I=()=>{T.value="",z(),r("update:model-value",null),r("cleared"),B()},N=()=>{const e=k.value;return!(e&&(Array.isArray(e)||!v(e)))||!!Array.isArray(e)&&(!(2!==e.length||!v(e[0])||!v(e[1]))||v(e[0]))},H=()=>{D()&&N()?(R(),B()):r("invalid-select",k.value)},G=e=>{R(),n.closeOnAutoApply&&!e&&B()},V=(e=!1)=>{n.autoApply&&m(k.value)&&N()&&(n.range&&Array.isArray(k.value)?(n.partialRange||2===k.value.length)&&G(e):G(e))},z=()=>{n.textInput||(k.value=null)},B=()=>{n.inline||(s.value&&(s.value=!1,p(!1),f(!1),g(),r("closed"),x(),T.value&&_(l.value)),z(),d.value&&d.value.focusInput())},j=(e,t)=>{e?(k.value=e,t&&(H(),r("text-submit"))):k.value=null},W=()=>{n.autoApply&&m(k.value)&&R()},U=()=>s.value?B():F(),$=e=>{k.value=e},K=(0,o.Fl)((()=>n.textInput&&b.value.textInputOptions.format)),Y=()=>{K.value&&(h.value=!0,O()),r("focus")},q=()=>{K.value&&(h.value=!1,O()),r("blur")},X=e=>{u.value&&u.value.updateMonthYear(0,{month:ad(e.month),year:ad(e.year)})};return Wh(u,d,n.onClickOutside?()=>n.onClickOutside(N):B),t({closeMenu:B,selectDate:H,clearValue:I,openMenu:F,onScroll:M,formatInputValue:O,updateInternalModelValue:$,setMonthYear:X}),(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)((0,Pi.SU)(A))},[(0,o.Wm)(jd,(0,o.dG)({ref_key:"inputRef",ref:d,"is-menu-open":s.value,"input-value":(0,Pi.SU)(T),"onUpdate:inputValue":t[0]||(t[0]=e=>(0,Pi.dq)(T)?T.value=e:null)},e.$props,{onClear:I,onOpen:F,onSetInputDate:j,onSetEmptyDate:(0,Pi.SU)(R),onSelectDate:H,onToggle:U,onClose:B,onFocus:Y,onBlur:q}),(0,o.Nv)({_:2},[(0,o.Ko)((0,Pi.SU)(w),((t,r)=>({name:t,fn:(0,o.w5)((r=>[(0,o.WI)(e.$slots,t,(0,i.vs)((0,o.F4)(r)))]))})))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),s.value?((0,o.wg)(),(0,o.j4)(o.lR,{key:0,to:e.teleport,disabled:e.inline},[s.value?((0,o.wg)(),(0,o.j4)(Gh,(0,o.dG)({key:0,ref_key:"dpMenuRef",ref:u,class:(0,Pi.SU)(P),style:(0,Pi.SU)(E),"open-on-top":(0,Pi.SU)(C)},e.$props,{"internal-model-value":(0,Pi.SU)(k),"onUpdate:internalModelValue":t[1]||(t[1]=e=>(0,Pi.dq)(k)?k.value=e:null),onClosePicker:B,onSelectDate:H,onAutoApply:V,onTimeUpdate:W,onFlowStep:t[2]||(t[2]=t=>e.$emit("flow-step",t)),onUpdateMonthYear:t[3]||(t[3]=t=>e.$emit("update-month-year",t)),onInvalidSelect:t[4]||(t[4]=t=>e.$emit("invalid-select",(0,Pi.SU)(k))),onInvalidFixedRange:t[5]||(t[5]=t=>e.$emit("invalid-fixed-range",t)),onRecalculatePosition:(0,Pi.SU)(S),onTooltipOpen:t[6]||(t[6]=t=>e.$emit("tooltip-open",t)),onTooltipClose:t[7]||(t[7]=t=>e.$emit("tooltip-close",t))}),(0,o.Nv)({_:2},[(0,o.Ko)((0,Pi.SU)(y),((t,r)=>({name:t,fn:(0,o.w5)((r=>[(0,o.WI)(e.$slots,t,(0,i.vs)((0,o.F4)({...r})))]))})))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):(0,o.kq)("",!0)],8,["to","disabled"])):(0,o.kq)("",!0)],2))}}),$h=(()=>{const e=Uh;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),Kh=Object.freeze(Object.defineProperty({__proto__:null,default:$h},Symbol.toStringTag,{value:"Module"}));Object.entries(Kh).forEach((([e,t])=>{"default"!==e&&($h[e]=t)}));r(1439),r(7585),r(5315),r(6229),r(7330),r(2062),r(2087);var Yh={version:"0.18.5"},qh=1200,Xh=1252,Jh=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Qh={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Zh=function(e){-1!=Jh.indexOf(e)&&(Xh=Qh[0]=e)};function ep(){Zh(1252)}var tp=function(e){qh=e,Zh(e)};function rp(){tp(1200),ep()}function op(e){for(var t=[],r=0,o=e.length;r<o;++r)t[r]=e.charCodeAt(r);return t}function ip(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function np(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var ap,sp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return 255==t&&254==r?ip(e.slice(2)):254==t&&255==r?np(e.slice(2)):65279==t?e.slice(1):e},lp=function(e){return String.fromCharCode(e)},cp=function(e){return String.fromCharCode(e)};var up=null,dp=!0,hp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function pp(e){for(var t="",r=0,o=0,i=0,n=0,a=0,s=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),n=r>>2,o=e.charCodeAt(c++),a=(3&r)<<4|o>>4,i=e.charCodeAt(c++),s=(15&o)<<2|i>>6,l=63&i,isNaN(o)?s=l=64:isNaN(i)&&(l=64),t+=hp.charAt(n)+hp.charAt(a)+hp.charAt(s)+hp.charAt(l);return t}function fp(e){var t="",r=0,o=0,i=0,n=0,a=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)n=hp.indexOf(e.charAt(c++)),a=hp.indexOf(e.charAt(c++)),r=n<<2|a>>4,t+=String.fromCharCode(r),s=hp.indexOf(e.charAt(c++)),o=(15&a)<<4|s>>2,64!==s&&(t+=String.fromCharCode(o)),l=hp.indexOf(e.charAt(c++)),i=(3&s)<<6|l,64!==l&&(t+=String.fromCharCode(i));return t}var gp=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),vp=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function mp(e){return gp?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function bp(e){return gp?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var yp=function(e){return gp?vp(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function wp(e){if("undefined"===typeof ArrayBuffer)return yp(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),o=0;o!=e.length;++o)r[o]=255&e.charCodeAt(o);return t}function Cp(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Ep(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}function Sp(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Sp(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var xp=gp?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:vp(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var o=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)o.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";o.set(new Uint8Array(e[t]),r)}return o}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};function Tp(e){for(var t=[],r=0,o=e.length+250,i=mp(e.length+255),n=0;n<e.length;++n){var a=e.charCodeAt(n);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|63&a;else if(a>=55296&&a<57344){a=64+(1023&a);var s=1023&e.charCodeAt(++n);i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|s>>6&15|(3&a)<<4,i[r++]=128|63&s}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|63&a;r>o&&(t.push(i.slice(0,r)),r=0,i=mp(65535),o=65530)}return t.push(i.slice(0,r)),xp(t)}var kp=/\u0000/g,_p=/[\u0001-\u0006]/g;function Rp(e){var t="",r=e.length-1;while(r>=0)t+=e.charAt(r--);return t}function Op(e,t){var r=""+e;return r.length>=t?r:dg("0",t-r.length)+r}function Dp(e,t){var r=""+e;return r.length>=t?r:dg(" ",t-r.length)+r}function Ap(e,t){var r=""+e;return r.length>=t?r:r+dg(" ",t-r.length)}function Pp(e,t){var r=""+Math.round(e);return r.length>=t?r:dg("0",t-r.length)+r}function Mp(e,t){var r=""+e;return r.length>=t?r:dg("0",t-r.length)+r}var Lp=Math.pow(2,32);function Fp(e,t){if(e>Lp||e<-Lp)return Pp(e,t);var r=Math.round(e);return Mp(r,t)}function Ip(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var Np=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Hp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Gp(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Vp={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},zp={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Bp={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jp(e,t,r){var o=e<0?-1:1,i=e*o,n=0,a=1,s=0,l=1,c=0,u=0,d=Math.floor(i);while(c<t){if(d=Math.floor(i),s=d*a+n,u=d*c+l,i-d<5e-8)break;i=1/(i-d),n=a,a=s,l=c,c=u}if(u>t&&(c>t?(u=l,s=n):(u=c,s=a)),!r)return[0,o*s,u];var h=Math.floor(o*s/u);return[h,o*s-h*u,u]}function Wp(e,t,r){if(e>2958465||e<0)return null;var o=0|e,i=Math.floor(86400*(e-o)),n=0,a=[],s={D:o,T:i,u:86400*(e-o)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(o+=1462),s.u>.9999&&(s.u=0,86400==++i&&(s.T=i=0,++o,++s.D)),60===o)a=r?[1317,10,29]:[1900,2,29],n=3;else if(0===o)a=r?[1317,8,29]:[1900,1,0],n=6;else{o>60&&--o;var l=new Date(1900,0,1);l.setDate(l.getDate()+o-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],n=l.getDay(),o<60&&(n=(n+6)%7),r&&(n=tf(l,a))}return s.y=a[0],s.m=a[1],s.d=a[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=n,s}var Up=new Date(1899,11,31,0,0,0),$p=Up.getTime(),Kp=new Date(1900,2,1,0,0,0);function Yp(e,t){var r=e.getTime();return t?r-=1262304e5:e>=Kp&&(r+=864e5),(r-($p+6e4*(e.getTimezoneOffset()-Up.getTimezoneOffset())))/864e5}function qp(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Xp(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Jp(e){var t=e<0?12:11,r=qp(e.toFixed(12));return r.length<=t?r:(r=e.toPrecision(10),r.length<=t?r:e.toExponential(5))}function Qp(e){var t=qp(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}function Zp(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?Jp(e):10===r?e.toFixed(10).substr(0,12):Qp(e),qp(Xp(t.toUpperCase()))}function ef(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):Zp(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Mf(14,Yp(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function tf(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function rf(e,t,r,o){var i,n="",a=0,s=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:i=l%100,c=2;break;default:i=l%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:i=r.m,c=t.length;break;case 3:return Hp[r.m-1][1];case 5:return Hp[r.m-1][0];default:return Hp[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=r.d,c=t.length;break;case 3:return Np[r.q][0];default:return Np[r.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(s=o>=2?3===o?1e3:100:1===o?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),"s"===t?0===a?"0":""+a/s:(n=Op(a,2+o),"ss"===t?n.substr(0,2):"."+n.substr(2,t.length-1))):Op(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*r.D+r.H;break;case"[m]":case"[mm]":i=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":i=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:i=l,c=1;break}var u=c>0?Op(i,c):"";return u}function of(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,o=e.substr(0,r);r!=e.length;r+=t)o+=(o.length>0?",":"")+e.substr(r,t);return o}var nf=/%/g;function af(e,t,r){var o=t.replace(nf,""),i=t.length-o.length;return Tf(e,o,r*Math.pow(10,2*i))+dg("%",i)}function sf(e,t,r){var o=t.length-1;while(44===t.charCodeAt(o-1))--o;return Tf(e,t.substr(0,o),r/Math.pow(10,3*(t.length-o)))}function lf(e,t){var r,o=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+lf(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var n=Math.floor(Math.log(t)*Math.LOG10E)%i;if(n<0&&(n+=i),r=(t/Math.pow(10,n)).toPrecision(o+1+(i+n)%i),-1===r.indexOf("e")){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+n):r+="E+"+(a-n);while("0."===r.substr(0,2))r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,o){return t+r+o.substr(0,(i+n)%i)+"."+o.substr(n)+"E"}))}else r=t.toExponential(o);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cf=/# (\?+)( ?)\/( ?)(\d+)/;function uf(e,t,r){var o=parseInt(e[4],10),i=Math.round(t*o),n=Math.floor(i/o),a=i-n*o,s=o;return r+(0===n?"":""+n)+" "+(0===a?dg(" ",e[1].length+1+e[4].length):Dp(a,e[1].length)+e[2]+"/"+e[3]+Op(s,e[4].length))}function df(e,t,r){return r+(0===t?"":""+t)+dg(" ",e[1].length+2+e[4].length)}var hf=/^#*0*\.([0#]+)/,pf=/\).*[0#]/,ff=/\(###\) ###\\?-####/;function gf(e){for(var t,r="",o=0;o!=e.length;++o)switch(t=e.charCodeAt(o)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function vf(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function mf(e,t){var r=e-Math.floor(e),o=Math.pow(10,t);return t<(""+Math.round(r*o)).length?0:Math.round(r*o)}function bf(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function yf(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}function wf(e,t,r){if(40===e.charCodeAt(0)&&!t.match(pf)){var o=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?wf("n",o,r):"("+wf("n",o,-r)+")"}if(44===t.charCodeAt(t.length-1))return sf(e,t,r);if(-1!==t.indexOf("%"))return af(e,t,r);if(-1!==t.indexOf("E"))return lf(t,r);if(36===t.charCodeAt(0))return"$"+wf(e,t.substr(" "==t.charAt(1)?2:1),r);var i,n,a,s,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Fp(l,t.length);if(t.match(/^[#?]+$/))return i=Fp(r,0),"0"===i&&(i=""),i.length>t.length?i:gf(t.substr(0,t.length-i.length))+i;if(n=t.match(cf))return uf(n,l,c);if(t.match(/^#+0+$/))return c+Fp(l,t.length-t.indexOf("0"));if(n=t.match(hf))return i=vf(r,n[1].length).replace(/^([^\.]+)$/,"$1."+gf(n[1])).replace(/\.$/,"."+gf(n[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+dg("0",gf(n[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),n=t.match(/^(0*)\.(#*)$/))return c+vf(l,n[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,n[1].length?"0.":".");if(n=t.match(/^#{1,3},##0(\.?)$/))return c+of(Fp(l,0));if(n=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+wf(e,t,-r):of(""+(Math.floor(r)+bf(r,n[1].length)))+"."+Op(mf(r,n[1].length),n[1].length);if(n=t.match(/^#,#*,#0/))return wf(e,t.replace(/^#,#*,/,""),r);if(n=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Rp(wf(e,t.replace(/[\\-]/g,""),r)),a=0,Rp(Rp(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""})));if(t.match(ff))return i=wf(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(n=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(n[4].length,7),s=jp(l,Math.pow(10,a)-1,!1),i=""+c,u=Tf("n",n[1],s[1])," "==u.charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+n[2]+"/"+n[3],u=Ap(s[2],a),u.length<n[4].length&&(u=gf(n[4].substr(n[4].length-u.length))+u),i+=u,i;if(n=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(n[1].length,n[4].length),7),s=jp(l,Math.pow(10,a)-1,!0),c+(s[0]||(s[1]?"":"0"))+" "+(s[1]?Dp(s[1],a)+n[2]+"/"+n[3]+Ap(s[2],a):dg(" ",2*a+1+n[2].length+n[3].length));if(n=t.match(/^[#0?]+$/))return i=Fp(r,0),t.length<=i.length?i:gf(t.substr(0,t.length-i.length))+i;if(n=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(n[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=t.indexOf(".")-a,h=t.length-i.length-d;return gf(t.substr(0,d)+i+t.substr(t.length-h))}if(n=t.match(/^00,000\.([#0]*0)$/))return a=mf(r,n[1].length),r<0?"-"+wf(e,t,-r):of(yf(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?Op(0,3-e.length):"")+e}))+"."+Op(a,n[1].length);switch(t){case"###,##0.00":return wf(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=of(Fp(l,0));return"0"!==p?c+p:"";case"###,###.00":return wf(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return wf(e,"#,##0.00",r).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function Cf(e,t,r){var o=t.length-1;while(44===t.charCodeAt(o-1))--o;return Tf(e,t.substr(0,o),r/Math.pow(10,3*(t.length-o)))}function Ef(e,t,r){var o=t.replace(nf,""),i=t.length-o.length;return Tf(e,o,r*Math.pow(10,2*i))+dg("%",i)}function Sf(e,t){var r,o=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Sf(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var n=Math.floor(Math.log(t)*Math.LOG10E)%i;if(n<0&&(n+=i),r=(t/Math.pow(10,n)).toPrecision(o+1+(i+n)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+n):r+="E+"+(a-n),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,o){return t+r+o.substr(0,(i+n)%i)+"."+o.substr(n)+"E"}))}else r=t.toExponential(o);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function xf(e,t,r){if(40===e.charCodeAt(0)&&!t.match(pf)){var o=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xf("n",o,r):"("+xf("n",o,-r)+")"}if(44===t.charCodeAt(t.length-1))return Cf(e,t,r);if(-1!==t.indexOf("%"))return Ef(e,t,r);if(-1!==t.indexOf("E"))return Sf(t,r);if(36===t.charCodeAt(0))return"$"+xf(e,t.substr(" "==t.charAt(1)?2:1),r);var i,n,a,s,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Op(l,t.length);if(t.match(/^[#?]+$/))return i=""+r,0===r&&(i=""),i.length>t.length?i:gf(t.substr(0,t.length-i.length))+i;if(n=t.match(cf))return df(n,l,c);if(t.match(/^#+0+$/))return c+Op(l,t.length-t.indexOf("0"));if(n=t.match(hf))return i=(""+r).replace(/^([^\.]+)$/,"$1."+gf(n[1])).replace(/\.$/,"."+gf(n[1])),i=i.replace(/\.(\d*)$/,(function(e,t){return"."+t+dg("0",gf(n[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),n=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,n[1].length?"0.":".");if(n=t.match(/^#{1,3},##0(\.?)$/))return c+of(""+l);if(n=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xf(e,t,-r):of(""+r)+"."+dg("0",n[1].length);if(n=t.match(/^#,#*,#0/))return xf(e,t.replace(/^#,#*,/,""),r);if(n=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Rp(xf(e,t.replace(/[\\-]/g,""),r)),a=0,Rp(Rp(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""})));if(t.match(ff))return i=xf(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(n=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(n[4].length,7),s=jp(l,Math.pow(10,a)-1,!1),i=""+c,u=Tf("n",n[1],s[1])," "==u.charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+n[2]+"/"+n[3],u=Ap(s[2],a),u.length<n[4].length&&(u=gf(n[4].substr(n[4].length-u.length))+u),i+=u,i;if(n=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(n[1].length,n[4].length),7),s=jp(l,Math.pow(10,a)-1,!0),c+(s[0]||(s[1]?"":"0"))+" "+(s[1]?Dp(s[1],a)+n[2]+"/"+n[3]+Ap(s[2],a):dg(" ",2*a+1+n[2].length+n[3].length));if(n=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:gf(t.substr(0,t.length-i.length))+i;if(n=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(n[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=t.indexOf(".")-a,h=t.length-i.length-d;return gf(t.substr(0,d)+i+t.substr(t.length-h))}if(n=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+xf(e,t,-r):of(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?Op(0,3-e.length):"")+e}))+"."+Op(0,n[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=of(""+l);return"0"!==p?c+p:"";default:if(t.match(/\.[0#?]*$/))return xf(e,t.slice(0,t.lastIndexOf(".")),r)+gf(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Tf(e,t,r){return(0|r)===r?xf(e,t,r):wf(e,t,r)}function kf(e){for(var t=[],r=!1,o=0,i=0;o<e.length;++o)switch(e.charCodeAt(o)){case 34:r=!r;break;case 95:case 42:case 92:++o;break;case 59:t[t.length]=e.substr(i,o-i),i=o+1}if(t[t.length]=e.substr(i),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}var _f=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rf(e){var t=0,r="",o="";while(t<e.length)switch(r=e.charAt(t)){case"G":Ip(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("上午/下午"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":o=r;while("]"!==e.charAt(t++)&&t<e.length)o+=e.charAt(t);if(o.match(_f))return!0;break;case".":case"0":case"#":while(t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1));break;case"?":while(e.charAt(++t)===r);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":while(t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1);break;case" ":++t;break;default:++t;break}return!1}function Of(e,t,r,o){var i,n,a,s=[],l="",c=0,u="",d="t",h="H";while(c<e.length)switch(u=e.charAt(c)){case"G":if(!Ip(e,c))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(a=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(a);s[s.length]={t:"t",v:l},++c;break;case"\\":var p=e.charAt(++c),f="("===p||")"===p?p:"t";s[s.length]={t:f,v:p},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&(i=Wp(t,r,"2"===e.charAt(c+1)),null==i))return"";s[s.length]={t:"X",v:e.substr(c,2)},d=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&(i=Wp(t,r),null==i))return"";l=u;while(++c<e.length&&e.charAt(c).toLowerCase()===u)l+=u;"m"===u&&"h"===d.toLowerCase()&&(u="M"),"h"===u&&(u=h),s[s.length]={t:u,v:l},d=u;break;case"A":case"a":case"上":var g={t:u,v:u};if(null==i&&(i=Wp(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(g.v=i.H>=12?"P":"A"),g.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"PM":"AM"),g.t="T",c+=5,h="h"):"上午/下午"===e.substr(c,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"下午":"上午"),g.t="T",c+=5,h="h"):(g.t="t",++c),null==i&&"T"===g.t)return"";s[s.length]=g,d=u;break;case"[":l=u;while("]"!==e.charAt(c++)&&c<e.length)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(_f)){if(null==i&&(i=Wp(t,r),null==i))return"";s[s.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rf(e)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=i){l=u;while(++c<e.length&&"0"===(u=e.charAt(c)))l+=u;s[s.length]={t:"s",v:l};break}case"0":case"#":l=u;while(++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1)l+=u;s[s.length]={t:"n",v:l};break;case"?":l=u;while(e.charAt(++c)===u)l+=u;s[s.length]={t:u,v:l},d=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":s[s.length]={t:1===o?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":l=u;while(c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1)l+=e.charAt(c);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:u,v:u},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++c;break}var v,m=0,b=0;for(c=s.length-1,d="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=h,d="h",m<1&&(m=1);break;case"s":(v=s[c].v.match(/\.0+$/))&&(b=Math.max(b,v[0].length-1)),m<3&&(m=3);case"d":case"y":case"M":case"e":d=s[c].t;break;case"m":"s"===d&&(s[c].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&s[c].v.match(/[Hh]/)&&(m=1),m<2&&s[c].v.match(/[Mm]/)&&(m=2),m<3&&s[c].v.match(/[Ss]/)&&(m=3)}switch(m){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M);break}var y,w="";for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=rf(s[c].t.charCodeAt(0),s[c].v,i,b),s[c].t="t";break;case"n":case"?":y=c+1;while(null!=s[y]&&("?"===(u=s[y].t)||"D"===u||(" "===u||"t"===u)&&null!=s[y+1]&&("?"===s[y+1].t||"t"===s[y+1].t&&"/"===s[y+1].v)||"("===s[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[y].v||" "===s[y].v&&null!=s[y+1]&&"?"==s[y+1].t)))s[c].v+=s[y].v,s[y]={v:"",t:";"},++y;w+=s[c].v,c=y-1;break;case"G":s[c].t="t",s[c].v=ef(t,r);break}var C,E,S="";if(w.length>0){40==w.charCodeAt(0)?(C=t<0&&45===w.charCodeAt(0)?-t:t,E=Tf("n",w,C)):(C=t<0&&o>1?-t:t,E=Tf("n",w,C),C<0&&s[0]&&"t"==s[0].t&&(E=E.substr(1),s[0].v="-"+s[0].v)),y=E.length-1;var x=s.length;for(c=0;c<s.length;++c)if(null!=s[c]&&"t"!=s[c].t&&s[c].v.indexOf(".")>-1){x=c;break}var T=s.length;if(x===s.length&&-1===E.indexOf("E")){for(c=s.length-1;c>=0;--c)null!=s[c]&&-1!=="n?".indexOf(s[c].t)&&(y>=s[c].v.length-1?(y-=s[c].v.length,s[c].v=E.substr(y+1,s[c].v.length)):y<0?s[c].v="":(s[c].v=E.substr(0,y+1),y=-1),s[c].t="t",T=c);y>=0&&T<s.length&&(s[T].v=E.substr(0,y+1)+s[T].v)}else if(x!==s.length&&-1===E.indexOf("E")){for(y=E.indexOf(".")-1,c=x;c>=0;--c)if(null!=s[c]&&-1!=="n?".indexOf(s[c].t)){for(n=s[c].v.indexOf(".")>-1&&c===x?s[c].v.indexOf(".")-1:s[c].v.length-1,S=s[c].v.substr(n+1);n>=0;--n)y>=0&&("0"===s[c].v.charAt(n)||"#"===s[c].v.charAt(n))&&(S=E.charAt(y--)+S);s[c].v=S,s[c].t="t",T=c}for(y>=0&&T<s.length&&(s[T].v=E.substr(0,y+1)+s[T].v),y=E.indexOf(".")+1,c=x;c<s.length;++c)if(null!=s[c]&&(-1!=="n?(".indexOf(s[c].t)||c===x)){for(n=s[c].v.indexOf(".")>-1&&c===x?s[c].v.indexOf(".")+1:0,S=s[c].v.substr(0,n);n<s[c].v.length;++n)y<E.length&&(S+=E.charAt(y++));s[c].v=S,s[c].t="t",T=c}}}for(c=0;c<s.length;++c)null!=s[c]&&"n?".indexOf(s[c].t)>-1&&(C=o>1&&t<0&&c>0&&"-"===s[c-1].v?-t:t,s[c].v=Tf(s[c].t,s[c].v,C),s[c].t="t");var k="";for(c=0;c!==s.length;++c)null!=s[c]&&(k+=s[c].v);return k}var Df=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Af(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Pf(e,t){var r=kf(e),o=r.length,i=r[o-1].indexOf("@");if(o<4&&i>-1&&--o,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!==typeof t)return[4,4===r.length||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break;case 4:break}var n=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[o,n];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var a=r[0].match(Df),s=r[1].match(Df);return Af(t,a)?[o,r[0]]:Af(t,s)?[o,r[1]]:[o,r[null!=a&&null!=s?2:1]]}return[o,n]}function Mf(e,t,r){null==r&&(r={});var o="";switch(typeof e){case"string":o="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":o=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:Vp)[e],null==o&&(o=r.table&&r.table[zp[e]]||Vp[zp[e]]),null==o&&(o=Bp[e]||"General");break}if(Ip(o,0))return ef(t,r);t instanceof Date&&(t=Yp(t,r.date1904));var i=Pf(o,t);if(Ip(i[1]))return ef(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return Of(i[1],t,r,i[0])}function Lf(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(void 0!=Vp[r]){if(Vp[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return Vp[t]=e,t}function Ff(e){for(var t=0;392!=t;++t)void 0!==e[t]&&Lf(e[t],t)}function If(){Vp=Gp()}var Nf={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Hf=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Gf(e){var t="number"==typeof e?Vp[e]:e;return t=t.replace(Hf,"(\\d+)"),new RegExp("^"+t+"$")}function Vf(e,t,r){var o=-1,i=-1,n=-1,a=-1,s=-1,l=-1;(t.match(Hf)||[]).forEach((function(e,t){var c=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":o=c;break;case"d":n=c;break;case"h":a=c;break;case"s":l=c;break;case"m":a>=0?s=c:i=c;break}})),l>=0&&-1==s&&i>=0&&(s=i,i=-1);var c=(""+(o>=0?o:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(n>=1?n:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==a&&-1==s&&-1==l?c:-1==o&&-1==i&&-1==n?u:c+"T"+u}var zf=function(){var e={};function t(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=r,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}e.version="1.2.0";var r=t();function o(e){var t=0,r=0,o=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(o=0;256!=o;++o)i[o]=e[o];for(o=0;256!=o;++o)for(r=e[o],t=256+o;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var n=[];for(o=1;16!=o;++o)n[o-1]="undefined"!==typeof Int32Array?i.subarray(256*o,256*o+256):i.slice(256*o,256*o+256);return n}var i=o(r),n=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],p=i[8],f=i[9],g=i[10],v=i[11],m=i[12],b=i[13],y=i[14];function w(e,t){for(var o=-1^t,i=0,n=e.length;i<n;)o=o>>>8^r[255&(o^e.charCodeAt(i++))];return~o}function C(e,t){for(var o=-1^t,i=e.length-15,w=0;w<i;)o=y[e[w++]^255&o]^b[e[w++]^o>>8&255]^m[e[w++]^o>>16&255]^v[e[w++]^o>>>24]^g[e[w++]]^f[e[w++]]^p[e[w++]]^h[e[w++]]^d[e[w++]]^u[e[w++]]^c[e[w++]]^l[e[w++]]^s[e[w++]]^a[e[w++]]^n[e[w++]]^r[e[w++]];i+=15;while(w<i)o=o>>>8^r[255&(o^e[w++])];return~o}function E(e,t){for(var o=-1^t,i=0,n=e.length,a=0,s=0;i<n;)a=e.charCodeAt(i++),a<128?o=o>>>8^r[255&(o^a)]:a<2048?(o=o>>>8^r[255&(o^(192|a>>6&31))],o=o>>>8^r[255&(o^(128|63&a))]):a>=55296&&a<57344?(a=64+(1023&a),s=1023&e.charCodeAt(i++),o=o>>>8^r[255&(o^(240|a>>8&7))],o=o>>>8^r[255&(o^(128|a>>2&63))],o=o>>>8^r[255&(o^(128|s>>6&15|(3&a)<<4))],o=o>>>8^r[255&(o^(128|63&s))]):(o=o>>>8^r[255&(o^(224|a>>12&15))],o=o>>>8^r[255&(o^(128|a>>6&63))],o=o>>>8^r[255&(o^(128|63&a))]);return~o}return e.table=r,e.bstr=w,e.buf=C,e.str=E,e}(),Bf=function(){var e,t={};function r(e,t){for(var r=e.split("/"),o=t.split("/"),i=0,n=0,a=Math.min(r.length,o.length);i<a;++i){if(n=r[i].length-o[i].length)return n;if(r[i]!=o[i])return r[i]<o[i]?-1:1}return r.length-o.length}function o(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:o(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function i(e){if("/"==e.charAt(e.length-1))return i(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function n(e,t){"string"===typeof t&&(t=new Date(t));var r=t.getHours();r=r<<6|t.getMinutes(),r=r<<5|t.getSeconds()>>>1,e.write_shift(2,r);var o=t.getFullYear()-1980;o=o<<4|t.getMonth()+1,o=o<<5|t.getDate(),e.write_shift(2,o)}function a(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),o=new Date,i=31&r;r>>>=5;var n=15&r;r>>>=4,o.setMilliseconds(0),o.setFullYear(r+1980),o.setMonth(n-1),o.setDate(i);var a=31&t;t>>>=5;var s=63&t;return t>>>=6,o.setHours(t),o.setMinutes(s),o.setSeconds(a<<1),o}function s(e){rm(e,0);var t={},r=0;while(e.l<=e.length-4){var o=e.read_shift(2),i=e.read_shift(2),n=e.l+i,a={};switch(o){case 21589:r=e.read_shift(1),1&r&&(a.mtime=e.read_shift(4)),i>5&&(2&r&&(a.atime=e.read_shift(4)),4&r&&(a.ctime=e.read_shift(4))),a.mtime&&(a.mt=new Date(1e3*a.mtime));break}e.l=n,t[o]=a}return t}function l(){return e||(e={})}function c(e,t){if(80==e[0]&&75==e[1])return Ce(e,t);if(109==(32|e[0])&&105==(32|e[1]))return De(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r=3,o=512,i=0,n=0,a=0,s=0,l=0,c=[],f=e.slice(0,512);rm(f,0);var v=u(f);switch(r=v[0],r){case 3:o=512;break;case 4:o=4096;break;case 0:if(0==v[1])return Ce(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==o&&(f=e.slice(0,o),rm(f,28));var y=e.slice(0,o);d(f,r);var w=f.read_shift(4,"i");if(3===r&&0!==w)throw new Error("# Directory Sectors: Expected 0 saw "+w);f.l+=4,a=f.read_shift(4,"i"),f.l+=4,f.chk("00100000","Mini Stream Cutoff Size: "),s=f.read_shift(4,"i"),i=f.read_shift(4,"i"),l=f.read_shift(4,"i"),n=f.read_shift(4,"i");for(var C=-1,E=0;E<109;++E){if(C=f.read_shift(4,"i"),C<0)break;c[E]=C}var S=h(e,o);g(l,n,S,o,c);var x=m(S,a,c,o);x[a].name="!Directory",i>0&&s!==O&&(x[s].name="!MiniFAT"),x[c[0]].name="!FAT",x.fat_addrs=c,x.ssz=o;var T={},k=[],_=[],R=[];b(a,x,S,k,i,T,_,s),p(_,R,k),k.shift();var D={FileIndex:_,FullPaths:R};return t&&t.raw&&(D.raw={header:y,sectors:S}),D}function u(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(D,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}function d(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}function h(e,t){for(var r=Math.ceil(e.length/t)-1,o=[],i=1;i<r;++i)o[i-1]=e.slice(i*t,(i+1)*t);return o[r-1]=e.slice(r*t),o}function p(e,t,r){for(var o=0,i=0,n=0,a=0,s=0,l=r.length,c=[],u=[];o<l;++o)c[o]=u[o]=o,t[o]=r[o];for(;s<u.length;++s)o=u[s],i=e[o].L,n=e[o].R,a=e[o].C,c[o]===o&&(-1!==i&&c[i]!==i&&(c[o]=c[i]),-1!==n&&c[n]!==n&&(c[o]=c[n])),-1!==a&&(c[a]=o),-1!==i&&o!=c[o]&&(c[i]=c[o],u.lastIndexOf(i)<s&&u.push(i)),-1!==n&&o!=c[o]&&(c[n]=c[o],u.lastIndexOf(n)<s&&u.push(n));for(o=1;o<l;++o)c[o]===o&&(-1!==n&&c[n]!==n?c[o]=c[n]:-1!==i&&c[i]!==i&&(c[o]=c[i]));for(o=1;o<l;++o)if(0!==e[o].type){if(s=o,s!=c[s])do{s=c[s],t[o]=t[s]+"/"+t[o]}while(0!==s&&-1!==c[s]&&s!=c[s]);c[o]=-1}for(t[0]+="/",o=1;o<l;++o)2!==e[o].type&&(t[o]+="/")}function f(e,t,r){var o=e.start,i=e.size,n=[],a=o;while(r&&i>0&&a>=0)n.push(t.slice(a*R,a*R+R)),i-=R,a=Yv(r,4*a);return 0===n.length?im(0):xp(n).slice(0,e.size)}function g(e,t,r,o,i){var n=O;if(e===O){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var a=r[e],s=(o>>>2)-1;if(!a)return;for(var l=0;l<s;++l){if((n=Yv(a,4*l))===O)break;i.push(n)}g(Yv(a,o-4),t-1,r,o,i)}}function v(e,t,r,o,i){var n=[],a=[];i||(i=[]);var s=o-1,l=0,c=0;for(l=t;l>=0;){i[l]=!0,n[n.length]=l,a.push(e[l]);var u=r[Math.floor(4*l/o)];if(c=4*l&s,o<4+c)throw new Error("FAT boundary crossed: "+l+" 4 "+o);if(!e[u])break;l=Yv(e[u],c)}return{nodes:n,data:Sv([a])}}function m(e,t,r,o){var i=e.length,n=[],a=[],s=[],l=[],c=o-1,u=0,d=0,h=0,p=0;for(u=0;u<i;++u)if(s=[],h=u+t,h>=i&&(h-=i),!a[h]){l=[];var f=[];for(d=h;d>=0;){f[d]=!0,a[d]=!0,s[s.length]=d,l.push(e[d]);var g=r[Math.floor(4*d/o)];if(p=4*d&c,o<4+p)throw new Error("FAT boundary crossed: "+d+" 4 "+o);if(!e[g])break;if(d=Yv(e[g],p),f[d])break}n[h]={nodes:s,data:Sv([l])}}return n}function b(e,t,r,o,i,n,a,s){for(var l,c=0,u=o.length?2:0,d=t[e].data,h=0,p=0;h<d.length;h+=128){var g=d.slice(h,h+128);rm(g,64),p=g.read_shift(2),l=Tv(g,0,p-u),o.push(l);var m={name:l,type:g.read_shift(1),color:g.read_shift(1),L:g.read_shift(4,"i"),R:g.read_shift(4,"i"),C:g.read_shift(4,"i"),clsid:g.read_shift(16),state:g.read_shift(4,"i"),start:0,size:0},b=g.read_shift(2)+g.read_shift(2)+g.read_shift(2)+g.read_shift(2);0!==b&&(m.ct=y(g,g.l-8));var w=g.read_shift(2)+g.read_shift(2)+g.read_shift(2)+g.read_shift(2);0!==w&&(m.mt=y(g,g.l-8)),m.start=g.read_shift(4,"i"),m.size=g.read_shift(4,"i"),m.size<0&&m.start<0&&(m.size=m.type=0,m.start=O,m.name=""),5===m.type?(c=m.start,i>0&&c!==O&&(t[c].name="!StreamData")):m.size>=4096?(m.storage="fat",void 0===t[m.start]&&(t[m.start]=v(r,m.start,t.fat_addrs,t.ssz)),t[m.start].name=m.name,m.content=t[m.start].data.slice(0,m.size)):(m.storage="minifat",m.size<0?m.size=0:c!==O&&m.start!==O&&t[c]&&(m.content=f(m,t[c].data,(t[s]||{}).data))),m.content&&rm(m.content,0),n[l]=m,a.push(m)}}function y(e,t){return new Date(1e3*(Kv(e,t+4)/1e7*Math.pow(2,32)+Kv(e,t)/1e7-11644473600))}function w(t,r){return l(),c(e.readFileSync(t),r)}function C(e,t){var r=t&&t.type;switch(r||gp&&Buffer.isBuffer(e)&&(r="buffer"),r||"base64"){case"file":return w(e,t);case"base64":return c(yp(fp(e)),t);case"binary":return c(yp(e),t)}return c(e,t)}function E(e,t){var r=t||{},o=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=o+"/",e.FileIndex[0]={name:o,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),S(e)}function S(e){var t="Sh33tJ5";if(!Bf.find(e,"/"+t)){var r=im(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),x(e)}}function x(e,t){E(e);for(var n=!1,a=!1,s=e.FullPaths.length-1;s>=0;--s){var l=e.FileIndex[s];switch(l.type){case 0:a?n=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:a=!0,isNaN(l.R*l.L*l.C)&&(n=!0),l.R>-1&&l.L>-1&&l.R==l.L&&(n=!0);break;default:n=!0;break}}if(n||t){var c=new Date(1987,1,19),u=0,d=Object.create?Object.create(null):{},h=[];for(s=0;s<e.FullPaths.length;++s)d[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&h.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<h.length;++s){var p=o(h[s][0]);a=d[p],a||(h.push([p,{name:i(p).replace("/",""),type:1,clsid:P,ct:c,mt:c,content:null}]),d[p]=!0)}for(h.sort((function(e,t){return r(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],s=0;s<h.length;++s)e.FullPaths[s]=h[s][0],e.FileIndex[s]=h[s][1];for(s=0;s<h.length;++s){var f=e.FileIndex[s],g=e.FullPaths[s];if(f.name=i(g).replace("/",""),f.L=f.R=f.C=-(f.color=1),f.size=f.content?f.content.length:0,f.start=0,f.clsid=f.clsid||P,0===s)f.C=h.length>1?1:-1,f.size=0,f.type=5;else if("/"==g.slice(-1)){for(u=s+1;u<h.length;++u)if(o(e.FullPaths[u])==g)break;for(f.C=u>=h.length?-1:u,u=s+1;u<h.length;++u)if(o(e.FullPaths[u])==o(g))break;f.R=u>=h.length?-1:u,f.type=1}else o(e.FullPaths[s+1]||"")==o(g)&&(f.R=s+1),f.type=2}}}function T(e,t){var r=t||{};if("mad"==r.fileType)return Ae(e,r);switch(x(e),r.fileType){case"zip":return Se(e,r)}var o=function(e){for(var t=0,r=0,o=0;o<e.FileIndex.length;++o){var i=e.FileIndex[o];if(i.content){var n=i.content.length;n>0&&(n<4096?t+=n+63>>6:r+=n+511>>9)}}var a=e.FullPaths.length+3>>2,s=t+7>>3,l=t+127>>7,c=s+r+a+l,u=c+127>>7,d=u<=109?0:Math.ceil((u-109)/127);while(c+u+d+127>>7>u)d=++u<=109?0:Math.ceil((u-109)/127);var h=[1,d,u,l,a,r,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),i=im(o[7]<<9),n=0,a=0;for(n=0;n<8;++n)i.write_shift(1,A[n]);for(n=0;n<8;++n)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),n=0;n<3;++n)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,o[2]),i.write_shift(4,o[0]+o[1]+o[2]+o[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,o[3]?o[0]+o[1]+o[2]-1:O),i.write_shift(4,o[3]),i.write_shift(-4,o[1]?o[0]-1:O),i.write_shift(4,o[1]),n=0;n<109;++n)i.write_shift(-4,n<o[2]?o[1]+n:-1);if(o[1])for(a=0;a<o[1];++a){for(;n<236+127*a;++n)i.write_shift(-4,n<o[2]?o[1]+n:-1);i.write_shift(-4,a===o[1]-1?O:a+1)}var s=function(e){for(a+=e;n<a-1;++n)i.write_shift(-4,n+1);e&&(++n,i.write_shift(-4,O))};for(a=n=0,a+=o[1];n<a;++n)i.write_shift(-4,M.DIFSECT);for(a+=o[2];n<a;++n)i.write_shift(-4,M.FATSECT);s(o[3]),s(o[4]);for(var l=0,c=0,u=e.FileIndex[0];l<e.FileIndex.length;++l)u=e.FileIndex[l],u.content&&(c=u.content.length,c<4096||(u.start=a,s(c+511>>9)));s(o[6]+7>>3);while(511&i.l)i.write_shift(-4,M.ENDOFCHAIN);for(a=n=0,l=0;l<e.FileIndex.length;++l)u=e.FileIndex[l],u.content&&(c=u.content.length,!c||c>=4096||(u.start=a,s(c+63>>6)));while(511&i.l)i.write_shift(-4,M.ENDOFCHAIN);for(n=0;n<o[4]<<2;++n){var d=e.FullPaths[n];if(d&&0!==d.length){u=e.FileIndex[n],0===n&&(u.start=u.size?u.start-1:O);var h=0===n&&r.root||u.name;if(c=2*(h.length+1),i.write_shift(64,h,"utf16le"),i.write_shift(2,c),i.write_shift(1,u.type),i.write_shift(1,u.color),i.write_shift(-4,u.L),i.write_shift(-4,u.R),i.write_shift(-4,u.C),u.clsid)i.write_shift(16,u.clsid,"hex");else for(l=0;l<4;++l)i.write_shift(4,0);i.write_shift(4,u.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,u.start),i.write_shift(4,u.size),i.write_shift(4,0)}else{for(l=0;l<17;++l)i.write_shift(4,0);for(l=0;l<3;++l)i.write_shift(4,-1);for(l=0;l<12;++l)i.write_shift(4,0)}}for(n=1;n<e.FileIndex.length;++n)if(u=e.FileIndex[n],u.size>=4096)if(i.l=u.start+1<<9,gp&&Buffer.isBuffer(u.content))u.content.copy(i,i.l,0,u.size),i.l+=u.size+511&-512;else{for(l=0;l<u.size;++l)i.write_shift(1,u.content[l]);for(;511&l;++l)i.write_shift(1,0)}for(n=1;n<e.FileIndex.length;++n)if(u=e.FileIndex[n],u.size>0&&u.size<4096)if(gp&&Buffer.isBuffer(u.content))u.content.copy(i,i.l,0,u.size),i.l+=u.size+63&-64;else{for(l=0;l<u.size;++l)i.write_shift(1,u.content[l]);for(;63&l;++l)i.write_shift(1,0)}if(gp)i.l=i.length;else while(i.l<i.length)i.write_shift(1,0);return i}function k(e,t){var r=e.FullPaths.map((function(e){return e.toUpperCase()})),o=r.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),i=!1;47===t.charCodeAt(0)?(i=!0,t=r[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var n=t.toUpperCase(),a=!0===i?r.indexOf(n):o.indexOf(n);if(-1!==a)return e.FileIndex[a];var s=!n.match(_p);for(n=n.replace(kp,""),s&&(n=n.replace(_p,"!")),a=0;a<r.length;++a){if((s?r[a].replace(_p,"!"):r[a]).replace(kp,"")==n)return e.FileIndex[a];if((s?o[a].replace(_p,"!"):o[a]).replace(kp,"")==n)return e.FileIndex[a]}return null}t.version="1.2.1";var _,R=64,O=-2,D="d0cf11e0a1b11ae1",A=[208,207,17,224,161,177,26,225],P="00000000000000000000000000000000",M={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:D,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:P,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function L(t,r,o){l();var i=T(t,o);e.writeFileSync(r,i)}function F(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function I(t,r){var o=T(t,r);switch(r&&r.type||"buffer"){case"file":return l(),e.writeFileSync(r.filename,o),o;case"binary":return"string"==typeof o?o:F(o);case"base64":return pp("string"==typeof o?o:F(o));case"buffer":if(gp)return Buffer.isBuffer(o)?o:vp(o);case"array":return"string"==typeof o?yp(o):o}return o}function N(e){try{var t=e.InflateRaw,r=new t;if(r._processChunk(new Uint8Array([3,0]),r._finishFlushFlag),!r.bytesRead)throw new Error("zlib does not expose bytesRead");_=e}catch(o){console.error("cannot use native zlib: "+(o.message||o))}}function H(e,t){if(!_)return ye(e,t);var r=_.InflateRaw,o=new r,i=o._processChunk(e.slice(e.l),o._finishFlushFlag);return e.l+=o.bytesRead,i}function G(e){return _?_.deflateRawSync(e):de(e)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],B=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function j(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var W="undefined"!==typeof Uint8Array,U=W?new Uint8Array(256):[],$=0;$<256;++$)U[$]=j($);function K(e,t){var r=U[255&e];return t<=8?r>>>8-t:(r=r<<8|U[e>>8&255],t<=16?r>>>16-t:(r=r<<8|U[e>>16&255],r>>>24-t))}function Y(e,t){var r=7&t,o=t>>>3;return(e[o]|(r<=6?0:e[o+1]<<8))>>>r&3}function q(e,t){var r=7&t,o=t>>>3;return(e[o]|(r<=5?0:e[o+1]<<8))>>>r&7}function X(e,t){var r=7&t,o=t>>>3;return(e[o]|(r<=4?0:e[o+1]<<8))>>>r&15}function J(e,t){var r=7&t,o=t>>>3;return(e[o]|(r<=3?0:e[o+1]<<8))>>>r&31}function Q(e,t){var r=7&t,o=t>>>3;return(e[o]|(r<=1?0:e[o+1]<<8))>>>r&127}function Z(e,t,r){var o=7&t,i=t>>>3,n=(1<<r)-1,a=e[i]>>>o;return r<8-o?a&n:(a|=e[i+1]<<8-o,r<16-o?a&n:(a|=e[i+2]<<16-o,r<24-o||(a|=e[i+3]<<24-o),a&n))}function ee(e,t,r){var o=7&t,i=t>>>3;return o<=5?e[i]|=(7&r)<<o:(e[i]|=r<<o&255,e[i+1]=(7&r)>>8-o),t+3}function te(e,t,r){var o=7&t,i=t>>>3;return r=(1&r)<<o,e[i]|=r,t+1}function re(e,t,r){var o=7&t,i=t>>>3;return r<<=o,e[i]|=255&r,r>>>=8,e[i+1]=r,t+8}function oe(e,t,r){var o=7&t,i=t>>>3;return r<<=o,e[i]|=255&r,r>>>=8,e[i+1]=255&r,e[i+2]=r>>>8,t+16}function ie(e,t){var r=e.length,o=2*r>t?2*r:t+5,i=0;if(r>=t)return e;if(gp){var n=bp(o);if(e.copy)e.copy(n);else for(;i<e.length;++i)n[i]=e[i];return n}if(W){var a=new Uint8Array(o);if(a.set)a.set(e);else for(;i<r;++i)a[i]=e[i];return a}return e.length=o,e}function ne(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function ae(e,t,r){var o=1,i=0,n=0,a=0,s=0,l=e.length,c=W?new Uint16Array(32):ne(32);for(n=0;n<32;++n)c[n]=0;for(n=l;n<r;++n)e[n]=0;l=e.length;var u=W?new Uint16Array(l):ne(l);for(n=0;n<l;++n)c[i=e[n]]++,o<i&&(o=i),u[n]=0;for(c[0]=0,n=1;n<=o;++n)c[n+16]=s=s+c[n-1]<<1;for(n=0;n<l;++n)s=e[n],0!=s&&(u[n]=c[s+16]++);var d=0;for(n=0;n<l;++n)if(d=e[n],0!=d)for(s=K(u[n],o)>>o-d,a=(1<<o+4-d)-1;a>=0;--a)t[s|a<<d]=15&d|n<<4;return o}var se=W?new Uint16Array(512):ne(512),le=W?new Uint16Array(32):ne(32);if(!W){for(var ce=0;ce<512;++ce)se[ce]=0;for(ce=0;ce<32;++ce)le[ce]=0}(function(){for(var e=[],t=0;t<32;t++)e.push(5);ae(e,le,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);ae(r,se,288)})();var ue=function(){for(var e=W?new Uint8Array(32768):[],t=0,r=0;t<B.length-1;++t)for(;r<B[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var o=W?new Uint8Array(259):[];for(t=0,r=0;t<z.length-1;++t)for(;r<z[t+1];++r)o[r]=t;function i(e,t){var r=0;while(r<e.length){var o=Math.min(65535,e.length-r),i=r+o==e.length;t.write_shift(1,+i),t.write_shift(2,o),t.write_shift(2,65535&~o);while(o-- >0)t[t.l++]=e[r++]}return t.l}function n(t,r){var i=0,n=0,a=W?new Uint16Array(32768):[];while(n<t.length){var s=Math.min(65535,t.length-n);if(s<10){i=ee(r,i,+!(n+s!=t.length)),7&i&&(i+=8-(7&i)),r.l=i/8|0,r.write_shift(2,s),r.write_shift(2,65535&~s);while(s-- >0)r[r.l++]=t[n++];i=8*r.l}else{i=ee(r,i,+!(n+s!=t.length)+2);var l=0;while(s-- >0){var c=t[n];l=32767&(l<<5^c);var u=-1,d=0;if((u=a[l])&&(u|=-32768&n,u>n&&(u-=32768),u<n))while(t[u+d]==t[n+d]&&d<250)++d;if(d>2){c=o[d],c<=22?i=re(r,i,U[c+1]>>1)-1:(re(r,i,3),i+=5,re(r,i,U[c-23]>>5),i+=3);var h=c<8?0:c-4>>2;h>0&&(oe(r,i,d-z[c]),i+=h),c=e[n-u],i=re(r,i,U[c]>>3),i-=3;var p=c<4?0:c-2>>1;p>0&&(oe(r,i,n-u-B[c]),i+=p);for(var f=0;f<d;++f)a[l]=32767&n,l=32767&(l<<5^t[n]),++n;s-=d-1}else c<=143?c+=48:i=te(r,i,1),i=re(r,i,U[c]),a[l]=32767&n,++n}i=re(r,i,0)-1}}return r.l=(i+7)/8|0,r.l}return function(e,t){return e.length<8?i(e,t):n(e,t)}}();function de(e){var t=im(50+Math.floor(1.1*e.length)),r=ue(e,t);return t.slice(0,r)}var he=W?new Uint16Array(32768):ne(32768),pe=W?new Uint16Array(32768):ne(32768),fe=W?new Uint16Array(128):ne(128),ge=1,ve=1;function me(e,t){var r=J(e,t)+257;t+=5;var o=J(e,t)+1;t+=5;var i=X(e,t)+4;t+=4;for(var n=0,a=W?new Uint8Array(19):ne(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=W?new Uint8Array(8):ne(8),u=W?new Uint8Array(8):ne(8),d=a.length,h=0;h<i;++h)a[V[h]]=n=q(e,t),l<n&&(l=n),c[n]++,t+=3;var p=0;for(c[0]=0,h=1;h<=l;++h)u[h]=p=p+c[h-1]<<1;for(h=0;h<d;++h)0!=(p=a[h])&&(s[h]=u[p]++);var f=0;for(h=0;h<d;++h)if(f=a[h],0!=f){p=U[s[h]]>>8-f;for(var g=(1<<7-f)-1;g>=0;--g)fe[p|g<<f]=7&f|h<<3}var v=[];for(l=1;v.length<r+o;)switch(p=fe[Q(e,t)],t+=7&p,p>>>=3){case 16:n=3+Y(e,t),t+=2,p=v[v.length-1];while(n-- >0)v.push(p);break;case 17:n=3+q(e,t),t+=3;while(n-- >0)v.push(0);break;case 18:n=11+Q(e,t),t+=7;while(n-- >0)v.push(0);break;default:v.push(p),l<p&&(l=p);break}var m=v.slice(0,r),b=v.slice(r);for(h=r;h<286;++h)m[h]=0;for(h=o;h<30;++h)b[h]=0;return ge=ae(m,he,286),ve=ae(b,pe,30),t}function be(e,t){if(3==e[0]&&!(3&e[1]))return[mp(t),2];var r=0,o=0,i=bp(t||1<<18),n=0,a=i.length>>>0,s=0,l=0;while(0==(1&o))if(o=q(e,r),r+=3,o>>>1!=0)for(o>>1==1?(s=9,l=5):(r=me(e,r),s=ge,l=ve);;){!t&&a<n+32767&&(i=ie(i,n+32767),a=i.length);var c=Z(e,r,s),u=o>>>1==1?se[c]:he[c];if(r+=15&u,u>>>=4,0===(u>>>8&255))i[n++]=u;else{if(256==u)break;u-=257;var d=u<8?0:u-4>>2;d>5&&(d=0);var h=n+z[u];d>0&&(h+=Z(e,r,d),r+=d),c=Z(e,r,l),u=o>>>1==1?le[c]:pe[c],r+=15&u,u>>>=4;var p=u<4?0:u-2>>1,f=B[u];p>0&&(f+=Z(e,r,p),r+=p),!t&&a<h&&(i=ie(i,h+100),a=i.length);while(n<h)i[n]=i[n-f],++n}}else{7&r&&(r+=8-(7&r));var g=e[r>>>3]|e[1+(r>>>3)]<<8;if(r+=32,g>0){!t&&a<n+g&&(i=ie(i,n+g),a=i.length);while(g-- >0)i[n++]=e[r>>>3],r+=8}}return t?[i,r+7>>>3]:[i.slice(0,n),r+7>>>3]}function ye(e,t){var r=e.slice(e.l||0),o=be(r,t);return e.l+=o[1],o[0]}function we(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function Ce(e,t){var r=e;rm(r,0);var o=[],i=[],n={FileIndex:o,FullPaths:i};E(n,{root:t.root});var a=r.length-4;while((80!=r[a]||75!=r[a+1]||5!=r[a+2]||6!=r[a+3])&&a>=0)--a;r.l=a+4,r.l+=4;var l=r.read_shift(2);r.l+=6;var c=r.read_shift(4);for(r.l=c,a=0;a<l;++a){r.l+=20;var u=r.read_shift(4),d=r.read_shift(4),h=r.read_shift(2),p=r.read_shift(2),f=r.read_shift(2);r.l+=8;var g=r.read_shift(4),v=s(r.slice(r.l+h,r.l+h+p));r.l+=h+p+f;var m=r.l;r.l=g+4,Ee(r,u,d,n,v),r.l=m}return n}function Ee(e,t,r,o,i){e.l+=2;var n=e.read_shift(2),l=e.read_shift(2),c=a(e);if(8257&n)throw new Error("Unsupported ZIP encryption");for(var u=e.read_shift(4),d=e.read_shift(4),h=e.read_shift(4),p=e.read_shift(2),f=e.read_shift(2),g="",v=0;v<p;++v)g+=String.fromCharCode(e[e.l++]);if(f){var m=s(e.slice(e.l,e.l+f));(m[21589]||{}).mt&&(c=m[21589].mt),((i||{})[21589]||{}).mt&&(c=i[21589].mt)}e.l+=f;var b=e.slice(e.l,e.l+d);switch(l){case 8:b=H(e,h);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+l)}var y=!1;8&n&&(u=e.read_shift(4),134695760==u&&(u=e.read_shift(4),y=!0),d=e.read_shift(4),h=e.read_shift(4)),d!=t&&we(y,"Bad compressed size: "+t+" != "+d),h!=r&&we(y,"Bad uncompressed size: "+r+" != "+h),Me(o,g,b,{unsafe:!0,mt:c})}function Se(e,t){var r=t||{},o=[],i=[],a=im(1),s=r.compression?8:0,l=0,c=!1;c&&(l|=8);var u=0,d=0,h=0,p=0,f=e.FullPaths[0],g=f,v=e.FileIndex[0],m=[],b=0;for(u=1;u<e.FullPaths.length;++u)if(g=e.FullPaths[u].slice(f.length),v=e.FileIndex[u],v.size&&v.content&&"Sh33tJ5"!=g){var y=h,w=im(g.length);for(d=0;d<g.length;++d)w.write_shift(1,127&g.charCodeAt(d));w=w.slice(0,w.l),m[p]=zf.buf(v.content,0);var C=v.content;8==s&&(C=G(C)),a=im(30),a.write_shift(4,67324752),a.write_shift(2,20),a.write_shift(2,l),a.write_shift(2,s),v.mt?n(a,v.mt):a.write_shift(4,0),a.write_shift(-4,8&l?0:m[p]),a.write_shift(4,8&l?0:C.length),a.write_shift(4,8&l?0:v.content.length),a.write_shift(2,w.length),a.write_shift(2,0),h+=a.length,o.push(a),h+=w.length,o.push(w),h+=C.length,o.push(C),8&l&&(a=im(12),a.write_shift(-4,m[p]),a.write_shift(4,C.length),a.write_shift(4,v.content.length),h+=a.l,o.push(a)),a=im(46),a.write_shift(4,33639248),a.write_shift(2,0),a.write_shift(2,20),a.write_shift(2,l),a.write_shift(2,s),a.write_shift(4,0),a.write_shift(-4,m[p]),a.write_shift(4,C.length),a.write_shift(4,v.content.length),a.write_shift(2,w.length),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a.write_shift(4,y),b+=a.l,i.push(a),b+=w.length,i.push(w),++p}return a=im(22),a.write_shift(4,101010256),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,p),a.write_shift(2,p),a.write_shift(4,b),a.write_shift(4,h),a.write_shift(2,0),xp([xp(o),xp(i),a])}var xe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Te(e,t){if(e.ctype)return e.ctype;var r=e.name||"",o=r.match(/\.([^\.]+)$/);return o&&xe[o[1]]||t&&(o=(r=t).match(/[\.\\]([^\.\\])+$/),o&&xe[o[1]])?xe[o[1]]:"application/octet-stream"}function ke(e){for(var t=pp(e),r=[],o=0;o<t.length;o+=76)r.push(t.slice(o,o+76));return r.join("\r\n")+"\r\n"}function _e(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09"),"\n"==t.charAt(0)&&(t="=0D"+t.slice(1)),t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A");for(var r=[],o=t.split("\r\n"),i=0;i<o.length;++i){var n=o[i];if(0!=n.length)for(var a=0;a<n.length;){var s=76,l=n.slice(a,a+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=n.slice(a,a+s),a+=s,a<n.length&&(l+="="),r.push(l)}else r.push("")}return r.join("\r\n")}function Re(e){for(var t=[],r=0;r<e.length;++r){var o=e[r];while(r<=e.length&&"="==o.charAt(o.length-1))o=o.slice(0,o.length-1)+e[++r];t.push(o)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return yp(t.join("\r\n"))}function Oe(e,t,r){for(var o,i="",n="",a="",s=0;s<10;++s){var l=t[s];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":i=c[2].trim();break;case"content-type":a=c[2].trim();break;case"content-transfer-encoding":n=c[2].trim();break}}switch(++s,n.toLowerCase()){case"base64":o=yp(fp(t.slice(s).join("")));break;case"quoted-printable":o=Re(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+n)}var u=Me(e,i.slice(r.length),o,{unsafe:!0});a&&(u.ctype=a)}function De(e,t){if("mime-version:"!=F(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",o=(gp&&Buffer.isBuffer(e)?e.toString("binary"):F(e)).split("\r\n"),i=0,n="";for(i=0;i<o.length;++i)if(n=o[i],/^Content-Location:/i.test(n)&&(n=n.slice(n.indexOf("file")),r||(r=n.slice(0,n.lastIndexOf("/")+1)),n.slice(0,r.length)!=r))while(r.length>0)if(r=r.slice(0,r.length-1),r=r.slice(0,r.lastIndexOf("/")+1),n.slice(0,r.length)==r)break;var a=(o[1]||"").match(/boundary="(.*?)"/);if(!a)throw new Error("MAD cannot find boundary");var s="--"+(a[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};E(u);var d,h=0;for(i=0;i<o.length;++i){var p=o[i];p!==s&&p!==s+"--"||(h++&&Oe(u,o.slice(d,i),r),d=i)}return u}function Ae(e,t){var r=t||{},o=r.boundary||"SheetJS";o="------="+o;for(var i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+o.slice(2)+'"',"","",""],n=e.FullPaths[0],a=n,s=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(a=e.FullPaths[l].slice(n.length),s=e.FileIndex[l],s.size&&s.content&&"Sh33tJ5"!=a){a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=s.content,u=gp&&Buffer.isBuffer(c)?c.toString("binary"):F(c),d=0,h=Math.min(1024,u.length),p=0,f=0;f<=h;++f)(p=u.charCodeAt(f))>=32&&p<128&&++d;var g=d>=4*h/5;i.push(o),i.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+a),i.push("Content-Transfer-Encoding: "+(g?"quoted-printable":"base64")),i.push("Content-Type: "+Te(s,a)),i.push(""),i.push(g?_e(u):ke(u))}return i.push(o+"--\r\n"),i.join("\r\n")}function Pe(e){var t={};return E(t,e),t}function Me(e,t,r,o){var n=o&&o.unsafe;n||E(e);var a=!n&&Bf.find(e,t);if(!a){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),a={name:i(t),type:2},e.FileIndex.push(a),e.FullPaths.push(s),n||Bf.utils.cfb_gc(e)}return a.content=r,a.size=r?r.length:0,o&&(o.CLSID&&(a.clsid=o.CLSID),o.mt&&(a.mt=o.mt),o.ct&&(a.ct=o.ct)),a}function Le(e,t){E(e);var r=Bf.find(e,t);if(r)for(var o=0;o<e.FileIndex.length;++o)if(e.FileIndex[o]==r)return e.FileIndex.splice(o,1),e.FullPaths.splice(o,1),!0;return!1}function Fe(e,t,r){E(e);var o=Bf.find(e,t);if(o)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==o)return e.FileIndex[n].name=i(r),e.FullPaths[n]=r,!0;return!1}function Ie(e){x(e,!0)}return t.find=k,t.read=C,t.parse=c,t.write=I,t.writeFile=L,t.utils={cfb_new:Pe,cfb_add:Me,cfb_del:Le,cfb_mov:Fe,cfb_gc:Ie,ReadShift:Xv,CheckField:tm,prep_blob:rm,bconcat:xp,use_zlib:N,_deflateRaw:de,_inflateRaw:ye,consts:M},t}();let jf;function Wf(e){return"string"===typeof e?wp(e):Array.isArray(e)?Ep(e):e}function Uf(e,t,r){if("undefined"!==typeof jf&&jf.writeFileSync)return r?jf.writeFileSync(e,t,r):jf.writeFileSync(e,t);if("undefined"!==typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=wp(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var o="utf8"==r?rv(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(o,e);if("undefined"!==typeof Blob){var i=new Blob([Wf(o)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!==typeof saveAs)return saveAs(i,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var n=URL.createObjectURL(i);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(n)}),6e4),chrome.downloads.download({url:n,filename:e,saveAs:!0});var a=document.createElement("a");if(null!=a.download)return a.download=e,a.href=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(n)}),6e4),n}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=Cp(t)),s.write(t),s.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function $f(e){if("undefined"!==typeof jf)return jf.readFileSync(e);if("undefined"!==typeof Deno)return Deno.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(o){if(!o.message||!o.message.match(/onstruct/))throw o}throw new Error("Cannot access file "+e)}function Kf(e){for(var t=Object.keys(e),r=[],o=0;o<t.length;++o)Object.prototype.hasOwnProperty.call(e,t[o])&&r.push(t[o]);return r}function Yf(e,t){for(var r=[],o=Kf(e),i=0;i!==o.length;++i)null==r[e[o[i]][t]]&&(r[e[o[i]][t]]=o[i]);return r}function qf(e){for(var t=[],r=Kf(e),o=0;o!==r.length;++o)t[e[r[o]]]=r[o];return t}function Xf(e){for(var t=[],r=Kf(e),o=0;o!==r.length;++o)t[e[r[o]]]=parseInt(r[o],10);return t}function Jf(e){for(var t=[],r=Kf(e),o=0;o!==r.length;++o)null==t[e[r[o]]]&&(t[e[r[o]]]=[]),t[e[r[o]]].push(r[o]);return t}var Qf=new Date(1899,11,30,0,0,0);function Zf(e,t){var r=e.getTime();t&&(r-=1263168e5);var o=Qf.getTime()+6e4*(e.getTimezoneOffset()-Qf.getTimezoneOffset());return(r-o)/864e5}var eg=new Date,tg=Qf.getTime()+6e4*(eg.getTimezoneOffset()-Qf.getTimezoneOffset()),rg=eg.getTimezoneOffset();function og(e){var t=new Date;return t.setTime(24*e*60*60*1e3+tg),t.getTimezoneOffset()!==rg&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-rg)),t}function ig(e){var t=0,r=0,o=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var n=1;n!=i.length;++n)if(i[n]){switch(r=1,n>3&&(o=!0),i[n].slice(i[n].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[n].slice(i[n].length-1));case"D":r*=24;case"H":r*=60;case"M":if(!o)throw new Error("Unsupported ISO Duration Field: M");r*=60;case"S":break}t+=r*parseInt(i[n],10)}return t}var ng=new Date("2017-02-19T19:06:09.000Z"),ag=isNaN(ng.getFullYear())?new Date("2/19/17"):ng,sg=2017==ag.getFullYear();function lg(e,t){var r=new Date(e);if(sg)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==ag.getFullYear()&&!isNaN(r.getFullYear())){var o=r.getFullYear();return e.indexOf(""+o)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],n=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(n=new Date(n.getTime()-60*n.getTimezoneOffset()*1e3)),n}function cg(e,t){if(gp&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return rv(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return rv(np(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return rv(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return rv(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"","ƒ":"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"","Š":"","‹":"","Œ":"","Ž":"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"","š":"","›":"","œ":"","ž":"","Ÿ":""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,(function(e){return r[e]||e}))}catch(n){}for(var o=[],i=0;i!=e.length;++i)o.push(String.fromCharCode(e[i]));return o.join("")}function ug(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ug(e[r]));return t}function dg(e,t){var r="";while(r.length<t)r+=e;return r}function hg(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,o=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return r*=100,""}));return isNaN(t=Number(o))?(o=o.replace(/[(](.*)[)]/,(function(e,t){return r=-r,t})),isNaN(t=Number(o))?t:t/r):t/r}var pg=["january","february","march","april","may","june","july","august","september","october","november","december"];function fg(e){var t=new Date(e),r=new Date(NaN),o=t.getYear(),i=t.getMonth(),n=t.getDate();if(isNaN(n))return r;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&-1==pg.indexOf(a))return r}else if(a.match(/[a-z]/))return r;return o<0||o>8099?r:(i>0||n>1)&&101!=o?t:e.match(/[^-0-9:,\/\\]/)?r:t}var gg=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,r,o){if(e||"string"==typeof r)return t.split(r);for(var i=t.split(r),n=[i[0]],a=1;a<i.length;++a)n.push(o),n.push(i[a]);return n}}();function vg(e){return e?e.content&&e.type?cg(e.content,!0):e.data?sp(e.data):e.asNodeBuffer&&gp?sp(e.asNodeBuffer().toString("binary")):e.asBinary?sp(e.asBinary()):e._data&&e._data.getContent?sp(cg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function mg(e){if(!e)return null;if(e.data)return op(e.data);if(e.asNodeBuffer&&gp)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?op(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function bg(e){return e&&".bin"===e.name.slice(-4)?mg(e):vg(e)}function yg(e,t){for(var r=e.FullPaths||Kf(e.files),o=t.toLowerCase().replace(/[\/]/g,"\\"),i=o.replace(/\\/g,"/"),n=0;n<r.length;++n){var a=r[n].replace(/^Root Entry[\/]/,"").toLowerCase();if(o==a||i==a)return e.files?e.files[r[n]]:e.FileIndex[n]}return null}function wg(e,t){var r=yg(e,t);if(null==r)throw new Error("Cannot find file "+t+" in zip");return r}function Cg(e,t,r){if(!r)return bg(wg(e,t));if(!t)return null;try{return Cg(e,t)}catch(o){return null}}function Eg(e,t,r){if(!r)return vg(wg(e,t));if(!t)return null;try{return Eg(e,t)}catch(o){return null}}function Sg(e,t,r){if(!r)return mg(wg(e,t));if(!t)return null;try{return Sg(e,t)}catch(o){return null}}function xg(e){for(var t=e.FullPaths||Kf(e.files),r=[],o=0;o<t.length;++o)"/"!=t[o].slice(-1)&&r.push(t[o].replace(/^Root Entry[\/]/,""));return r.sort()}function Tg(e,t,r){if(e.FullPaths){var o;if("string"==typeof r)return o=gp?vp(r):Tp(r),Bf.utils.cfb_add(e,t,o);Bf.utils.cfb_add(e,t,r)}else e.file(t,r)}function kg(){return Bf.utils.cfb_new()}function _g(e,t){switch(t.type){case"base64":return Bf.read(e,{type:"base64"});case"binary":return Bf.read(e,{type:"binary"});case"buffer":case"array":return Bf.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Rg(e,t){if("/"==e.charAt(0))return e.slice(1);var r=t.split("/");"/"!=t.slice(-1)&&r.pop();var o=e.split("/");while(0!==o.length){var i=o.shift();".."===i?r.pop():"."!==i&&r.push(i)}return r.join("/")}var Og='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Dg=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Ag=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Pg=/<[^>]*>/g,Mg=Og.match(Ag)?Ag:Pg,Lg=/<\w*:/,Fg=/<(\/?)\w+:/;function Ig(e,t,r){for(var o={},i=0,n=0;i!==e.length;++i)if(32===(n=e.charCodeAt(i))||10===n||13===n)break;if(t||(o[0]=e.slice(0,i)),i===e.length)return o;var a=e.match(Dg),s=0,l="",c=0,u="",d="",h=1;if(a)for(c=0;c!=a.length;++c){for(d=a[c],n=0;n!=d.length;++n)if(61===d.charCodeAt(n))break;u=d.slice(0,n).trim();while(32==d.charCodeAt(n+1))++n;for(h=34==(i=d.charCodeAt(n+1))||39==i?1:0,l=d.slice(n+1+h,d.length-h),s=0;s!=u.length;++s)if(58===u.charCodeAt(s))break;if(s===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),o[u]=l,r||(o[u.toLowerCase()]=l);else{var p=(5===s&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(s+1);if(o[p]&&"ext"==u.slice(s-3,s))continue;o[p]=l,r||(o[p.toLowerCase()]=l)}}return o}function Ng(e){return e.replace(Fg,"<$1")}var Hg={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Gg=qf(Hg),Vg=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function r(o){var i=o+"",n=i.indexOf("<![CDATA[");if(-1==n)return i.replace(e,(function(e,t){return Hg[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var a=i.indexOf("]]>");return r(i.slice(0,n))+i.slice(n+9,a)+r(i.slice(a+3))}}(),zg=/[&<>'"]/g,Bg=/[\u0000-\u0008\u000b-\u001f]/g;function jg(e){var t=e+"";return t.replace(zg,(function(e){return Gg[e]})).replace(Bg,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function Wg(e){return jg(e).replace(/ /g,"_x0020_")}var Ug=/[\u0000-\u001f]/g;function $g(e){var t=e+"";return t.replace(zg,(function(e){return Gg[e]})).replace(/\n/g,"<br/>").replace(Ug,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function Kg(e){var t=e+"";return t.replace(zg,(function(e){return Gg[e]})).replace(Ug,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var Yg=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(r){return r.replace(e,t)}}();function qg(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Xg(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Jg(e){var t="",r=0,o=0,i=0,n=0,a=0,s=0;while(r<e.length)o=e.charCodeAt(r++),o<128?t+=String.fromCharCode(o):(i=e.charCodeAt(r++),o>191&&o<224?(a=(31&o)<<6,a|=63&i,t+=String.fromCharCode(a)):(n=e.charCodeAt(r++),o<240?t+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&n):(a=e.charCodeAt(r++),s=((7&o)<<18|(63&i)<<12|(63&n)<<6|63&a)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function Qg(e){var t,r,o,i=mp(2*e.length),n=1,a=0,s=0;for(r=0;r<e.length;r+=n)n=1,(o=e.charCodeAt(r))<128?t=o:o<224?(t=64*(31&o)+(63&e.charCodeAt(r+1)),n=2):o<240?(t=4096*(15&o)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),n=3):(n=4,t=262144*(7&o)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),t-=65536,s=55296+(t>>>10&1023),t=56320+(1023&t)),0!==s&&(i[a++]=255&s,i[a++]=s>>>8,s=0),i[a++]=t%256,i[a++]=t>>>8;return i.slice(0,a).toString("ucs2")}function Zg(e){return vp(e,"binary").toString("utf8")}var ev="foo bar bazâð£",tv=gp&&(Zg(ev)==Jg(ev)&&Zg||Qg(ev)==Jg(ev)&&Qg)||Jg,rv=gp?function(e){return vp(e,"utf8").toString("binary")}:function(e){var t=[],r=0,o=0,i=0;while(r<e.length)switch(o=e.charCodeAt(r++),!0){case o<128:t.push(String.fromCharCode(o));break;case o<2048:t.push(String.fromCharCode(192+(o>>6))),t.push(String.fromCharCode(128+(63&o)));break;case o>=55296&&o<57344:o-=55296,i=e.charCodeAt(r++)-56320+(o<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(o>>12))),t.push(String.fromCharCode(128+(o>>6&63))),t.push(String.fromCharCode(128+(63&o)))}return t.join("")},ov=function(){var e={};return function(t,r){var o=t+"|"+(r||"");return e[o]?e[o]:e[o]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),iv=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),o=0;o<e.length;++o)r=r.replace(e[o][0],e[o][1]);return r}}(),nv=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),av=/<\/?(?:vt:)?variant>/g,sv=/<(?:vt:)([^>]*)>([\s\S]*)</;function lv(e,t){var r=Ig(e),o=e.match(nv(r.baseType))||[],i=[];if(o.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+o.length+" != "+r.size);return i}return o.forEach((function(e){var t=e.replace(av,"").match(sv);t&&i.push({v:tv(t[2]),t:t[1]})})),i}var cv=/(^\s|\s$|\n)/;function uv(e,t){return"<"+e+(t.match(cv)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function dv(e){return Kf(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function hv(e,t,r){return"<"+e+(null!=r?dv(r):"")+(null!=t?(t.match(cv)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function pv(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function fv(e,t){switch(typeof e){case"string":var r=hv("vt:lpwstr",jg(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return hv((0|e)==e?"vt:i4":"vt:r8",jg(String(e)));case"boolean":return hv("vt:bool",e?"true":"false")}if(e instanceof Date)return hv("vt:filetime",pv(e));throw new Error("Unable to serialize "+e)}function gv(e){if(gp&&Buffer.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return tv(Cp(Sp(e)));throw new Error("Bad input format: expected Buffer or string")}var vv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,mv={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},bv=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],yv={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function wv(e,t){for(var r=1-2*(e[t+7]>>>7),o=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],n=5;n>=0;--n)i=256*i+e[t+n];return 2047==o?0==i?r*(1/0):NaN:(0==o?o=-1022:(o-=1023,i+=Math.pow(2,52)),r*Math.pow(2,o-52)*i)}function Cv(e,t,r){var o=(t<0||1/t==-1/0?1:0)<<7,i=0,n=0,a=o?-t:t;isFinite(a)?0==a?i=n=0:(i=Math.floor(Math.log(a)/Math.LN2),n=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(n)||n<Math.pow(2,52))?i=-1022:(n-=Math.pow(2,52),i+=1023)):(i=2047,n=isNaN(t)?26985:0);for(var s=0;s<=5;++s,n/=256)e[r+s]=255&n;e[r+6]=(15&i)<<4|15&n,e[r+7]=i>>4|o}var Ev=function(e){for(var t=[],r=10240,o=0;o<e[0].length;++o)if(e[0][o])for(var i=0,n=e[0][o].length;i<n;i+=r)t.push.apply(t,e[0][o].slice(i,i+r));return t},Sv=gp?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:vp(e)}))):Ev(e)}:Ev,xv=function(e,t,r){for(var o=[],i=t;i<r;i+=2)o.push(String.fromCharCode(Uv(e,i)));return o.join("").replace(kp,"")},Tv=gp?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(kp,""):xv(e,t,r)}:xv,kv=function(e,t,r){for(var o=[],i=t;i<t+r;++i)o.push(("0"+e[i].toString(16)).slice(-2));return o.join("")},_v=gp?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):kv(e,t,r)}:kv,Rv=function(e,t,r){for(var o=[],i=t;i<r;i++)o.push(String.fromCharCode(Wv(e,i)));return o.join("")},Ov=gp?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):Rv(e,t,r)}:Rv,Dv=function(e,t){var r=Kv(e,t);return r>0?Ov(e,t+4,t+4+r-1):""},Av=Dv,Pv=function(e,t){var r=Kv(e,t);return r>0?Ov(e,t+4,t+4+r-1):""},Mv=Pv,Lv=function(e,t){var r=2*Kv(e,t);return r>0?Ov(e,t+4,t+4+r-1):""},Fv=Lv,Iv=function(e,t){var r=Kv(e,t);return r>0?Tv(e,t+4,t+4+r):""},Nv=Iv,Hv=function(e,t){var r=Kv(e,t);return r>0?Ov(e,t+4,t+4+r):""},Gv=Hv,Vv=function(e,t){return wv(e,t)},zv=Vv,Bv=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function jv(){Tv=function(e,t,r){return ap.utils.decode(1200,e.slice(t,r)).replace(kp,"")},Ov=function(e,t,r){return ap.utils.decode(65001,e.slice(t,r))},Av=function(e,t){var r=Kv(e,t);return r>0?ap.utils.decode(Xh,e.slice(t+4,t+4+r-1)):""},Mv=function(e,t){var r=Kv(e,t);return r>0?ap.utils.decode(qh,e.slice(t+4,t+4+r-1)):""},Fv=function(e,t){var r=2*Kv(e,t);return r>0?ap.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},Nv=function(e,t){var r=Kv(e,t);return r>0?ap.utils.decode(1200,e.slice(t+4,t+4+r)):""},Gv=function(e,t){var r=Kv(e,t);return r>0?ap.utils.decode(65001,e.slice(t+4,t+4+r)):""}}gp&&(Av=function(e,t){if(!Buffer.isBuffer(e))return Dv(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},Mv=function(e,t){if(!Buffer.isBuffer(e))return Pv(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},Fv=function(e,t){if(!Buffer.isBuffer(e))return Lv(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},Nv=function(e,t){if(!Buffer.isBuffer(e))return Iv(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},Gv=function(e,t){if(!Buffer.isBuffer(e))return Hv(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},zv=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Vv(e,t)},Bv=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof ap&&jv();var Wv=function(e,t){return e[t]},Uv=function(e,t){return 256*e[t+1]+e[t]},$v=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},Kv=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Yv=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},qv=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Xv(e,t){var r,o,i,n,a,s,l="",c=[];switch(t){case"dbcs":if(s=this.l,gp&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(a=0;a<e;++a)l+=String.fromCharCode(Uv(this,s)),s+=2;e*=2;break;case"utf8":l=Ov(this,this.l,this.l+e);break;case"utf16le":e*=2,l=Tv(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof ap)return Xv.call(this,e,"dbcs");l=ap.utils.decode(qh,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=Av(this,this.l),e=4+Kv(this,this.l);break;case"lpstr-cp":l=Mv(this,this.l),e=4+Kv(this,this.l);break;case"lpwstr":l=Fv(this,this.l),e=4+2*Kv(this,this.l);break;case"lpp4":e=4+Kv(this,this.l),l=Nv(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Kv(this,this.l),l=Gv(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":e=0,l="";while(0!==(i=Wv(this,this.l+e++)))c.push(lp(i));l=c.join("");break;case"_wstr":e=0,l="";while(0!==(i=Uv(this,this.l+e)))c.push(lp(i)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",s=this.l,a=0;a<e;++a){if(this.lens&&-1!==this.lens.indexOf(s))return i=Wv(this,s),this.l=s+1,n=Xv.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),c.join("")+n;c.push(lp(Uv(this,s))),s+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof ap){l=ap.utils.decode(qh,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",s=this.l,a=0;a!=e;++a){if(this.lens&&-1!==this.lens.indexOf(s))return i=Wv(this,s),this.l=s+1,n=Xv.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),c.join("")+n;c.push(lp(Wv(this,s))),s+=1}l=c.join("");break;default:switch(e){case 1:return r=Wv(this,this.l),this.l++,r;case 2:return r=("i"===t?$v:Uv)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(r=(e>0?Yv:qv)(this,this.l),this.l+=4,r):(o=Kv(this,this.l),this.l+=4,o);case 8:case-8:if("f"===t)return o=8==e?zv(this,this.l):zv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,o;e=8;case 16:l=_v(this,this.l,e);break}}return this.l+=e,l}var Jv=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Qv=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Zv=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function em(e,t,r){var o=0,i=0;if("dbcs"===r){for(i=0;i!=t.length;++i)Zv(this,t.charCodeAt(i),this.l+2*i);o=2*t.length}else if("sbcs"===r){if("undefined"!==typeof ap&&874==Xh)for(i=0;i!=t.length;++i){var n=ap.utils.encode(Xh,t.charAt(i));this[this.l+i]=n[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);o=t.length}else{if("hex"===r){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===r){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=255&s,this[this.l++]=s>>8}while(this.l<a)this[this.l++]=0;return this}switch(e){case 1:o=1,this[this.l]=255&t;break;case 2:o=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:o=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:o=4,Jv(this,t,this.l);break;case 8:if(o=8,"f"===r){Cv(this,t,this.l);break}case 16:break;case-4:o=4,Qv(this,t,this.l);break}}return this.l+=o,this}function tm(e,t){var r=_v(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function rm(e,t){e.l=t,e.read_shift=Xv,e.chk=tm,e.write_shift=em}function om(e,t){e.l+=t}function im(e){var t=mp(e);return rm(t,0),t}function nm(e,t,r){if(e){var o,i,n;rm(e,e.l||0);var a=e.length,s=0,l=0;while(e.l<a){s=e.read_shift(1),128&s&&(s=(127&s)+((127&e.read_shift(1))<<7));var c=eA[s]||eA[65535];for(o=e.read_shift(1),n=127&o,i=1;i<4&&128&o;++i)n+=(127&(o=e.read_shift(1)))<<7*i;l=e.l+n;var u=c.f&&c.f(e,n,r);if(e.l=l,t(u,c,s))return}}}function am(){var e=[],t=gp?256:2048,r=function(e){var t=im(e);return rm(t,0),t},o=r(t),i=function(){o&&(o.length>o.l&&(o=o.slice(0,o.l),o.l=o.length),o.length>0&&e.push(o),o=null)},n=function(e){return o&&e<o.length-o.l?o:(i(),o=r(Math.max(e+1,t)))},a=function(){return i(),xp(e)},s=function(e){i(),o=e,null==o.l&&(o.l=o.length),n(t)};return{next:n,push:s,end:a,_bufs:e}}function sm(e,t,r,o){var i,n=+t;if(!isNaN(n)){o||(o=eA[n].p||(r||[]).length||0),i=1+(n>=128?1:0)+1,o>=128&&++i,o>=16384&&++i,o>=2097152&&++i;var a=e.next(i);n<=127?a.write_shift(1,n):(a.write_shift(1,128+(127&n)),a.write_shift(1,n>>7));for(var s=0;4!=s;++s){if(!(o>=128)){a.write_shift(1,o);break}a.write_shift(1,128+(127&o)),o>>=7}o>0&&Bv(r)&&e.push(r)}}function lm(e,t,r){var o=ug(e);if(t.s?(o.cRel&&(o.c+=t.s.c),o.rRel&&(o.r+=t.s.r)):(o.cRel&&(o.c+=t.c),o.rRel&&(o.r+=t.r)),!r||r.biff<12){while(o.c>=256)o.c-=256;while(o.r>=65536)o.r-=65536}return o}function cm(e,t,r){var o=ug(e);return o.s=lm(o.s,t.s,r),o.e=lm(o.e,t.s,r),o}function um(e,t){if(e.cRel&&e.c<0){e=ug(e);while(e.c<0)e.c+=t>8?16384:256}if(e.rRel&&e.r<0){e=ug(e);while(e.r<0)e.r+=t>8?1048576:t>5?65536:16384}var r=Em(e);return e.cRel||null==e.cRel||(r=bm(r)),e.rRel||null==e.rRel||(r=fm(r)),r}function dm(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?um(e.s,t.biff)+":"+um(e.e,t.biff):(e.s.rRel?"":"$")+pm(e.s.r)+":"+(e.e.rRel?"":"$")+pm(e.e.r):(e.s.cRel?"":"$")+mm(e.s.c)+":"+(e.e.cRel?"":"$")+mm(e.e.c)}function hm(e){return parseInt(gm(e),10)-1}function pm(e){return""+(e+1)}function fm(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gm(e){return e.replace(/\$(\d+)$/,"$1")}function vm(e){for(var t=ym(e),r=0,o=0;o!==t.length;++o)r=26*r+t.charCodeAt(o)-64;return r-1}function mm(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function bm(e){return e.replace(/^([A-Z])/,"$$$1")}function ym(e){return e.replace(/^\$([A-Z])/,"$1")}function wm(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Cm(e){for(var t=0,r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Em(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Sm(e){var t=e.indexOf(":");return-1==t?{s:Cm(e),e:Cm(e)}:{s:Cm(e.slice(0,t)),e:Cm(e.slice(t+1))}}function xm(e,t){return"undefined"===typeof t||"number"===typeof t?xm(e.s,e.e):("string"!==typeof e&&(e=Em(e)),"string"!==typeof t&&(t=Em(t)),e==t?e:e+":"+t)}function Tm(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,o=0,i=0,n=e.length;for(r=0;o<n;++o){if((i=e.charCodeAt(o)-64)<1||i>26)break;r=26*r+i}for(t.s.c=--r,r=0;o<n;++o){if((i=e.charCodeAt(o)-48)<0||i>9)break;r=10*r+i}if(t.s.r=--r,o===n||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++o,r=0;o!=n;++o){if((i=e.charCodeAt(o)-64)<1||i>26)break;r=26*r+i}for(t.e.c=--r,r=0;o!=n;++o){if((i=e.charCodeAt(o)-48)<0||i>9)break;r=10*r+i}return t.e.r=--r,t}function km(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=Mf(e.z,r?Zf(t):t)}catch(o){}try{return e.w=Mf((e.XF||{}).numFmtId||(r?14:0),r?Zf(t):t)}catch(o){return""+t}}function _m(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?Mb[e.v]||e.v:km(e,void 0==t?e.v:t))}function Rm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",o={};return o[r]=e,{SheetNames:[r],Sheets:o}}function Om(e,t,r){var o=r||{},i=e?Array.isArray(e):o.dense;null!=up&&null==i&&(i=up);var n=e||(i?[]:{}),a=0,s=0;if(n&&null!=o.origin){if("number"==typeof o.origin)a=o.origin;else{var l="string"==typeof o.origin?Cm(o.origin):o.origin;a=l.r,s=l.c}n["!ref"]||(n["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(n["!ref"]){var u=Tm(n["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==a&&(c.e.r=a=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if("undefined"!==typeof t[d][h]){var p={v:t[d][h]},f=a+d,g=s+h;if(c.s.r>f&&(c.s.r=f),c.s.c>g&&(c.s.c=g),c.e.r<f&&(c.e.r=f),c.e.c<g&&(c.e.c=g),!t[d][h]||"object"!==typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),null===p.v)if(p.f)p.t="n";else if(o.nullError)p.t="e",p.v=0;else{if(!o.sheetStubs)continue;p.t="z"}else"number"===typeof p.v?p.t="n":"boolean"===typeof p.v?p.t="b":p.v instanceof Date?(p.z=o.dateNF||Vp[14],o.cellDates?(p.t="d",p.w=Mf(p.z,Zf(p.v))):(p.t="n",p.v=Zf(p.v),p.w=Mf(p.z,p.v))):p.t="s";else p=t[d][h];if(i)n[f]||(n[f]=[]),n[f][g]&&n[f][g].z&&(p.z=n[f][g].z),n[f][g]=p;else{var v=Em({c:g,r:f});n[v]&&n[v].z&&(p.z=n[v].z),n[v]=p}}}return c.s.c<1e7&&(n["!ref"]=xm(c)),n}function Dm(e,t){return Om(null,e,t)}function Am(e){return e.read_shift(4,"i")}function Pm(e,t){return t||(t=im(4)),t.write_shift(4,e),t}function Mm(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function Lm(e,t){var r=!1;return null==t&&(r=!0,t=im(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Fm(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Im(e,t){return t||(t=im(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function Nm(e,t){var r=e.l,o=e.read_shift(1),i=Mm(e),n=[],a={t:i,h:i};if(0!==(1&o)){for(var s=e.read_shift(4),l=0;l!=s;++l)n.push(Fm(e));a.r=n}else a.r=[{ich:0,ifnt:0}];return e.l=r+t,a}function Hm(e,t){var r=!1;return null==t&&(r=!0,t=im(15+4*e.t.length)),t.write_shift(1,0),Lm(e.t,t),r?t.slice(0,t.l):t}var Gm=Nm;function Vm(e,t){var r=!1;return null==t&&(r=!0,t=im(23+4*e.t.length)),t.write_shift(1,1),Lm(e.t,t),t.write_shift(4,1),Im({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function zm(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Bm(e,t){return null==t&&(t=im(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function jm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Wm(e,t){return null==t&&(t=im(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Um=Mm,$m=Lm;function Km(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Ym(e,t){var r=!1;return null==t&&(r=!0,t=im(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var qm=Mm,Xm=Km,Jm=Ym;function Qm(e){var t=e.slice(e.l,e.l+4),r=1&t[0],o=2&t[0];e.l+=4;var i=0===o?zv([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Yv(t,0)>>2;return r?i/100:i}function Zm(e,t){null==t&&(t=im(4));var r=0,o=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?o=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(o=1,r=1),!o)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?i:e)<<2)+(r+2))}function eb(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function tb(e,t){return t||(t=im(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var rb=eb,ob=tb;function ib(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function nb(e,t){return(t||im(8)).write_shift(8,e,"f")}function ab(e){var t={},r=e.read_shift(1),o=r>>>1,i=e.read_shift(1),n=e.read_shift(2,"i"),a=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,o){case 0:t.auto=1;break;case 1:t.index=i;var c=Pb[i];c&&(t.rgb=nS(c));break;case 2:t.rgb=nS([a,s,l]);break;case 3:t.theme=i;break}return 0!=n&&(t.tint=n>0?n/32767:n/32768),t}function sb(e,t){if(t||(t=im(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var o=e.rgb||"FFFFFF";"number"==typeof o&&(o=("000000"+o.toString(16)).slice(-6)),t.write_shift(1,parseInt(o.slice(0,2),16)),t.write_shift(1,parseInt(o.slice(2,4),16)),t.write_shift(1,parseInt(o.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function lb(e){var t=e.read_shift(1);e.l++;var r={fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t};return r}function cb(e,t){t||(t=im(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function ub(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},o=e.read_shift(4);switch(o){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(o>400)throw new Error("Unsupported Clipboard: "+o.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}function db(e){return ub(e,1)}function hb(e){return ub(e,2)}var pb=2,fb=3,gb=11,vb=12,mb=19,bb=64,yb=65,wb=71,Cb=4108,Eb=4126,Sb=80,xb=81,Tb=[Sb,xb],kb={1:{n:"CodePage",t:pb},2:{n:"Category",t:Sb},3:{n:"PresentationFormat",t:Sb},4:{n:"ByteCount",t:fb},5:{n:"LineCount",t:fb},6:{n:"ParagraphCount",t:fb},7:{n:"SlideCount",t:fb},8:{n:"NoteCount",t:fb},9:{n:"HiddenCount",t:fb},10:{n:"MultimediaClipCount",t:fb},11:{n:"ScaleCrop",t:gb},12:{n:"HeadingPairs",t:Cb},13:{n:"TitlesOfParts",t:Eb},14:{n:"Manager",t:Sb},15:{n:"Company",t:Sb},16:{n:"LinksUpToDate",t:gb},17:{n:"CharacterCount",t:fb},19:{n:"SharedDoc",t:gb},22:{n:"HyperlinksChanged",t:gb},23:{n:"AppVersion",t:fb,p:"version"},24:{n:"DigSig",t:yb},26:{n:"ContentType",t:Sb},27:{n:"ContentStatus",t:Sb},28:{n:"Language",t:Sb},29:{n:"Version",t:Sb},255:{},2147483648:{n:"Locale",t:mb},2147483651:{n:"Behavior",t:mb},1919054434:{}},_b={1:{n:"CodePage",t:pb},2:{n:"Title",t:Sb},3:{n:"Subject",t:Sb},4:{n:"Author",t:Sb},5:{n:"Keywords",t:Sb},6:{n:"Comments",t:Sb},7:{n:"Template",t:Sb},8:{n:"LastAuthor",t:Sb},9:{n:"RevNumber",t:Sb},10:{n:"EditTime",t:bb},11:{n:"LastPrinted",t:bb},12:{n:"CreatedDate",t:bb},13:{n:"ModifiedDate",t:bb},14:{n:"PageCount",t:fb},15:{n:"WordCount",t:fb},16:{n:"CharCount",t:fb},17:{n:"Thumbnail",t:wb},18:{n:"Application",t:Sb},19:{n:"DocSecurity",t:fb},255:{},2147483648:{n:"Locale",t:mb},2147483651:{n:"Behavior",t:mb},1919054434:{}},Rb={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ob=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Db(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var Ab=Db([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Pb=ug(Ab),Mb={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Lb={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Fb={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ib={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Nb(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Hb(e){var t=Nb();if(!e||!e.match)return t;var r={};if((e.match(Mg)||[]).forEach((function(e){var o=Ig(e);switch(o[0].replace(Lg,"<")){case"<?xml":break;case"<Types":t.xmlns=o["xmlns"+(o[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[o.Extension]=o.ContentType;break;case"<Override":void 0!==t[Fb[o.ContentType]]&&t[Fb[o.ContentType]].push(o.PartName);break}})),t.xmlns!==mv.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Gb(e,t){var r,o=Jf(Fb),i=[];i[i.length]=Og,i[i.length]=hv("Types",null,{xmlns:mv.CT,"xmlns:xsd":mv.xsd,"xmlns:xsi":mv.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return hv("Default",null,{Extension:e[0],ContentType:e[1]})})));var n=function(o){e[o]&&e[o].length>0&&(r=e[o][0],i[i.length]=hv("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:Ib[o][t.bookType]||Ib[o]["xlsx"]}))},a=function(r){(e[r]||[]).forEach((function(e){i[i.length]=hv("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:Ib[r][t.bookType]||Ib[r]["xlsx"]})}))},s=function(t){(e[t]||[]).forEach((function(e){i[i.length]=hv("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:o[t][0]})}))};return n("workbooks"),a("sheets"),a("charts"),s("themes"),["strs","styles"].forEach(n),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),a("metadata"),s("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Vb={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function zb(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Bb(e,t){var r={"!id":{}};if(!e)return r;"/"!==t.charAt(0)&&(t="/"+t);var o={};return(e.match(Mg)||[]).forEach((function(e){var i=Ig(e);if("<Relationship"===i[0]){var n={};n.Type=i.Type,n.Target=i.Target,n.Id=i.Id,i.TargetMode&&(n.TargetMode=i.TargetMode);var a="External"===i.TargetMode?i.Target:Rg(i.Target,t);r[a]=n,o[i.Id]=n}})),r["!id"]=o,r}function jb(e){var t=[Og,hv("Relationships",null,{xmlns:mv.RELS})];return Kf(e["!id"]).forEach((function(r){t[t.length]=hv("Relationship",null,e["!id"][r])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Wb(e,t,r,o,i,n){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=o,i.Target=r,n?i.TargetMode=n:[Vb.HLINK,Vb.XPATH,Vb.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var Ub="application/vnd.oasis.opendocument.spreadsheet";function $b(e,t){var r,o,i=gv(e);while(r=vv.exec(i))switch(r[3]){case"manifest":break;case"file-entry":if(o=Ig(r[0],!1),"/"==o.path&&o.type!==Ub)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function Kb(e){var t=[Og];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}function Yb(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function qb(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Xb(e){var t=[Og];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var r=0;r!=e.length;++r)t.push(Yb(e[r][0],e[r][1])),t.push(qb("",e[r][0]));return t.push(Yb("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Jb(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Yh.version+"</meta:generator></office:meta></office:document-meta>"}var Qb=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Zb=function(){for(var e=new Array(Qb.length),t=0;t<Qb.length;++t){var r=Qb[t],o="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+o+"[^>]*>([\\s\\S]*?)</"+o+">")}return e}();function ey(e){var t={};e=tv(e);for(var r=0;r<Qb.length;++r){var o=Qb[r],i=e.match(Zb[r]);null!=i&&i.length>0&&(t[o[1]]=Vg(i[1])),"date"===o[2]&&t[o[1]]&&(t[o[1]]=lg(t[o[1]]))}return t}function ty(e,t,r,o,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=jg(t),o[o.length]=r?hv(e,t,r):uv(e,t))}function ry(e,t){var r=t||{},o=[Og,hv("cp:coreProperties",null,{"xmlns:cp":mv.CORE_PROPS,"xmlns:dc":mv.dc,"xmlns:dcterms":mv.dcterms,"xmlns:dcmitype":mv.dcmitype,"xmlns:xsi":mv.xsi})],i={};if(!e&&!r.Props)return o.join("");e&&(null!=e.CreatedDate&&ty("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:pv(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},o,i),null!=e.ModifiedDate&&ty("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:pv(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},o,i));for(var n=0;n!=Qb.length;++n){var a=Qb[n],s=r.Props&&null!=r.Props[a[1]]?r.Props[a[1]]:e?e[a[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&ty(a[0],s,null,o,i)}return o.length>2&&(o[o.length]="</cp:coreProperties>",o[1]=o[1].replace("/>",">")),o.join("")}var oy=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],iy=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ny(e,t,r,o){var i=[];if("string"==typeof e)i=lv(e,o);else for(var n=0;n<e.length;++n)i=i.concat(e[n].map((function(e){return{v:e}})));var a="string"==typeof t?lv(t,o).map((function(e){return e.v})):t,s=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=a.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=a.slice(s,s+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=a.slice(s,s+l);break}s+=l}}function ay(e,t,r){var o={};return t||(t={}),e=tv(e),oy.forEach((function(r){var i=(e.match(ov(r[0]))||[])[1];switch(r[2]){case"string":i&&(t[r[1]]=Vg(i));break;case"bool":t[r[1]]="true"===i;break;case"raw":var n=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));n&&n.length>0&&(o[r[1]]=n[1]);break}})),o.HeadingPairs&&o.TitlesOfParts&&ny(o.HeadingPairs,o.TitlesOfParts,t,r),t}function sy(e){var t=[],r=hv;return e||(e={}),e.Application="SheetJS",t[t.length]=Og,t[t.length]=hv("Properties",null,{xmlns:mv.EXT_PROPS,"xmlns:vt":mv.vt}),oy.forEach((function(o){if(void 0!==e[o[1]]){var i;switch(o[2]){case"string":i=jg(String(e[o[1]]));break;case"bool":i=e[o[1]]?"true":"false";break}void 0!==i&&(t[t.length]=r(o[0],i))}})),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+jg(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ly=/<[^>]+>[^<]*/g;function cy(e,t){var r={},o="",i=e.match(ly);if(i)for(var n=0;n!=i.length;++n){var a=i[n],s=Ig(a);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":o=Vg(s.name);break;case"</property>":o=null;break;default:if(0===a.indexOf("<vt:")){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[o]=Vg(u);break;case"bool":r[o]=Xg(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[o]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[o]=parseFloat(u);break;case"filetime":case"date":r[o]=lg(u);break;case"cy":case"error":r[o]=Vg(u);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",a,c,l)}}else if("</"===a.slice(0,2));else if(t.WTF)throw new Error(a)}}return r}function uy(e){var t=[Og,hv("Properties",null,{xmlns:mv.CUST_PROPS,"xmlns:vt":mv.vt})];if(!e)return t.join("");var r=1;return Kf(e).forEach((function(o){++r,t[t.length]=hv("property",fv(e[o],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:jg(o)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var dy,hy={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function py(e,t,r){dy||(dy=qf(hy)),t=dy[t]||t,e[t]=r}function fy(e,t){var r=[];return Kf(hy).map((function(e){for(var t=0;t<Qb.length;++t)if(Qb[t][1]==e)return Qb[t];for(t=0;t<oy.length;++t)if(oy[t][1]==e)return oy[t];throw e})).forEach((function(o){if(null!=e[o[1]]){var i=t&&t.Props&&null!=t.Props[o[1]]?t.Props[o[1]]:e[o[1]];switch(o[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(uv(hy[o[1]]||o[1],i))}})),hv("DocumentProperties",r.join(""),{xmlns:yv.o})}function gy(e,t){var r=["Worksheets","SheetNames"],o="CustomDocumentProperties",i=[];return e&&Kf(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var o=0;o<Qb.length;++o)if(t==Qb[o][1])return;for(o=0;o<oy.length;++o)if(t==oy[o][1])return;for(o=0;o<r.length;++o)if(t==r[o])return;var n=e[t],a="string";"number"==typeof n?(a="float",n=String(n)):!0===n||!1===n?(a="boolean",n=n?"1":"0"):n=String(n),i.push(hv(Wg(t),n,{"dt:dt":a}))}})),t&&Kf(t).forEach((function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var o=t[r],n="string";"number"==typeof o?(n="float",o=String(o)):!0===o||!1===o?(n="boolean",o=o?"1":"0"):o instanceof Date?(n="dateTime.tz",o=o.toISOString()):o=String(o),i.push(hv(Wg(r),o,{"dt:dt":n}))}})),"<"+o+' xmlns="'+yv.o+'">'+i.join("")+"</"+o+">"}function vy(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date(1e3*(r/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function my(e){var t="string"==typeof e?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,o=r%Math.pow(2,32),i=(r-o)/Math.pow(2,32);o*=1e7,i*=1e7;var n=o/Math.pow(2,32)|0;n>0&&(o%=Math.pow(2,32),i+=n);var a=im(8);return a.write_shift(4,o),a.write_shift(4,i),a}function by(e,t,r){var o=e.l,i=e.read_shift(0,"lpstr-cp");if(r)while(e.l-o&3)++e.l;return i}function yy(e,t,r){var o=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(o.length+1&3)&3),o}function wy(e,t,r){return 31===t?yy(e):by(e,t,r)}function Cy(e,t,r){return wy(e,t,!1===r?0:4)}function Ey(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return wy(e,t,0)}function Sy(e){for(var t=e.read_shift(4),r=[],o=0;o!=t;++o){var i=e.l;r[o]=e.read_shift(0,"lpwstr").replace(kp,""),e.l-i&2&&(e.l+=2)}return r}function xy(e){for(var t=e.read_shift(4),r=[],o=0;o!=t;++o)r[o]=e.read_shift(0,"lpstr-cp").replace(kp,"");return r}function Ty(e){var t=e.l,r=Dy(e,xb);0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2);var o=Dy(e,fb);return[r,o]}function ky(e){for(var t=e.read_shift(4),r=[],o=0;o<t/2;++o)r.push(Ty(e));return r}function _y(e,t){for(var r=e.read_shift(4),o={},i=0;i!=r;++i){var n=e.read_shift(4),a=e.read_shift(4);o[n]=e.read_shift(a,1200===t?"utf16le":"utf8").replace(kp,"").replace(_p,"!"),1200===t&&a%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),o}function Ry(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),r}function Oy(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Dy(e,t,r){var o,i=e.read_shift(2),n=r||{};if(e.l+=2,t!==vb&&i!==t&&-1===Tb.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&i)))throw new Error("Expected type "+t+" saw "+i);switch(t===vb?i:t){case 2:return o=e.read_shift(2,"i"),n.raw||(e.l+=2),o;case 3:return o=e.read_shift(4,"i"),o;case 11:return 0!==e.read_shift(4);case 19:return o=e.read_shift(4),o;case 30:return by(e,i,4).replace(kp,"");case 31:return yy(e);case 64:return vy(e);case 65:return Ry(e);case 71:return Oy(e);case 80:return Cy(e,i,!n.raw).replace(kp,"");case 81:return Ey(e,i).replace(kp,"");case 4108:return ky(e);case 4126:case 4127:return 4127==i?Sy(e):xy(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function Ay(e,t){var r=im(4),o=im(4);switch(r.write_shift(4,80==e?31:e),e){case 3:o.write_shift(-4,t);break;case 5:o=im(8),o.write_shift(8,t,"f");break;case 11:o.write_shift(4,t?1:0);break;case 64:o=my(t);break;case 31:case 80:o=im(4+2*(t.length+1)+(t.length%2?0:2)),o.write_shift(4,t.length+1),o.write_shift(0,t,"dbcs");while(o.l!=o.length)o.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return xp([r,o])}function Py(e,t){var r=e.l,o=e.read_shift(4),i=e.read_shift(4),n=[],a=0,s=0,l=-1,c={};for(a=0;a!=i;++a){var u=e.read_shift(4),d=e.read_shift(4);n[a]=[u,d+r]}n.sort((function(e,t){return e[1]-t[1]}));var h={};for(a=0;a!=i;++a){if(e.l!==n[a][1]){var p=!0;if(a>0&&t)switch(t[n[a-1][0]].t){case 2:e.l+2===n[a][1]&&(e.l+=2,p=!1);break;case 80:e.l<=n[a][1]&&(e.l=n[a][1],p=!1);break;case 4108:e.l<=n[a][1]&&(e.l=n[a][1],p=!1);break}if((!t||0==a)&&e.l<=n[a][1]&&(p=!1,e.l=n[a][1]),p)throw new Error("Read Error: Expected address "+n[a][1]+" at "+e.l+" :"+a)}if(t){var f=t[n[a][0]];if(h[f.n]=Dy(e,f.t,{raw:!0}),"version"===f.p&&(h[f.n]=String(h[f.n]>>16)+"."+("0000"+String(65535&h[f.n])).slice(-4)),"CodePage"==f.n)switch(h[f.n]){case 0:h[f.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:tp(s=h[f.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[f.n])}}else if(1===n[a][0]){if(s=h.CodePage=Dy(e,pb),tp(s),-1!==l){var g=e.l;e.l=n[l][1],c=_y(e,s),e.l=g}}else if(0===n[a][0]){if(0===s){l=a,e.l=n[a+1][1];continue}c=_y(e,s)}else{var v,m=c[n[a][0]];switch(e[e.l]){case 65:e.l+=4,v=Ry(e);break;case 30:e.l+=4,v=Cy(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=Cy(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=zy(e,4);break;case 64:e.l+=4,v=lg(vy(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[m]=v}}return e.l=r+o,h}var My=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Ly(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Fy(e,t,r){var o=im(8),i=[],n=[],a=8,s=0,l=im(8),c=im(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),n.push(l),i.push(c),a+=8+l.length,!t){c=im(8),c.write_shift(4,0),i.unshift(c);var u=[im(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];l=im(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,s+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");while(l.l!=l.length)l.write_shift(1,0);u.push(l)}l=xp(u),n.unshift(l),a+=8+l.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(My.indexOf(e[s][0])>-1||iy.indexOf(e[s][0])>-1)&&null!=e[s][1]){var h=e[s][1],p=0;if(t){p=+t[e[s][0]];var f=r[p];if("version"==f.p&&"string"==typeof h){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=Ay(f.t,h)}else{var v=Ly(h);-1==v&&(v=31,h=String(h)),l=Ay(v,h)}n.push(l),c=im(8),c.write_shift(4,t?p:2+s),i.push(c),a+=8+l.length}var m=8*(n.length+1);for(s=0;s<n.length;++s)i[s].write_shift(4,m),m+=n[s].length;return o.write_shift(4,a),o.write_shift(4,n.length),xp([o].concat(i).concat(n))}function Iy(e,t,r){var o=e.content;if(!o)return{};rm(o,0);var i,n,a,s,l=0;o.chk("feff","Byte Order: "),o.read_shift(2);var c=o.read_shift(4),u=o.read_shift(16);if(u!==Bf.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(i=o.read_shift(4),1!==i&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(n=o.read_shift(16),s=o.read_shift(4),1===i&&s!==o.l)throw new Error("Length mismatch: "+s+" !== "+o.l);2===i&&(a=o.read_shift(16),l=o.read_shift(4));var d,h=Py(o,t),p={SystemIdentifier:c};for(var f in h)p[f]=h[f];if(p.FMTID=n,1===i)return p;if(l-o.l==2&&(o.l+=2),o.l!==l)throw new Error("Length mismatch 2: "+o.l+" !== "+l);try{d=Py(o,null)}catch(g){}for(f in d)p[f]=d[f];return p.FMTID=[n,a],p}function Ny(e,t,r,o,i,n){var a=im(i?68:48),s=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Bf.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var l=Fy(e,r,o);if(s.push(l),i){var c=Fy(i,null,null);a.write_shift(16,n,"hex"),a.write_shift(4,68+l.length),s.push(c)}return xp(s)}function Hy(e,t){return e.read_shift(t),null}function Gy(e,t){t||(t=im(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Vy(e,t,r){var o=[],i=e.l+t;while(e.l<i)o.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return o}function zy(e,t){return 1===e.read_shift(t)}function By(e,t){return t||(t=im(2)),t.write_shift(2,+!!e),t}function jy(e){return e.read_shift(2,"u")}function Wy(e,t){return t||(t=im(2)),t.write_shift(2,e),t}function Uy(e,t){return Vy(e,t,jy)}function $y(e){var t=e.read_shift(1),r=e.read_shift(1);return 1===r?t:1===t}function Ky(e,t,r){return r||(r=im(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function Yy(e,t,r){var o=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont",n=qh;if(r&&r.biff>=8&&(qh=1200),r&&8!=r.biff)12==r.biff&&(i="wstr");else{var a=e.read_shift(1);a&&(i="dbcs-cont")}r.biff>=2&&r.biff<=5&&(i="cpstr");var s=o?e.read_shift(o,i):"";return qh=n,s}function qy(e){var t=qh;qh=1200;var r,o=e.read_shift(2),i=e.read_shift(1),n=4&i,a=8&i,s=1+(1&i),l=0,c={};a&&(l=e.read_shift(2)),n&&(r=e.read_shift(4));var u=2==s?"dbcs-cont":"sbcs-cont",d=0===o?"":e.read_shift(o,u);return a&&(e.l+=4*l),n&&(e.l+=r),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),qh=t,c}function Xy(e){var t=e.t||"",r=1,o=im(3+(r>1?2:0));o.write_shift(2,t.length),o.write_shift(1,1|(r>1?8:0)),r>1&&o.write_shift(2,r);var i=im(2*t.length);i.write_shift(2*t.length,t,"utf16le");var n=[o,i];return xp(n)}function Jy(e,t,r){var o;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return o=0===i?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont"),o}function Qy(e,t,r){var o=e.read_shift(r&&2==r.biff?1:2);return 0===o?(e.l++,""):Jy(e,o,r)}function Zy(e,t,r){if(r.biff>5)return Qy(e,t,r);var o=e.read_shift(1);return 0===o?(e.l++,""):e.read_shift(o,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function ew(e,t,r){return r||(r=im(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function tw(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function rw(e){var t=e.read_shift(4),r=e.l,o=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(o=!0),e.l=r);var i=e.read_shift((o?t-24:t)>>1,"utf16le").replace(kp,"");return o&&(e.l+=24),i}function ow(e){var t=e.read_shift(2),r="";while(t-- >0)r+="../";var o=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(0===i)return r+o.replace(/\\/g,"/");var n=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");var a=e.read_shift(n>>1,"utf16le").replace(kp,"");return r+a}function iw(e,t){var r=e.read_shift(16);switch(t-=16,r){case"e0c9ea79f9bace118c8200aa004ba90b":return rw(e,t);case"0303000000000000c000000000000046":return ow(e,t);default:throw new Error("Unsupported Moniker "+r)}}function nw(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(kp,""):"";return r}function aw(e,t){t||(t=im(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function sw(e,t){var r=e.l+t,o=e.read_shift(4);if(2!==o)throw new Error("Unrecognized streamVersion: "+o);var i=e.read_shift(2);e.l+=2;var n,a,s,l,c,u,d="";16&i&&(n=nw(e,r-e.l)),128&i&&(a=nw(e,r-e.l)),257===(257&i)&&(s=nw(e,r-e.l)),1===(257&i)&&(l=iw(e,r-e.l)),8&i&&(d=nw(e,r-e.l)),32&i&&(c=e.read_shift(16)),64&i&&(u=vy(e)),e.l=r;var h=a||s||l||"";h&&d&&(h+="#"+d),h||(h="#"+d),2&i&&"/"==h.charAt(0)&&"/"!=h.charAt(1)&&(h="file://"+h);var p={Target:h};return c&&(p.guid=c),u&&(p.time=u),n&&(p.Tooltip=n),p}function lw(e){var t=im(512),r=0,o=e.Target;"file://"==o.slice(0,7)&&(o=o.slice(7));var i=o.indexOf("#"),n=i>-1?31:23;switch(o.charAt(0)){case"#":n=28;break;case".":n&=-3;break}t.write_shift(4,2),t.write_shift(4,n);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)t.write_shift(4,a[r]);if(28==n)o=o.slice(1),aw(o,t);else if(2&n){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));var s=i>-1?o.slice(0,i):o;for(t.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)t.write_shift(2,s.charCodeAt(r));t.write_shift(2,0),8&n&&aw(i>-1?o.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));var l=0;while("../"==o.slice(3*l,3*l+3)||"..\\"==o.slice(3*l,3*l+3))++l;for(t.write_shift(2,l),t.write_shift(4,o.length-3*l+1),r=0;r<o.length-3*l;++r)t.write_shift(1,255&o.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function cw(e){var t=e.read_shift(1),r=e.read_shift(1),o=e.read_shift(1),i=e.read_shift(1);return[t,r,o,i]}function uw(e,t){var r=cw(e,t);return r[3]=0,r}function dw(e){var t=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2);return{r:t,c:r,ixfe:o}}function hw(e,t,r,o){return o||(o=im(6)),o.write_shift(2,e),o.write_shift(2,t),o.write_shift(2,r||0),o}function pw(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function fw(e,t,r){return 0===t?"":Zy(e,t,r)}function gw(e,t,r){var o=r.biff>8?4:2,i=e.read_shift(o),n=e.read_shift(o,"i"),a=e.read_shift(o,"i");return[i,n,a]}function vw(e){var t=e.read_shift(2),r=Qm(e);return[t,r]}function mw(e,t,r){e.l+=4,t-=4;var o=e.l+t,i=Yy(e,t,r),n=e.read_shift(2);if(o-=e.l,n!==o)throw new Error("Malformed AddinUdf: padding = "+o+" != "+n);return e.l+=n,i}function bw(e){var t=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2),i=e.read_shift(2);return{s:{c:o,r:t},e:{c:i,r:r}}}function yw(e,t){return t||(t=im(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function ww(e){var t=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(1),i=e.read_shift(1);return{s:{c:o,r:t},e:{c:i,r:r}}}var Cw=ww;function Ew(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2);return e.l+=12,[r,t,o]}function Sw(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function xw(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Tw(e){e.l+=2,e.l+=e.read_shift(2)}var kw={0:Tw,4:Tw,5:Tw,6:Tw,7:xw,8:Tw,9:Tw,10:Tw,11:Tw,12:Tw,13:Sw,14:Tw,15:Tw,16:Tw,17:Tw,18:Tw,19:Tw,20:Tw,21:Ew};function _w(e,t){var r=e.l+t,o=[];while(e.l<r){var i=e.read_shift(2);e.l-=2;try{o.push(kw[i](e,r-e.l))}catch(n){return e.l=r,o}}return e.l!=r&&(e.l=r),o}function Rw(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Ow(e,t,r){var o=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":o=1280,i=8;break;case"biff4":o=4,i=6;break;case"biff3":o=3,i=6;break;case"biff2":o=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var n=im(i);return n.write_shift(2,o),n.write_shift(2,t),i>4&&n.write_shift(2,29282),i>6&&n.write_shift(2,1997),i>8&&(n.write_shift(2,49161),n.write_shift(2,1),n.write_shift(2,1798),n.write_shift(2,0)),n}function Dw(e,t){return 0===t||e.read_shift(2),1200}function Aw(e,t,r){if(r.enc)return e.l+=t,"";var o=e.l,i=Zy(e,0,r);return e.read_shift(t+o-e.l),i}function Pw(e,t){var r=!t||8==t.biff,o=im(r?112:54);o.write_shift(8==t.biff?2:1,7),r&&o.write_shift(1,0),o.write_shift(4,859007059),o.write_shift(4,5458548|(r?0:536870912));while(o.l<o.length)o.write_shift(1,r?0:32);return o}function Mw(e,t,r){var o=r&&8==r.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&o,fBelow:64&o,fRight:128&o}}function Lw(e,t,r){var o=e.read_shift(4),i=3&e.read_shift(1),n=e.read_shift(1);switch(n){case 0:n="Worksheet";break;case 1:n="Macrosheet";break;case 2:n="Chartsheet";break;case 6:n="VBAModule";break}var a=Yy(e,0,r);return 0===a.length&&(a="Sheet1"),{pos:o,hs:i,dt:n,name:a}}function Fw(e,t){var r=!t||t.biff>=8?2:1,o=im(8+r*e.name.length);o.write_shift(4,e.pos),o.write_shift(1,e.hs||0),o.write_shift(1,e.dt),o.write_shift(1,e.name.length),t.biff>=8&&o.write_shift(1,1),o.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=o.slice(0,o.l);return i.l=o.l,i}function Iw(e,t){for(var r=e.l+t,o=e.read_shift(4),i=e.read_shift(4),n=[],a=0;a!=i&&e.l<r;++a)n.push(qy(e));return n.Count=o,n.Unique=i,n}function Nw(e,t){var r=im(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var o=[],i=0;i<e.length;++i)o[i]=Xy(e[i],t);var n=xp([r].concat(o));return n.parts=[r.length].concat(o.map((function(e){return e.length}))),n}function Hw(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Gw(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var o=e.read_shift(1);return e.l+=3,7&o&&(t.level=7&o),32&o&&(t.hidden=!0),64&o&&(t.hpt=r/20),t}function Vw(e){var t=pw(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return 0!==r}function zw(e){return e.read_shift(2),e.read_shift(4)}function Bw(e,t,r){var o=0;r&&2==r.biff||(o=e.read_shift(2));var i=e.read_shift(2);r&&2==r.biff&&(o=1-(i>>15),i&=32767);var n={Unsynced:1&o,DyZero:(2&o)>>1,ExAsc:(4&o)>>2,ExDsc:(8&o)>>3};return[n,i]}function jw(e){var t=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2),i=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[o,i],Flags:n,CurTab:a,FirstTab:s,Selected:l,TabRatio:c}}function Ww(){var e=im(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Uw(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var o=e.read_shift(2);return{RTL:64&o}}function $w(e){var t=im(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Kw(){}function Yw(e,t,r){var o={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return o.name=Yy(e,0,r),o}function qw(e,t){var r=e.name||"Arial",o=t&&5==t.biff,i=o?15+r.length:16+2*r.length,n=im(i);return n.write_shift(2,20*(e.sz||12)),n.write_shift(4,0),n.write_shift(2,400),n.write_shift(4,0),n.write_shift(2,0),n.write_shift(1,r.length),o||n.write_shift(1,1),n.write_shift((o?1:2)*r.length,r,o?"sbcs":"utf16le"),n}function Xw(e){var t=dw(e);return t.isst=e.read_shift(4),t}function Jw(e,t,r,o){var i=im(10);return hw(e,t,o,i),i.write_shift(4,r),i}function Qw(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var o=e.l+t,i=dw(e,6);2==r.biff&&e.l++;var n=Qy(e,o-e.l,r);return i.val=n,i}function Zw(e,t,r,o,i){var n=!i||8==i.biff,a=im(+n+8+(1+n)*r.length);return hw(e,t,o,a),a.write_shift(2,r.length),n&&a.write_shift(1,1),a.write_shift((1+n)*r.length,r,n?"utf16le":"sbcs"),a}function eC(e,t,r){var o=e.read_shift(2),i=Zy(e,0,r);return[o,i]}function tC(e,t,r,o){var i=r&&5==r.biff;o||(o=im(i?3+t.length:5+2*t.length)),o.write_shift(2,e),o.write_shift(i?1:2,t.length),i||o.write_shift(1,1),o.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var n=o.length>o.l?o.slice(0,o.l):o;return null==n.l&&(n.l=n.length),n}var rC=Zy;function oC(e,t,r){var o=e.l+t,i=8!=r.biff&&r.biff?2:4,n=e.read_shift(i),a=e.read_shift(i),s=e.read_shift(2),l=e.read_shift(2);return e.l=o,{s:{r:n,c:s},e:{r:a,c:l}}}function iC(e,t){var r=8!=t.biff&&t.biff?2:4,o=im(2*r+6);return o.write_shift(r,e.s.r),o.write_shift(r,e.e.r+1),o.write_shift(2,e.s.c),o.write_shift(2,e.e.c+1),o.write_shift(2,0),o}function nC(e){var t=e.read_shift(2),r=e.read_shift(2),o=vw(e);return{r:t,c:r,ixfe:o[0],rknum:o[1]}}function aC(e,t){var r=e.l+t-2,o=e.read_shift(2),i=e.read_shift(2),n=[];while(e.l<r)n.push(vw(e));if(e.l!==r)throw new Error("MulRK read error");var a=e.read_shift(2);if(n.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:o,c:i,C:a,rkrec:n}}function sC(e,t){var r=e.l+t-2,o=e.read_shift(2),i=e.read_shift(2),n=[];while(e.l<r)n.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var a=e.read_shift(2);if(n.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:o,c:i,C:a,ixfe:n}}function lC(e,t,r,o){var i={},n=e.read_shift(4),a=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return i.patternType=Ob[s>>26],o.cellStyles?(i.alc=7&n,i.fWrap=n>>3&1,i.alcV=n>>4&7,i.fJustLast=n>>7&1,i.trot=n>>8&255,i.cIndent=n>>16&15,i.fShrinkToFit=n>>20&1,i.iReadOrder=n>>22&2,i.fAtrNum=n>>26&1,i.fAtrFnt=n>>27&1,i.fAtrAlc=n>>28&1,i.fAtrBdr=n>>29&1,i.fAtrPat=n>>30&1,i.fAtrProt=n>>31&1,i.dgLeft=15&a,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=127&s,i.icvBottom=s>>7&127,i.icvDiag=s>>14&127,i.dgDiag=s>>21&15,i.icvFore=127&l,i.icvBack=l>>7&127,i.fsxButton=l>>14&1,i):i}function cC(e,t,r){var o={};return o.ifnt=e.read_shift(2),o.numFmtId=e.read_shift(2),o.flags=e.read_shift(2),o.fStyle=o.flags>>2&1,t-=6,o.data=lC(e,t,o.fStyle,r),o}function uC(e,t,r,o){var i=r&&5==r.biff;o||(o=im(i?16:20)),o.write_shift(2,0),e.style?(o.write_shift(2,e.numFmtId||0),o.write_shift(2,65524)):(o.write_shift(2,e.numFmtId||0),o.write_shift(2,t<<4));var n=0;return e.numFmtId>0&&i&&(n|=1024),o.write_shift(4,n),o.write_shift(4,0),i||o.write_shift(4,0),o.write_shift(2,0),o}function dC(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function hC(e){var t=im(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function pC(e,t,r){var o=dw(e,6);2!=r.biff&&9!=t||++e.l;var i=$y(e,2);return o.val=i,o.t=!0===i||!1===i?"b":"e",o}function fC(e,t,r,o,i,n){var a=im(8);return hw(e,t,o,a),Ky(r,n,a),a}function gC(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var o=dw(e,6),i=ib(e,8);return o.val=i,o}function vC(e,t,r,o){var i=im(14);return hw(e,t,o,i),nb(r,i),i}var mC=fw;function bC(e,t,r){var o=e.l+t,i=e.read_shift(2),n=e.read_shift(2);if(r.sbcch=n,1025==n||14849==n)return[n,i];if(n<1||n>255)throw new Error("Unexpected SupBook type: "+n);var a=Jy(e,n),s=[];while(o>e.l)s.push(Qy(e));return[n,i,a,s]}function yC(e,t,r){var o,i=e.read_shift(2),n={fBuiltIn:1&i,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return 14849===r.sbcch&&(o=mw(e,t-2,r)),n.body=o||e.read_shift(t-2),"string"===typeof o&&(n.Name=o),n}var wC=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function CC(e,t,r){var o=e.l+t,i=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(r&&2==r.biff?1:2),l=0;(!r||r.biff>=5)&&(5!=r.biff&&(e.l+=2),l=e.read_shift(2),5==r.biff&&(e.l+=2),e.l+=4);var c=Jy(e,a,r);32&i&&(c=wC[c.charCodeAt(0)]);var u=o-e.l;r&&2==r.biff&&--u;var d=o!=e.l&&0!==s&&u>0?Jk(e,u,r,s):[];return{chKey:n,Name:c,itab:l,rgce:d}}function EC(e,t,r){if(r.biff<8)return SC(e,t,r);var o=[],i=e.l+t,n=e.read_shift(r.biff>8?4:2);while(0!==n--)o.push(gw(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return o}function SC(e,t,r){3==e[e.l+1]&&e[e.l]++;var o=Yy(e,t,r);return 3==o.charCodeAt(0)?o.slice(1):o}function xC(e,t,r){if(!(r.biff<8)){var o=e.read_shift(2),i=e.read_shift(2),n=Jy(e,o,r),a=Jy(e,i,r);return[n,a]}e.l+=t}function TC(e,t,r){var o=ww(e,6);e.l++;var i=e.read_shift(1);return t-=8,[Qk(e,t,r),i,o]}function kC(e,t,r){var o=Cw(e,6);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[o,qk(e,t,r,o)]}function _C(e){var t=0!==e.read_shift(4),r=0!==e.read_shift(4),o=e.read_shift(4);return[t,r,o]}function RC(e,t,r){if(!(r.biff<8)){var o=e.read_shift(2),i=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=Zy(e,0,r);return r.biff<8&&e.read_shift(1),[{r:o,c:i},s,a,n]}}function OC(e,t,r){return RC(e,t,r)}function DC(e,t){var r=[],o=e.read_shift(2);while(o--)r.push(bw(e,t));return r}function AC(e){var t=im(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)yw(e[r],t);return t}function PC(e,t,r){if(r&&r.biff<8)return LC(e,t,r);var o=Ew(e,22),i=_w(e,t-22,o[1]);return{cmo:o,ft:i}}var MC={8:function(e,t){var r=e.l+t;e.l+=10;var o=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:o}}};function LC(e,t,r){e.l+=4;var o=e.read_shift(2),i=e.read_shift(2),n=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var a=[];return a.push((MC[o]||om)(e,t,r)),{cmo:[i,o,n],ft:a}}function FC(e,t,r){var o=e.l,i="";try{e.l+=4;var n=(r.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(n)?e.l+=6:tw(e,6,r);var a=e.read_shift(2);e.read_shift(2),jy(e,2);var s=e.read_shift(2);e.l+=s;for(var l=1;l<e.lens.length-1;++l){if(e.l-o!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l],u=Jy(e,e.lens[l+1]-e.lens[l]-1);if(i+=u,i.length>=(c?a:2*a))break}if(i.length!==a&&i.length!==2*a)throw new Error("cchText: "+a+" != "+i.length);return e.l=o+t,{t:i}}catch(d){return e.l=o+t,{t:i}}}function IC(e,t){var r=bw(e,8);e.l+=16;var o=sw(e,t-24);return[r,o]}function NC(e){var t=im(24),r=Cm(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var o="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(o[i],16));return xp([t,lw(e[1])])}function HC(e,t){e.read_shift(2);var r=bw(e,8),o=e.read_shift((t-10)/2,"dbcs-cont");return o=o.replace(kp,""),[r,o]}function GC(e){var t=e[1].Tooltip,r=im(10+2*(t.length+1));r.write_shift(2,2048);var o=Cm(e[0]);r.write_shift(2,o.r),r.write_shift(2,o.r),r.write_shift(2,o.c),r.write_shift(2,o.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function VC(e){var t,r=[0,0];return t=e.read_shift(2),r[0]=Rb[t]||t,t=e.read_shift(2),r[1]=Rb[t]||t,r}function zC(e){return e||(e=im(4)),e.write_shift(2,1),e.write_shift(2,1),e}function BC(e){var t=e.read_shift(2),r=[];while(t-- >0)r.push(uw(e,8));return r}function jC(e){var t=e.read_shift(2),r=[];while(t-- >0)r.push(uw(e,8));return r}function WC(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function UC(e,t,r){if(!r.cellStyles)return om(e,t);var o=r&&r.biff>=12?4:2,i=e.read_shift(o),n=e.read_shift(o),a=e.read_shift(o),s=e.read_shift(o),l=e.read_shift(2);2==o&&(e.l+=2);var c={s:i,e:n,w:a,ixfe:s,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function $C(e,t){var r=im(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var o=0;return e.hidden&&(o|=1),r.write_shift(1,o),o=e.level||0,r.write_shift(1,o),r.write_shift(2,0),r}function KC(e,t){var r={};return t<32||(e.l+=16,r.header=ib(e,8),r.footer=ib(e,8),e.l+=2),r}function YC(e,t,r){var o={area:!1};if(5!=r.biff)return e.l+=t,o;var i=e.read_shift(1);return e.l+=3,16&i&&(o.area=!0),o}function qC(e){for(var t=im(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var XC=dw,JC=Uy,QC=Qy;function ZC(e){var t=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(4),i={fmt:t,env:r,len:o,data:e.slice(e.l,e.l+o)};return e.l+=o,i}function eE(e,t,r){r.biffguess&&5==r.biff&&(r.biff=2);var o=dw(e,6);++e.l;var i=Zy(e,t-7,r);return o.t="str",o.val=i,o}function tE(e){var t=dw(e,6);++e.l;var r=ib(e,8);return t.t="n",t.val=r,t}function rE(e,t,r){var o=im(15);return iA(o,e,t),o.write_shift(8,r,"f"),o}function oE(e){var t=dw(e,6);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function iE(e,t,r){var o=im(9);return iA(o,e,t),o.write_shift(2,r),o}function nE(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}function aE(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function sE(e,t,r){var o=e.l+t,i=dw(e,6),n=e.read_shift(2),a=Jy(e,n,r);return e.l=o,i.t="str",i.val=a,i}var lE=[2,3,48,49,131,139,140,245],cE=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=qf({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var o=[],i=mp(1);switch(r.type){case"base64":i=yp(fp(t));break;case"binary":i=yp(t);break;case"buffer":case"array":i=t;break}rm(i,0);var n=i.read_shift(1),a=!!(136&n),s=!1,l=!1;switch(n){case 2:break;case 3:break;case 48:s=!0,a=!0;break;case 49:s=!0,a=!0;break;case 131:break;case 139:break;case 140:l=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+n.toString(16))}var c=0,u=521;2==n&&(c=i.read_shift(2)),i.l+=3,2!=n&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=n&&(u=i.read_shift(2));var d=i.read_shift(2),h=r.codepage||1252;2!=n&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(h=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);var p=[],f={},g=Math.min(i.length,2==n?521:u-10-(s?264:0)),v=l?32:11;while(i.l<g&&13!=i[i.l])switch(f={},f.name=ap.utils.decode(h,i.slice(i.l,i.l+v)).replace(/[\u0000\r\n].*$/g,""),i.l+=v,f.type=String.fromCharCode(i.read_shift(1)),2==n||l||(f.offset=i.read_shift(4)),f.len=i.read_shift(1),2==n&&(f.offset=i.read_shift(2)),f.dec=i.read_shift(1),f.name.length&&p.push(f),2!=n&&(i.l+=l?13:14),f.type){case"B":s&&8==f.len||!r.WTF||console.log("Skipping "+f.name+":"+f.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+f.name+":"+f.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+f.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var m=0,b=0;for(o[0]=[],b=0;b!=p.length;++b)o[0][b]=p[b].name;while(c-- >0)if(42!==i[i.l])for(++i.l,o[++m]=[],b=0,b=0;b!=p.length;++b){var y=i.slice(i.l,i.l+p[b].len);i.l+=p[b].len,rm(y,0);var w=ap.utils.decode(h,y);switch(p[b].type){case"C":w.trim().length&&(o[m][b]=w.replace(/\s+$/,""));break;case"D":8===w.length?o[m][b]=new Date(+w.slice(0,4),+w.slice(4,6)-1,+w.slice(6,8)):o[m][b]=w;break;case"F":o[m][b]=parseFloat(w.trim());break;case"+":case"I":o[m][b]=l?2147483648^y.read_shift(-4,"i"):y.read_shift(4,"i");break;case"L":switch(w.trim().toUpperCase()){case"Y":case"T":o[m][b]=!0;break;case"N":case"F":o[m][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+w+"|")}break;case"M":if(!a)throw new Error("DBF Unexpected MEMO for type "+n.toString(16));o[m][b]="##MEMO##"+(l?parseInt(w.trim(),10):y.read_shift(4));break;case"N":w=w.replace(/\u0000/g,"").trim(),w&&"."!=w&&(o[m][b]=+w||0);break;case"@":o[m][b]=new Date(y.read_shift(-8,"f")-621356832e5);break;case"T":o[m][b]=new Date(864e5*(y.read_shift(4)-2440588)+y.read_shift(4));break;case"Y":o[m][b]=y.read_shift(4,"i")/1e4+y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":o[m][b]=-y.read_shift(-8,"f");break;case"B":if(s&&8==p[b].len){o[m][b]=y.read_shift(8,"f");break}case"G":case"P":y.l+=p[b].len;break;case"0":if("_NullFlags"===p[b].name)break;default:throw new Error("DBF Unsupported data type "+p[b].type)}}else i.l+=d;if(2!=n&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return r&&r.sheetRows&&(o=o.slice(0,r.sheetRows)),r.DBF=p,o}function o(e,t){var o=t||{};o.dateNF||(o.dateNF="yyyymmdd");var i=Dm(r(e,o),o);return i["!cols"]=o.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete o.DBF,i}function i(e,t){try{return Rm(o(e,t),t)}catch(r){if(t&&t.WTF)throw r}return{SheetNames:[],Sheets:{}}}var n={B:8,C:250,L:1,D:8,"?":0,"":0};function a(e,r){var o=r||{};if(+o.codepage>=0&&tp(+o.codepage),"string"==o.type)throw new Error("Cannot write DBF to JS string");var i=am(),a=eM(e,{header:1,raw:!0,cellDates:!0}),s=a[0],l=a.slice(1),c=e["!cols"]||[],u=0,d=0,h=0,p=1;for(u=0;u<s.length;++u)if(((c[u]||{}).DBF||{}).name)s[u]=c[u].DBF.name,++h;else if(null!=s[u]){if(++h,"number"===typeof s[u]&&(s[u]=s[u].toString(10)),"string"!==typeof s[u])throw new Error("DBF Invalid column name "+s[u]+" |"+typeof s[u]+"|");if(s.indexOf(s[u])!==u)for(d=0;d<1024;++d)if(-1==s.indexOf(s[u]+"_"+d)){s[u]+="_"+d;break}}var f=Tm(e["!ref"]),g=[],v=[],m=[];for(u=0;u<=f.e.c-f.s.c;++u){var b="",y="",w=0,C=[];for(d=0;d<l.length;++d)null!=l[d][u]&&C.push(l[d][u]);if(0!=C.length&&null!=s[u]){for(d=0;d<C.length;++d){switch(typeof C[d]){case"number":y="B";break;case"string":y="C";break;case"boolean":y="L";break;case"object":y=C[d]instanceof Date?"D":"C";break;default:y="C"}w=Math.max(w,String(C[d]).length),b=b&&b!=y?"C":y}w>250&&(w=250),y=((c[u]||{}).DBF||{}).type,"C"==y&&c[u].DBF.len>w&&(w=c[u].DBF.len),"B"==b&&"N"==y&&(b="N",m[u]=c[u].DBF.dec,w=c[u].DBF.len),v[u]="C"==b||"N"==y?w:n[b]||0,p+=v[u],g[u]=b}else g[u]="?"}var E=i.next(32);for(E.write_shift(4,318902576),E.write_shift(4,l.length),E.write_shift(2,296+32*h),E.write_shift(2,p),u=0;u<4;++u)E.write_shift(4,0);for(E.write_shift(4,0|(+t[Xh]||3)<<8),u=0,d=0;u<s.length;++u)if(null!=s[u]){var S=i.next(32),x=(s[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,x,"sbcs"),S.write_shift(1,"?"==g[u]?"C":g[u],"sbcs"),S.write_shift(4,d),S.write_shift(1,v[u]||n[g[u]]||0),S.write_shift(1,m[u]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),d+=v[u]||n[g[u]]||0}var T=i.next(264);for(T.write_shift(4,13),u=0;u<65;++u)T.write_shift(4,0);for(u=0;u<l.length;++u){var k=i.next(p);for(k.write_shift(1,0),d=0;d<s.length;++d)if(null!=s[d])switch(g[d]){case"L":k.write_shift(1,null==l[u][d]?63:l[u][d]?84:70);break;case"B":k.write_shift(8,l[u][d]||0,"f");break;case"N":var _="0";for("number"==typeof l[u][d]&&(_=l[u][d].toFixed(m[d]||0)),h=0;h<v[d]-_.length;++h)k.write_shift(1,32);k.write_shift(1,_,"sbcs");break;case"D":l[u][d]?(k.write_shift(4,("0000"+l[u][d].getFullYear()).slice(-4),"sbcs"),k.write_shift(2,("00"+(l[u][d].getMonth()+1)).slice(-2),"sbcs"),k.write_shift(2,("00"+l[u][d].getDate()).slice(-2),"sbcs")):k.write_shift(8,"00000000","sbcs");break;case"C":var R=String(null!=l[u][d]?l[u][d]:"").slice(0,v[d]);for(k.write_shift(1,R,"sbcs"),h=0;h<v[d]-R.length;++h)k.write_shift(1,32);break}}return i.next(1).write_shift(1,26),i.end()}return{to_workbook:i,to_sheet:o,from_sheet:a}}(),uE=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+Kf(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var o=e[r];return"number"==typeof o?cp(o):o},o=function(e,t,r){var o=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==o?e:cp(o)};function i(e,t){switch(t.type){case"base64":return n(fp(e),t);case"binary":return n(e,t);case"buffer":return n(gp&&Buffer.isBuffer(e)?e.toString("binary"):Cp(e),t);case"array":return n(cg(e),t)}throw new Error("Unrecognized type "+t.type)}function n(e,i){var n,a=e.split(/[\n\r]+/),s=-1,l=-1,c=0,u=0,d=[],h=[],p=null,f={},g=[],v=[],m=[],b=0;for(+i.codepage>=0&&tp(+i.codepage);c!==a.length;++c){b=0;var y,w=a[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,o).replace(t,r),C=w.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),E=C[0];if(w.length>0)switch(E){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":"P"==C[1].charAt(0)&&h.push(w.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,x=!1,T=!1,k=!1,_=-1,R=-1;for(u=1;u<C.length;++u)switch(C[u].charAt(0)){case"A":break;case"X":l=parseInt(C[u].slice(1))-1,x=!0;break;case"Y":for(s=parseInt(C[u].slice(1))-1,x||(l=0),n=d.length;n<=s;++n)d[n]=[];break;case"K":y=C[u].slice(1),'"'===y.charAt(0)?y=y.slice(1,y.length-1):"TRUE"===y?y=!0:"FALSE"===y?y=!1:isNaN(hg(y))?isNaN(fg(y).getDate())||(y=lg(y)):(y=hg(y),null!==p&&Rf(p)&&(y=og(y))),"undefined"!==typeof ap&&"string"==typeof y&&"string"!=(i||{}).type&&(i||{}).codepage&&(y=ap.utils.decode(i.codepage,y)),S=!0;break;case"E":k=!0;var O=pT(C[u].slice(1),{r:s,c:l});d[s][l]=[d[s][l],O];break;case"S":T=!0,d[s][l]=[d[s][l],"S5S"];break;case"G":break;case"R":_=parseInt(C[u].slice(1))-1;break;case"C":R=parseInt(C[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+w)}if(S&&(d[s][l]&&2==d[s][l].length?d[s][l][0]=y:d[s][l]=y,p=null),T){if(k)throw new Error("SYLK shared formula cannot have own formula");var D=_>-1&&d[_][R];if(!D||!D[1])throw new Error("SYLK shared formula cannot find base");d[s][l][1]=vT(D[1],{r:s-_,c:l-R})}break;case"F":var A=0;for(u=1;u<C.length;++u)switch(C[u].charAt(0)){case"X":l=parseInt(C[u].slice(1))-1,++A;break;case"Y":for(s=parseInt(C[u].slice(1))-1,n=d.length;n<=s;++n)d[n]=[];break;case"M":b=parseInt(C[u].slice(1))/20;break;case"F":break;case"G":break;case"P":p=h[parseInt(C[u].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(m=C[u].slice(1).split(" "),n=parseInt(m[0],10);n<=parseInt(m[1],10);++n)b=parseInt(m[2],10),v[n-1]=0===b?{hidden:!0}:{wch:b},bS(v[n-1]);break;case"C":l=parseInt(C[u].slice(1))-1,v[l]||(v[l]={});break;case"R":s=parseInt(C[u].slice(1))-1,g[s]||(g[s]={}),b>0?(g[s].hpt=b,g[s].hpx=ES(b)):0===b&&(g[s].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+w)}A<1&&(p=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+w)}}return g.length>0&&(f["!rows"]=g),v.length>0&&(f["!cols"]=v),i&&i.sheetRows&&(d=d.slice(0,i.sheetRows)),[d,f]}function a(e,t){var r=i(e,t),o=r[0],n=r[1],a=Dm(o,t);return Kf(n).forEach((function(e){a[e]=n[e]})),a}function s(e,t){return Rm(a(e,t),t)}function l(e,t,r,o){var i="C;Y"+(r+1)+";X"+(o+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+gT(e.f,{r:r,c:o}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return i}function c(e,t){t.forEach((function(t,r){var o="F;W"+(r+1)+" "+(r+1)+" ";t.hidden?o+="0":("number"!=typeof t.width||t.wpx||(t.wpx=pS(t.width)),"number"!=typeof t.wpx||t.wch||(t.wch=fS(t.wpx)),"number"==typeof t.wch&&(o+=Math.round(t.wch)))," "!=o.charAt(o.length-1)&&e.push(o)}))}function u(e,t){t.forEach((function(t,r){var o="F;";t.hidden?o+="M0;":t.hpt?o+="M"+20*t.hpt+";":t.hpx&&(o+="M"+20*CS(t.hpx)+";"),o.length>2&&e.push(o+"R"+(r+1))}))}function d(e,t){var r,o=["ID;PWXL;N;E"],i=[],n=Tm(e["!ref"]),a=Array.isArray(e),s="\r\n";o.push("P;PGeneral"),o.push("F;P0;DG0G8;M255"),e["!cols"]&&c(o,e["!cols"]),e["!rows"]&&u(o,e["!rows"]),o.push("B;Y"+(n.e.r-n.s.r+1)+";X"+(n.e.c-n.s.c+1)+";D"+[n.s.c,n.s.r,n.e.c,n.e.r].join(" "));for(var d=n.s.r;d<=n.e.r;++d)for(var h=n.s.c;h<=n.e.c;++h){var p=Em({r:d,c:h});r=a?(e[d]||[])[h]:e[p],r&&(null!=r.v||r.f&&!r.F)&&i.push(l(r,e,d,h,t))}return o.join(s)+s+i.join(s)+s+"E"+s}return e["|"]=254,{to_workbook:s,to_sheet:a,from_sheet:d}}(),dE=function(){function e(e,r){switch(r.type){case"base64":return t(fp(e),r);case"binary":return t(e,r);case"buffer":return t(gp&&Buffer.isBuffer(e)?e.toString("binary"):Cp(e),r);case"array":return t(cg(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){for(var r=e.split("\n"),o=-1,i=-1,n=0,a=[];n!==r.length;++n)if("BOT"!==r[n].trim()){if(!(o<0)){var s=r[n].trim().split(","),l=s[0],c=s[1];++n;var u=r[n]||"";while(1&(u.match(/["]/g)||[]).length&&n<r.length-1)u+="\n"+r[++n];switch(u=u.trim(),+l){case-1:if("BOT"===u){a[++o]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?a[o][i]=!0:"FALSE"===u?a[o][i]=!1:isNaN(hg(c))?isNaN(fg(c).getDate())?a[o][i]=c:a[o][i]=lg(c):a[o][i]=hg(c),++i;break;case 1:u=u.slice(1,u.length-1),u=u.replace(/""/g,'"'),dp&&u&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),a[o][i++]=""!==u?u:null;break}if("EOD"===u)break}}else a[++o]=[],i=0;return t&&t.sheetRows&&(a=a.slice(0,t.sheetRows)),a}function r(t,r){return Dm(e(t,r),r)}function o(e,t){return Rm(r(e,t),t)}var i=function(){var e=function(e,t,r,o,i){e.push(t),e.push(r+","+o),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,r,o){e.push(t+","+r),e.push(1==t?'"'+o.replace(/"/g,'""')+'"':o)};return function(r){var o,i=[],n=Tm(r["!ref"]),a=Array.isArray(r);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,n.e.r-n.s.r+1,""),e(i,"TUPLES",0,n.e.c-n.s.c+1,""),e(i,"DATA",0,0,"");for(var s=n.s.r;s<=n.e.r;++s){t(i,-1,0,"BOT");for(var l=n.s.c;l<=n.e.c;++l){var c=Em({r:s,c:l});if(o=a?(r[s]||[])[l]:r[c],o)switch(o.t){case"n":var u=dp?o.w:o.v;u||null==o.v||(u=o.v),null==u?dp&&o.f&&!o.F?t(i,1,0,"="+o.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,o.v?1:0,o.v?"TRUE":"FALSE");break;case"s":t(i,1,0,!dp||isNaN(o.v)?o.v:'="'+o.v+'"');break;case"d":o.w||(o.w=Mf(o.z||Vp[14],Zf(lg(o.v)))),dp?t(i,0,o.w,"V"):t(i,1,0,o.w);break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");var d="\r\n",h=i.join(d);return h}}();return{to_workbook:o,to_sheet:r,from_sheet:i}}(),hE=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(t,r){for(var o=t.split("\n"),i=-1,n=-1,a=0,s=[];a!==o.length;++a){var l=o[a].trim().split(":");if("cell"===l[0]){var c=Cm(l[1]);if(s.length<=c.r)for(i=s.length;i<=c.r;++i)s[i]||(s[i]=[]);switch(i=c.r,n=c.c,l[2]){case"t":s[i][n]=e(l[3]);break;case"v":s[i][n]=+l[3];break;case"vtf":var u=l[l.length-1];case"vtc":switch(l[3]){case"nl":s[i][n]=!!+l[4];break;default:s[i][n]=+l[4];break}"vtf"==l[2]&&(s[i][n]=[s[i][n],u])}}}return r&&r.sheetRows&&(s=s.slice(0,r.sheetRows)),s}function o(e,t){return Dm(r(e,t),t)}function i(e,t){return Rm(o(e,t),t)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),l="--SocialCalcSpreadsheetControlSave--";function c(e){if(!e||!e["!ref"])return"";for(var r,o=[],i=[],n="",a=Sm(e["!ref"]),s=Array.isArray(e),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c)if(n=Em({r:l,c:c}),r=s?(e[l]||[])[c]:e[n],r&&null!=r.v&&"z"!==r.t){switch(i=["cell",n,"t"],r.t){case"s":case"str":i.push(t(r.v));break;case"n":r.f?(i[2]="vtf",i[3]="n",i[4]=r.v,i[5]=t(r.f)):(i[2]="v",i[3]=r.v);break;case"b":i[2]="vt"+(r.f?"f":"c"),i[3]="nl",i[4]=r.v?"1":"0",i[5]=t(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var u=Zf(lg(r.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=r.w||Mf(r.z||Vp[14],u);break;case"e":continue}o.push(i.join(":"))}return o.push("sheet:c:"+(a.e.c-a.s.c+1)+":r:"+(a.e.r-a.s.r+1)+":tvf:1"),o.push("valueformat:1:text-wiki"),o.join("\n")}function u(e){return[n,a,s,a,c(e),l].join("\n")}return{to_workbook:i,to_sheet:o,from_sheet:u}}(),pE=function(){function e(e,t,r,o,i){i.raw?t[r][o]=e:""===e||("TRUE"===e?t[r][o]=!0:"FALSE"===e?t[r][o]=!1:isNaN(hg(e))?isNaN(fg(e).getDate())?t[r][o]=e:t[r][o]=lg(e):t[r][o]=hg(e))}function t(t,r){var o=r||{},i=[];if(!t||0===t.length)return i;var n=t.split(/[\r\n]/),a=n.length-1;while(a>=0&&0===n[a].length)--a;for(var s=10,l=0,c=0;c<=a;++c)l=n[c].indexOf(" "),-1==l?l=n[c].length:l++,s=Math.max(s,l);for(c=0;c<=a;++c){i[c]=[];var u=0;for(e(n[c].slice(0,s).trim(),i,c,u,o),u=1;u<=(n[c].length-s)/10+1;++u)e(n[c].slice(s+10*(u-1),s+10*u).trim(),i,c,u,o)}return o.sheetRows&&(i=i.slice(0,o.sheetRows)),i}var r={44:",",9:"\t",59:";",124:"|"},o={44:3,9:2,59:1,124:0};function i(e){for(var t={},i=!1,n=0,a=0;n<e.length;++n)34==(a=e.charCodeAt(n))?i=!i:!i&&a in r&&(t[a]=(t[a]||0)+1);for(n in a=[],t)Object.prototype.hasOwnProperty.call(t,n)&&a.push([t[n],n]);if(!a.length)for(n in t=o,t)Object.prototype.hasOwnProperty.call(t,n)&&a.push([t[n],n]);return a.sort((function(e,t){return e[0]-t[0]||o[e[1]]-o[t[1]]})),r[a.pop()[1]]||44}function n(e,t){var r=t||{},o="";null!=up&&null==r.dense&&(r.dense=up);var n=r.dense?[]:{},a={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(o=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(o=e.charAt(4),e=e.slice(6)):o=i(e.slice(0,1024)):o=r&&r.FS?r.FS:i(e.slice(0,1024));var s=0,l=0,c=0,u=0,d=0,h=o.charCodeAt(0),p=!1,f=0,g=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var v=null!=r.dateNF?Gf(r.dateNF):null;function m(){var t=e.slice(u,d),o={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)o.t="z";else if(r.raw)o.t="s",o.v=t;else if(0===t.trim().length)o.t="s",o.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(o.t="s",o.v=t.slice(2,-1).replace(/""/g,'"')):bT(t)?(o.t="n",o.f=t.slice(1)):(o.t="s",o.v=t);else if("TRUE"==t)o.t="b",o.v=!0;else if("FALSE"==t)o.t="b",o.v=!1;else if(isNaN(c=hg(t)))if(!isNaN(fg(t).getDate())||v&&t.match(v)){o.z=r.dateNF||Vp[14];var i=0;v&&t.match(v)&&(t=Vf(t,r.dateNF,t.match(v)||[]),i=1),r.cellDates?(o.t="d",o.v=lg(t,i)):(o.t="n",o.v=Zf(lg(t,i))),!1!==r.cellText&&(o.w=Mf(o.z,o.v instanceof Date?Zf(o.v):o.v)),r.cellNF||delete o.z}else o.t="s",o.v=t;else o.t="n",!1!==r.cellText&&(o.w=t),o.v=c;if("z"==o.t||(r.dense?(n[s]||(n[s]=[]),n[s][l]=o):n[Em({c:l,r:s})]=o),u=d+1,g=e.charCodeAt(u),a.e.c<l&&(a.e.c=l),a.e.r<s&&(a.e.r=s),f==h)++l;else if(l=0,++s,r.sheetRows&&r.sheetRows<=s)return!0}e:for(;d<e.length;++d)switch(f=e.charCodeAt(d)){case 34:34===g&&(p=!p);break;case h:case 10:case 13:if(!p&&m())break e;break;default:break}return d-u>0&&m(),n["!ref"]=xm(a),n}function a(e,r){return r&&r.PRN?r.FS||"sep="==e.slice(0,4)||e.indexOf("\t")>=0||e.indexOf(",")>=0||e.indexOf(";")>=0?n(e,r):Dm(t(e,r),r):n(e,r)}function s(e,t){var r="",o="string"==t.type?[0,0,0,0]:LP(e,t);switch(t.type){case"base64":r=fp(e);break;case"binary":r=e;break;case"buffer":r=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof ap?ap.utils.decode(t.codepage,e):gp&&Buffer.isBuffer(e)?e.toString("binary"):Cp(e);break;case"array":r=cg(e);break;case"string":r=e;break;default:throw new Error("Unrecognized type "+t.type)}return 239==o[0]&&187==o[1]&&191==o[2]?r=tv(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=tv(r):"binary"==t.type&&"undefined"!==typeof ap&&t.codepage&&(r=ap.utils.decode(t.codepage,ap.utils.encode(28591,r))),"socialcalc:version:"==r.slice(0,19)?hE.to_sheet("string"==t.type?r:tv(r),t):a(r,t)}function l(e,t){return Rm(s(e,t),t)}function c(e){for(var t,r=[],o=Tm(e["!ref"]),i=Array.isArray(e),n=o.s.r;n<=o.e.r;++n){for(var a=[],s=o.s.c;s<=o.e.c;++s){var l=Em({r:n,c:s});if(t=i?(e[n]||[])[s]:e[l],t&&null!=t.v){var c=(t.w||(_m(t),t.w)||"").slice(0,10);while(c.length<10)c+=" ";a.push(c+(0===s?" ":""))}else a.push("          ")}r.push(a.join(""))}return r.join("\n")}return{to_workbook:l,to_sheet:s,from_sheet:c}}();function fE(e,t){var r=t||{},o=!!r.WTF;r.WTF=!0;try{var i=uE.to_workbook(e,r);return r.WTF=o,i}catch(n){if(r.WTF=o,!n.message.match(/SYLK bad record ID/)&&o)throw n;return pE.to_workbook(e,t)}}var gE=function(){function e(e,t,r){if(e){rm(e,e.l||0);var o=r.Enum||I;while(e.l<e.length){var i=e.read_shift(2),n=o[i]||o[65535],a=e.read_shift(2),s=e.l+a,l=n.f&&n.f(e,a,r);if(e.l=s,t(l,n,i))return}}}function t(e,t){switch(t.type){case"base64":return r(yp(fp(e)),t);case"binary":return r(yp(e),t);case"buffer":case"array":return r(e,t)}throw"Unsupported type "+t.type}function r(t,r){if(!t)return t;var o=r||{};null!=up&&null==o.dense&&(o.dense=up);var i=o.dense?[]:{},n="Sheet1",a="",s=0,l={},c=[],u=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=o.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])o.Enum=I,e(t,(function(e,t,r){switch(r){case 0:o.vers=e,e>=4096&&(o.qpro=!0);break;case 6:d=e;break;case 204:e&&(a=e);break;case 222:a=e;break;case 15:case 51:o.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=o.dateNF||Vp[14],o.cellDates&&(e[1].t="d",e[1].v=og(e[1].v))),o.qpro&&e[3]>s&&(i["!ref"]=xm(d),l[n]=i,c.push(n),i=o.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],n=a||"Sheet"+(s+1),a="");var u=o.dense?(i[e[0].r]||[])[e[0].c]:i[Em(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}o.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[Em(e[0])]=e[1];break;default:}}),o);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);o.Enum=N,14==t[2]&&(o.qpro=!0,t.l=0),e(t,(function(e,t,r){switch(r){case 204:n=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(i["!ref"]=xm(d),l[n]=i,c.push(n),i=o.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],n="Sheet"+(s+1)),h>0&&e[0].r>=h)break;o.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[Em(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(n=e[1]);break;default:break}}),o)}if(i["!ref"]=xm(d),l[a||n]=i,c.push(a||n),!u.length)return{SheetNames:c,Sheets:l};for(var p={},f=[],g=0;g<u.length;++g)l[c[g]]?(f.push(u[g]||c[g]),p[u[g]]=l[u[g]]||l[c[g]]):(f.push(u[g]),p[u[g]]={"!ref":"A1"});return{SheetNames:f,Sheets:p}}function o(e,t){var r=t||{};if(+r.codepage>=0&&tp(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var o=am(),i=Tm(e["!ref"]),a=Array.isArray(e),s=[];rA(o,0,n(1030)),rA(o,6,l(i));for(var c=Math.min(i.e.r,8191),u=i.s.r;u<=c;++u)for(var h=pm(u),f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(s[f]=mm(f));var v=s[f]+h,m=a?(e[u]||[])[f]:e[v];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?rA(o,13,p(u,f,m.v)):rA(o,14,g(u,f,m.v));else{var b=_m(m);rA(o,15,d(u,f,b.slice(0,239)))}}return rA(o,1),o.end()}function i(e,t){var r=t||{};if(+r.codepage>=0&&tp(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var o=am();rA(o,0,a(e));for(var i=0,n=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&rA(o,27,F(e.SheetNames[i],n++));var s=0;for(i=0;i<e.SheetNames.length;++i){var l=e.Sheets[e.SheetNames[i]];if(l&&l["!ref"]){for(var c=Tm(l["!ref"]),u=Array.isArray(l),d=[],h=Math.min(c.e.r,8191),p=c.s.r;p<=h;++p)for(var f=pm(p),g=c.s.c;g<=c.e.c;++g){p===c.s.r&&(d[g]=mm(g));var v=d[g]+f,m=u?(l[p]||[])[g]:l[v];if(m&&"z"!=m.t)if("n"==m.t)rA(o,23,k(p,g,s,m.v));else{var b=_m(m);rA(o,22,S(p,g,s,b.slice(0,239)))}}++s}}return rA(o,1),o.end()}function n(e){var t=im(2);return t.write_shift(2,e),t}function a(e){var t=im(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,o=0,i=0,n=0;n<e.SheetNames.length;++n){var a=e.SheetNames[n],s=e.Sheets[a];if(s&&s["!ref"]){++i;var l=Sm(s["!ref"]);r<l.e.r&&(r=l.e.r),o<l.e.c&&(o=l.e.c)}}return r>8191&&(r=8191),t.write_shift(2,r),t.write_shift(1,i),t.write_shift(1,o),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}function s(e,t,r){var o={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(o.s.c=e.read_shift(1),e.l++,o.s.r=e.read_shift(2),o.e.c=e.read_shift(1),e.l++,o.e.r=e.read_shift(2),o):(o.s.c=e.read_shift(2),o.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),o.e.c=e.read_shift(2),o.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==o.s.c&&(o.s.c=o.e.c=o.s.r=o.e.r=0),o)}function l(e){var t=im(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}function c(e,t,r){var o=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(o[0].c=e.read_shift(1),o[3]=e.read_shift(1),o[0].r=e.read_shift(2),e.l+=2):(o[2]=e.read_shift(1),o[0].c=e.read_shift(2),o[0].r=e.read_shift(2)),o}function u(e,t,r){var o=e.l+t,i=c(e,t,r);if(i[1].t="s",20768==r.vers){e.l++;var n=e.read_shift(1);return i[1].v=e.read_shift(n,"utf8"),i}return r.qpro&&e.l++,i[1].v=e.read_shift(o-e.l,"cstr"),i}function d(e,t,r){var o=im(7+r.length);o.write_shift(1,255),o.write_shift(2,t),o.write_shift(2,e),o.write_shift(1,39);for(var i=0;i<o.length;++i){var n=r.charCodeAt(i);o.write_shift(1,n>=128?95:n)}return o.write_shift(1,0),o}function h(e,t,r){var o=c(e,t,r);return o[1].v=e.read_shift(2,"i"),o}function p(e,t,r){var o=im(7);return o.write_shift(1,255),o.write_shift(2,t),o.write_shift(2,e),o.write_shift(2,r,"i"),o}function f(e,t,r){var o=c(e,t,r);return o[1].v=e.read_shift(8,"f"),o}function g(e,t,r){var o=im(13);return o.write_shift(1,255),o.write_shift(2,t),o.write_shift(2,e),o.write_shift(8,r,"f"),o}function v(e,t,r){var o=e.l+t,i=c(e,t,r);if(i[1].v=e.read_shift(8,"f"),r.qpro)e.l=o;else{var n=e.read_shift(2);w(e.slice(e.l,e.l+n),i),e.l+=n}return i}function m(e,t,r){var o=32768&t;return t&=-32769,t=(o?e:0)+(t>=8192?t-16384:t),(o?"":"$")+(r?mm(t):pm(t))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(e,t){rm(e,0);var r=[],o=0,i="",n="",a="",s="";while(e.l<e.length){var l=e[e.l++];switch(l){case 0:r.push(e.read_shift(8,"f"));break;case 1:n=m(t[0].c,e.read_shift(2),!0),i=m(t[0].r,e.read_shift(2),!1),r.push(n+i);break;case 2:var c=m(t[0].c,e.read_shift(2),!0),u=m(t[0].r,e.read_shift(2),!1);n=m(t[0].c,e.read_shift(2),!0),i=m(t[0].r,e.read_shift(2),!1),r.push(c+u+":"+n+i);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:var d="";while(l=e[e.l++])d+=String.fromCharCode(l);r.push('"'+d.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:s=r.pop(),a=r.pop(),r.push(["AND","OR"][l-20]+"("+a+","+s+")");break;default:if(l<32&&y[l])s=r.pop(),a=r.pop(),r.push(a+y[l]+s);else{if(!b[l])return l<=7?console.error("WK1 invalid opcode "+l.toString(16)):l<=24?console.error("WK1 unsupported op "+l.toString(16)):l<=30?console.error("WK1 invalid opcode "+l.toString(16)):l<=115?console.error("WK1 unsupported function opcode "+l.toString(16)):console.error("WK1 unrecognized opcode "+l.toString(16));if(o=b[l][1],69==o&&(o=e[e.l++]),o>r.length)return void console.error("WK1 bad formula parse 0x"+l.toString(16)+":|"+r.join("|")+"|");var h=r.slice(-o);r.length-=o,r.push(b[l][0]+"("+h.join(",")+")")}}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")}function C(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function E(e,t){var r=C(e,t);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}function S(e,t,r,o){var i=im(6+o.length);i.write_shift(2,e),i.write_shift(1,r),i.write_shift(1,t),i.write_shift(1,39);for(var n=0;n<o.length;++n){var a=o.charCodeAt(n);i.write_shift(1,a>=128?95:a)}return i.write_shift(1,0),i}function x(e,t){var r=C(e,t);r[1].v=e.read_shift(2);var o=r[1].v>>1;if(1&r[1].v)switch(7&o){case 0:o=5e3*(o>>3);break;case 1:o=500*(o>>3);break;case 2:o=(o>>3)/20;break;case 3:o=(o>>3)/200;break;case 4:o=(o>>3)/2e3;break;case 5:o=(o>>3)/2e4;break;case 6:o=(o>>3)/16;break;case 7:o=(o>>3)/64;break}return r[1].v=o,r}function T(e,t){var r=C(e,t),o=e.read_shift(4),i=e.read_shift(4),n=e.read_shift(2);if(65535==n)return 0===o&&3221225472===i?(r[1].t="e",r[1].v=15):0===o&&3489660928===i?(r[1].t="e",r[1].v=42):r[1].v=0,r;var a=32768&n;return n=(32767&n)-16446,r[1].v=(1-2*a)*(i*Math.pow(2,n+32)+o*Math.pow(2,n)),r}function k(e,t,r,o){var i=im(14);if(i.write_shift(2,e),i.write_shift(1,r),i.write_shift(1,t),0==o)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var n=0,a=0,s=0,l=0;return o<0&&(n=1,o=-o),a=0|Math.log2(o),o/=Math.pow(2,a-31),l=o>>>0,0==(2147483648&l)&&(o/=2,++a,l=o>>>0),o-=l,l|=2147483648,l>>>=0,o*=Math.pow(2,32),s=o>>>0,i.write_shift(4,s),i.write_shift(4,l),a+=16383+(n?32768:0),i.write_shift(2,a),i}function _(e,t){var r=T(e,14);return e.l+=t-14,r}function R(e,t){var r=C(e,t),o=e.read_shift(4);return r[1].v=o>>6,r}function O(e,t){var r=C(e,t),o=e.read_shift(8,"f");return r[1].v=o,r}function D(e,t){var r=O(e,14);return e.l+=t-10,r}function A(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function P(e,t){var r=e[e.l++];r>t-1&&(r=t-1);var o="";while(o.length<r)o+=String.fromCharCode(e[e.l++]);return o}function M(e,t,r){if(r.qpro&&!(t<21)){var o=e.read_shift(1);e.l+=17,e.l+=1,e.l+=2;var i=e.read_shift(t-21,"cstr");return[o,i]}}function L(e,t){var r={},o=e.l+t;while(e.l<o){var i=e.read_shift(2);if(14e3==i){r[i]=[0,""],r[i][0]=e.read_shift(2);while(e[e.l])r[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}function F(e,t){var r=im(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);r[r.l++]=i>127?95:i}return r[r.l++]=0,r}var I={0:{n:"BOF",f:jy},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:f},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:A},222:{n:"SHEETNAMELP",f:P},65535:{n:""}},N={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:x},25:{n:"FORMULA19",f:_},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:L},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:D},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:A},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:M},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:o,book_to_wk3:i,to_workbook:t}}();function vE(e){var t={},r=e.match(Mg),o=0,i=!1;if(r)for(;o!=r.length;++o){var n=Ig(r[o]);switch(n[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!n.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==n.val)break;t.cp=Qh[parseInt(n.val,10)];break;case"<outline":if(!n.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=n.val;break;case"<sz":t.sz=n.val;break;case"<strike":if(!n.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!n.val)break;switch(n.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==n.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==n.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":n.rgb&&(t.color=n.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=n.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=n.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==n[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+n[0])}}return t}var mE=function(){var e=ov("t"),t=ov("rPr");function r(r){var o=r.match(e);if(!o)return{t:"s",v:""};var i={t:"s",v:Vg(o[1])},n=r.match(t);return n&&(i.s=vE(n[1])),i}var o=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(e){return e.replace(o,"").split(i).map(r).filter((function(e){return e.v}))}}(),bE=function(){var e=/(\r\n|\n)/g;function t(e,t,r){var o=[];e.u&&o.push("text-decoration: underline;"),e.uval&&o.push("text-underline-style:"+e.uval+";"),e.sz&&o.push("font-size:"+e.sz+"pt;"),e.outline&&o.push("text-effect: outline;"),e.shadow&&o.push("text-shadow: auto;"),t.push('<span style="'+o.join("")+'">'),e.b&&(t.push("<b>"),r.push("</b>")),e.i&&(t.push("<i>"),r.push("</i>")),e.strike&&(t.push("<s>"),r.push("</s>"));var i=e.valign||"";return"superscript"==i||"super"==i?i="sup":"subscript"==i&&(i="sub"),""!=i&&(t.push("<"+i+">"),r.push("</"+i+">")),r.push("</span>"),e}function r(r){var o=[[],r.v,[]];return r.v?(r.s&&t(r.s,o[0],o[2]),o[0].join("")+o[1].replace(e,"<br/>")+o[2].join("")):""}return function(e){return e.map(r).join("")}}(),yE=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,wE=/<(?:\w+:)?r>/,CE=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function EE(e,t){var r=!t||t.cellHTML,o={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(o.t=Vg(tv(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),o.r=tv(e),r&&(o.h=$g(o.t))):e.match(wE)&&(o.r=tv(e),o.t=Vg(tv((e.replace(CE,"").match(yE)||[]).join("").replace(Mg,""))),r&&(o.h=bE(mE(o.r)))),o):{t:""}}var SE=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,xE=/<(?:\w+:)?(?:si|sstItem)>/g,TE=/<\/(?:\w+:)?(?:si|sstItem)>/;function kE(e,t){var r=[],o="";if(!e)return r;var i=e.match(SE);if(i){o=i[2].replace(xE,"").split(TE);for(var n=0;n!=o.length;++n){var a=EE(o[n].trim(),t);null!=a&&(r[r.length]=a)}i=Ig(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var _E=/^\s|\s$|[\t\n\r]/;function RE(e,t){if(!t.bookSST)return"";var r=[Og];r[r.length]=hv("sst",null,{xmlns:bv[0],count:e.Count,uniqueCount:e.Unique});for(var o=0;o!=e.length;++o)if(null!=e[o]){var i=e[o],n="<si>";i.r?n+=i.r:(n+="<t",i.t||(i.t=""),i.t.match(_E)&&(n+=' xml:space="preserve"'),n+=">"+jg(i.t)+"</t>"),n+="</si>",r[r.length]=n}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function OE(e){return[e.read_shift(4),e.read_shift(4)]}function DE(e,t){var r=[],o=!1;return nm(e,(function(e,i,n){switch(n){case 159:r.Count=e[0],r.Unique=e[1];break;case 19:r.push(e);break;case 160:return!0;case 35:o=!0;break;case 36:o=!1;break;default:if(i.T,!o||t.WTF)throw new Error("Unexpected record 0x"+n.toString(16))}})),r}function AE(e,t){return t||(t=im(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var PE=Hm;function ME(e){var t=am();sm(t,159,AE(e));for(var r=0;r<e.length;++r)sm(t,19,PE(e[r]));return sm(t,160),t.end()}function LE(e){if("undefined"!==typeof ap)return ap.utils.encode(Xh,e);for(var t=[],r=e.split(""),o=0;o<r.length;++o)t[o]=r[o].charCodeAt(0);return t}function FE(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function IE(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=FE(e,4),t.U=FE(e,4),t.W=FE(e,4),t}function NE(e){var t=e.read_shift(4),r=e.l+t-4,o={},i=e.read_shift(4),n=[];while(i-- >0)n.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(o.name=e.read_shift(0,"lpp4"),o.comps=n,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return o}function HE(e){var t=[];e.l+=4;var r=e.read_shift(4);while(r-- >0)t.push(NE(e));return t}function GE(e){var t=[];e.l+=4;var r=e.read_shift(4);while(r-- >0)t.push(e.read_shift(0,"lpp4"));return t}function VE(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=FE(e,4),t.U=FE(e,4),t.W=FE(e,4),t}function zE(e){var t=VE(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function BE(e,t){var r=e.l+t,o={};o.Flags=63&e.read_shift(4),e.l+=4,o.AlgID=e.read_shift(4);var i=!1;switch(o.AlgID){case 26126:case 26127:case 26128:i=36==o.Flags;break;case 26625:i=4==o.Flags;break;case 0:i=16==o.Flags||4==o.Flags||36==o.Flags;break;default:throw"Unrecognized encryption algorithm: "+o.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return o.AlgIDHash=e.read_shift(4),o.KeySize=e.read_shift(4),o.ProviderType=e.read_shift(4),e.l+=8,o.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,o}function jE(e,t){var r={},o=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,o),e.l=o,r}function WE(e){var t=FE(e);switch(t.Minor){case 2:return[t.Minor,UE(e,t)];case 3:return[t.Minor,$E(e,t)];case 4:return[t.Minor,KE(e,t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function UE(e){var t=e.read_shift(4);if(36!=(63&t))throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),o=BE(e,r),i=jE(e,e.length-e.l);return{t:"Std",h:o,v:i}}function $E(){throw new Error("File is password-protected: ECMA-376 Extensible")}function KE(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),o={};return r.replace(Mg,(function(e){var r=Ig(e);switch(Ng(r[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach((function(e){o[e]=r[e]}));break;case"<dataIntegrity":o.encryptedHmacKey=r.encryptedHmacKey,o.encryptedHmacValue=r.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":o.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":o.uri=r.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":o.encs.push(r);break;default:throw r[0]}})),o}function YE(e,t){var r={},o=r.EncryptionVersionInfo=FE(e,4);if(t-=4,2!=o.Minor)throw new Error("unrecognized minor version code: "+o.Minor);if(o.Major>4||o.Major<2)throw new Error("unrecognized major version code: "+o.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=BE(e,i),t-=i,r.EncryptionVerifier=jE(e,t),r}function qE(e){var t={},r=t.EncryptionVersionInfo=FE(e,4);if(1!=r.Major||1!=r.Minor)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function XE(e){var t,r,o,i,n,a,s=0,l=LE(e),c=l.length+1;for(t=mp(c),t[0]=l.length,r=1;r!=c;++r)t[r]=l[r-1];for(r=c-1;r>=0;--r)o=t[r],i=0===(16384&s)?0:1,n=s<<1&32767,a=i|n,s=a^o;return 52811^s}var JE=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],o=function(e){return 255&(e/2|128*e)},i=function(e,t){return o(e^t)},n=function(e){for(var o=t[e.length-1],i=104,n=e.length-1;n>=0;--n)for(var a=e[n],s=0;7!=s;++s)64&a&&(o^=r[i]),a*=2,--i;return o};return function(t){for(var r,o,a,s=LE(t),l=n(s),c=s.length,u=mp(16),d=0;16!=d;++d)u[d]=0;1===(1&c)&&(r=l>>8,u[c]=i(e[0],r),--c,r=255&l,o=s[s.length-1],u[c]=i(o,r));while(c>0)--c,r=l>>8,u[c]=i(s[c],r),--c,r=255&l,u[c]=i(s[c],r);c=15,a=15-s.length;while(a>0)r=l>>8,u[c]=i(e[a],r),--c,--a,r=255&l,u[c]=i(s[c],r),--c,--a;return u}}(),QE=function(e,t,r,o,i){var n,a;for(i||(i=t),o||(o=JE(e)),n=0;n!=t.length;++n)a=t[n],a^=o[r],a=255&(a>>5|a<<3),i[n]=a,++r;return[i,r,o]},ZE=function(e){var t=0,r=JE(e);return function(e){var o=QE("",e,t,r);return t=o[1],o[0]}};function eS(e,t,r,o){var i={key:jy(e),verificationBytes:jy(e)};return r.password&&(i.verifier=XE(r.password)),o.valid=i.verificationBytes===i.verifier,o.valid&&(o.insitu=ZE(r.password)),i}function tS(e,t,r){var o=r||{};return o.Info=e.read_shift(2),e.l-=2,1===o.Info?o.Data=qE(e,t):o.Data=YE(e,t),o}function rS(e,t,r){var o={Type:r.biff>=8?e.read_shift(2):0};return o.Type?tS(e,t-2,o):eS(e,r.biff>=8?t:t-2,r,o),o}var oS=function(){function e(e,r){switch(r.type){case"base64":return t(fp(e),r);case"binary":return t(e,r);case"buffer":return t(gp&&Buffer.isBuffer(e)?e.toString("binary"):Cp(e),r);case"array":return t(cg(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=t||{},o=r.dense?[]:{},i=e.match(/\\trowd.*?\\row\b/g);if(!i.length)throw new Error("RTF missing table");var n={s:{c:0,r:0},e:{c:0,r:i.length-1}};return i.forEach((function(e,t){Array.isArray(o)&&(o[t]=[]);var r,i=/\\\w+\b/g,a=0,s=-1;while(r=i.exec(e)){switch(r[0]){case"\\cell":var l=e.slice(a,i.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var c={v:l,t:"s"};Array.isArray(o)?o[t][s]=c:o[Em({r:t,c:s})]=c}break}a=i.lastIndex}s>n.e.c&&(n.e.c=s)})),o["!ref"]=xm(n),o}function r(t,r){return Rm(e(t,r),r)}function o(e){for(var t,r=["{\\rtf1\\ansi"],o=Tm(e["!ref"]),i=Array.isArray(e),n=o.s.r;n<=o.e.r;++n){r.push("\\trowd\\trautofit1");for(var a=o.s.c;a<=o.e.c;++a)r.push("\\cellx"+(a+1));for(r.push("\\pard\\intbl"),a=o.s.c;a<=o.e.c;++a){var s=Em({r:n,c:a});t=i?(e[n]||[])[a]:e[s],t&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(_m(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:o}}();function iS(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function nS(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function aS(e){var t=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.max(t,r,o),n=Math.min(t,r,o),a=i-n;if(0===a)return[0,0,t];var s=0,l=0,c=i+n;switch(l=a/(c>1?2-c:c),i){case t:s=((r-o)/a+6)%6;break;case r:s=(o-t)/a+2;break;case o:s=(t-r)/a+4;break}return[s/6,l,c/2]}function sS(e){var t,r=e[0],o=e[1],i=e[2],n=2*o*(i<.5?i:1-i),a=i-n/2,s=[a,a,a],l=6*r;if(0!==o)switch(0|l){case 0:case 6:t=n*l,s[0]+=n,s[1]+=t;break;case 1:t=n*(2-l),s[0]+=t,s[1]+=n;break;case 2:t=n*(l-2),s[1]+=n,s[2]+=t;break;case 3:t=n*(4-l),s[1]+=t,s[2]+=n;break;case 4:t=n*(l-4),s[2]+=n,s[0]+=t;break;case 5:t=n*(6-l),s[2]+=t,s[0]+=n;break}for(var c=0;3!=c;++c)s[c]=Math.round(255*s[c]);return s}function lS(e,t){if(0===t)return e;var r=aS(iS(e));return r[2]=t<0?r[2]*(1+t):1-(1-r[2])*(1-t),nS(sS(r))}var cS=6,uS=15,dS=1,hS=cS;function pS(e){return Math.floor((e+Math.round(128/hS)/256)*hS)}function fS(e){return Math.floor((e-5)/hS*100+.5)/100}function gS(e){return Math.round((e*hS+5)/hS*256)/256}function vS(e){return gS(fS(pS(e)))}function mS(e){var t=Math.abs(e-vS(e)),r=hS;if(t>.005)for(hS=dS;hS<uS;++hS)Math.abs(e-vS(e))<=t&&(t=Math.abs(e-vS(e)),r=hS);hS=r}function bS(e){e.width?(e.wpx=pS(e.width),e.wch=fS(e.wpx),e.MDW=hS):e.wpx?(e.wch=fS(e.wpx),e.width=gS(e.wch),e.MDW=hS):"number"==typeof e.wch&&(e.width=gS(e.wch),e.wpx=pS(e.width),e.MDW=hS),e.customWidth&&delete e.customWidth}var yS=96,wS=yS;function CS(e){return 96*e/wS}function ES(e){return e*wS/96}var SS={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function xS(e,t,r,o){t.Borders=[];var i={},n=!1;(e[0].match(Mg)||[]).forEach((function(e){var r=Ig(e);switch(Ng(r[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},r.diagonalUp&&(i.diagonalUp=Xg(r.diagonalUp)),r.diagonalDown&&(i.diagonalDown=Xg(r.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(o&&o.WTF&&!n)throw new Error("unrecognized "+r[0]+" in borders")}}))}function TS(e,t,r,o){t.Fills=[];var i={},n=!1;(e[0].match(Mg)||[]).forEach((function(e){var r=Ig(e);switch(Ng(r[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":r.patternType&&(i.patternType=r.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),r.indexed&&(i.bgColor.indexed=parseInt(r.indexed,10)),r.theme&&(i.bgColor.theme=parseInt(r.theme,10)),r.tint&&(i.bgColor.tint=parseFloat(r.tint)),r.rgb&&(i.bgColor.rgb=r.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),r.theme&&(i.fgColor.theme=parseInt(r.theme,10)),r.tint&&(i.fgColor.tint=parseFloat(r.tint)),null!=r.rgb&&(i.fgColor.rgb=r.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(o&&o.WTF&&!n)throw new Error("unrecognized "+r[0]+" in fills")}}))}function kS(e,t,r,o){t.Fonts=[];var i={},n=!1;(e[0].match(Mg)||[]).forEach((function(e){var a=Ig(e);switch(Ng(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=tv(a.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=a.val?Xg(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?Xg(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?Xg(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?Xg(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?Xg(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?Xg(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?Xg(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if("1"==a.val)break;a.codepage=Qh[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=Xg(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var s=Pb[i.color.index];81==i.color.index&&(s=Pb[1]),s||(s=Pb[1]),i.color.rgb=s[0].toString(16)+s[1].toString(16)+s[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=lS(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(o&&o.WTF&&!n)throw new Error("unrecognized "+a[0]+" in fonts")}}))}function _S(e,t,r){t.NumberFmt=[];for(var o=Kf(Vp),i=0;i<o.length;++i)t.NumberFmt[o[i]]=Vp[o[i]];var n=e[0].match(Mg);if(n)for(i=0;i<n.length;++i){var a=Ig(n[i]);switch(Ng(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var s=Vg(tv(a.formatCode)),l=parseInt(a.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60;--l)if(null==t.NumberFmt[l])break;t.NumberFmt[l]=s}Lf(s,l)}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function RS(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var o=r[0];o<=r[1];++o)null!=e[o]&&(t[t.length]=hv("numFmt",null,{numFmtId:o,formatCode:jg(e[o])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=hv("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var OS=["numFmtId","fillId","fontId","borderId","xfId"],DS=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function AS(e,t,r){var o;t.CellXf=[];var i=!1;(e[0].match(Mg)||[]).forEach((function(e){var n=Ig(e),a=0;switch(Ng(n[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(o=n,delete o[0],a=0;a<OS.length;++a)o[OS[a]]&&(o[OS[a]]=parseInt(o[OS[a]],10));for(a=0;a<DS.length;++a)o[DS[a]]&&(o[DS[a]]=Xg(o[DS[a]]));if(t.NumberFmt&&o.numFmtId>392)for(a=392;a>60;--a)if(t.NumberFmt[o.numFmtId]==t.NumberFmt[a]){o.numFmtId=a;break}t.CellXf.push(o);break;case"</xf>":break;case"<alignment":case"<alignment/>":var s={};n.vertical&&(s.vertical=n.vertical),n.horizontal&&(s.horizontal=n.horizontal),null!=n.textRotation&&(s.textRotation=n.textRotation),n.indent&&(s.indent=n.indent),n.wrapText&&(s.wrapText=Xg(n.wrapText)),o.alignment=s;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+n[0]+" in cellXfs")}}))}function PS(e){var t=[];return t[t.length]=hv("cellXfs",null),e.forEach((function(e){t[t.length]=hv("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=hv("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var MS=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,o=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(n,a,s){var l,c={};return n?(n=n.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,""),(l=n.match(e))&&_S(l,c,s),(l=n.match(o))&&kS(l,c,a,s),(l=n.match(r))&&TS(l,c,a,s),(l=n.match(i))&&xS(l,c,a,s),(l=n.match(t))&&AS(l,c,s),c):c}}();function LS(e,t){var r,o=[Og,hv("styleSheet",null,{xmlns:bv[0],"xmlns:vt":mv.vt})];return e.SSF&&null!=(r=RS(e.SSF))&&(o[o.length]=r),o[o.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',o[o.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',o[o.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',o[o.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=PS(t.cellXfs))&&(o[o.length]=r),o[o.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',o[o.length]='<dxfs count="0"/>',o[o.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',o.length>2&&(o[o.length]="</styleSheet>",o[1]=o[1].replace("/>",">")),o.join("")}function FS(e,t){var r=e.read_shift(2),o=Mm(e,t-2);return[r,o]}function IS(e,t,r){r||(r=im(6+4*t.length)),r.write_shift(2,e),Lm(t,r);var o=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),o}function NS(e,t,r){var o={};o.sz=e.read_shift(2)/20;var i=lb(e,2,r);i.fItalic&&(o.italic=1),i.fCondense&&(o.condense=1),i.fExtend&&(o.extend=1),i.fShadow&&(o.shadow=1),i.fOutline&&(o.outline=1),i.fStrikeout&&(o.strike=1);var n=e.read_shift(2);switch(700===n&&(o.bold=1),e.read_shift(2)){case 1:o.vertAlign="superscript";break;case 2:o.vertAlign="subscript";break}var a=e.read_shift(1);0!=a&&(o.underline=a);var s=e.read_shift(1);s>0&&(o.family=s);var l=e.read_shift(1);switch(l>0&&(o.charset=l),e.l++,o.color=ab(e,8),e.read_shift(1)){case 1:o.scheme="major";break;case 2:o.scheme="minor";break}return o.name=Mm(e,t-21),o}function HS(e,t){t||(t=im(153)),t.write_shift(2,20*e.sz),cb(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),sb(e.color,t);var o=0;return"major"==e.scheme&&(o=1),"minor"==e.scheme&&(o=2),t.write_shift(1,o),Lm(e.name,t),t.length>t.l?t.slice(0,t.l):t}var GS,VS=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],zS=om;function BS(e,t){t||(t=im(84)),GS||(GS=qf(VS));var r=GS[e.patternType];null==r&&(r=40),t.write_shift(4,r);var o=0;if(40!=r)for(sb({auto:1},t),sb({auto:1},t);o<12;++o)t.write_shift(4,0);else{for(;o<4;++o)t.write_shift(4,0);for(;o<12;++o)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function jS(e,t){var r=e.l+t,o=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:o,numFmtId:i}}function WS(e,t,r){r||(r=im(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var o=0;return r.write_shift(1,o),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function US(e,t){return t||(t=im(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var $S=om;function KS(e,t){return t||(t=im(51)),t.write_shift(1,0),US(null,t),US(null,t),US(null,t),US(null,t),US(null,t),t.length>t.l?t.slice(0,t.l):t}function YS(e,t){return t||(t=im(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Ym(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function qS(e,t,r){var o=im(2052);return o.write_shift(4,e),Ym(t,o),Ym(r,o),o.length>o.l?o.slice(0,o.l):o}function XS(e,t,r){var o={NumberFmt:[]};for(var i in Vp)o.NumberFmt[i]=Vp[i];o.CellXf=[],o.Fonts=[];var n=[],a=!1;return nm(e,(function(e,i,s){switch(s){case 44:o.NumberFmt[e[0]]=e[1],Lf(e[1],e[0]);break;case 43:o.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=lS(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:617==n[n.length-1]&&o.CellXf.push(e);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:n.push(s),a=!0;break;case 38:n.pop(),a=!1;break;default:if(i.T>0)n.push(s);else if(i.T<0)n.pop();else if(!a||r.WTF&&37!=n[n.length-1])throw new Error("Unexpected record 0x"+s.toString(16))}})),o}function JS(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var o=e[0];o<=e[1];++o)null!=t[o]&&++r})),0!=r&&(sm(e,615,Pm(r)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var o=r[0];o<=r[1];++o)null!=t[o]&&sm(e,44,IS(o,t[o]))})),sm(e,616))}}function QS(e){var t=1;0!=t&&(sm(e,611,Pm(t)),sm(e,43,HS({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),sm(e,612))}function ZS(e){var t=2;0!=t&&(sm(e,603,Pm(t)),sm(e,45,BS({patternType:"none"})),sm(e,45,BS({patternType:"gray125"})),sm(e,604))}function ex(e){var t=1;0!=t&&(sm(e,613,Pm(t)),sm(e,46,KS({})),sm(e,614))}function tx(e){var t=1;sm(e,626,Pm(t)),sm(e,47,WS({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),sm(e,627)}function rx(e,t){sm(e,617,Pm(t.length)),t.forEach((function(t){sm(e,47,WS(t,0))})),sm(e,618)}function ox(e){var t=1;sm(e,619,Pm(t)),sm(e,48,YS({xfId:0,builtinId:0,name:"Normal"})),sm(e,620)}function ix(e){var t=0;sm(e,505,Pm(t)),sm(e,506)}function nx(e){var t=0;sm(e,508,qS(t,"TableStyleMedium9","PivotStyleMedium4")),sm(e,509)}function ax(){}function sx(e,t){var r=am();return sm(r,278),JS(r,e.SSF),QS(r,e),ZS(r,e),ex(r,e),tx(r,e),rx(r,t.cellXfs),ox(r,e),ix(r,e),nx(r,e),ax(r,e),sm(r,279),r.end()}var lx=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function cx(e,t,r){t.themeElements.clrScheme=[];var o={};(e[0].match(Mg)||[]).forEach((function(e){var i=Ig(e);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":o.rgb=i.val;break;case"<a:sysClr":o.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===i[0].charAt(1)?(t.themeElements.clrScheme[lx.indexOf(i[0])]=o,o={}):o.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}}))}function ux(){}function dx(){}var hx=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,px=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fx=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function gx(e,t,r){var o;t.themeElements={},[["clrScheme",hx,cx],["fontScheme",px,ux],["fmtScheme",fx,dx]].forEach((function(i){if(!(o=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](o,t,r)}))}var vx=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mx(e,t){var r;e&&0!==e.length||(e=bx());var o={};if(!(r=e.match(vx)))throw new Error("themeElements not found in theme");return gx(r[0],o,t),o.raw=e,o}function bx(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[Og];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function yx(e,t,r){var o=e.l+t,i=e.read_shift(4);if(124226!==i)if(r.cellStyles){var n,a=e.slice(e.l);e.l=o;try{n=_g(a,{type:"array"})}catch(l){return}var s=Eg(n,"theme/theme/theme1.xml",!0);if(s)return mx(s,r)}else e.l=o}function wx(e){return e.read_shift(4)}function Cx(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Ex(e,4);break;case 2:t.xclrValue=cw(e,4);break;case 3:t.xclrValue=wx(e,4);break;case 4:e.l+=4;break}return e.l+=8,t}function Ex(e,t){return om(e,t)}function Sx(e,t){return om(e,t)}function xx(e){var t=e.read_shift(2),r=e.read_shift(2)-4,o=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:o[1]=Cx(e,r);break;case 6:o[1]=Sx(e,r);break;case 14:case 15:o[1]=e.read_shift(1===r?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return o}function Tx(e,t){var r=e.l+t;e.l+=2;var o=e.read_shift(2);e.l+=2;var i=e.read_shift(2),n=[];while(i-- >0)n.push(xx(e,r-e.l));return{ixfe:o,ext:n}}function kx(e,t){t.forEach((function(e){switch(e[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}}))}function _x(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Mm(e,t-8)}}function Rx(e){var t=im(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Lm(e.name,t),t.slice(0,t.l)}function Ox(e){var t=[],r=e.read_shift(4);while(r-- >0)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Dx(e){var t=im(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Ax(e,t){var r=im(8+2*t.length);return r.write_shift(4,e),Lm(t,r),r.slice(0,r.l)}function Px(e){return e.l+=4,0!=e.read_shift(4)}function Mx(e,t){var r=im(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}function Lx(e,t,r){var o={Types:[],Cell:[],Value:[]},i=r||{},n=[],a=!1,s=2;return nm(e,(function(e,t,r){switch(r){case 335:o.Types.push({name:e.name});break;case 51:e.forEach((function(e){1==s?o.Cell.push({type:o.Types[e[0]-1].name,index:e[1]}):0==s&&o.Value.push({type:o.Types[e[0]-1].name,index:e[1]})}));break;case 337:s=e?1:0;break;case 338:s=2;break;case 35:n.push(r),a=!0;break;case 36:n.pop(),a=!1;break;default:if(t.T);else if(!a||i.WTF&&35!=n[n.length-1])throw new Error("Unexpected record 0x"+r.toString(16))}})),o}function Fx(){var e=am();return sm(e,332),sm(e,334,Pm(1)),sm(e,335,Rx({name:"XLDAPR",version:12e4,flags:3496657072})),sm(e,336),sm(e,339,Ax(1,"XLDAPR")),sm(e,52),sm(e,35,Pm(514)),sm(e,4096,Pm(0)),sm(e,4097,Wy(1)),sm(e,36),sm(e,53),sm(e,340),sm(e,337,Mx(1,!0)),sm(e,51,Dx([[1,0]])),sm(e,338),sm(e,333),e.end()}function Ix(e,t,r){var o={Types:[],Cell:[],Value:[]};if(!e)return o;var i,n=!1,a=2;return e.replace(Mg,(function(e){var t=Ig(e);switch(Ng(t[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":o.Types.push({name:t.name});break;case"</metadataType>":break;case"<futureMetadata":for(var s=0;s<o.Types.length;++s)o.Types[s].name==t.name&&(i=o.Types[s]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":1==a?o.Cell.push({type:o.Types[t.t-1].name,index:+t.v}):0==a&&o.Value.push({type:o.Types[t.t-1].name,index:+t.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+t.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e})),o}function Nx(){var e=[Og];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}function Hx(e){var t=[];if(!e)return t;var r=1;return(e.match(Mg)||[]).forEach((function(e){var o=Ig(e);switch(o[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete o[0],o.i?r=o.i:o.i=r,t.push(o);break}})),t}function Gx(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Em(r);var o=e.read_shift(1);return 2&o&&(t.l="1"),8&o&&(t.a="1"),t}function Vx(e,t,r){var o=[],i=!1;return nm(e,(function(e,t,n){switch(n){case 63:o.push(e);break;default:if(t.T);else if(!i||r.WTF)throw new Error("Unexpected record 0x"+n.toString(16))}})),o}function zx(){}function Bx(e,t,r,o){if(!e)return e;var i=o||{},n=!1,a=!1;nm(e,(function(e,t,r){if(!a)switch(r){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:n=!0;break;case 36:n=!1;break;default:if(t.T);else if(!n||i.WTF)throw new Error("Unexpected record 0x"+r.toString(16))}}),i)}function jx(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Wx=1024;function Ux(e,t){var r=[21600,21600],o=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[hv("xml",null,{"xmlns:v":yv.v,"xmlns:o":yv.o,"xmlns:x":yv.x,"xmlns:mv":yv.mv}).replace(/\/>/,">"),hv("o:shapelayout",hv("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),hv("v:shapetype",[hv("v:stroke",null,{joinstyle:"miter"}),hv("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:o})];while(Wx<1e3*e)Wx+=1e3;return t.forEach((function(e){var t=Cm(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var o="gradient"==r.type?hv("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,n=hv("v:fill",o,r),a={on:"t",obscured:"t"};++Wx,i=i.concat(["<v:shape"+dv({id:"_x0000_s"+Wx,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",n,hv("v:shadow",null,a),hv("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",uv("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),uv("x:AutoFill","False"),uv("x:Row",String(t.r)),uv("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),i.push("</xml>"),i.join("")}function $x(e,t,r,o){var i,n=Array.isArray(e);t.forEach((function(t){var a=Cm(t.ref);if(n?(e[a.r]||(e[a.r]=[]),i=e[a.r][a.c]):i=e[t.ref],!i){i={t:"z"},n?e[a.r][a.c]=i:e[t.ref]=i;var s=Tm(e["!ref"]||"BDWGO1000001:A1");s.s.r>a.r&&(s.s.r=a.r),s.e.r<a.r&&(s.e.r=a.r),s.s.c>a.c&&(s.s.c=a.c),s.e.c<a.c&&(s.e.c=a.c);var l=xm(s);l!==e["!ref"]&&(e["!ref"]=l)}i.c||(i.c=[]);var c={a:t.author,t:t.t,r:t.r,T:r};t.h&&(c.h=t.h);for(var u=i.c.length-1;u>=0;--u){if(!r&&i.c[u].T)return;r&&!i.c[u].T&&i.c.splice(u,1)}if(r&&o)for(u=0;u<o.length;++u)if(c.a==o[u].id){c.a=o[u].name||c.a;break}i.c.push(c)}))}function Kx(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],o=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&r.push(t[1])}}));var n=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return n&&n[1]&&n[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var i=e.match(/<(?:\w+:)?comment[^>]*>/);if(i){var n=Ig(i[0]),a={author:n.authorId&&r[n.authorId]||"sheetjsghost",ref:n.ref,guid:n.guid},s=Cm(n.ref);if(!(t.sheetRows&&t.sheetRows<=s.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&EE(l[1])||{r:"",t:"",h:""};a.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),a.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(a.h=c.h),o.push(a)}}}})),o}function Yx(e){var t=[Og,hv("comments",null,{xmlns:bv[0]})],r=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var o=jg(e.a);-1==r.indexOf(o)&&(r.push(o),t.push("<author>"+o+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var o=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?o=r.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(o=r.indexOf(jg(e.a))),i.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+o+'"><text>'),i.length<=1)t.push(uv("t",jg(i[0]||"")));else{for(var n="Comment:\n    "+i[0]+"\n",a=1;a<i.length;++a)n+="Reply:\n    "+i[a]+"\n";t.push(uv("t",jg(n)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function qx(e,t){var r=[],o=!1,i={},n=0;return e.replace(Mg,(function(a,s){var l=Ig(a);switch(Ng(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=i.t&&r.push(i);break;case"<text>":case"<text":n=s+a.length;break;case"</text>":i.t=e.slice(n,s).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":o=!0;break;case"</mentions>":o=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(!o&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a})),r}function Xx(e,t,r){var o=[Og,hv("ThreadedComments",null,{xmlns:mv.TCMNT}).replace(/[\/]>/,">")];return e.forEach((function(e){var i="";(e[1]||[]).forEach((function(n,a){if(n.T){n.a&&-1==t.indexOf(n.a)&&t.push(n.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==a?i=s.id:s.parentId=i,n.ID=s.id,n.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(n.a)).slice(-12)+"}"),o.push(hv("threadedComment",uv("text",n.t||""),s))}else delete n.ID}))})),o.push("</ThreadedComments>"),o.join("")}function Jx(e,t){var r=[],o=!1;return e.replace(Mg,(function(e){var i=Ig(e);switch(Ng(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(!o&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return e})),r}function Qx(e){var t=[Og,hv("personList",null,{xmlns:mv.TCMNT,"xmlns:x":bv[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,r){t.push(hv("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}function Zx(e){var t={};t.iauthor=e.read_shift(4);var r=rb(e,16);return t.rfx=r.s,t.ref=Em(r.s),e.l+=16,t}function eT(e,t){return null==t&&(t=im(36)),t.write_shift(4,e[1].iauthor),ob(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var tT=Mm;function rT(e){return Lm(e.slice(0,54))}function oT(e,t){var r=[],o=[],i={},n=!1;return nm(e,(function(e,a,s){switch(s){case 632:o.push(e);break;case 635:i=e;break;case 637:i.t=e.t,i.h=e.h,i.r=e.r;break;case 636:if(i.author=o[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:n=!0;break;case 36:n=!1;break;case 37:break;case 38:break;default:if(a.T);else if(!n||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}})),r}function iT(e){var t=am(),r=[];return sm(t,628),sm(t,630),e.forEach((function(e){e[1].forEach((function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),sm(t,632,rT(e.a)))}))})),sm(t,631),sm(t,633),e.forEach((function(e){e[1].forEach((function(o){o.iauthor=r.indexOf(o.a);var i={s:Cm(e[0]),e:Cm(e[0])};sm(t,635,eT([i,o])),o.t&&o.t.length>0&&sm(t,637,Vm(o)),sm(t,636),delete o.iauthor}))})),sm(t,634),sm(t,629),t.end()}var nT="application/vnd.ms-office.vbaProject";function aT(e){var t=Bf.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(r,o){if("/"!==r.slice(-1)&&r.match(/_VBA_PROJECT_CUR/)){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Bf.utils.cfb_add(t,i,e.FileIndex[o].content)}})),Bf.write(t)}function sT(e,t){t.FullPaths.forEach((function(r,o){if(0!=o){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&Bf.utils.cfb_add(e,i,t.FileIndex[o].content)}}))}var lT=["xlsb","xlsm","xlam","biff8","xla"];function cT(){return{"!type":"dialog"}}function uT(){return{"!type":"dialog"}}function dT(){return{"!type":"macro"}}function hT(){return{"!type":"macro"}}var pT=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,o,i){var n=!1,a=!1;0==o.length?a=!0:"["==o.charAt(0)&&(a=!0,o=o.slice(1,-1)),0==i.length?n=!0:"["==i.charAt(0)&&(n=!0,i=i.slice(1,-1));var s=o.length>0?0|parseInt(o,10):0,l=i.length>0?0|parseInt(i,10):0;return n?l+=t.c:--l,a?s+=t.r:--s,r+(n?"":"$")+mm(l)+(a?"":"$")+pm(s)}return function(o,i){return t=i,o.replace(e,r)}}(),fT=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,gT=function(){return function(e,t){return e.replace(fT,(function(e,r,o,i,n,a){var s=vm(i)-(o?0:t.c),l=hm(a)-(n?0:t.r),c=0==l?"":n?l+1:"["+l+"]",u=0==s?"":o?s+1:"["+s+"]";return r+"R"+c+"C"+u}))}}();function vT(e,t){return e.replace(fT,(function(e,r,o,i,n,a){return r+("$"==o?o+i:mm(vm(i)+t.c))+("$"==n?n+a:pm(hm(a)+t.r))}))}function mT(e,t,r){var o=Sm(t),i=o.s,n=Cm(r),a={r:n.r-i.r,c:n.c-i.c};return vT(e,a)}function bT(e){return 1!=e.length}function yT(e){return e.replace(/_xlfn\./g,"")}function wT(e){e.l+=1}function CT(e,t){var r=e.read_shift(1==t?1:2);return[16383&r,r>>14&1,r>>15&1]}function ET(e,t,r){var o=2;if(r){if(r.biff>=2&&r.biff<=5)return ST(e,t,r);12==r.biff&&(o=4)}var i=e.read_shift(o),n=e.read_shift(o),a=CT(e,2),s=CT(e,2);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}function ST(e){var t=CT(e,2),r=CT(e,2),o=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:o,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function xT(e,t,r){if(r.biff<8)return ST(e,t,r);var o=e.read_shift(12==r.biff?4:2),i=e.read_shift(12==r.biff?4:2),n=CT(e,2),a=CT(e,2);return{s:{r:o,c:n[0],cRel:n[1],rRel:n[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function TT(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return kT(e,t,r);var o=e.read_shift(r&&12==r.biff?4:2),i=CT(e,2);return{r:o,c:i[0],cRel:i[1],rRel:i[2]}}function kT(e){var t=CT(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function _T(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function RT(e,t,r){var o=r&&r.biff?r.biff:8;if(o>=2&&o<=5)return OT(e,t,r);var i=e.read_shift(o>=12?4:2),n=e.read_shift(2),a=(16384&n)>>14,s=(32768&n)>>15;if(n&=16383,1==s)while(i>524287)i-=1048576;if(1==a)while(n>8191)n-=16384;return{r:i,c:n,cRel:a,rRel:s}}function OT(e){var t=e.read_shift(2),r=e.read_shift(1),o=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==o&&t>=8192&&(t-=16384),1==i&&r>=128&&(r-=256),{r:t,c:r,cRel:i,rRel:o}}function DT(e,t,r){var o=(96&e[e.l++])>>5,i=ET(e,r.biff>=2&&r.biff<=5?6:8,r);return[o,i]}function AT(e,t,r){var o=(96&e[e.l++])>>5,i=e.read_shift(2,"i"),n=8;if(r)switch(r.biff){case 5:e.l+=12,n=6;break;case 12:n=12;break}var a=ET(e,n,r);return[o,i,a]}function PT(e,t,r){var o=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[o]}function MT(e,t,r){var o=(96&e[e.l++])>>5,i=e.read_shift(2),n=8;if(r)switch(r.biff){case 5:e.l+=12,n=6;break;case 12:n=12;break}return e.l+=n,[o,i]}function LT(e,t,r){var o=(96&e[e.l++])>>5,i=xT(e,t-1,r);return[o,i]}function FT(e,t,r){var o=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[o]}function IT(e){var t=1&e[e.l+1],r=1;return e.l+=4,[t,r]}function NT(e,t,r){e.l+=2;for(var o=e.read_shift(r&&2==r.biff?1:2),i=[],n=0;n<=o;++n)i.push(e.read_shift(r&&2==r.biff?1:2));return i}function HT(e,t,r){var o=255&e[e.l+1]?1:0;return e.l+=2,[o,e.read_shift(r&&2==r.biff?1:2)]}function GT(e,t,r){var o=255&e[e.l+1]?1:0;return e.l+=2,[o,e.read_shift(r&&2==r.biff?1:2)]}function VT(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}function zT(e,t,r){var o=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[o]}function BT(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function jT(e){return e.read_shift(2),BT(e,2)}function WT(e){return e.read_shift(2),BT(e,2)}function UT(e,t,r){var o=(96&e[e.l])>>5;e.l+=1;var i=TT(e,0,r);return[o,i]}function $T(e,t,r){var o=(96&e[e.l])>>5;e.l+=1;var i=RT(e,0,r);return[o,i]}function KT(e,t,r){var o=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);r&&5==r.biff&&(e.l+=12);var n=TT(e,0,r);return[o,i,n]}function YT(e,t,r){var o=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[u_[i],c_[i],o]}function qT(e,t,r){var o=e[e.l++],i=e.read_shift(1),n=r&&r.biff<=3?[88==o?-1:0,e.read_shift(1)]:XT(e);return[i,(0===n[0]?c_:l_)[n[1]]]}function XT(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}function JT(e,t,r){e.l+=r&&2==r.biff?3:4}function QT(e,t,r){if(e.l++,r&&12==r.biff)return[e.read_shift(4,"i"),0];var o=e.read_shift(2),i=e.read_shift(r&&2==r.biff?1:2);return[o,i]}function ZT(e){return e.l++,Mb[e.read_shift(1)]}function ek(e){return e.l++,e.read_shift(2)}function tk(e){return e.l++,0!==e.read_shift(1)}function rk(e){return e.l++,ib(e,8)}function ok(e,t,r){return e.l++,Yy(e,t-1,r)}function ik(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=zy(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=Mb[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ib(e,8);break;case 2:r[1]=Zy(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function nk(e,t,r){for(var o=e.read_shift(12==r.biff?4:2),i=[],n=0;n!=o;++n)i.push((12==r.biff?rb:bw)(e,8));return i}function ak(e,t,r){var o=0,i=0;12==r.biff?(o=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),o=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--o,0==--i&&(i=256));for(var n=0,a=[];n!=o&&(a[n]=[]);++n)for(var s=0;s!=i;++s)a[n][s]=ik(e,r.biff);return a}function sk(e,t,r){var o=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,n=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[o,0,n]}function lk(e,t,r){if(5==r.biff)return ck(e,t,r);var o=e.read_shift(1)>>>5&3,i=e.read_shift(2),n=e.read_shift(4);return[o,i,n]}function ck(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var o=e.read_shift(2);return e.l+=12,[t,r,o]}function uk(e,t,r){var o=e.read_shift(1)>>>5&3;e.l+=r&&2==r.biff?3:4;var i=e.read_shift(r&&2==r.biff?1:2);return[o,i]}function dk(e,t,r){var o=e.read_shift(1)>>>5&3,i=e.read_shift(r&&2==r.biff?1:2);return[o,i]}function hk(e,t,r){var o=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[o]}function pk(e,t,r){var o=(96&e[e.l++])>>5,i=e.read_shift(2),n=4;if(r)switch(r.biff){case 5:n=15;break;case 12:n=6;break}return e.l+=n,[o,i]}var fk=om,gk=om,vk=om;function mk(e,t,r){return e.l+=2,[_T(e,4,r)]}function bk(e){return e.l+=6,[]}var yk=mk,wk=bk,Ck=bk,Ek=mk;function Sk(e){return e.l+=2,[jy(e),1&e.read_shift(2)]}var xk=mk,Tk=Sk,kk=bk,_k=mk,Rk=mk,Ok=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Dk(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(4),i=e.read_shift(2),n=e.read_shift(2),a=Ok[r>>2&31];return{ixti:t,coltype:3&r,rt:a,idx:o,c:i,C:n}}function Ak(e){return e.l+=2,[e.read_shift(4)]}function Pk(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}function Mk(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}function Lk(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Fk(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ik(e){return e.l+=4,[0,0]}var Nk={1:{n:"PtgExp",f:QT},2:{n:"PtgTbl",f:vk},3:{n:"PtgAdd",f:wT},4:{n:"PtgSub",f:wT},5:{n:"PtgMul",f:wT},6:{n:"PtgDiv",f:wT},7:{n:"PtgPower",f:wT},8:{n:"PtgConcat",f:wT},9:{n:"PtgLt",f:wT},10:{n:"PtgLe",f:wT},11:{n:"PtgEq",f:wT},12:{n:"PtgGe",f:wT},13:{n:"PtgGt",f:wT},14:{n:"PtgNe",f:wT},15:{n:"PtgIsect",f:wT},16:{n:"PtgUnion",f:wT},17:{n:"PtgRange",f:wT},18:{n:"PtgUplus",f:wT},19:{n:"PtgUminus",f:wT},20:{n:"PtgPercent",f:wT},21:{n:"PtgParen",f:wT},22:{n:"PtgMissArg",f:wT},23:{n:"PtgStr",f:ok},26:{n:"PtgSheet",f:Pk},27:{n:"PtgEndSheet",f:Mk},28:{n:"PtgErr",f:ZT},29:{n:"PtgBool",f:tk},30:{n:"PtgInt",f:ek},31:{n:"PtgNum",f:rk},32:{n:"PtgArray",f:FT},33:{n:"PtgFunc",f:YT},34:{n:"PtgFuncVar",f:qT},35:{n:"PtgName",f:sk},36:{n:"PtgRef",f:UT},37:{n:"PtgArea",f:DT},38:{n:"PtgMemArea",f:uk},39:{n:"PtgMemErr",f:fk},40:{n:"PtgMemNoMem",f:gk},41:{n:"PtgMemFunc",f:dk},42:{n:"PtgRefErr",f:hk},43:{n:"PtgAreaErr",f:PT},44:{n:"PtgRefN",f:$T},45:{n:"PtgAreaN",f:LT},46:{n:"PtgMemAreaN",f:Lk},47:{n:"PtgMemNoMemN",f:Fk},57:{n:"PtgNameX",f:lk},58:{n:"PtgRef3d",f:KT},59:{n:"PtgArea3d",f:AT},60:{n:"PtgRefErr3d",f:pk},61:{n:"PtgAreaErr3d",f:MT},255:{}},Hk={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Gk={1:{n:"PtgElfLel",f:Sk},2:{n:"PtgElfRw",f:_k},3:{n:"PtgElfCol",f:yk},6:{n:"PtgElfRwV",f:Rk},7:{n:"PtgElfColV",f:Ek},10:{n:"PtgElfRadical",f:xk},11:{n:"PtgElfRadicalS",f:kk},13:{n:"PtgElfColS",f:wk},15:{n:"PtgElfColSV",f:Ck},16:{n:"PtgElfRadicalLel",f:Tk},25:{n:"PtgList",f:Dk},29:{n:"PtgSxName",f:Ak},255:{}},Vk={0:{n:"PtgAttrNoop",f:Ik},1:{n:"PtgAttrSemi",f:zT},2:{n:"PtgAttrIf",f:GT},4:{n:"PtgAttrChoose",f:NT},8:{n:"PtgAttrGoto",f:HT},16:{n:"PtgAttrSum",f:JT},32:{n:"PtgAttrBaxcel",f:IT},33:{n:"PtgAttrBaxcel",f:IT},64:{n:"PtgAttrSpace",f:jT},65:{n:"PtgAttrSpaceSemi",f:WT},128:{n:"PtgAttrIfError",f:VT},255:{}};function zk(e,t,r,o){if(o.biff<8)return om(e,t);for(var i=e.l+t,n=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=ak(e,0,o),n.push(r[a][1]);break;case"PtgMemArea":r[a][2]=nk(e,r[a][1],o),n.push(r[a][2]);break;case"PtgExp":o&&12==o.biff&&(r[a][1][1]=e.read_shift(4),n.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0];default:break}return t=i-e.l,0!==t&&n.push(om(e,t)),n}function Bk(e,t,r){var o,i,n=e.l+t,a=[];while(n!=e.l)t=n-e.l,i=e[e.l],o=Nk[i]||Nk[Hk[i]],24!==i&&25!==i||(o=(24===i?Gk:Vk)[e[e.l+1]]),o&&o.f?a.push([o.n,o.f(e,t,r)]):om(e,t);return a}function jk(e){for(var t=[],r=0;r<e.length;++r){for(var o=e[r],i=[],n=0;n<o.length;++n){var a=o[n];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var Wk={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Uk(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function $k(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var o=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!o)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[o[0]][0]){case 357:return i=-1==o[1]?"#REF":e.SheetNames[o[1]],o[1]==o[2]?i:i+":"+e.SheetNames[o[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[o[0]][0];case 355:default:return"SH33TJSSRC"+e[o[0]][0]}switch(e[o[0]][0][0]){case 1025:return i=-1==o[1]?"#REF":e.SheetNames[o[1]]||"SH33TJSERR3",o[1]==o[2]?i:i+":"+e.SheetNames[o[2]];case 14849:return e[o[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[o[0]][0][3]?(i=-1==o[1]?"#REF":e[o[0]][0][3][o[1]]||"SH33TJSERR4",o[1]==o[2]?i:i+":"+e[o[0]][0][3][o[2]]):"SH33TJSERR2"}}function Kk(e,t,r){var o=$k(e,t,r);return"#REF"==o?o:Uk(o,r)}function Yk(e,t,r,o,i){var n,a,s,l,c=i&&i.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,p=0,f="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",m=0,b=e[0].length;m<b;++m){var y=e[0][m];switch(y[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(n=d.pop(),a=d.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=dg(" ",e[0][g][1][1]);break;case 1:v=dg("\r",e[0][g][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}a+=v,g=-1}d.push(a+Wk[y[0]]+n);break;case"PtgIsect":n=d.pop(),a=d.pop(),d.push(a+" "+n);break;case"PtgUnion":n=d.pop(),a=d.pop(),d.push(a+","+n);break;case"PtgRange":n=d.pop(),a=d.pop(),d.push(a+":"+n);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":s=lm(y[1][1],u,i),d.push(um(s,c));break;case"PtgRefN":s=r?lm(y[1][1],r,i):y[1][1],d.push(um(s,c));break;case"PtgRef3d":h=y[1][1],s=lm(y[1][2],u,i),f=Kk(o,h,i);d.push(f+"!"+um(s,c));break;case"PtgFunc":case"PtgFuncVar":var w=y[1][0],C=y[1][1];w||(w=0),w&=127;var E=0==w?[]:d.slice(-w);d.length-=w,"User"===C&&(C=E.shift()),d.push(C+"("+E.join(",")+")");break;case"PtgBool":d.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(y[1]);break;case"PtgNum":d.push(String(y[1]));break;case"PtgStr":d.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(y[1]);break;case"PtgAreaN":l=cm(y[1][1],r?{s:r}:u,i),d.push(dm(l,i));break;case"PtgArea":l=cm(y[1][1],u,i),d.push(dm(l,i));break;case"PtgArea3d":h=y[1][1],l=y[1][2],f=Kk(o,h,i),d.push(f+"!"+dm(l,i));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=y[1][2];var S=(o.names||[])[p-1]||(o[0]||[])[p],x=S?S.Name:"SH33TJSNAME"+String(p);x&&"_xlfn."==x.slice(0,6)&&!i.xlfn&&(x=x.slice(6)),d.push(x);break;case"PtgNameX":var T,k=y[1][1];if(p=y[1][2],!(i.biff<=5)){var _="";if(14849==((o[k]||[])[0]||[])[0]||(1025==((o[k]||[])[0]||[])[0]?o[k][p]&&o[k][p].itab>0&&(_=o.SheetNames[o[k][p].itab-1]+"!"):_=o.SheetNames[p-1]+"!"),o[k]&&o[k][p])_+=o[k][p].Name;else if(o[0]&&o[0][p])_+=o[0][p].Name;else{var R=($k(o,k,i)||"").split(";;");R[p-1]?_=R[p-1]:_+="SH33TJSERRX"}d.push(_);break}k<0&&(k=-k),o[k]&&(T=o[k][p]),T||(T={Name:"SH33TJSERRY"}),d.push(T.Name);break;case"PtgParen":var O="(",D=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:O=dg(" ",e[0][g][1][1])+O;break;case 3:O=dg("\r",e[0][g][1][1])+O;break;case 4:D=dg(" ",e[0][g][1][1])+D;break;case 5:D=dg("\r",e[0][g][1][1])+D;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}d.push(O+d.pop()+D);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":s={c:y[1][1],r:y[1][0]};var A={c:r.c,r:r.r};if(o.sharedf[Em(s)]){var P=o.sharedf[Em(s)];d.push(Yk(P,u,A,o,i))}else{var M=!1;for(n=0;n!=o.arrayf.length;++n)if(a=o.arrayf[n],!(s.c<a[0].s.c||s.c>a[0].e.c)&&!(s.r<a[0].s.r||s.r>a[0].e.r)){d.push(Yk(a[1],u,A,o,i)),M=!0;break}M||d.push(y[1])}break;case"PtgArray":d.push("{"+jk(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var L=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(3!=i.biff&&g>=0&&-1==L.indexOf(e[0][m][0])){y=e[0][g];var F=!0;switch(y[1][0]){case 4:F=!1;case 0:v=dg(" ",y[1][1]);break;case 5:F=!1;case 1:v=dg("\r",y[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}d.push((F?v:"")+d.pop()+(F?"":v)),g=-1}}if(d.length>1&&i.WTF)throw new Error("bad formula stack");return d[0]}function qk(e,t,r){var o,i=e.l+t,n=2==r.biff?1:2,a=e.read_shift(n);if(65535==a)return[[],om(e,t-2)];var s=Bk(e,a,r);return t!==a+n&&(o=zk(e,t-a-n,s,r)),e.l=i,[s,o]}function Xk(e,t,r){var o,i=e.l+t,n=2==r.biff?1:2,a=e.read_shift(n);if(65535==a)return[[],om(e,t-2)];var s=Bk(e,a,r);return t!==a+n&&(o=zk(e,t-a-n,s,r)),e.l=i,[s,o]}function Jk(e,t,r,o){var i,n=e.l+t,a=Bk(e,o,r);return n!==e.l&&(i=zk(e,n-e.l,a,r)),[a,i]}function Qk(e,t,r){var o,i=e.l+t,n=e.read_shift(2),a=Bk(e,n,r);return 65535==n?[[],om(e,t-2)]:(t!==n+2&&(o=zk(e,i-n-2,a,r)),[a,o])}function Zk(e){var t;if(65535!==Uv(e,e.l+6))return[ib(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function e_(e){if(null==e){var t=im(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return nb("number"==typeof e?e:0)}function t_(e,t,r){var o=e.l+t,i=dw(e,6);2==r.biff&&++e.l;var n=Zk(e,8),a=e.read_shift(1);2!=r.biff&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var s=Xk(e,o-e.l,r);return{cell:i,val:n[0],formula:s,shared:a>>3&1,tt:n[1]}}function r_(e,t,r,o,i){var n=hw(t,r,i),a=e_(e.v),s=im(6),l=33;s.write_shift(2,l),s.write_shift(4,0);for(var c=im(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var d=xp([n,a,s,c]);return d}function o_(e,t,r){var o=e.read_shift(4),i=Bk(e,o,r),n=e.read_shift(4),a=n>0?zk(e,n,i,r):null;return[i,a]}var i_=o_,n_=o_,a_=o_,s_=o_,l_={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},c_={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},u_={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function d_(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&(e=e.slice(1),61==e.charCodeAt(0)&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")})),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function h_(e){var t="of:="+e.replace(fT,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function p_(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function f_(e){return e.replace(/\./,"!")}var g_={},v_={},m_="undefined"!==typeof Map;function b_(e,t,r){var o=0,i=e.length;if(r){if(m_?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var n=m_?r.get(t):r[t];o<n.length;++o)if(e[n[o]].t===t)return e.Count++,n[o]}else for(;o<i;++o)if(e[o].t===t)return e.Count++,o;return e[i]={t:t},e.Count++,e.Unique++,r&&(m_?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function y_(e,t){var r={min:e+1,max:e+1},o=-1;return t.MDW&&(hS=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?o=fS(t.wpx):null!=t.wch&&(o=t.wch),o>-1?(r.width=gS(o),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function w_(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function C_(e,t,r){var o=r.revssf[null!=t.z?t.z:"General"],i=60,n=e.length;if(null==o&&r.ssf)for(;i<392;++i)if(null==r.ssf[i]){Lf(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=o=i;break}for(i=0;i!=n;++i)if(e[i].numFmtId===o)return i;return e[n]={numFmtId:o,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},n}function E_(e,t,r,o,i,n){try{o.cellNF&&(e.z=Vp[t])}catch(s){if(o.WTF)throw s}if("z"!==e.t||o.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=lg(e.v)),(!o||!1!==o.cellText)&&"z"!==e.t)try{if(null==Vp[t]&&Lf(Nf[t]||"General",t),"e"===e.t)e.w=e.w||Mb[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Zp(e.v);else if("d"===e.t){var a=Zf(e.v);e.w=(0|a)===a?a.toString(10):Zp(a)}else{if(void 0===e.v)return"";e.w=ef(e.v,v_)}else"d"===e.t?e.w=Mf(t,Zf(e.v),v_):e.w=Mf(t,e.v,v_)}catch(s){if(o.WTF)throw s}if(o.cellStyles&&null!=r)try{e.s=n.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=lS(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),o.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=lS(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),o.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(o.WTF&&n.Fills)throw s}}}function S_(e,t,r){if(e&&e["!ref"]){var o=Tm(e["!ref"]);if(o.e.c<o.s.c||o.e.r<o.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function x_(e,t){var r=Tm(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=xm(r))}var T_=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,k_=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,__=/<(?:\w:)?hyperlink [^>]*>/gm,R_=/"(\w*:\w*)"/,O_=/<(?:\w:)?col\b[^>]*[\/]?>/g,D_=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,A_=/<(?:\w:)?pageMargins[^>]*\/>/g,P_=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,M_=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,L_=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function F_(e,t,r,o,i,n,a){if(!e)return e;o||(o={"!id":{}}),null!=up&&null==t.dense&&(t.dense=up);var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=e.match(k_);d?(c=e.slice(0,d.index),u=e.slice(d.index+d[0].length)):c=u=e;var h=c.match(P_);h?N_(h[0],s,i,r):(h=c.match(M_))&&H_(h[0],h[1]||"",s,i,r,a,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var f=c.slice(p,p+50).match(R_);f&&x_(s,f[1])}var g=c.match(L_);g&&g[1]&&J_(g[1],i);var v=[];if(t.cellStyles){var m=c.match(O_);m&&$_(v,m)}d&&eR(d[1],s,t,l,n,a);var b=u.match(D_);b&&(s["!autofilter"]=Y_(b[0]));var y=[],w=u.match(T_);if(w)for(p=0;p!=w.length;++p)y[p]=Tm(w[p].slice(w[p].indexOf('"')+1));var C=u.match(__);C&&j_(s,C,o);var E=u.match(A_);if(E&&(s["!margins"]=W_(Ig(E[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=xm(l)),t.sheetRows>0&&s["!ref"]){var S=Tm(s["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),s["!fullref"]=s["!ref"],s["!ref"]=xm(S))}return v.length>0&&(s["!cols"]=v),y.length>0&&(s["!merges"]=y),s}function I_(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+xm(e[r])+'"/>';return t+"</mergeCells>"}function N_(e,t,r,o){var i=Ig(e);r.Sheets[o]||(r.Sheets[o]={}),i.codeName&&(r.Sheets[o].CodeName=Vg(tv(i.codeName)))}function H_(e,t,r,o,i){N_(e.slice(0,e.indexOf(">")),r,o,i)}function G_(e,t,r,o,i){var n=!1,a={},s=null;if("xlsx"!==o.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(u){}n=!0,a.codeName=rv(jg(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),s=(s||"")+hv("outlinePr",null,c)}(n||s)&&(i[i.length]=hv("sheetPr",s,a))}var V_=["objects","scenarios","selectLockedCells","selectUnlockedCells"],z_=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function B_(e){var t={sheet:1};return V_.forEach((function(r){null!=e[r]&&e[r]&&(t[r]="1")})),z_.forEach((function(r){null==e[r]||e[r]||(t[r]="0")})),e.password&&(t.password=XE(e.password).toString(16).toUpperCase()),hv("sheetProtection",null,t)}function j_(e,t,r){for(var o=Array.isArray(e),i=0;i!=t.length;++i){var n=Ig(tv(t[i]),!0);if(!n.ref)return;var a=((r||{})["!id"]||[])[n.id];a?(n.Target=a.Target,n.location&&(n.Target+="#"+Vg(n.location))):(n.Target="#"+Vg(n.location),a={Target:n.Target,TargetMode:"Internal"}),n.Rel=a,n.tooltip&&(n.Tooltip=n.tooltip,delete n.tooltip);for(var s=Tm(n.ref),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c){var u=Em({c:c,r:l});o?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=n):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=n)}}}function W_(e){var t={};return["left","right","top","bottom","header","footer"].forEach((function(r){e[r]&&(t[r]=parseFloat(e[r]))})),t}function U_(e){return w_(e),hv("pageMargins",null,e)}function $_(e,t){for(var r=!1,o=0;o!=t.length;++o){var i=Ig(t[o],!0);i.hidden&&(i.hidden=Xg(i.hidden));var n=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,mS(i.width)),bS(i);while(n<=a)e[n++]=ug(i)}}function K_(e,t){for(var r,o=["<cols>"],i=0;i!=t.length;++i)(r=t[i])&&(o[o.length]=hv("col",null,y_(i,r)));return o[o.length]="</cols>",o.join("")}function Y_(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function q_(e,t,r,o){var i="string"==typeof e.ref?e.ref:xm(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var n=r.Workbook.Names,a=Sm(i);a.s.r==a.e.r&&(a.e.r=Sm(t["!ref"]).e.r,i=xm(a));for(var s=0;s<n.length;++s){var l=n[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==o){l.Ref="'"+r.SheetNames[o]+"'!"+i;break}}return s==n.length&&n.push({Name:"_xlnm._FilterDatabase",Sheet:o,Ref:"'"+r.SheetNames[o]+"'!"+i}),hv("autoFilter",null,{ref:i})}var X_=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function J_(e,t){t.Views||(t.Views=[{}]),(e.match(X_)||[]).forEach((function(e,r){var o=Ig(e);t.Views[r]||(t.Views[r]={}),+o.zoomScale&&(t.Views[r].zoom=+o.zoomScale),Xg(o.rightToLeft)&&(t.Views[r].RTL=!0)}))}function Q_(e,t,r,o){var i={workbookViewId:"0"};return(((o||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=o.Workbook.Views[0].RTL?"1":"0"),hv("sheetViews",hv("sheetView",null,i),{})}function Z_(e,t,r,o){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var i="",n=e.t,a=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Mb[e.v];break;case"d":o&&o.cellDates?i=lg(e.v,-1).toISOString():(e=ug(e),e.t="n",i=""+(e.v=Zf(lg(e.v)))),"undefined"===typeof e.z&&(e.z=Vp[14]);break;default:i=e.v;break}var s=uv("v",jg(i)),l={r:t},c=C_(o.cellXfs,e,o);switch(0!==c&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(o&&o.bookSST){s=uv("v",""+b_(o.Strings,e.v,o.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=n&&(e.t=n,e.v=a),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=hv("f",jg(e.f),u)+(null!=e.v?s:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),hv("c",s,l)}var eR=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,o=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,n=ov("v"),a=ov("f");return function(s,l,c,u,d,h){for(var p,f,g,v,m,b=0,y="",w=[],C=[],E=0,S=0,x=0,T="",k=0,_=0,R=0,O=0,D=Array.isArray(h.CellXf),A=[],P=[],M=Array.isArray(l),L=[],F={},I=!1,N=!!c.sheetStubs,H=s.split(t),G=0,V=H.length;G!=V;++G){y=H[G].trim();var z=y.length;if(0!==z){var B=0;e:for(b=0;b<z;++b)switch(y[b]){case">":if("/"!=y[b-1]){++b;break e}if(c&&c.cellStyles){if(f=Ig(y.slice(B,b),!0),k=null!=f.r?parseInt(f.r,10):k+1,_=-1,c.sheetRows&&c.sheetRows<k)continue;F={},I=!1,f.ht&&(I=!0,F.hpt=parseFloat(f.ht),F.hpx=ES(F.hpt)),"1"==f.hidden&&(I=!0,F.hidden=!0),null!=f.outlineLevel&&(I=!0,F.level=+f.outlineLevel),I&&(L[k-1]=F)}break;case"<":B=b;break}if(B>=b)break;if(f=Ig(y.slice(B,b),!0),k=null!=f.r?parseInt(f.r,10):k+1,_=-1,!(c.sheetRows&&c.sheetRows<k)){u.s.r>k-1&&(u.s.r=k-1),u.e.r<k-1&&(u.e.r=k-1),c&&c.cellStyles&&(F={},I=!1,f.ht&&(I=!0,F.hpt=parseFloat(f.ht),F.hpx=ES(F.hpt)),"1"==f.hidden&&(I=!0,F.hidden=!0),null!=f.outlineLevel&&(I=!0,F.level=+f.outlineLevel),I&&(L[k-1]=F)),w=y.slice(b).split(e);for(var j=0;j!=w.length;++j)if("<"!=w[j].trim().charAt(0))break;for(w=w.slice(j),b=0;b!=w.length;++b)if(y=w[b].trim(),0!==y.length){if(C=y.match(r),E=b,S=0,x=0,y="<c "+("<"==y.slice(0,1)?">":"")+y,null!=C&&2===C.length){for(E=0,T=C[1],S=0;S!=T.length;++S){if((x=T.charCodeAt(S)-64)<1||x>26)break;E=26*E+x}--E,_=E}else++_;for(S=0;S!=y.length;++S)if(62===y.charCodeAt(S))break;if(++S,f=Ig(y.slice(0,S),!0),f.r||(f.r=Em({r:k-1,c:_})),T=y.slice(S),p={t:""},null!=(C=T.match(n))&&""!==C[1]&&(p.v=Vg(C[1])),c.cellFormula){if(null!=(C=T.match(a))&&""!==C[1]){if(p.f=Vg(tv(C[1])).replace(/\r\n/g,"\n"),c.xlfn||(p.f=yT(p.f)),C[0].indexOf('t="array"')>-1)p.F=(T.match(i)||[])[1],p.F.indexOf(":")>-1&&A.push([Tm(p.F),p.F]);else if(C[0].indexOf('t="shared"')>-1){v=Ig(C[0]);var W=Vg(tv(C[1]));c.xlfn||(W=yT(W)),P[parseInt(v.si,10)]=[v,W,f.r]}}else(C=T.match(/<f[^>]*\/>/))&&(v=Ig(C[0]),P[v.si]&&(p.f=mT(P[v.si][1],P[v.si][2],f.r)));var U=Cm(f.r);for(S=0;S<A.length;++S)U.r>=A[S][0].s.r&&U.r<=A[S][0].e.r&&U.c>=A[S][0].s.c&&U.c<=A[S][0].e.c&&(p.F=A[S][1])}if(null==f.t&&void 0===p.v)if(p.f||p.F)p.v=0,p.t="n";else{if(!N)continue;p.t="z"}else p.t=f.t||"n";switch(u.s.c>_&&(u.s.c=_),u.e.c<_&&(u.e.c=_),p.t){case"n":if(""==p.v||null==p.v){if(!N)continue;p.t="z"}else p.v=parseFloat(p.v);break;case"s":if("undefined"==typeof p.v){if(!N)continue;p.t="z"}else g=g_[parseInt(p.v,10)],p.v=g.t,p.r=g.r,c.cellHTML&&(p.h=g.h);break;case"str":p.t="s",p.v=null!=p.v?tv(p.v):"",c.cellHTML&&(p.h=$g(p.v));break;case"inlineStr":C=T.match(o),p.t="s",null!=C&&(g=EE(C[1]))?(p.v=g.t,c.cellHTML&&(p.h=g.h)):p.v="";break;case"b":p.v=Xg(p.v);break;case"d":c.cellDates?p.v=lg(p.v,1):(p.v=Zf(lg(p.v,1)),p.t="n");break;case"e":c&&!1===c.cellText||(p.w=p.v),p.v=Lb[p.v];break}if(R=O=0,m=null,D&&void 0!==f.s&&(m=h.CellXf[f.s],null!=m&&(null!=m.numFmtId&&(R=m.numFmtId),c.cellStyles&&null!=m.fillId&&(O=m.fillId))),E_(p,R,O,c,d,h),c.cellDates&&D&&"n"==p.t&&Rf(Vp[R])&&(p.t="d",p.v=og(p.v)),f.cm&&c.xlmeta){var $=(c.xlmeta.Cell||[])[+f.cm-1];$&&"XLDAPR"==$.type&&(p.D=!0)}if(M){var K=Cm(f.r);l[K.r]||(l[K.r]=[]),l[K.r][K.c]=p}else l[f.r]=p}}}}L.length>0&&(l["!rows"]=L)}}();function tR(e,t,r,o){var i,n,a=[],s=[],l=Tm(e["!ref"]),c="",u="",d=[],h=0,p=0,f=e["!rows"],g=Array.isArray(e),v={r:u},m=-1;for(p=l.s.c;p<=l.e.c;++p)d[p]=mm(p);for(h=l.s.r;h<=l.e.r;++h){for(s=[],u=pm(h),p=l.s.c;p<=l.e.c;++p){i=d[p]+u;var b=g?(e[h]||[])[p]:e[i];void 0!==b&&(null!=(c=Z_(b,i,e,t,r,o))&&s.push(c))}(s.length>0||f&&f[h])&&(v={r:u},f&&f[h]&&(n=f[h],n.hidden&&(v.hidden=1),m=-1,n.hpx?m=CS(n.hpx):n.hpt&&(m=n.hpt),m>-1&&(v.ht=m,v.customHeight=1),n.level&&(v.outlineLevel=n.level)),a[a.length]=hv("row",s.join(""),v))}if(f)for(;h<f.length;++h)f&&f[h]&&(v={r:h+1},n=f[h],n.hidden&&(v.hidden=1),m=-1,n.hpx?m=CS(n.hpx):n.hpt&&(m=n.hpt),m>-1&&(v.ht=m,v.customHeight=1),n.level&&(v.outlineLevel=n.level),a[a.length]=hv("row","",v));return a.join("")}function rR(e,t,r,o){var i=[Og,hv("worksheet",null,{xmlns:bv[0],"xmlns:r":mv.r})],n=r.SheetNames[e],a=0,s="",l=r.Sheets[n];null==l&&(l={});var c=l["!ref"]||"A1",u=Tm(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=xm(u)}o||(o={}),l["!comments"]=[];var d=[];G_(l,r,e,t,i),i[i.length]=hv("dimension",null,{ref:c}),i[i.length]=Q_(l,t,e,r),t.sheetFormat&&(i[i.length]=hv("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=K_(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=tR(l,t,e,r,o),s.length>0&&(i[i.length]=s)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=B_(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=q_(l["!autofilter"],l,r,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=I_(l["!merges"]));var h,p=-1,f=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(f=Wb(o,-1,jg(e[1].Target).replace(/#.*$/,""),Vb.HLINK),h["r:id"]="rId"+f),(p=e[1].Target.indexOf("#"))>-1&&(h.location=jg(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=jg(e[1].Tooltip)),i[i.length]=hv("hyperlink",null,h))})),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=U_(l["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=uv("ignoredErrors",hv("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(f=Wb(o,-1,"../drawings/drawing"+(e+1)+".xml",Vb.DRAW),i[i.length]=hv("drawing",null,{"r:id":"rId"+f}),l["!drawing"]=d),l["!comments"].length>0&&(f=Wb(o,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Vb.VML),i[i.length]=hv("legacyDrawing",null,{"r:id":"rId"+f}),l["!legacy"]=f),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function oR(e,t){var r={},o=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var n=e.read_shift(1);return e.l=o,7&n&&(r.level=7&n),16&n&&(r.hidden=!0),32&n&&(r.hpt=i/20),r}function iR(e,t,r){var o=im(145),i=(r["!rows"]||[])[e]||{};o.write_shift(4,e),o.write_shift(4,0);var n=320;i.hpx?n=20*CS(i.hpx):i.hpt&&(n=20*i.hpt),o.write_shift(2,n),o.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),o.write_shift(1,a),o.write_shift(1,0);var s=0,l=o.l;o.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var f=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Em(c)];f&&(d<0&&(d=p),h=p)}d<0||(++s,o.write_shift(4,d),o.write_shift(4,h))}var g=o.l;return o.l=l,o.write_shift(4,s),o.l=g,o.length>o.l?o.slice(0,o.l):o}function nR(e,t,r,o){var i=iR(o,r,t);(i.length>17||(t["!rows"]||[])[o])&&sm(e,0,i)}var aR=rb,sR=ob;function lR(){}function cR(e,t){var r={},o=e[e.l];return++e.l,r.above=!(64&o),r.left=!(128&o),e.l+=18,r.name=Um(e,t-19),r}function uR(e,t,r){null==r&&(r=im(84+4*e.length));var o=192;t&&(t.above&&(o&=-65),t.left&&(o&=-129)),r.write_shift(1,o);for(var i=1;i<3;++i)r.write_shift(1,0);return sb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),$m(e,r),r.slice(0,r.l)}function dR(e){var t=zm(e);return[t]}function hR(e,t,r){return null==r&&(r=im(8)),Bm(t,r)}function pR(e){var t=jm(e);return[t]}function fR(e,t,r){return null==r&&(r=im(4)),Wm(t,r)}function gR(e){var t=zm(e),r=e.read_shift(1);return[t,r,"b"]}function vR(e,t,r){return null==r&&(r=im(9)),Bm(t,r),r.write_shift(1,e.v?1:0),r}function mR(e){var t=jm(e),r=e.read_shift(1);return[t,r,"b"]}function bR(e,t,r){return null==r&&(r=im(5)),Wm(t,r),r.write_shift(1,e.v?1:0),r}function yR(e){var t=zm(e),r=e.read_shift(1);return[t,r,"e"]}function wR(e,t,r){return null==r&&(r=im(9)),Bm(t,r),r.write_shift(1,e.v),r}function CR(e){var t=jm(e),r=e.read_shift(1);return[t,r,"e"]}function ER(e,t,r){return null==r&&(r=im(8)),Wm(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function SR(e){var t=zm(e),r=e.read_shift(4);return[t,r,"s"]}function xR(e,t,r){return null==r&&(r=im(12)),Bm(t,r),r.write_shift(4,t.v),r}function TR(e){var t=jm(e),r=e.read_shift(4);return[t,r,"s"]}function kR(e,t,r){return null==r&&(r=im(8)),Wm(t,r),r.write_shift(4,t.v),r}function _R(e){var t=zm(e),r=ib(e);return[t,r,"n"]}function RR(e,t,r){return null==r&&(r=im(16)),Bm(t,r),nb(e.v,r),r}function OR(e){var t=jm(e),r=ib(e);return[t,r,"n"]}function DR(e,t,r){return null==r&&(r=im(12)),Wm(t,r),nb(e.v,r),r}function AR(e){var t=zm(e),r=Qm(e);return[t,r,"n"]}function PR(e,t,r){return null==r&&(r=im(12)),Bm(t,r),Zm(e.v,r),r}function MR(e){var t=jm(e),r=Qm(e);return[t,r,"n"]}function LR(e,t,r){return null==r&&(r=im(8)),Wm(t,r),Zm(e.v,r),r}function FR(e){var t=zm(e),r=Nm(e);return[t,r,"is"]}function IR(e){var t=zm(e),r=Mm(e);return[t,r,"str"]}function NR(e,t,r){return null==r&&(r=im(12+4*e.v.length)),Bm(t,r),Lm(e.v,r),r.length>r.l?r.slice(0,r.l):r}function HR(e){var t=jm(e),r=Mm(e);return[t,r,"str"]}function GR(e,t,r){return null==r&&(r=im(8+4*e.v.length)),Wm(t,r),Lm(e.v,r),r.length>r.l?r.slice(0,r.l):r}function VR(e,t,r){var o=e.l+t,i=zm(e);i.r=r["!row"];var n=e.read_shift(1),a=[i,n,"b"];if(r.cellFormula){e.l+=2;var s=n_(e,o-e.l,r);a[3]=Yk(s,null,i,r.supbooks,r)}else e.l=o;return a}function zR(e,t,r){var o=e.l+t,i=zm(e);i.r=r["!row"];var n=e.read_shift(1),a=[i,n,"e"];if(r.cellFormula){e.l+=2;var s=n_(e,o-e.l,r);a[3]=Yk(s,null,i,r.supbooks,r)}else e.l=o;return a}function BR(e,t,r){var o=e.l+t,i=zm(e);i.r=r["!row"];var n=ib(e),a=[i,n,"n"];if(r.cellFormula){e.l+=2;var s=n_(e,o-e.l,r);a[3]=Yk(s,null,i,r.supbooks,r)}else e.l=o;return a}function jR(e,t,r){var o=e.l+t,i=zm(e);i.r=r["!row"];var n=Mm(e),a=[i,n,"str"];if(r.cellFormula){e.l+=2;var s=n_(e,o-e.l,r);a[3]=Yk(s,null,i,r.supbooks,r)}else e.l=o;return a}var WR=rb,UR=ob;function $R(e,t){return null==t&&(t=im(4)),t.write_shift(4,e),t}function KR(e,t){var r=e.l+t,o=rb(e,16),i=Km(e),n=Mm(e),a=Mm(e),s=Mm(e);e.l=r;var l={rfx:o,relId:i,loc:n,display:s};return a&&(l.Tooltip=a),l}function YR(e,t){var r=im(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ob({s:Cm(e[0]),e:Cm(e[0])},r),Jm("rId"+t,r);var o=e[1].Target.indexOf("#"),i=-1==o?"":e[1].Target.slice(o+1);return Lm(i||"",r),Lm(e[1].Tooltip||"",r),Lm("",r),r.slice(0,r.l)}function qR(){}function XR(e,t,r){var o=e.l+t,i=eb(e,16),n=e.read_shift(1),a=[i];if(a[2]=n,r.cellFormula){var s=i_(e,o-e.l,r);a[1]=s}else e.l=o;return a}function JR(e,t,r){var o=e.l+t,i=rb(e,16),n=[i];if(r.cellFormula){var a=s_(e,o-e.l,r);n[1]=a,e.l=o}else e.l=o;return n}function QR(e,t,r){null==r&&(r=im(18));var o=y_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(o.width||10)),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof o.width&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var ZR=["left","right","top","bottom","header","footer"];function eO(e){var t={};return ZR.forEach((function(r){t[r]=ib(e,8)})),t}function tO(e,t){return null==t&&(t=im(48)),w_(e),ZR.forEach((function(r){nb(e[r],t)})),t}function rO(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}function oO(e,t,r){null==r&&(r=im(30));var o=924;return(((t||{}).Views||[])[0]||{}).RTL&&(o|=32),r.write_shift(2,o),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function iO(e){var t=im(24);return t.write_shift(4,4),t.write_shift(4,1),ob(e,t),t}function nO(e,t){return null==t&&(t=im(66)),t.write_shift(2,e.password?XE(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(r){r[1]?t.write_shift(4,null==e[r[0]]||e[r[0]]?0:1):t.write_shift(4,null!=e[r[0]]&&e[r[0]]?0:1)})),t}function aO(){}function sO(){}function lO(e,t,r,o,i,n,a){if(!e)return e;var s=t||{};o||(o={"!id":{}}),null!=up&&null==s.dense&&(s.dense=up);var l,c,u,d,h,p,f,g,v,m,b=s.dense?[]:{},y={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=[],C=!1,E=!1,S=[];s.biff=12,s["!row"]=0;var x=0,T=!1,k=[],_={},R=s.supbooks||i.supbooks||[[]];if(R.sharedf=_,R.arrayf=k,R.SheetNames=i.SheetNames||i.Sheets.map((function(e){return e.name})),!s.supbooks&&(s.supbooks=R,i.Names))for(var O=0;O<i.Names.length;++O)R[0][O+1]=i.Names[O];var D,A,P=[],M=[],L=!1;if(eA[16]={n:"BrtShortReal",f:OR},nm(e,(function(e,t,O){if(!E)switch(O){case 148:l=e;break;case 0:c=e,s.sheetRows&&s.sheetRows<=c.r&&(E=!0),v=pm(h=c.r),s["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=ES(e.hpt)),M[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:e[2]},e[2]){case"n":u.v=e[1];break;case"s":g=g_[e[1]],u.v=g.t,u.r=g.r;break;case"b":u.v=!!e[1];break;case"e":u.v=e[1],!1!==s.cellText&&(u.w=Mb[u.v]);break;case"str":u.t="s",u.v=e[1];break;case"is":u.t="s",u.v=e[1].t;break}if((d=a.CellXf[e[0].iStyleRef])&&E_(u,d.numFmtId,null,s,n,a),p=-1==e[0].c?p+1:e[0].c,s.dense?(b[h]||(b[h]=[]),b[h][p]=u):b[mm(p)+v]=u,s.cellFormula){for(T=!1,x=0;x<k.length;++x){var F=k[x];c.r>=F[0].s.r&&c.r<=F[0].e.r&&p>=F[0].s.c&&p<=F[0].e.c&&(u.F=xm(F[0]),T=!0)}!T&&e.length>3&&(u.f=e[3])}if(y.s.r>c.r&&(y.s.r=c.r),y.s.c>p&&(y.s.c=p),y.e.r<c.r&&(y.e.r=c.r),y.e.c<p&&(y.e.c=p),s.cellDates&&d&&"n"==u.t&&Rf(Vp[d.numFmtId])){var I=Wp(u.v);I&&(u.t="d",u.v=new Date(I.y,I.m-1,I.d,I.H,I.M,I.S,I.u))}D&&("XLDAPR"==D.type&&(u.D=!0),D=void 0),A&&(A=void 0);break;case 1:case 12:if(!s.sheetStubs||C)break;u={t:"z",v:void 0},p=-1==e[0].c?p+1:e[0].c,s.dense?(b[h]||(b[h]=[]),b[h][p]=u):b[mm(p)+v]=u,y.s.r>c.r&&(y.s.r=c.r),y.s.c>p&&(y.s.c=p),y.e.r<c.r&&(y.e.r=c.r),y.e.c<p&&(y.e.c=p),D&&("XLDAPR"==D.type&&(u.D=!0),D=void 0),A&&(A=void 0);break;case 176:S.push(e);break;case 49:D=((s.xlmeta||{}).Cell||[])[e-1];break;case 494:var N=o["!id"][e.relId];for(N?(e.Target=N.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=N):""==e.relId&&(e.Target="#"+e.loc),h=e.rfx.s.r;h<=e.rfx.e.r;++h)for(p=e.rfx.s.c;p<=e.rfx.e.c;++p)s.dense?(b[h]||(b[h]=[]),b[h][p]||(b[h][p]={t:"z",v:void 0}),b[h][p].l=e):(f=Em({c:p,r:h}),b[f]||(b[f]={t:"z",v:void 0}),b[f].l=e);break;case 426:if(!s.cellFormula)break;k.push(e),m=s.dense?b[h][p]:b[mm(p)+v],m.f=Yk(e[1],y,{r:c.r,c:p},R,s),m.F=xm(e[0]);break;case 427:if(!s.cellFormula)break;_[Em(e[0].s)]=e[1],m=s.dense?b[h][p]:b[mm(p)+v],m.f=Yk(e[1],y,{r:c.r,c:p},R,s);break;case 60:if(!s.cellStyles)break;while(e.e>=e.s)P[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},L||(L=!0,mS(e.w/256)),bS(P[e.e+1]);break;case 161:b["!autofilter"]={ref:xm(e)};break;case 476:b["!margins"]=e;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),e.name&&(i.Sheets[r].CodeName=e.name),(e.above||e.left)&&(b["!outline"]={above:e.above,left:e.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),e.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:C=!0;break;case 36:C=!1;break;case 37:w.push(O),C=!0;break;case 38:w.pop(),C=!1;break;default:if(t.T);else if(!C||s.WTF)throw new Error("Unexpected record 0x"+O.toString(16))}}),s),delete s.supbooks,delete s["!row"],!b["!ref"]&&(y.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(b["!ref"]=xm(l||y)),s.sheetRows&&b["!ref"]){var F=Tm(b["!ref"]);s.sheetRows<=+F.e.r&&(F.e.r=s.sheetRows-1,F.e.r>y.e.r&&(F.e.r=y.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>y.e.c&&(F.e.c=y.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),b["!fullref"]=b["!ref"],b["!ref"]=xm(F))}return S.length>0&&(b["!merges"]=S),P.length>0&&(b["!cols"]=P),M.length>0&&(b["!rows"]=M),b}function cO(e,t,r,o,i,n,a){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=ug(t),t.z=t.z||Vp[14],t.v=Zf(lg(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var l={r:r,c:o};switch(l.s=C_(i.cellXfs,t,i),t.l&&n["!links"].push([Em(l),t.l]),t.c&&n["!comments"].push([Em(l),t.c]),t.t){case"s":case"str":return i.bookSST?(s=b_(i.Strings,t.v,i.revStrings),l.t="s",l.v=s,a?sm(e,18,kR(t,l)):sm(e,7,xR(t,l))):(l.t="str",a?sm(e,17,GR(t,l)):sm(e,6,NR(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?a?sm(e,13,LR(t,l)):sm(e,2,PR(t,l)):a?sm(e,16,DR(t,l)):sm(e,5,RR(t,l)),!0;case"b":return l.t="b",a?sm(e,15,bR(t,l)):sm(e,4,vR(t,l)),!0;case"e":return l.t="e",a?sm(e,14,ER(t,l)):sm(e,3,wR(t,l)),!0}return a?sm(e,12,fR(t,l)):sm(e,1,hR(t,l)),!0}function uO(e,t,r,o){var i,n=Tm(t["!ref"]||"A1"),a="",s=[];sm(e,145);var l=Array.isArray(t),c=n.e.r;t["!rows"]&&(c=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=c;++u){a=pm(u),nR(e,t,n,u);var d=!1;if(u<=n.e.r)for(var h=n.s.c;h<=n.e.c;++h){u===n.s.r&&(s[h]=mm(h)),i=s[h]+a;var p=l?(t[u]||[])[h]:t[i];p?d=cO(e,p,u,h,o,t,d):d=!1}}sm(e,146)}function dO(e,t){t&&t["!merges"]&&(sm(e,177,$R(t["!merges"].length)),t["!merges"].forEach((function(t){sm(e,176,UR(t))})),sm(e,178))}function hO(e,t){t&&t["!cols"]&&(sm(e,390),t["!cols"].forEach((function(t,r){t&&sm(e,60,QR(r,t))})),sm(e,391))}function pO(e,t){t&&t["!ref"]&&(sm(e,648),sm(e,649,iO(Tm(t["!ref"]))),sm(e,650))}function fO(e,t,r){t["!links"].forEach((function(t){if(t[1].Target){var o=Wb(r,-1,t[1].Target.replace(/#.*$/,""),Vb.HLINK);sm(e,494,YR(t,o))}})),delete t["!links"]}function gO(e,t,r,o){if(t["!comments"].length>0){var i=Wb(o,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Vb.VML);sm(e,551,Jm("rId"+i)),t["!legacy"]=i}}function vO(e,t,r,o){if(t["!autofilter"]){var i=t["!autofilter"],n="string"===typeof i.ref?i.ref:xm(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Sm(n);s.s.r==s.e.r&&(s.e.r=Sm(t["!ref"]).e.r,n=xm(s));for(var l=0;l<a.length;++l){var c=a[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==o){c.Ref="'"+r.SheetNames[o]+"'!"+n;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:o,Ref:"'"+r.SheetNames[o]+"'!"+n}),sm(e,161,ob(Tm(n))),sm(e,162)}}function mO(e,t,r){sm(e,133),sm(e,137,oO(t,r)),sm(e,138),sm(e,134)}function bO(){}function yO(e,t){t["!protect"]&&sm(e,535,nO(t["!protect"]))}function wO(e,t,r,o){var i=am(),n=r.SheetNames[e],a=r.Sheets[n]||{},s=n;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch(c){}var l=Tm(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],sm(i,129),(r.vbaraw||a["!outline"])&&sm(i,147,uR(s,a["!outline"])),sm(i,148,sR(l)),mO(i,a,r.Workbook),bO(i,a),hO(i,a,e,t,r),uO(i,a,e,t,r),yO(i,a),vO(i,a,r,e),dO(i,a),fO(i,a,o),a["!margins"]&&sm(i,476,tO(a["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||pO(i,a),gO(i,a,e,o),sm(i,130),i.end()}function CO(e){var t,r=[],o=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(r[+t[1]]=o?+t[2]:t[2])}));var i=Vg((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[r,i,t]}function EO(e,t,r,o,i,n){var a=n||{"!type":"chart"};if(!e)return n;var s=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=CO(e);u.s.r=u.s.c=0,u.e.c=s,c=mm(s),t[0].forEach((function(e,r){a[c+pm(r)]={t:"n",v:e,z:t[1]},l=r})),u.e.r<l&&(u.e.r=l),++s})),s>0&&(a["!ref"]=xm(u)),a}function SO(e,t,r,o,i){if(!e)return e;o||(o={"!id":{}});var n,a={"!type":"chart","!drawel":null,"!rel":""},s=e.match(P_);return s&&N_(s[0],a,i,r),(n=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=n[1]),o["!id"][a["!rel"]]&&(a["!drawel"]=o["!id"][a["!rel"]]),a}function xO(e,t){e.l+=10;var r=Mm(e,t-10);return{name:r}}function TO(e,t,r,o,i){if(!e)return e;o||(o={"!id":{}});var n={"!type":"chart","!drawel":null,"!rel":""},a=[],s=!1;return nm(e,(function(e,o,l){switch(l){case 550:n["!rel"]=e;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),e.name&&(i.Sheets[r].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(l);break;case 38:a.pop();break;default:if(o.T>0)a.push(l);else if(o.T<0)a.pop();else if(!s||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t),o["!id"][n["!rel"]]&&(n["!drawel"]=o["!id"][n["!rel"]]),n}var kO=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],_O=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],RO=[],OO=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function DO(e,t){for(var r=0;r!=e.length;++r)for(var o=e[r],i=0;i!=t.length;++i){var n=t[i];if(null==o[n[0]])o[n[0]]=n[1];else switch(n[2]){case"bool":"string"==typeof o[n[0]]&&(o[n[0]]=Xg(o[n[0]]));break;case"int":"string"==typeof o[n[0]]&&(o[n[0]]=parseInt(o[n[0]],10));break}}}function AO(e,t){for(var r=0;r!=t.length;++r){var o=t[r];if(null==e[o[0]])e[o[0]]=o[1];else switch(o[2]){case"bool":"string"==typeof e[o[0]]&&(e[o[0]]=Xg(e[o[0]]));break;case"int":"string"==typeof e[o[0]]&&(e[o[0]]=parseInt(e[o[0]],10));break}}}function PO(e){AO(e.WBProps,kO),AO(e.CalcPr,OO),DO(e.WBView,_O),DO(e.Sheets,RO),v_.date1904=Xg(e.WBProps.date1904)}function MO(e){return e.Workbook&&e.Workbook.WBProps&&Xg(e.Workbook.WBProps.date1904)?"true":"false"}var LO="][*?/\\".split("");function FO(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return LO.forEach((function(o){if(-1!=e.indexOf(o)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}})),r}function IO(e,t,r){e.forEach((function(o,i){FO(o);for(var n=0;n<i;++n)if(o==e[n])throw new Error("Duplicate Sheet Name: "+o);if(r){var a=t&&t[i]&&t[i].CodeName||o;if(95==a.charCodeAt(0)&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}}))}function NO(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];IO(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)S_(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var HO=/<\w+:workbook/;function GO(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},o=!1,i="xmlns",n={},a=0;if(e.replace(Mg,(function(s,l){var c=Ig(s);switch(Ng(c[0])){case"<?xml":break;case"<workbook":s.match(HO)&&(i="xmlns"+s.match(/<(\w+):/)[1]),r.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],r.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":kO.forEach((function(e){if(null!=c[e[0]])switch(e[2]){case"bool":r.WBProps[e[0]]=Xg(c[e[0]]);break;case"int":r.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:r.WBProps[e[0]]=c[e[0]]}})),c.codeName&&(r.WBProps.CodeName=tv(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],r.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Vg(tv(c.name)),delete c[0],r.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":o=!0;break;case"</definedNames>":o=!1;break;case"<definedName":n={},n.Name=tv(c.name),c.comment&&(n.Comment=c.comment),c.localSheetId&&(n.Sheet=+c.localSheetId),Xg(c.hidden||"0")&&(n.Hidden=!0),a=l+s.length;break;case"</definedName>":n.Ref=Vg(tv(e.slice(a,l))),r.Names.push(n);break;case"<definedName/>":break;case"<calcPr":delete c[0],r.CalcPr=c;break;case"<calcPr/>":delete c[0],r.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":o=!0;break;case"</AlternateContent>":o=!1;break;case"<revisionPtr":break;default:if(!o&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return s})),-1===bv.indexOf(r.xmlns))throw new Error("Unknown Namespace: "+r.xmlns);return PO(r),r}function VO(e){var t=[Og];t[t.length]=hv("workbook",null,{xmlns:bv[0],"xmlns:r":mv.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,o={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(kO.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(o[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(o.codeName=e.Workbook.WBProps.CodeName,delete o.CodeName)),t[t.length]=hv("workbookPr",null,o);var i=e.Workbook&&e.Workbook.Sheets||[],n=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",n=0;n!=e.SheetNames.length;++n){if(!i[n])break;if(!i[n].Hidden)break}n==e.SheetNames.length&&(n=0),t[t.length]='<workbookView firstSheet="'+n+'" activeTab="'+n+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",n=0;n!=e.SheetNames.length;++n){var a={name:jg(e.SheetNames[n].slice(0,31))};if(a.sheetId=""+(n+1),a["r:id"]="rId"+(n+1),i[n])switch(i[n].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=hv("sheet",null,a)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=hv("definedName",jg(e.Ref),r))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function zO(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Xm(e,t-8),r.name=Mm(e),r}function BO(e,t){return t||(t=im(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Jm(e.strRelID,t),Lm(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function jO(e,t){var r={},o=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Mm(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(65536&o),r.backupFile=!!(64&o),r.checkCompatibility=!!(4096&o),r.date1904=!!(1&o),r.filterPrivacy=!!(8&o),r.hidePivotFieldList=!!(1024&o),r.promptedSolutions=!!(16&o),r.publishItems=!!(2048&o),r.refreshAllConnections=!!(262144&o),r.saveExternalLinkValues=!!(128&o),r.showBorderUnselectedTables=!!(4&o),r.showInkAnnotation=!!(32&o),r.showObjects=["all","placeholders","none"][o>>13&3],r.showPivotChartFilter=!!(32768&o),r.updateLinks=["userSet","never","always"][o>>8&3],r}function WO(e,t){t||(t=im(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),$m(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function UO(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function $O(e,t,r){var o=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),n=qm(e),a=a_(e,0,r),s=Km(e);e.l=o;var l={Name:n,Ptg:a};return i<268435455&&(l.Sheet=i),s&&(l.Comment=s),l}function KO(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},o=[],i=!1;t||(t={}),t.biff=12;var n=[],a=[[]];return a.SheetNames=[],a.XTI=[],eA[16]={n:"BrtFRTArchID$",f:UO},nm(e,(function(e,s,l){switch(l){case 156:a.SheetNames.push(e.name),r.Sheets.push(e);break;case 153:r.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=Yk(e.Ptg,null,null,a,t),delete t.SID,delete e.Ptg,n.push(e);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([l,e]):a[0]=[l,e],a[a.length-1].XTI=[];break;case 362:0===a.length&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(e),a.XTI=a.XTI.concat(e);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:o.push(l),i=!0;break;case 36:o.pop(),i=!1;break;case 37:o.push(l),i=!0;break;case 38:o.pop(),i=!1;break;case 16:break;default:if(s.T);else if(!i||t.WTF&&37!=o[o.length-1]&&35!=o[o.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}}),t),PO(r),r.Names=n,r.supbooks=a,r}function YO(e,t){sm(e,143);for(var r=0;r!=t.SheetNames.length;++r){var o=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:o,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};sm(e,156,BO(i))}sm(e,144)}function qO(e,t){t||(t=im(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return Lm("SheetJS",t),Lm(Yh.version,t),Lm(Yh.version,t),Lm("7262",t),t.length>t.l?t.slice(0,t.l):t}function XO(e,t){t||(t=im(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function JO(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r=t.Workbook.Sheets,o=0,i=-1,n=-1;o<r.length;++o)!r[o]||!r[o].Hidden&&-1==i?i=o:1==r[o].Hidden&&-1==n&&(n=o);n>i||(sm(e,135),sm(e,158,XO(i)),sm(e,136))}}function QO(e,t){var r=am();return sm(r,131),sm(r,128,qO()),sm(r,153,WO(e.Workbook&&e.Workbook.WBProps||null)),JO(r,e,t),YO(r,e,t),sm(r,132),r.end()}function ZO(e,t,r){return".bin"===t.slice(-4)?KO(e,r):GO(e,r)}function eD(e,t,r,o,i,n,a,s){return".bin"===t.slice(-4)?lO(e,o,r,i,n,a,s):F_(e,o,r,i,n,a,s)}function tD(e,t,r,o,i,n,a,s){return".bin"===t.slice(-4)?TO(e,o,r,i,n,a,s):SO(e,o,r,i,n,a,s)}function rD(e,t,r,o,i,n,a,s){return".bin"===t.slice(-4)?dT(e,o,r,i,n,a,s):hT(e,o,r,i,n,a,s)}function oD(e,t,r,o,i,n,a,s){return".bin"===t.slice(-4)?cT(e,o,r,i,n,a,s):uT(e,o,r,i,n,a,s)}function iD(e,t,r,o){return".bin"===t.slice(-4)?XS(e,r,o):MS(e,r,o)}function nD(e,t,r){return mx(e,r)}function aD(e,t,r){return".bin"===t.slice(-4)?DE(e,r):kE(e,r)}function sD(e,t,r){return".bin"===t.slice(-4)?oT(e,r):Kx(e,r)}function lD(e,t,r){return".bin"===t.slice(-4)?Vx(e,t,r):Hx(e,t,r)}function cD(e,t,r,o){return".bin"===r.slice(-4)?Bx(e,t,r,o):zx(e,t,r,o)}function uD(e,t,r){return".bin"===t.slice(-4)?Lx(e,t,r):Ix(e,t,r)}function dD(e,t,r){return(".bin"===t.slice(-4)?QO:VO)(e,r)}function hD(e,t,r,o,i){return(".bin"===t.slice(-4)?wO:rR)(e,r,o,i)}function pD(e,t,r){return(".bin"===t.slice(-4)?sx:LS)(e,r)}function fD(e,t,r){return(".bin"===t.slice(-4)?ME:RE)(e,r)}function gD(e,t,r){return(".bin"===t.slice(-4)?iT:Yx)(e,r)}function vD(e){return(".bin"===e.slice(-4)?Fx:Nx)()}var mD,bD=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yD=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function wD(e,t){var r=e.split(/\s+/),o=[];if(t||(o[0]=r[0]),1===r.length)return o;var i,n,a,s,l=e.match(bD);if(l)for(s=0;s!=l.length;++s)i=l[s].match(yD),-1===(n=i[1].indexOf(":"))?o[i[1]]=i[2].slice(1,i[2].length-1):(a="xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(n+1),o[a]=i[2].slice(1,i[2].length-1));return o}function CD(e){var t=e.split(/\s+/),r={};if(1===t.length)return r;var o,i,n,a,s=e.match(bD);if(s)for(a=0;a!=s.length;++a)o=s[a].match(yD),-1===(i=o[1].indexOf(":"))?r[o[1]]=o[2].slice(1,o[2].length-1):(n="xmlns:"===o[1].slice(0,6)?"xmlns"+o[1].slice(6):o[1].slice(i+1),r[n]=o[2].slice(1,o[2].length-1));return r}function ED(e,t){var r=mD[e]||Vg(e);return"General"===r?ef(t):Mf(r,t)}function SD(e,t,r,o){var i=o;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Xg(o);break;case"i2":case"int":i=parseInt(o,10);break;case"r4":case"float":i=parseFloat(o);break;case"date":case"dateTime.tz":i=lg(o);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Vg(t)]=i}function xD(e,t,r){if("z"!==e.t){if(!r||!1!==r.cellText)try{"e"===e.t?e.w=e.w||Mb[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Zp(e.v):e.w=ef(e.v):e.w=ED(t||"General",e.v)}catch(n){if(r.WTF)throw n}try{var o=mD[t]||t||"General";if(r.cellNF&&(e.z=o),r.cellDates&&"n"==e.t&&Rf(o)){var i=Wp(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(n){if(r.WTF)throw n}}}function TD(e,t,r){if(r.cellStyles&&t.Interior){var o=t.Interior;o.Pattern&&(o.patternType=SS[o.Pattern]||o.Pattern)}e[t.ID]=t}function kD(e,t,r,o,i,n,a,s,l,c){var u="General",d=o.StyleID,h={};c=c||{};var p=[],f=0;void 0===d&&s&&(d=s.StyleID),void 0===d&&a&&(d=a.StyleID);while(void 0!==n[d]){if(n[d].nf&&(u=n[d].nf),n[d].Interior&&p.push(n[d].Interior),!n[d].Parent)break;d=n[d].Parent}switch(r.Type){case"Boolean":o.t="b",o.v=Xg(e);break;case"String":o.t="s",o.r=Yg(Vg(e)),o.v=e.indexOf("<")>-1?Vg(t||e).replace(/<.*?>/g,""):o.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),o.v=(lg(e)-new Date(Date.UTC(1899,11,30)))/864e5,o.v!==o.v?o.v=Vg(e):o.v<60&&(o.v=o.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===o.v&&(o.v=+e),o.t||(o.t="n");break;case"Error":o.t="e",o.v=Lb[e],!1!==c.cellText&&(o.w=e);break;default:""==e&&""==t?o.t="z":(o.t="s",o.v=Yg(t||e));break}if(xD(o,u,c),!1!==c.cellFormula)if(o.Formula){var g=Vg(o.Formula);61==g.charCodeAt(0)&&(g=g.slice(1)),o.f=pT(g,i),delete o.Formula,"RC"==o.ArrayRange?o.F=pT("RC:RC",i):o.ArrayRange&&(o.F=pT(o.ArrayRange,i),l.push([Tm(o.F),o.F]))}else for(f=0;f<l.length;++f)i.r>=l[f][0].s.r&&i.r<=l[f][0].e.r&&i.c>=l[f][0].s.c&&i.c<=l[f][0].e.c&&(o.F=l[f][1]);c.cellStyles&&(p.forEach((function(e){!h.patternType&&e.patternType&&(h.patternType=e.patternType)})),o.s=h),void 0!==o.StyleID&&(o.ixfe=o.StyleID)}function _D(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function RD(e,t){var r=t||{};If();var o=sp(gv(e));"binary"!=r.type&&"array"!=r.type&&"base64"!=r.type||(o="undefined"!==typeof ap?ap.utils.decode(65001,op(o)):tv(o));var i,n=o.slice(0,1024).toLowerCase(),a=!1;if(n=n.replace(/".*?"/g,""),(1023&n.indexOf(">"))>Math.min(1023&n.indexOf(","),1023&n.indexOf(";"))){var s=ug(r);return s.type="string",pE.to_workbook(o,s)}if(-1==n.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){n.indexOf("<"+e)>=0&&(a=!0)})),a)return TA(o,r);mD={"General Number":"General","General Date":Vp[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Vp[15],"Short Date":Vp[14],"Long Time":Vp[19],"Medium Time":Vp[18],"Short Time":Vp[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Vp[2],Standard:Vp[4],Percent:Vp[10],Scientific:Vp[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[];null!=up&&null==r.dense&&(r.dense=up);var u,d={},h=[],p=r.dense?[]:{},f="",g={},v={},m=wD('<Data ss:Type="String">'),b=0,y=0,w=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},S={},x="",T=0,k=[],_={},R={},O=0,D=[],A=[],P={},M=[],L=!1,F=[],I=[],N={},H=0,G=0,V={Sheets:[],WBProps:{date1904:!1}},z={};vv.lastIndex=0,o=o.replace(/<!--([\s\S]*?)-->/gm,"");var B="";while(i=vv.exec(o))switch(i[3]=(B=i[3]).toLowerCase()){case"data":if("data"==B){if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break}if(c[c.length-1][1])break;"/"===i[1]?kD(o.slice(b,i.index),x,m,"comment"==c[c.length-1][0]?P:g,{c:y,r:w},E,M[y],v,F,r):(x="",m=wD(i[0]),b=i.index+i[0].length);break;case"cell":if("/"===i[1])if(A.length>0&&(g.c=A),(!r.sheetRows||r.sheetRows>w)&&void 0!==g.v&&(r.dense?(p[w]||(p[w]=[]),p[w][y]=g):p[mm(y)+pm(w)]=g),g.HRef&&(g.l={Target:Vg(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(H=y+(0|parseInt(g.MergeAcross,10)),G=w+(0|parseInt(g.MergeDown,10)),k.push({s:{c:y,r:w},e:{c:H,r:G}})),r.sheetStubs)if(g.MergeAcross||g.MergeDown){for(var j=y;j<=H;++j)for(var W=w;W<=G;++W)(j>y||W>w)&&(r.dense?(p[W]||(p[W]=[]),p[W][j]={t:"z"}):p[mm(j)+pm(W)]={t:"z"});y=H+1}else++y;else g.MergeAcross?y=H+1:++y;else g=CD(i[0]),g.Index&&(y=+g.Index-1),y<C.s.c&&(C.s.c=y),y>C.e.c&&(C.e.c=y),"/>"===i[0].slice(-2)&&++y,A=[];break;case"row":"/"===i[1]||"/>"===i[0].slice(-2)?(w<C.s.r&&(C.s.r=w),w>C.e.r&&(C.e.r=w),"/>"===i[0].slice(-2)&&(v=wD(i[0]),v.Index&&(w=+v.Index-1)),y=0,++w):(v=wD(i[0]),v.Index&&(w=+v.Index-1),N={},("0"==v.AutoFitHeight||v.Height)&&(N.hpx=parseInt(v.Height,10),N.hpt=CS(N.hpx),I[w]=N),"1"==v.Hidden&&(N.hidden=!0,I[w]=N));break;case"worksheet":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"));h.push(f),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(p["!ref"]=xm(C),r.sheetRows&&r.sheetRows<=C.e.r&&(p["!fullref"]=p["!ref"],C.e.r=r.sheetRows-1,p["!ref"]=xm(C))),k.length&&(p["!merges"]=k),M.length>0&&(p["!cols"]=M),I.length>0&&(p["!rows"]=I),d[f]=p}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=y=0,c.push([i[3],!1]),l=wD(i[0]),f=Vg(l.Name),p=r.dense?[]:{},k=[],F=[],I=[],z={name:f,Hidden:0},V.Sheets.push(z);break;case"table":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==i[0].slice(-2))break;c.push([i[3],!1]),M=[],L=!1}break;case"style":"/"===i[1]?TD(E,S,r):S=wD(i[0]);break;case"numberformat":S.nf=Vg(wD(i[0]).Format||"General"),mD[S.nf]&&(S.nf=mD[S.nf]);for(var U=0;392!=U;++U)if(Vp[U]==S.nf)break;if(392==U)for(U=57;392!=U;++U)if(null==Vp[U]){Lf(S.nf,U);break}break;case"column":if("table"!==c[c.length-1][0])break;if(u=wD(i[0]),u.Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!L&&u.wpx>10){L=!0,hS=cS;for(var $=0;$<M.length;++$)M[$]&&bS(M[$])}L&&bS(u),M[u.Index-1||M.length]=u;for(var K=0;K<+u.Span;++K)M[M.length]=ug(u);break;case"namedrange":if("/"===i[1])break;V.Names||(V.Names=[]);var Y=Ig(i[0]),q={Name:Y.Name,Ref:pT(Y.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(q.Sheet=V.Sheets.length-1),V.Names.push(q);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if("/>"===i[0].slice(-2))break;"/"===i[1]?x+=o.slice(T,i.index):T=i.index+i[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=wD(i[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===i[0].slice(-2))break;"/"===i[1]?py(_,B,o.slice(O,i.index)):O=i.index+i[0].length;break;case"paragraphs":break;case"styles":case"workbook":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else c.push([i[3],!1]);break;case"comment":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"));_D(P),A.push(P)}else c.push([i[3],!1]),l=wD(i[0]),P={a:l.Author};break;case"autofilter":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==i[0].charAt(i[0].length-2)){var X=wD(i[0]);p["!autofilter"]={ref:pT(X.Range).replace(/\$/g,"")},c.push([i[3],!0])}break;case"name":break;case"datavalidation":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break;case"null":break;default:if(0==c.length&&"document"==i[3])return NA(o,r);if(0==c.length&&"uof"==i[3])return NA(o,r);var J=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(i[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:J=!1}break;case"componentoptions":switch(i[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:J=!1}break;case"excelworkbook":switch(i[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:J=!1}break;case"workbookoptions":switch(i[3]){case"owcversion":break;case"height":break;case"width":break;default:J=!1}break;case"worksheetoptions":switch(i[3]){case"visible":if("/>"===i[0].slice(-2));else if("/"===i[1])switch(o.slice(O,i.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else O=i.index+i[0].length;break;case"header":p["!margins"]||w_(p["!margins"]={},"xlml"),isNaN(+Ig(i[0]).Margin)||(p["!margins"].header=+Ig(i[0]).Margin);break;case"footer":p["!margins"]||w_(p["!margins"]={},"xlml"),isNaN(+Ig(i[0]).Margin)||(p["!margins"].footer=+Ig(i[0]).Margin);break;case"pagemargins":var Q=Ig(i[0]);p["!margins"]||w_(p["!margins"]={},"xlml"),isNaN(+Q.Top)||(p["!margins"].top=+Q.Top),isNaN(+Q.Left)||(p["!margins"].left=+Q.Left),isNaN(+Q.Right)||(p["!margins"].right=+Q.Right),isNaN(+Q.Bottom)||(p["!margins"].bottom=+Q.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:J=!1}break;case"pivottable":case"pivotcache":switch(i[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:J=!1}break;case"pagebreaks":switch(i[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:J=!1}break;case"autofilter":switch(i[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:J=!1}break;case"querytable":switch(i[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:J=!1}break;case"datavalidation":switch(i[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:J=!1}break;case"sorting":case"conditionalformatting":switch(i[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:J=!1}break;case"mapinfo":case"schema":case"data":switch(i[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:J=!1}break;case"smarttags":break;default:J=!1;break}if(J)break;if(i[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+i[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===i[0].slice(-2))break;"/"===i[1]?SD(R,B,D,o.slice(O,i.index)):(D=i,O=i.index+i[0].length);break}if(r.WTF)throw"Unrecognized tag: "+i[3]+"|"+c.join("|")}var Z={};return r.bookSheets||r.bookProps||(Z.Sheets=d),Z.SheetNames=h,Z.Workbook=V,Z.SSF=ug(Vp),Z.Props=_,Z.Custprops=R,Z}function OD(e,t){switch(SP(t=t||{}),t.type||"base64"){case"base64":return RD(fp(e),t);case"binary":case"buffer":case"file":return RD(e,t);case"array":return RD(Cp(e),t)}}function DD(e,t){var r=[];return e.Props&&r.push(fy(e.Props,t)),e.Custprops&&r.push(gy(e.Props,e.Custprops,t)),r.join("")}function AD(){return""}function PD(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var o=[];o.push(hv("NumberFormat",null,{"ss:Format":jg(Vp[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};r.push(hv("Style",o.join(""),i))})),hv("Styles",r.join(""))}function MD(e){return hv("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+gT(e.Ref,{r:0,c:0})})}function LD(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],o=0;o<t.length;++o){var i=t[o];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||r.push(MD(i)))}return hv("Names",r.join(""))}function FD(e,t,r,o){if(!e)return"";if(!((o||{}).Workbook||{}).Names)return"";for(var i=o.Workbook.Names,n=[],a=0;a<i.length;++a){var s=i[a];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||n.push(MD(s)))}return n.join("")}function ID(e,t,r,o){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(hv("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(hv("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(hv("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),o&&o.Workbook&&o.Workbook.Sheets&&o.Workbook.Sheets[r])if(o.Workbook.Sheets[r].Hidden)i.push(hv("Visible",1==o.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var n=0;n<r;++n)if(o.Workbook.Sheets[n]&&!o.Workbook.Sheets[n].Hidden)break;n==r&&i.push("<Selected/>")}return((((o||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(uv("ProtectContents","True")),e["!protect"].objects&&i.push(uv("ProtectObjects","True")),e["!protect"].scenarios&&i.push(uv("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(uv("EnableSelection","UnlockedCells")):i.push(uv("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")}))),0==i.length?"":hv("WorksheetOptions",i.join(""),{xmlns:yv.x})}function ND(e){return e.map((function(e){var t=qg(e.t||""),r=hv("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return hv("Comment",r,{"ss:Author":e.a})})).join("")}function HD(e,t,r,o,i,n,a){if(!e||void 0==e.v&&void 0==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+jg(gT(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var l=Cm(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=jg(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=jg(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c==a.c&&c[u].s.r==a.r&&(c[u].e.c>c[u].s.c&&(s["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(s["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",h="";switch(e.t){case"z":if(!o.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=Mb[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Vp[14]);break;case"s":d="String",h=Kg(e.v||"");break}var p=C_(o.cellXfs,e,o);s["ss:StyleID"]="s"+(21+p),s["ss:Index"]=a.c+1;var f=null!=e.v?h:"",g="z"==e.t?"":'<Data ss:Type="'+d+'">'+f+"</Data>";return(e.c||[]).length>0&&(g+=ND(e.c)),hv("Cell",g,s)}function GD(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ES(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function VD(e,t,r,o){if(!e["!ref"])return"";var i=Tm(e["!ref"]),n=e["!merges"]||[],a=0,s=[];e["!cols"]&&e["!cols"].forEach((function(e,t){bS(e);var r=!!e.width,o=y_(t,e),i={"ss:Index":t+1};r&&(i["ss:Width"]=pS(o.width)),e.hidden&&(i["ss:Hidden"]="1"),s.push(hv("Column",null,i))}));for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var u=[GD(c,(e["!rows"]||[])[c])],d=i.s.c;d<=i.e.c;++d){var h=!1;for(a=0;a!=n.length;++a)if(!(n[a].s.c>d)&&!(n[a].s.r>c)&&!(n[a].e.c<d)&&!(n[a].e.r<c)){n[a].s.c==d&&n[a].s.r==c||(h=!0);break}if(!h){var p={r:c,c:d},f=Em(p),g=l?(e[c]||[])[d]:e[f];u.push(HD(g,f,e,t,r,o,p))}}u.push("</Row>"),u.length>2&&s.push(u.join(""))}return s.join("")}function zD(e,t,r){var o=[],i=r.SheetNames[e],n=r.Sheets[i],a=n?FD(n,t,e,r):"";return a.length>0&&o.push("<Names>"+a+"</Names>"),a=n?VD(n,t,e,r):"",a.length>0&&o.push("<Table>"+a+"</Table>"),o.push(ID(n,t,e,r)),o.join("")}function BD(e,t){t||(t={}),e.SSF||(e.SSF=ug(Vp)),e.SSF&&(If(),Ff(e.SSF),t.revssf=Xf(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],C_(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(DD(e,t)),r.push(AD(e,t)),r.push(""),r.push("");for(var o=0;o<e.SheetNames.length;++o)r.push(hv("Worksheet",zD(o,t,e),{"ss:Name":jg(e.SheetNames[o])}));return r[2]=PD(e,t),r[3]=LD(e,t),Og+hv("Workbook",r.join(""),{xmlns:yv.ss,"xmlns:o":yv.o,"xmlns:x":yv.x,"xmlns:ss":yv.ss,"xmlns:dt":yv.dt,"xmlns:html":yv.html})}function jD(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=db(r),r.length-r.l<=4)return t;var o=r.read_shift(4);return 0==o||o>40?t:(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4?t:(o=r.read_shift(4),1907505652!==o?t:(t.UnicodeClipboardFormat=hb(r),o=r.read_shift(4),0==o||o>40?t:(r.l-=4,void(t.Reserved2=r.read_shift(0,"lpwstr"))))))}var WD=[60,1084,2066,2165,2175];function UD(e,t,r,o,i){var n=o,a=[],s=r.slice(r.l,r.l+n);if(i&&i.enc&&i.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(s)}a.push(s),r.l+=n;var l=Uv(r,r.l),c=tA[l],u=0;while(null!=c&&WD.indexOf(l)>-1)n=Uv(r,r.l+2),u=r.l+4,2066==l?u+=4:2165!=l&&2175!=l||(u+=12),s=r.slice(u,r.l+4+n),a.push(s),r.l+=4+n,c=tA[l=Uv(r,r.l)];var d=xp(a);rm(d,0);var h=0;d.lens=[];for(var p=0;p<a.length;++p)d.lens.push(h),h+=a[p].length;if(d.length<o)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+o;return t.f(d,d.length,i)}function $D(e,t,r){if("z"!==e.t&&e.XF){var o=0;try{o=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Vp[o])}catch(n){if(t.WTF)throw n}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||Mb[e.v]:0===o||"General"==o?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Zp(e.v):e.w=ef(e.v):e.w=Mf(o,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(n){if(t.WTF)throw n}if(t.cellDates&&o&&"n"==e.t&&Rf(Vp[o]||String(o))){var i=Wp(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function KD(e,t,r){return{v:e,ixfe:t,t:r}}function YD(e,t){var r={opts:{}},o={};null!=up&&null==t.dense&&(t.dense=up);var i,n,a,s,l,c,u,d,h=t.dense?[]:{},p={},f={},g=null,v=[],m="",b={},y="",w={},C=[],E=[],S=[],x={Sheets:[],WBProps:{date1904:!1},Views:[{}]},T={},k=function(e){return e<8?Pb[e]:e<64&&S[e-8]||Pb[e]},_=function(e,t,r){var o,i=t.XF.data;i&&i.patternType&&r&&r.cellStyles&&(t.s={},t.s.patternType=i.patternType,(o=nS(k(i.icvFore)))&&(t.s.fgColor={rgb:o}),(o=nS(k(i.icvBack)))&&(t.s.bgColor={rgb:o}))},R=function(e,t,r){if(!(H>1)&&!(r.sheetRows&&e.r>=r.sheetRows)){if(r.cellStyles&&t.XF&&t.XF.data&&_(e,t,r),delete t.ixfe,delete t.XF,i=e,y=Em(e),f&&f.s&&f.e||(f={s:{r:0,c:0},e:{r:0,c:0}}),e.r<f.s.r&&(f.s.r=e.r),e.c<f.s.c&&(f.s.c=e.c),e.r+1>f.e.r&&(f.e.r=e.r+1),e.c+1>f.e.c&&(f.e.c=e.c+1),r.cellFormula&&t.f)for(var o=0;o<C.length;++o)if(!(C[o][0].s.c>e.c||C[o][0].s.r>e.r)&&!(C[o][0].e.c<e.c||C[o][0].e.r<e.r)){t.F=xm(C[o][0]),C[o][0].s.c==e.c&&C[o][0].s.r==e.r||delete t.f,t.f&&(t.f=""+Yk(C[o][1],f,e,F,O));break}r.dense?(h[e.r]||(h[e.r]=[]),h[e.r][e.c]=t):h[y]=t}},O={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:C,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(O.password=t.password);var D=[],A=[],P=[],M=[],L=!1,F=[];F.SheetNames=O.snames,F.sharedf=O.sharedf,F.arrayf=O.arrayf,F.names=[],F.XTI=[];var I,N=0,H=0,G=0,V=[],z=[];O.codepage=1200,tp(1200);var B=!1;while(e.l<e.length-1){var j=e.l,W=e.read_shift(2);if(0===W&&10===N)break;var U=e.l===e.length?0:e.read_shift(2),$=tA[W];if($&&$.f){if(t.bookSheets&&133===N&&133!==W)break;if(N=W,2===$.r||12==$.r){var K=e.read_shift(2);if(U-=2,!O.enc&&K!==W&&((255&K)<<8|K>>8)!==W)throw new Error("rt mismatch: "+K+"!="+W);12==$.r&&(e.l+=10,U-=10)}var Y={};if(Y=10===W?$.f(e,U,O):UD(W,$,e,U,O),0==H&&-1===[9,521,1033,2057].indexOf(N))continue;switch(W){case 34:r.opts.Date1904=x.WBProps.date1904=Y;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(O.enc||(e.l=0),O.enc=Y,!t.password)throw new Error("File is password-protected");if(null==Y.valid)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=Y;break;case 66:var q=Number(Y);switch(q){case 21010:q=1200;break;case 32768:q=1e4;break;case 32769:q=1252;break}tp(O.codepage=q),B=!0;break;case 317:O.rrtabid=Y;break;case 25:O.winlocked=Y;break;case 439:r.opts["RefreshAll"]=Y;break;case 12:r.opts["CalcCount"]=Y;break;case 16:r.opts["CalcDelta"]=Y;break;case 17:r.opts["CalcIter"]=Y;break;case 13:r.opts["CalcMode"]=Y;break;case 14:r.opts["CalcPrecision"]=Y;break;case 95:r.opts["CalcSaveRecalc"]=Y;break;case 15:O.CalcRefMode=Y;break;case 2211:r.opts.FullCalc=Y;break;case 129:Y.fDialog&&(h["!type"]="dialog"),Y.fBelow||((h["!outline"]||(h["!outline"]={})).above=!0),Y.fRight||((h["!outline"]||(h["!outline"]={})).left=!0);break;case 224:E.push(Y);break;case 430:F.push([Y]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(Y);break;case 24:case 536:I={Name:Y.Name,Ref:Yk(Y.rgce,f,null,F,O)},Y.itab>0&&(I.Sheet=Y.itab-1),F.names.push(I),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(Y),"_xlnm._FilterDatabase"==Y.Name&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&"PtgArea3d"==Y.rgce[0][0][0]&&(z[Y.itab-1]={ref:xm(Y.rgce[0][0][1][2])});break;case 22:O.ExternCount=Y;break;case 23:0==F.length&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(Y),F.XTI=F.XTI.concat(Y);break;case 2196:if(O.biff<8)break;null!=I&&(I.Comment=Y[1]);break;case 18:h["!protect"]=Y;break;case 19:0!==Y&&O.WTF&&console.error("Password verifier: "+Y);break;case 133:p[Y.pos]=Y,O.snames.push(Y.name);break;case 10:if(--H)break;if(f.e){if(f.e.r>0&&f.e.c>0){if(f.e.r--,f.e.c--,h["!ref"]=xm(f),t.sheetRows&&t.sheetRows<=f.e.r){var X=f.e.r;f.e.r=t.sheetRows-1,h["!fullref"]=h["!ref"],h["!ref"]=xm(f),f.e.r=X}f.e.r++,f.e.c++}D.length>0&&(h["!merges"]=D),A.length>0&&(h["!objects"]=A),P.length>0&&(h["!cols"]=P),M.length>0&&(h["!rows"]=M),x.Sheets.push(T)}""===m?b=h:o[m]=h,h=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===O.biff&&(O.biff={9:2,521:3,1033:4}[W]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),O.biffguess=0==Y.BIFFVer,0==Y.BIFFVer&&4096==Y.dt&&(O.biff=5,B=!0,tp(O.codepage=28591)),8==O.biff&&0==Y.BIFFVer&&16==Y.dt&&(O.biff=2),H++)break;if(h=t.dense?[]:{},O.biff<8&&!B&&(B=!0,tp(O.codepage=t.codepage||1252)),O.biff<5||0==Y.BIFFVer&&4096==Y.dt){""===m&&(m="Sheet1"),f={s:{r:0,c:0},e:{r:0,c:0}};var J={pos:e.l-U,name:m};p[J.pos]=J,O.snames.push(m)}else m=(p[j]||{name:""}).name;32==Y.dt&&(h["!type"]="chart"),64==Y.dt&&(h["!type"]="macro"),D=[],A=[],O.arrayf=C=[],P=[],M=[],L=!1,T={Hidden:(p[j]||{hs:0}).hs,name:m};break;case 515:case 3:case 2:"chart"==h["!type"]&&(t.dense?(h[Y.r]||[])[Y.c]:h[Em({c:Y.c,r:Y.r})])&&++Y.c,c={ixfe:Y.ixfe,XF:E[Y.ixfe]||{},v:Y.val,t:"n"},G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R({c:Y.c,r:Y.r},c,t);break;case 5:case 517:c={ixfe:Y.ixfe,XF:E[Y.ixfe],v:Y.val,t:Y.t},G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R({c:Y.c,r:Y.r},c,t);break;case 638:c={ixfe:Y.ixfe,XF:E[Y.ixfe],v:Y.rknum,t:"n"},G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R({c:Y.c,r:Y.r},c,t);break;case 189:for(var Q=Y.c;Q<=Y.C;++Q){var Z=Y.rkrec[Q-Y.c][0];c={ixfe:Z,XF:E[Z],v:Y.rkrec[Q-Y.c][1],t:"n"},G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R({c:Q,r:Y.r},c,t)}break;case 6:case 518:case 1030:if("String"==Y.val){g=Y;break}if(c=KD(Y.val,Y.cell.ixfe,Y.tt),c.XF=E[c.ixfe],t.cellFormula){var ee=Y.formula;if(ee&&ee[0]&&ee[0][0]&&"PtgExp"==ee[0][0][0]){var te=ee[0][0][1][0],re=ee[0][0][1][1],oe=Em({r:te,c:re});w[oe]?c.f=""+Yk(Y.formula,f,Y.cell,F,O):c.F=((t.dense?(h[te]||[])[re]:h[oe])||{}).F}else c.f=""+Yk(Y.formula,f,Y.cell,F,O)}G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R(Y.cell,c,t),g=Y;break;case 7:case 519:if(!g)throw new Error("String record expects Formula");g.val=Y,c=KD(Y,g.cell.ixfe,"s"),c.XF=E[c.ixfe],t.cellFormula&&(c.f=""+Yk(g.formula,f,g.cell,F,O)),G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R(g.cell,c,t),g=null;break;case 33:case 545:C.push(Y);var ie=Em(Y[0].s);if(n=t.dense?(h[Y[0].s.r]||[])[Y[0].s.c]:h[ie],t.cellFormula&&n){if(!g)break;if(!ie||!n)break;n.f=""+Yk(Y[1],f,Y[0],F,O),n.F=xm(Y[0])}break;case 1212:if(!t.cellFormula)break;if(y){if(!g)break;w[Em(g.cell)]=Y[0],n=t.dense?(h[g.cell.r]||[])[g.cell.c]:h[Em(g.cell)],(n||{}).f=""+Yk(Y[0],f,i,F,O)}break;case 253:c=KD(v[Y.isst].t,Y.ixfe,"s"),v[Y.isst].h&&(c.h=v[Y.isst].h),c.XF=E[c.ixfe],G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R({c:Y.c,r:Y.r},c,t);break;case 513:t.sheetStubs&&(c={ixfe:Y.ixfe,XF:E[Y.ixfe],t:"z"},G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R({c:Y.c,r:Y.r},c,t));break;case 190:if(t.sheetStubs)for(var ne=Y.c;ne<=Y.C;++ne){var ae=Y.ixfe[ne-Y.c];c={ixfe:ae,XF:E[ae],t:"z"},G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R({c:ne,r:Y.r},c,t)}break;case 214:case 516:case 4:c=KD(Y.val,Y.ixfe,"s"),c.XF=E[c.ixfe],G>0&&(c.z=V[c.ixfe>>8&63]),$D(c,t,r.opts.Date1904),R({c:Y.c,r:Y.r},c,t);break;case 0:case 512:1===H&&(f=Y);break;case 252:v=Y;break;case 1054:if(4==O.biff){V[G++]=Y[1];for(var se=0;se<G+163;++se)if(Vp[se]==Y[1])break;se>=163&&Lf(Y[1],G+163)}else Lf(Y[1],Y[0]);break;case 30:V[G++]=Y;for(var le=0;le<G+163;++le)if(Vp[le]==Y)break;le>=163&&Lf(Y,G+163);break;case 229:D=D.concat(Y);break;case 93:A[Y.cmo[0]]=O.lastobj=Y;break;case 438:O.lastobj.TxO=Y;break;case 127:O.lastobj.ImData=Y;break;case 440:for(l=Y[0].s.r;l<=Y[0].e.r;++l)for(s=Y[0].s.c;s<=Y[0].e.c;++s)n=t.dense?(h[l]||[])[s]:h[Em({c:s,r:l})],n&&(n.l=Y[1]);break;case 2048:for(l=Y[0].s.r;l<=Y[0].e.r;++l)for(s=Y[0].s.c;s<=Y[0].e.c;++s)n=t.dense?(h[l]||[])[s]:h[Em({c:s,r:l})],n&&n.l&&(n.l.Tooltip=Y[1]);break;case 28:if(O.biff<=5&&O.biff>=2)break;n=t.dense?(h[Y[0].r]||[])[Y[0].c]:h[Em(Y[0])];var ce=A[Y[2]];n||(t.dense?(h[Y[0].r]||(h[Y[0].r]=[]),n=h[Y[0].r][Y[0].c]={t:"z"}):n=h[Em(Y[0])]={t:"z"},f.e.r=Math.max(f.e.r,Y[0].r),f.s.r=Math.min(f.s.r,Y[0].r),f.e.c=Math.max(f.e.c,Y[0].c),f.s.c=Math.min(f.s.c,Y[0].c)),n.c||(n.c=[]),a={a:Y[1],t:ce.TxO.t},n.c.push(a);break;case 2173:kx(E[Y.ixfe],Y.ext);break;case 125:if(!O.cellStyles)break;while(Y.e>=Y.s)P[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(1&Y.flags)},L||(L=!0,mS(Y.w/256)),bS(P[Y.e+1]);break;case 520:var ue={};null!=Y.level&&(M[Y.r]=ue,ue.level=Y.level),Y.hidden&&(M[Y.r]=ue,ue.hidden=!0),Y.hpt&&(M[Y.r]=ue,ue.hpt=Y.hpt,ue.hpx=ES(Y.hpt));break;case 38:case 39:case 40:case 41:h["!margins"]||w_(h["!margins"]={}),h["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[W]]=Y;break;case 161:h["!margins"]||w_(h["!margins"]={}),h["!margins"].header=Y.header,h["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(x.Views[0].RTL=!0);break;case 146:S=Y;break;case 2198:d=Y;break;case 140:u=Y;break;case 442:m?T.CodeName=Y||T.name:x.WBProps.CodeName=Y||"ThisWorkbook";break}}else $||console.error("Missing Info for XLS Record 0x"+W.toString(16)),e.l+=U}return r.SheetNames=Kf(p).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return p[e].name})),t.bookSheets||(r.Sheets=o),!r.SheetNames.length&&b["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets["Sheet1"]=b)):r.Preamble=b,r.Sheets&&z.forEach((function(e,t){r.Sheets[r.SheetNames[t]]["!autofilter"]=e})),r.Strings=v,r.SSF=ug(Vp),O.enc&&(r.Encryption=O.enc),d&&(r.Themes=d),r.Metadata={},void 0!==u&&(r.Metadata.Country=u),F.names.length>0&&(x.Names=F.names),r.Workbook=x,r}var qD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function XD(e,t,r){var o=Bf.find(e,"/!DocumentSummaryInformation");if(o&&o.size>0)try{var i=Iy(o,kb,qD.DSI);for(var n in i)t[n]=i[n]}catch(c){if(r.WTF)throw c}var a=Bf.find(e,"/!SummaryInformation");if(a&&a.size>0)try{var s=Iy(a,_b,qD.SI);for(var l in s)null==t[l]&&(t[l]=s[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(ny(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function JD(e,t){var r,o=[],i=[],n=[],a=0,s=Yf(kb,"n"),l=Yf(_b,"n");if(e.Props)for(r=Kf(e.Props),a=0;a<r.length;++a)(Object.prototype.hasOwnProperty.call(s,r[a])?o:Object.prototype.hasOwnProperty.call(l,r[a])?i:n).push([r[a],e.Props[r[a]]]);if(e.Custprops)for(r=Kf(e.Custprops),a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},r[a])||(Object.prototype.hasOwnProperty.call(s,r[a])?o:Object.prototype.hasOwnProperty.call(l,r[a])?i:n).push([r[a],e.Custprops[r[a]]]);var c=[];for(a=0;a<n.length;++a)My.indexOf(n[a][0])>-1||iy.indexOf(n[a][0])>-1||null!=n[a][1]&&c.push(n[a]);i.length&&Bf.utils.cfb_add(t,"/SummaryInformation",Ny(i,qD.SI,l,_b)),(o.length||c.length)&&Bf.utils.cfb_add(t,"/DocumentSummaryInformation",Ny(o,qD.DSI,s,kb,c.length?c:null,qD.UDI))}function QD(e,t){var r,o,i,n;if(t||(t={}),SP(t),rp(),t.codepage&&Zh(t.codepage),e.FullPaths){if(Bf.find(e,"/encryption"))throw new Error("File is password-protected");r=Bf.find(e,"!CompObj"),o=Bf.find(e,"/Workbook")||Bf.find(e,"/Book")}else{switch(t.type){case"base64":e=yp(fp(e));break;case"binary":e=yp(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}rm(e,0),o={content:e}}if(r&&jD(r),t.bookProps&&!t.bookSheets)i={};else{var a=gp?"buffer":"array";if(o&&o.content)i=YD(o.content,t);else if((n=Bf.find(e,"PerfectOffice_MAIN"))&&n.content)i=gE.to_workbook(n.content,(t.type=a,t));else{if(!(n=Bf.find(e,"NativeContent_MAIN"))||!n.content)throw(n=Bf.find(e,"MN0"))&&n.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");i=gE.to_workbook(n.content,(t.type=a,t))}t.bookVBA&&e.FullPaths&&Bf.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=aT(e))}var s={};return e.FullPaths&&XD(e,s,t),i.Props=i.Custprops=s,t.bookFiles&&(i.cfb=e),i}function ZD(e,t){var r=t||{},o=Bf.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Bf.utils.cfb_add(o,i,wA(e,r)),8==r.biff&&(e.Props||e.Custprops)&&JD(e,o),8==r.biff&&e.vbaraw&&sT(o,Bf.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),o}var eA={0:{f:oR},1:{f:dR},2:{f:AR},3:{f:yR},4:{f:gR},5:{f:_R},6:{f:IR},7:{f:SR},8:{f:jR},9:{f:BR},10:{f:VR},11:{f:zR},12:{f:pR},13:{f:MR},14:{f:CR},15:{f:mR},16:{f:OR},17:{f:HR},18:{f:TR},19:{f:Nm},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$O},40:{},42:{},43:{f:NS},44:{f:FS},45:{f:zS},46:{f:$S},47:{f:jS},48:{},49:{f:Am},50:{},51:{f:Ox},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UC},62:{f:FR},63:{f:Gx},64:{f:aO},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:om,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:rO},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cR},148:{f:aR,p:16},151:{f:qR},152:{},153:{f:jO},154:{},155:{},156:{f:zO},157:{},158:{},159:{T:1,f:OE},160:{T:-1},161:{T:1,f:rb},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:WR},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_x},336:{T:-1},337:{f:Px,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Xm},357:{},358:{},359:{},360:{T:1},361:{},362:{f:EC},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:XR},427:{f:JR},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:eO},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:lR},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:KR},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Xm},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tT},633:{T:1},634:{T:-1},635:{T:1,f:Zx},636:{T:-1},637:{f:Gm},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xO},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:sO},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},tA={6:{f:t_},10:{f:Hy},12:{f:jy},13:{f:jy},14:{f:zy},15:{f:zy},16:{f:ib},17:{f:zy},18:{f:zy},19:{f:jy},20:{f:mC},21:{f:mC},23:{f:EC},24:{f:CC},25:{f:zy},26:{},27:{},28:{f:OC},29:{},34:{f:zy},35:{f:yC},38:{f:ib},39:{f:ib},40:{f:ib},41:{f:ib},42:{f:zy},43:{f:zy},47:{f:rS},49:{f:Yw},51:{f:jy},60:{},61:{f:jw},64:{f:zy},65:{f:Kw},66:{f:jy},77:{},80:{},81:{},82:{},85:{f:jy},89:{},90:{},91:{},92:{f:Aw},93:{f:PC},94:{},95:{f:zy},96:{},97:{},99:{f:zy},125:{f:UC},128:{f:dC},129:{f:Mw},130:{f:jy},131:{f:zy},132:{f:zy},133:{f:Lw},134:{},140:{f:VC},141:{f:jy},144:{},146:{f:jC},151:{},152:{},153:{},154:{},155:{},156:{f:jy},157:{},158:{},160:{f:JC},161:{f:KC},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:aC},190:{f:sC},193:{f:Hy},197:{},198:{},199:{},200:{},201:{},202:{f:zy},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:jy},220:{},221:{f:zy},222:{},224:{f:cC},225:{f:Dw},226:{f:Hy},227:{},229:{f:DC},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Iw},253:{f:Xw},255:{f:Hw},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Uy},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zy},353:{f:Hy},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:bC},431:{f:zy},432:{},433:{},434:{},437:{},438:{f:FC},439:{f:zy},440:{f:IC},441:{},442:{f:Qy},443:{},444:{f:jy},445:{},446:{},448:{f:Hy},449:{f:zw,r:2},450:{f:Hy},512:{f:oC},513:{f:XC},515:{f:gC},516:{f:Qw},517:{f:pC},519:{f:QC},520:{f:Gw},523:{},545:{f:kC},549:{f:Bw},566:{},574:{f:Uw},638:{f:nC},659:{},1048:{},1054:{f:eC},1084:{},1212:{f:TC},2048:{f:HC},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Rw},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Hy},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:WC,r:12},2173:{f:Tx,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zy,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:xC,r:12},2197:{},2198:{f:yx,r:12},2199:{},2200:{},2201:{},2202:{f:_C,r:12},2203:{f:Hy},2204:{},2205:{},2206:{},2207:{},2211:{f:Vw},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:jy},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:YC},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:BC},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:oC},1:{},2:{f:oE},3:{f:tE},4:{f:eE},5:{f:pC},7:{f:nE},8:{},9:{f:Rw},11:{},22:{f:jy},30:{f:rC},31:{},32:{},33:{f:kC},36:{},37:{f:Bw},50:{f:aE},62:{},52:{},67:{},68:{f:jy},69:{},86:{},126:{},127:{f:ZC},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:sE},223:{},234:{},354:{},421:{},518:{f:t_},521:{f:Rw},536:{f:CC},547:{f:yC},561:{},579:{},1030:{f:t_},1033:{f:Rw},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function rA(e,t,r,o){var i=t;if(!isNaN(i)){var n=o||(r||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,n),n>0&&Bv(r)&&e.push(r)}}function oA(e,t,r,o){var i=o||(r||[]).length||0;if(i<=8224)return rA(e,t,r,i);var n=t;if(!isNaN(n)){var a=r.parts||[],s=0,l=0,c=0;while(c+(a[s]||8224)<=8224)c+=a[s]||8224,s++;var u=e.next(4);u.write_shift(2,n),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;while(l<i){u=e.next(4),u.write_shift(2,60),c=0;while(c+(a[s]||8224)<=8224)c+=a[s]||8224,s++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function iA(e,t,r){return e||(e=im(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function nA(e,t,r,o){var i=im(9);return iA(i,e,t),Ky(r,o||"b",i),i}function aA(e,t,r){var o=im(8+2*r.length);return iA(o,e,t),o.write_shift(1,r.length),o.write_shift(r.length,r,"sbcs"),o.l<o.length?o.slice(0,o.l):o}function sA(e,t,r,o){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?Zf(lg(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?rA(e,2,iE(r,o,i)):rA(e,3,rE(r,o,i)));case"b":case"e":return void rA(e,5,nA(r,o,t.v,t.t));case"s":case"str":return void rA(e,4,aA(r,o,(t.v||"").slice(0,255)))}rA(e,1,iA(null,r,o))}function lA(e,t,r,o){var i,n=Array.isArray(t),a=Tm(t["!ref"]||"A1"),s="",l=[];if(a.e.c>255||a.e.r>16383){if(o.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=xm(a)}for(var c=a.s.r;c<=a.e.r;++c){s=pm(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=mm(u)),i=l[u]+s;var d=n?(t[c]||[])[u]:t[i];d&&sA(e,d,c,u,o)}}}function cA(e,t){var r=t||{};null!=up&&null==r.dense&&(r.dense=up);for(var o=am(),i=0,n=0;n<e.SheetNames.length;++n)e.SheetNames[n]==r.sheet&&(i=n);if(0==i&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rA(o,4==r.biff?1033:3==r.biff?521:9,Ow(e,16,r)),lA(o,e.Sheets[e.SheetNames[i]],i,r,e),rA(o,10),o.end()}function uA(e,t,r){rA(e,49,qw({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function dA(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(o){for(var i=o[0];i<=o[1];++i)null!=t[i]&&rA(e,1054,tC(i,t[i],r))}))}function hA(e,t){var r=im(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rA(e,2151,r),r=im(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),yw(Tm(t["!ref"]||"A1"),r),r.write_shift(4,4),rA(e,2152,r)}function pA(e,t){for(var r=0;r<16;++r)rA(e,224,uC({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(r){rA(e,224,uC(r,0,t))}))}function fA(e,t){for(var r=0;r<t["!links"].length;++r){var o=t["!links"][r];rA(e,440,NC(o)),o[1].Tooltip&&rA(e,2048,GC(o))}delete t["!links"]}function gA(e,t){if(t){var r=0;t.forEach((function(t,o){++r<=256&&t&&rA(e,125,$C(y_(o,t),o))}))}}function vA(e,t,r,o,i){var n=16+C_(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)rA(e,6,r_(t,r,o,i,n));else switch(t.t){case"d":case"n":var a="d"==t.t?Zf(lg(t.v)):t.v;rA(e,515,vC(r,o,a,n,i));break;case"b":case"e":rA(e,517,fC(r,o,t.v,n,i,t.t));break;case"s":case"str":if(i.bookSST){var s=b_(i.Strings,t.v,i.revStrings);rA(e,253,Jw(r,o,s,n,i))}else rA(e,516,Zw(r,o,(t.v||"").slice(0,255),n,i));break;default:rA(e,513,hw(r,o,n))}else rA(e,513,hw(r,o,n))}function mA(e,t,r){var o,i=am(),n=r.SheetNames[e],a=r.Sheets[n]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[e]||{},c=Array.isArray(a),u=8==t.biff,d="",h=[],p=Tm(a["!ref"]||"A1"),f=u?65536:16384;if(p.e.c>255||p.e.r>=f){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,f-1)}rA(i,2057,Ow(r,16,t)),rA(i,13,Wy(1)),rA(i,12,Wy(100)),rA(i,15,By(!0)),rA(i,17,By(!1)),rA(i,16,nb(.001)),rA(i,95,By(!0)),rA(i,42,By(!1)),rA(i,43,By(!1)),rA(i,130,Wy(1)),rA(i,128,hC([0,0])),rA(i,131,By(!1)),rA(i,132,By(!1)),u&&gA(i,a["!cols"]),rA(i,512,iC(p,t)),u&&(a["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){d=pm(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(h[v]=mm(v)),o=h[v]+d;var m=c?(a[g]||[])[v]:a[o];m&&(vA(i,m,g,v,t),u&&m.l&&a["!links"].push([o,m.l]))}}var b=l.CodeName||l.name||n;return u&&rA(i,574,$w((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&rA(i,229,AC(a["!merges"])),u&&fA(i,a),rA(i,442,ew(b,t)),u&&hA(i,a),rA(i,10),i.end()}function bA(e,t,r){var o=am(),i=(e||{}).Workbook||{},n=i.Sheets||[],a=i.WBProps||{},s=8==r.biff,l=5==r.biff;if(rA(o,2057,Ow(e,5,r)),"xla"==r.bookType&&rA(o,135),rA(o,225,s?Wy(1200):null),rA(o,193,Gy(2)),l&&rA(o,191),l&&rA(o,192),rA(o,226),rA(o,92,Pw("SheetJS",r)),rA(o,66,Wy(s?1200:1252)),s&&rA(o,353,Wy(0)),s&&rA(o,448),rA(o,317,qC(e.SheetNames.length)),s&&e.vbaraw&&rA(o,211),s&&e.vbaraw){var c=a.CodeName||"ThisWorkbook";rA(o,442,ew(c,r))}rA(o,156,Wy(17)),rA(o,25,By(!1)),rA(o,18,By(!1)),rA(o,19,Wy(0)),s&&rA(o,431,By(!1)),s&&rA(o,444,Wy(0)),rA(o,61,Ww(r)),rA(o,64,By(!1)),rA(o,141,Wy(0)),rA(o,34,By("true"==MO(e))),rA(o,14,By(!0)),s&&rA(o,439,By(!1)),rA(o,218,Wy(0)),uA(o,e,r),dA(o,e.SSF,r),pA(o,r),s&&rA(o,352,By(!1));var u=o.end(),d=am();s&&rA(d,140,zC()),s&&r.Strings&&oA(d,252,Nw(r.Strings,r)),rA(d,10);var h=d.end(),p=am(),f=0,g=0;for(g=0;g<e.SheetNames.length;++g)f+=(s?12:11)+(s?2:1)*e.SheetNames[g].length;var v=u.length+f+h.length;for(g=0;g<e.SheetNames.length;++g){var m=n[g]||{};rA(p,133,Fw({pos:v,hs:m.Hidden||0,dt:0,name:e.SheetNames[g]},r)),v+=t[g].length}var b=p.end();if(f!=b.length)throw new Error("BS8 "+f+" != "+b.length);var y=[];return u.length&&y.push(u),b.length&&y.push(b),h.length&&y.push(h),xp(y)}function yA(e,t){var r=t||{},o=[];e&&!e.SSF&&(e.SSF=ug(Vp)),e&&e.SSF&&(If(),Ff(e.SSF),r.revssf=Xf(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xP(r),r.cellXfs=[],C_(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)o[o.length]=mA(i,r,e);return o.unshift(bA(e,o,r)),xp(o)}function wA(e,t){for(var r=0;r<=e.SheetNames.length;++r){var o=e.Sheets[e.SheetNames[r]];if(o&&o["!ref"]){var i=Sm(o["!ref"]);i.e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var n=t||{};switch(n.biff||2){case 8:case 5:return yA(e,t);case 4:case 3:case 2:return cA(e,t)}throw new Error("invalid type "+n.bookType+" for BIFF")}function CA(e,t){var r=t||{};null!=up&&null==r.dense&&(r.dense=up);var o=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var n=e.match(/<\/table/i),a=i.index,s=n&&n.index||e.length,l=gg(e.slice(a,s),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},f=[];for(a=0;a<l.length;++a){var g=l[a].trim(),v=g.slice(0,3).toLowerCase();if("<tr"!=v){if("<td"==v||"<th"==v){var m=g.split(/<\/t[dh]>/i);for(s=0;s<m.length;++s){var b=m[s].trim();if(b.match(/<t[dh]/i)){var y=b,w=0;while("<"==y.charAt(0)&&(w=y.indexOf(">"))>-1)y=y.slice(w+1);for(var C=0;C<f.length;++C){var E=f[C];E.s.c==u&&E.s.r<c&&c<=E.e.r&&(u=E.e.c+1,C=-1)}var S=Ig(b.slice(0,b.indexOf(">")));h=S.colspan?+S.colspan:1,((d=+S.rowspan)>1||h>1)&&f.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var x=S.t||S["data-t"]||"";if(y.length)if(y=iv(y),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),y.length){var T={t:"s",v:y};r.raw||!y.trim().length||"s"==x||("TRUE"===y?T={t:"b",v:!0}:"FALSE"===y?T={t:"b",v:!1}:isNaN(hg(y))?isNaN(fg(y).getDate())||(T={t:"d",v:lg(y)},r.cellDates||(T={t:"n",v:Zf(T.v)}),T.z=r.dateNF||Vp[14]):T={t:"n",v:hg(y)}),r.dense?(o[c]||(o[c]=[]),o[c][u]=T):o[Em({r:c,c:u})]=T,u+=h}else u+=h;else u+=h}}}}else{if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0}}return o["!ref"]=xm(p),f.length&&(o["!merges"]=f),o}function EA(e,t,r,o){for(var i=e["!merges"]||[],n=[],a=t.s.c;a<=t.e.c;++a){for(var s=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){s=-1;break}s=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(s<0)){var u=Em({r:r,c:a}),d=o.dense?(e[r]||[])[a]:e[u],h=d&&null!=d.v&&(d.h||$g(d.w||(_m(d),d.w)||""))||"",p={};s>1&&(p.rowspan=s),l>1&&(p.colspan=l),o.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",null!=d.v&&(p["data-v"]=d.v),null!=d.z&&(p["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(o.id||"sjs")+"-"+u,n.push(hv("td",h,p))}}var f="<tr>";return f+n.join("")+"</tr>"}var SA='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',xA="</body></html>";function TA(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||0==r.length)throw new Error("Invalid HTML: could not find <table>");if(1==r.length)return Rm(CA(r[0],t),t);var o=uM();return r.forEach((function(e,r){dM(o,CA(e,t),"Sheet"+(r+1))})),o}function kA(e,t,r){var o=[];return o.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function _A(e,t){var r=t||{},o=null!=r.header?r.header:SA,i=null!=r.footer?r.footer:xA,n=[o],a=Sm(e["!ref"]);r.dense=Array.isArray(e),n.push(kA(e,a,r));for(var s=a.s.r;s<=a.e.r;++s)n.push(EA(e,a,s,r));return n.push("</table>"+i),n.join("")}function RA(e,t,r){var o=r||{};null!=up&&(o.dense=up);var i=0,n=0;if(null!=o.origin)if("number"==typeof o.origin)i=o.origin;else{var a="string"==typeof o.origin?Cm(o.origin):o.origin;i=a.r,n=a.c}var s=t.getElementsByTagName("tr"),l=Math.min(o.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:i,c:n}};if(e["!ref"]){var u=Sm(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==i&&(c.e.r=i=u.e.r+1)}var d=[],h=0,p=e["!rows"]||(e["!rows"]=[]),f=0,g=0,v=0,m=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);f<s.length&&g<l;++f){var w=s[f];if(AA(w)){if(o.display)continue;p[g]={hidden:!0}}var C=w.children;for(v=m=0;v<C.length;++v){var E=C[v];if(!o.display||!AA(E)){var S=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):iv(E.innerHTML),x=E.getAttribute("data-z")||E.getAttribute("z");for(h=0;h<d.length;++h){var T=d[h];T.s.c==m+n&&T.s.r<g+i&&g+i<=T.e.r&&(m=T.e.c+1-n,h=-1)}y=+E.getAttribute("colspan")||1,((b=+E.getAttribute("rowspan")||1)>1||y>1)&&d.push({s:{r:g+i,c:m+n},e:{r:g+i+(b||1)-1,c:m+n+(y||1)-1}});var k={t:"s",v:S},_=E.getAttribute("data-t")||E.getAttribute("t")||"";null!=S&&(0==S.length?k.t=_||"z":o.raw||0==S.trim().length||"s"==_||("TRUE"===S?k={t:"b",v:!0}:"FALSE"===S?k={t:"b",v:!1}:isNaN(hg(S))?isNaN(fg(S).getDate())||(k={t:"d",v:lg(S)},o.cellDates||(k={t:"n",v:Zf(k.v)}),k.z=o.dateNF||Vp[14]):k={t:"n",v:hg(S)})),void 0===k.z&&null!=x&&(k.z=x);var R="",O=E.getElementsByTagName("A");if(O&&O.length)for(var D=0;D<O.length;++D)if(O[D].hasAttribute("href")&&(R=O[D].getAttribute("href"),"#"!=R.charAt(0)))break;R&&"#"!=R.charAt(0)&&(k.l={Target:R}),o.dense?(e[g+i]||(e[g+i]=[]),e[g+i][m+n]=k):e[Em({c:m+n,r:g+i})]=k,c.e.c<m+n&&(c.e.c=m+n),m+=y}}++g}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,g-1+i),e["!ref"]=xm(c),g>=l&&(e["!fullref"]=xm((c.e.r=s.length-f+g-1+i,c))),e}function OA(e,t){var r=t||{},o=r.dense?[]:{};return RA(o,e,t)}function DA(e,t){return Rm(OA(e,t),t)}function AA(e){var t="",r=PA(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function PA(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}function MA(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n"),r=Vg(t.replace(/<[^>]*>/g,""));return[r]}var LA={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function FA(e,t){var r=t||{};null!=up&&null==r.dense&&(r.dense=up);var o,i,n,a,s,l,c,u=gv(e),d=[],h={name:""},p="",f=0,g={},v=[],m=r.dense?[]:{},b={value:""},y="",w=0,C=[],E=-1,S=-1,x={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,k={},_=[],R={},O=0,D=0,A=[],P=1,M=1,L=[],F={Names:[]},I={},N=["",""],H=[],G={},V="",z=0,B=!1,j=!1,W=0;vv.lastIndex=0,u=u.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");while(s=vv.exec(u))switch(s[3]=s[3].replace(/_.*$/,"")){case"table":case"工作表":"/"===s[1]?(x.e.c>=x.s.c&&x.e.r>=x.s.r?m["!ref"]=xm(x):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=x.e.r&&(m["!fullref"]=m["!ref"],x.e.r=r.sheetRows-1,m["!ref"]=xm(x)),_.length&&(m["!merges"]=_),A.length&&(m["!rows"]=A),n.name=n["名称"]||n.name,"undefined"!==typeof JSON&&JSON.stringify(n),v.push(n.name),g[n.name]=m,j=!1):"/"!==s[0].charAt(s[0].length-2)&&(n=Ig(s[0],!1),E=S=-1,x.s.r=x.s.c=1e7,x.e.r=x.e.c=0,m=r.dense?[]:{},_=[],A=[],j=!0);break;case"table-row-group":"/"===s[1]?--T:++T;break;case"table-row":case"行":if("/"===s[1]){E+=P,P=1;break}if(a=Ig(s[0],!1),a["行号"]?E=a["行号"]-1:-1==E&&(E=0),P=+a["number-rows-repeated"]||1,P<10)for(W=0;W<P;++W)T>0&&(A[E+W]={level:T});S=-1;break;case"covered-table-cell":"/"!==s[1]&&++S,r.sheetStubs&&(r.dense?(m[E]||(m[E]=[]),m[E][S]={t:"z"}):m[Em({r:E,c:S})]={t:"z"}),y="",C=[];break;case"table-cell":case"数据":if("/"===s[0].charAt(s[0].length-2))++S,b=Ig(s[0],!1),M=parseInt(b["number-columns-repeated"]||"1",10),l={t:"z",v:null},b.formula&&0!=r.cellFormula&&(l.f=d_(Vg(b.formula))),"string"==(b["数据类型"]||b["value-type"])&&(l.t="s",l.v=Vg(b["string-value"]||""),r.dense?(m[E]||(m[E]=[]),m[E][S]=l):m[Em({r:E,c:S})]=l),S+=M-1;else if("/"!==s[1]){++S,y="",w=0,C=[],M=1;var U=P?E+P-1:E;if(S>x.e.c&&(x.e.c=S),S<x.s.c&&(x.s.c=S),E<x.s.r&&(x.s.r=E),U>x.e.r&&(x.e.r=U),b=Ig(s[0],!1),H=[],G={},l={t:b["数据类型"]||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=Vg(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(O=parseInt(b["number-matrix-rows-spanned"],10)||0,D=parseInt(b["number-matrix-columns-spanned"],10)||0,R={s:{r:E,c:S},e:{r:E+O-1,c:S+D-1}},l.F=xm(R),L.push([R,l.F])),b.formula)l.f=d_(b.formula);else for(W=0;W<L.length;++W)E>=L[W][0].s.r&&E<=L[W][0].e.r&&S>=L[W][0].s.c&&S<=L[W][0].e.c&&(l.F=L[W][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(O=parseInt(b["number-rows-spanned"],10)||0,D=parseInt(b["number-columns-spanned"],10)||0,R={s:{r:E,c:S},e:{r:E+O-1,c:S+D-1}},_.push(R)),b["number-columns-repeated"]&&(M=parseInt(b["number-columns-repeated"],10)),l.t){case"boolean":l.t="b",l.v=Xg(b["boolean-value"]);break;case"float":l.t="n",l.v=parseFloat(b.value);break;case"percentage":l.t="n",l.v=parseFloat(b.value);break;case"currency":l.t="n",l.v=parseFloat(b.value);break;case"date":l.t="d",l.v=lg(b["date-value"]),r.cellDates||(l.t="n",l.v=Zf(l.v)),l.z="m/d/yy";break;case"time":l.t="n",l.v=ig(b["time-value"])/86400,r.cellDates&&(l.t="d",l.v=og(l.v)),l.z="HH:MM:SS";break;case"number":l.t="n",l.v=parseFloat(b["数据数值"]);break;default:if("string"!==l.t&&"text"!==l.t&&l.t)throw new Error("Unsupported value type "+l.t);l.t="s",null!=b["string-value"]&&(y=Vg(b["string-value"]),C=[])}}else{if(B=!1,"s"===l.t&&(l.v=y||"",C.length&&(l.R=C),B=0==w),I.Target&&(l.l=I),H.length>0&&(l.c=H,H=[]),y&&!1!==r.cellText&&(l.w=y),B&&(l.t="z",delete l.v),(!B||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var $=0;$<P;++$){if(M=parseInt(b["number-columns-repeated"]||"1",10),r.dense){m[E+$]||(m[E+$]=[]),m[E+$][S]=0==$?l:ug(l);while(--M>0)m[E+$][S+M]=ug(l)}else{m[Em({r:E+$,c:S})]=l;while(--M>0)m[Em({r:E+$,c:S+M})]=ug(l)}x.e.c<=S&&(x.e.c=S)}M=parseInt(b["number-columns-repeated"]||"1",10),S+=M-1,M=0,l={},y="",C=[]}I={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===s[1]){if((o=d.pop())[0]!==s[3])throw"Bad state: "+o}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!0]);break;case"annotation":if("/"===s[1]){if((o=d.pop())[0]!==s[3])throw"Bad state: "+o;G.t=y,C.length&&(G.R=C),G.a=V,H.push(G)}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!1]);V="",z=0,y="",w=0,C=[];break;case"creator":"/"===s[1]?V=u.slice(z,s.index):z=s.index+s[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===s[1]){if((o=d.pop())[0]!==s[3])throw"Bad state: "+o}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!1]);y="",w=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===s[1]){if(k[h.name]=p,(o=d.pop())[0]!==s[3])throw"Bad state: "+o}else"/"!==s[0].charAt(s[0].length-2)&&(p="",h=Ig(s[0],!1),d.push([s[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(d[d.length-1][0]){case"time-style":case"date-style":i=Ig(s[0],!1),p+=LA[s[3]]["long"===i.style?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(d[d.length-1][0]){case"time-style":case"date-style":i=Ig(s[0],!1),p+=LA[s[3]]["long"===i.style?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if("/>"===s[0].slice(-2))break;if("/"===s[1])switch(d[d.length-1][0]){case"number-style":case"date-style":case"time-style":p+=u.slice(f,s.index);break}else f=s.index+s[0].length;break;case"named-range":i=Ig(s[0],!1),N=p_(i["cell-range-address"]);var K={Name:i.name,Ref:N[0]+"!"+N[1]};j&&(K.Sheet=v.length),F.Names.push(K);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(d[d.length-1][0])>-1)break;if("/"!==s[1]||b&&b["string-value"])c=Ig(s[0],!1),w=s.index+s[0].length;else{var Y=MA(u.slice(w,s.index),c);y=(y.length>0?y+"\n":"")+Y[0]}break;case"s":break;case"database-range":if("/"===s[1])break;try{N=p_(Ig(s[0])["target-range-address"]),g[N[0]]["!autofilter"]={ref:N[1]}}catch(X){}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if("/"!==s[1]){if(I=Ig(s[0],!1),!I.href)break;I.Target=Vg(I.href),delete I.href,"#"==I.Target.charAt(0)&&I.Target.indexOf(".")>-1?(N=p_(I.Target.slice(1)),I.Target="#"+N[0]+"!"+N[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(s[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(s)}}var q={Sheets:g,SheetNames:v,Workbook:F};return r.bookSheets&&delete q.Sheets,q}function IA(e,t){t=t||{},yg(e,"META-INF/manifest.xml")&&$b(Cg(e,"META-INF/manifest.xml"),t);var r=Eg(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var o=FA(tv(r),t);return yg(e,"meta.xml")&&(o.Props=ey(Cg(e,"meta.xml"))),o}function NA(e,t){return FA(e,t)}var HA=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+dv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Og+t}}(),GA=function(){var e=function(e){return jg(e).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",r="          <table:covered-table-cell/>\n",o=function(o,i,n){var a=[];a.push('      <table:table table:name="'+jg(i.SheetNames[n])+'" table:style-name="ta1">\n');var s=0,l=0,c=Sm(o["!ref"]||"A1"),u=o["!merges"]||[],d=0,h=Array.isArray(o);if(o["!cols"])for(l=0;l<=c.e.c;++l)a.push("        <table:table-column"+(o["!cols"][l]?' table:style-name="co'+o["!cols"][l].ods+'"':"")+"></table:table-column>\n");var p="",f=o["!rows"]||[];for(s=0;s<c.s.r;++s)p=f[s]?' table:style-name="ro'+f[s].ods+'"':"",a.push("        <table:table-row"+p+"></table:table-row>\n");for(;s<=c.e.r;++s){for(p=f[s]?' table:style-name="ro'+f[s].ods+'"':"",a.push("        <table:table-row"+p+">\n"),l=0;l<c.s.c;++l)a.push(t);for(;l<=c.e.c;++l){var g=!1,v={},m="";for(d=0;d!=u.length;++d)if(!(u[d].s.c>l)&&!(u[d].s.r>s)&&!(u[d].e.c<l)&&!(u[d].e.r<s)){u[d].s.c==l&&u[d].s.r==s||(g=!0),v["table:number-columns-spanned"]=u[d].e.c-u[d].s.c+1,v["table:number-rows-spanned"]=u[d].e.r-u[d].s.r+1;break}if(g)a.push(r);else{var b=Em({r:s,c:l}),y=h?(o[s]||[])[l]:o[b];if(y&&y.f&&(v["table:formula"]=jg(h_(y.f)),y.F&&y.F.slice(0,b.length)==b)){var w=Sm(y.F);v["table:number-matrix-columns-spanned"]=w.e.c-w.s.c+1,v["table:number-matrix-rows-spanned"]=w.e.r-w.s.r+1}if(y){switch(y.t){case"b":m=y.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=y.v?"true":"false";break;case"n":m=y.w||String(y.v||0),v["office:value-type"]="float",v["office:value"]=y.v||0;break;case"s":case"str":m=null==y.v?"":y.v,v["office:value-type"]="string";break;case"d":m=y.w||lg(y.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=lg(y.v).toISOString(),v["table:style-name"]="ce1";break;default:a.push(t);continue}var C=e(m);if(y.l&&y.l.Target){var E=y.l.Target;E="#"==E.charAt(0)?"#"+f_(E.slice(1)):E,"#"==E.charAt(0)||E.match(/^\w+:/)||(E="../"+E),C=hv("text:a",C,{"xlink:href":E.replace(/&/g,"&amp;")})}a.push("          "+hv("table:table-cell",hv("text:p",C,{}),v)+"\n")}else a.push(t)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")},i=function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var o=0;o<t["!cols"].length;++o)if(t["!cols"][o]){var i=t["!cols"][o];if(null==i.width&&null==i.wpx&&null==i.wch)continue;bS(i),i.ods=r;var n=t["!cols"][o].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+n+'"/>\n'),e.push("  </style:style>\n"),++r}}));var o=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=o;var i=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+o+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++o}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")};return function(e,t){var r=[Og],n=dv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),a=dv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(r.push("<office:document"+n+a+">\n"),r.push(Jb().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+n+">\n"),i(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var s=0;s!=e.SheetNames.length;++s)r.push(o(e.Sheets[e.SheetNames[s]],e,s,t));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==t.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function VA(e,t){if("fods"==t.bookType)return GA(e,t);var r=kg(),o="",i=[],n=[];return o="mimetype",Tg(r,o,"application/vnd.oasis.opendocument.spreadsheet"),o="content.xml",Tg(r,o,GA(e,t)),i.push([o,"text/xml"]),n.push([o,"ContentFile"]),o="styles.xml",Tg(r,o,HA(e,t)),i.push([o,"text/xml"]),n.push([o,"StylesFile"]),o="meta.xml",Tg(r,o,Og+Jb()),i.push([o,"text/xml"]),n.push([o,"MetadataFile"]),o="manifest.rdf",Tg(r,o,Xb(n)),i.push([o,"application/rdf+xml"]),o="META-INF/manifest.xml",Tg(r,o,Kb(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function zA(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function BA(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):tv(Cp(e))}function jA(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):yp(rv(e))}function WA(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var o=0;o<t.length;++o)if(e[r+o]!=t[o])continue e;return!0}return!1}function UA(e){var t=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(t),o=0;return e.forEach((function(e){r.set(e,o),o+=e.length})),r}function $A(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),16843009*(e+(e>>4)&252645135)>>>24}function KA(e,t){for(var r=(127&e[t+15])<<7|e[t+14]>>1,o=1&e[t+14],i=t+13;i>=t;--i)o=256*o+e[i];return(128&e[t+15]?-o:o)*Math.pow(10,r-6176)}function YA(e,t,r){var o=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,o-6176);e[t+15]|=o>>7,e[t+14]|=(127&o)<<1;for(var n=0;i>=1;++n,i/=256)e[t+n]=255&i;e[t+15]|=r>=0?0:128}function qA(e,t){var r=t?t[0]:0,o=127&e[r];e:if(e[r++]>=128){if(o|=(127&e[r])<<7,e[r++]<128)break e;if(o|=(127&e[r])<<14,e[r++]<128)break e;if(o|=(127&e[r])<<21,e[r++]<128)break e;if(o+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(o+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(o+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),o}function XA(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function JA(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function QA(e){var t=[],r=[0];while(r[0]<e.length){var o=r[0],i=qA(e,r),n=7&i;i=Math.floor(i/8);var a,s=0;if(0==i)break;switch(n){case 0:var l=r[0];while(e[r[0]++]>=128);a=e.slice(l,r[0]);break;case 5:s=4,a=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,a=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=qA(e,r),a=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(n," for Field ").concat(i," at offset ").concat(o))}var c={data:a,type:n};null==t[i]?t[i]=[c]:t[i].push(c)}return t}function ZA(e){var t=[];return e.forEach((function(e,r){e.forEach((function(e){e.data&&(t.push(XA(8*r+e.type)),2==e.type&&t.push(XA(e.data.length)),t.push(e.data))}))})),UA(t)}function eP(e,t){return(null==e?void 0:e.map((function(e){return t(e.data)})))||[]}function tP(e){var t,r=[],o=[0];while(o[0]<e.length){var i=qA(e,o),n=QA(e.slice(o[0],o[0]+i));o[0]+=i;var a={id:JA(n[1][0].data),messages:[]};n[2].forEach((function(t){var r=QA(t.data),i=JA(r[3][0].data);a.messages.push({meta:r,data:e.slice(o[0],o[0]+i)}),o[0]+=i})),(null==(t=n[3])?void 0:t[0])&&(a.merge=JA(n[3][0].data)>>>0>0),r.push(a)}return r}function rP(e){var t=[];return e.forEach((function(e){var r=[];r[1]=[{data:XA(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:XA(+!!e.merge),type:0}]);var o=[];e.messages.forEach((function(e){o.push(e.data),e.meta[3]=[{type:0,data:XA(e.data.length)}],r[2].push({data:ZA(e.meta),type:2})}));var i=ZA(r);t.push(XA(i.length)),t.push(i),o.forEach((function(e){return t.push(e)}))})),UA(t)}function oP(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));var r=[0],o=qA(t,r),i=[];while(r[0]<t.length){var n=3&t[r[0]];if(0!=n){var a=0,s=0;if(1==n?(s=4+(t[r[0]]>>2&7),a=(224&t[r[0]++])<<3,a|=t[r[0]++]):(s=1+(t[r[0]++]>>2),2==n?(a=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(a=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[UA(i)],0==a)throw new Error("Invalid offset 0");if(a>i[0].length)throw new Error("Invalid offset beyond length");if(s>=a){i.push(i[0].slice(-a)),s-=a;while(s>=i[i.length-1].length)i.push(i[i.length-1]),s-=i[i.length-1].length}i.push(i[0].slice(-a,-a+s))}else{var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}i.push(t.slice(r[0],r[0]+l)),r[0]+=l}}var u=UA(i);if(u.length!=o)throw new Error("Unexpected length: ".concat(u.length," != ").concat(o));return u}function iP(e){var t=[],r=0;while(r<e.length){var o=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(oP(o,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return UA(t)}function nP(e){var t=[],r=0;while(r<e.length){var o=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var n=XA(o),a=n.length;t.push(n),o<=60?(a++,t.push(new Uint8Array([o-1<<2]))):o<=256?(a+=2,t.push(new Uint8Array([240,o-1&255]))):o<=65536?(a+=3,t.push(new Uint8Array([244,o-1&255,o-1>>8&255]))):o<=16777216?(a+=4,t.push(new Uint8Array([248,o-1&255,o-1>>8&255,o-1>>16&255]))):o<=4294967296&&(a+=5,t.push(new Uint8Array([252,o-1&255,o-1>>8&255,o-1>>16&255,o-1>>>24&255]))),t.push(e.slice(r,r+o)),a+=o,i[0]=0,i[1]=255&a,i[2]=a>>8&255,i[3]=a>>16&255,r+=o}return UA(t)}function aP(e,t,r,o){var i,n=zA(e),a=n.getUint32(4,!0),s=(o>1?12:8)+4*$A(a&(o>1?3470:398)),l=-1,c=-1,u=NaN,d=new Date(2001,0,1);switch(512&a&&(l=n.getUint32(s,!0),s+=4),s+=4*$A(a&(o>1?12288:4096)),16&a&&(c=n.getUint32(s,!0),s+=4),32&a&&(u=n.getFloat64(s,!0),s+=8),64&a&&(d.setTime(d.getTime()+1e3*n.getFloat64(s,!0)),s+=8),e[2]){case 0:break;case 2:i={t:"n",v:u};break;case 3:i={t:"s",v:t[c]};break;case 5:i={t:"d",v:d};break;case 6:i={t:"b",v:u>0};break;case 7:i={t:"n",v:u/86400};break;case 8:i={t:"e",v:0};break;case 9:if(l>-1)i={t:"s",v:r[l]};else if(c>-1)i={t:"s",v:t[c]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));i={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return i}function sP(e,t,r){var o,i=zA(e),n=i.getUint32(8,!0),a=12,s=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);switch(1&n&&(c=KA(e,a),a+=16),2&n&&(u=i.getFloat64(a,!0),a+=8),4&n&&(d.setTime(d.getTime()+1e3*i.getFloat64(a,!0)),a+=8),8&n&&(l=i.getUint32(a,!0),a+=4),16&n&&(s=i.getUint32(a,!0),a+=4),e[1]){case 0:break;case 2:o={t:"n",v:c};break;case 3:o={t:"s",v:t[l]};break;case 5:o={t:"d",v:d};break;case 6:o={t:"b",v:u>0};break;case 7:o={t:"n",v:u/86400};break;case 8:o={t:"e",v:0};break;case 9:if(!(s>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&n," : ").concat(e.slice(0,4)));o={t:"s",v:r[s]};break;case 10:o={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&n," : ").concat(e.slice(0,4)))}return o}function lP(e,t){var r=new Uint8Array(32),o=zA(r),i=12,n=0;switch(r[0]=5,e.t){case"n":r[1]=2,YA(r,i,e.v),n|=1,i+=16;break;case"b":r[1]=6,o.setFloat64(i,e.v?1:0,!0),n|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,o.setUint32(i,t.indexOf(e.v),!0),n|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return o.setUint32(8,n,!0),r.slice(0,i)}function cP(e,t){var r=new Uint8Array(32),o=zA(r),i=12,n=0;switch(r[0]=3,e.t){case"n":r[2]=2,o.setFloat64(i,e.v,!0),n|=32,i+=8;break;case"b":r[2]=6,o.setFloat64(i,e.v?1:0,!0),n|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,o.setUint32(i,t.indexOf(e.v),!0),n|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return o.setUint32(4,n,!0),r.slice(0,i)}function uP(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return aP(e,t,r,e[0]);case 5:return sP(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function dP(e){var t=QA(e);return qA(t[1][0].data)}function hP(e,t){var r=QA(t.data),o=JA(r[1][0].data),i=r[3],n=[];return(i||[]).forEach((function(t){var r=QA(t.data),i=JA(r[1][0].data)>>>0;switch(o){case 1:n[i]=BA(r[3][0].data);break;case 8:var a=e[dP(r[9][0].data)][0],s=QA(a.data),l=e[dP(s[1][0].data)][0],c=JA(l.meta[1][0].data);if(2001!=c)throw new Error("2000 unexpected reference to ".concat(c));var u=QA(l.data);n[i]=u[3].map((function(e){return BA(e.data)})).join("");break}})),n}function pP(e,t){var r,o,i,n,a,s,l,c,u,d,h,p,f,g,v,m,b=QA(e),y=JA(b[1][0].data)>>>0,w=JA(b[2][0].data)>>>0,C=(null==(o=null==(r=b[8])?void 0:r[0])?void 0:o.data)&&JA(b[8][0].data)>0||!1;if((null==(n=null==(i=b[7])?void 0:i[0])?void 0:n.data)&&0!=t)v=null==(s=null==(a=b[7])?void 0:a[0])?void 0:s.data,m=null==(c=null==(l=b[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(d=null==(u=b[4])?void 0:u[0])?void 0:d.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");v=null==(p=null==(h=b[4])?void 0:h[0])?void 0:p.data,m=null==(g=null==(f=b[3])?void 0:f[0])?void 0:g.data}for(var E=C?4:1,S=zA(v),x=[],T=0;T<v.length/2;++T){var k=S.getUint16(2*T,!0);k<65535&&x.push([T,k])}if(x.length!=w)throw"Expected ".concat(w," cells, found ").concat(x.length);var _=[];for(T=0;T<x.length-1;++T)_[x[T][0]]=m.subarray(x[T][1]*E,x[T+1][1]*E);return x.length>=1&&(_[x[x.length-1][0]]=m.subarray(x[x.length-1][1]*E)),{R:y,cells:_}}function fP(e,t){var r,o=QA(t.data),i=(null==(r=null==o?void 0:o[7])?void 0:r[0])?JA(o[7][0].data)>>>0>0?1:0:-1,n=eP(o[5],(function(e){return pP(e,i)}));return{nrows:JA(o[4][0].data)>>>0,data:n.reduce((function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach((function(r,o){if(e[t.R][o])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(o));e[t.R][o]=r})),e}),[])}}function gP(e,t,r){var o,i=QA(t.data),n={s:{r:0,c:0},e:{r:0,c:0}};if(n.e.r=(JA(i[6][0].data)>>>0)-1,n.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(n.e.c=(JA(i[7][0].data)>>>0)-1,n.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=xm(n);var a=QA(i[4][0].data),s=hP(e,e[dP(a[4][0].data)][0]),l=(null==(o=a[17])?void 0:o[0])?hP(e,e[dP(a[17][0].data)][0]):[],c=QA(a[3][0].data),u=0;c[1].forEach((function(t){var o=QA(t.data),i=e[dP(o[2][0].data)][0],n=JA(i.meta[1][0].data);if(6002!=n)throw new Error("6001 unexpected reference to ".concat(n));var a=fP(e,i);a.data.forEach((function(e,t){e.forEach((function(e,o){var i=Em({r:u+t,c:o}),n=uP(e,s,l);n&&(r[i]=n)}))})),u+=a.nrows}))}function vP(e,t){var r=QA(t.data),o={"!ref":"A1"},i=e[dP(r[2][0].data)],n=JA(i[0].meta[1][0].data);if(6001!=n)throw new Error("6000 unexpected reference to ".concat(n));return gP(e,i[0],o),o}function mP(e,t){var r,o=QA(t.data),i={name:(null==(r=o[1])?void 0:r[0])?BA(o[1][0].data):"",sheets:[]},n=eP(o[2],dP);return n.forEach((function(t){e[t].forEach((function(t){var r=JA(t.meta[1][0].data);6e3==r&&i.sheets.push(vP(e,t))}))})),i}function bP(e,t){var r=uM(),o=QA(t.data),i=eP(o[1],dP);if(i.forEach((function(t){e[t].forEach((function(t){var o=JA(t.meta[1][0].data);if(2==o){var i=mP(e,t);i.sheets.forEach((function(e,t){dM(r,e,0==t?i.name:i.name+"_"+t,!0)}))}}))})),0==r.SheetNames.length)throw new Error("Empty NUMBERS file");return r}function yP(e){var t,r,o,i,n={},a=[];if(e.FullPaths.forEach((function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),e.FileIndex.forEach((function(e){if(e.name.match(/\.iwa$/)){var t,r;try{t=iP(e.content)}catch(o){return console.log("?? "+e.content.length+" "+(o.message||o))}try{r=tP(t)}catch(o){return console.log("## "+(o.message||o))}r.forEach((function(e){n[e.id]=e.messages,a.push(e.id)}))}})),!a.length)throw new Error("File has no messages");var s=(null==(i=null==(o=null==(r=null==(t=null==n?void 0:n[1])?void 0:t[0])?void 0:r.meta)?void 0:o[1])?void 0:i[0].data)&&1==JA(n[1][0].meta[1][0].data)&&n[1][0];if(s||a.forEach((function(e){n[e].forEach((function(e){var t=JA(e.meta[1][0].data)>>>0;if(1==t){if(s)throw new Error("Document has multiple roots");s=e}}))})),!s)throw new Error("Cannot find Document root");return bP(n,s)}function wP(e,t,r){var o,i,n,a;if(!(null==(o=e[6])?void 0:o[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";var s=(null==(a=null==(n=e[8])?void 0:n[0])?void 0:a.data)&&JA(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var l=0,c=zA(e[7][0].data),u=0,d=[],h=zA(e[4][0].data),p=0,f=[],g=0;g<t.length;++g)if(null!=t[g]){var v,m;switch(c.setUint16(2*g,u,!0),h.setUint16(2*g,p,!0),typeof t[g]){case"string":v=lP({t:"s",v:t[g]},r),m=cP({t:"s",v:t[g]},r);break;case"number":v=lP({t:"n",v:t[g]},r),m=cP({t:"n",v:t[g]},r);break;case"boolean":v=lP({t:"b",v:t[g]},r),m=cP({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}d.push(v),u+=v.length,f.push(m),p+=m.length,++l}else c.setUint16(2*g,65535,!0),h.setUint16(2*g,65535);for(e[2][0].data=XA(l);g<e[7][0].data.length/2;++g)c.setUint16(2*g,65535,!0),h.setUint16(2*g,65535,!0);return e[6][0].data=UA(d),e[3][0].data=UA(f),l}function CP(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var o=Sm(r["!ref"]);o.s.r=o.s.c=0;var i=!1;o.e.c>9&&(i=!0,o.e.c=9),o.e.r>49&&(i=!0,o.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(xm(o)));var n=eM(r,{range:o,header:1}),a=["~Sh33tJ5~"];n.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&a.push(e)}))}));var s={},l=[],c=Bf.read(t.numbers,{type:"base64"});c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0],r=e[1];if(2==t.type&&t.name.match(/\.iwa/)){var o=t.content,i=iP(o),n=tP(i);n.forEach((function(e){l.push(e.id),s[e.id]={deps:[],location:r,type:JA(e.messages[0].meta[1][0].data)}}))}})),l.sort((function(e,t){return e-t}));var u=l.filter((function(e){return e>1})).map((function(e){return[e,XA(e)]}));c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1];if(t.name.match(/\.iwa/)){var r=tP(iP(t.content));r.forEach((function(e){e.messages.forEach((function(t){u.forEach((function(t){e.messages.some((function(e){return 11006!=JA(e.meta[1][0].data)&&WA(e.data,t[1])}))&&s[t[0]].deps.push(e.id)}))}))}))}}));for(var d,h=Bf.find(c,s[1].location),p=tP(iP(h.content)),f=0;f<p.length;++f){var g=p[f];1==g.id&&(d=g)}var v=dP(QA(d.messages[0].data)[1][0].data);for(h=Bf.find(c,s[v].location),p=tP(iP(h.content)),f=0;f<p.length;++f)g=p[f],g.id==v&&(d=g);for(v=dP(QA(d.messages[0].data)[2][0].data),h=Bf.find(c,s[v].location),p=tP(iP(h.content)),f=0;f<p.length;++f)g=p[f],g.id==v&&(d=g);for(v=dP(QA(d.messages[0].data)[2][0].data),h=Bf.find(c,s[v].location),p=tP(iP(h.content)),f=0;f<p.length;++f)g=p[f],g.id==v&&(d=g);var m=QA(d.messages[0].data);m[6][0].data=XA(o.e.r+1),m[7][0].data=XA(o.e.c+1);for(var b=dP(m[46][0].data),y=Bf.find(c,s[b].location),w=tP(iP(y.content)),C=0;C<w.length;++C)if(w[C].id==b)break;if(w[C].id!=b)throw"Bad ColumnRowUIDMapArchive";var E=QA(w[C].messages[0].data);E[1]=[],E[2]=[],E[3]=[];for(var S=0;S<=o.e.c;++S){var x=[];x[1]=x[2]=[{type:0,data:XA(S+420690)}],E[1].push({type:2,data:ZA(x)}),E[2].push({type:0,data:XA(S)}),E[3].push({type:0,data:XA(S)})}E[4]=[],E[5]=[],E[6]=[];for(var T=0;T<=o.e.r;++T)x=[],x[1]=x[2]=[{type:0,data:XA(T+726270)}],E[4].push({type:2,data:ZA(x)}),E[5].push({type:0,data:XA(T)}),E[6].push({type:0,data:XA(T)});w[C].messages[0].data=ZA(E),y.content=nP(rP(w)),y.size=y.content.length,delete m[46];var k=QA(m[4][0].data);k[7][0].data=XA(o.e.r+1);var _=QA(k[1][0].data),R=dP(_[2][0].data);if(y=Bf.find(c,s[R].location),w=tP(iP(y.content)),w[0].id!=R)throw"Bad HeaderStorageBucket";var O=QA(w[0].messages[0].data);for(T=0;T<n.length;++T){var D=QA(O[2][0].data);D[1][0].data=XA(T),D[4][0].data=XA(n[T].length),O[2][T]={type:O[2][0].type,data:ZA(D)}}w[0].messages[0].data=ZA(O),y.content=nP(rP(w)),y.size=y.content.length;var A=dP(k[2][0].data);if(y=Bf.find(c,s[A].location),w=tP(iP(y.content)),w[0].id!=A)throw"Bad HeaderStorageBucket";for(O=QA(w[0].messages[0].data),S=0;S<=o.e.c;++S)D=QA(O[2][0].data),D[1][0].data=XA(S),D[4][0].data=XA(o.e.r+1),O[2][S]={type:O[2][0].type,data:ZA(D)};w[0].messages[0].data=ZA(O),y.content=nP(rP(w)),y.size=y.content.length;var P=dP(k[4][0].data);(function(){for(var e,t=Bf.find(c,s[P].location),r=tP(iP(t.content)),o=0;o<r.length;++o){var i=r[o];i.id==P&&(e=i)}var n=QA(e.messages[0].data);n[3]=[];var l=[];a.forEach((function(e,t){l[1]=[{type:0,data:XA(t)}],l[2]=[{type:0,data:XA(1)}],l[3]=[{type:2,data:jA(e)}],n[3].push({type:2,data:ZA(l)})})),e.messages[0].data=ZA(n);var u=rP(r),d=nP(u);t.content=d,t.size=t.content.length})();var M=QA(k[3][0].data),L=M[1][0];delete M[2];var F=QA(L.data),I=dP(F[2][0].data);(function(){for(var e,t=Bf.find(c,s[I].location),r=tP(iP(t.content)),i=0;i<r.length;++i){var l=r[i];l.id==I&&(e=l)}var u=QA(e.messages[0].data);delete u[6],delete M[7];var d=new Uint8Array(u[5][0].data);u[5]=[];for(var h=0,p=0;p<=o.e.r;++p){var f=QA(d);h+=wP(f,n[p],a),f[1][0].data=XA(p),u[5].push({data:ZA(f),type:2})}u[1]=[{type:0,data:XA(o.e.c+1)}],u[2]=[{type:0,data:XA(o.e.r+1)}],u[3]=[{type:0,data:XA(h)}],u[4]=[{type:0,data:XA(o.e.r+1)}],e.messages[0].data=ZA(u);var g=rP(r),v=nP(g);t.content=v,t.size=t.content.length})(),L.data=ZA(F),k[3][0].data=ZA(M),m[4][0].data=ZA(k),d.messages[0].data=ZA(m);var N=rP(p),H=nP(N);return h.content=H,h.size=h.content.length,c}function EP(e){return function(t){for(var r=0;r!=e.length;++r){var o=e[r];void 0===t[o[0]]&&(t[o[0]]=o[1]),"n"===o[2]&&(t[o[0]]=Number(t[o[0]]))}}}function SP(e){EP([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function xP(e){EP([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function TP(e){return Vb.WS.indexOf(e)>-1?"sheet":Vb.CS&&e==Vb.CS?"chart":Vb.DS&&e==Vb.DS?"dialog":Vb.MS&&e==Vb.MS?"macro":e&&e.length?e:"sheet"}function kP(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,TP(e["!id"][t.id].Type)]}))}catch(r){return null}return e&&0!==e.length?e:null}function _P(e,t,r,o,i,n,a,s,l,c,u,d){try{n[o]=Bb(Eg(e,r,!0),t);var h,p=Cg(e,t);switch(s){case"sheet":h=eD(p,t,i,l,n[o],c,u,d);break;case"chart":if(h=tD(p,t,i,l,n[o],c,u,d),!h||!h["!drawel"])break;var f=Rg(h["!drawel"].Target,t),g=zb(f),v=jx(Eg(e,f,!0),Bb(Eg(e,g,!0),f)),m=Rg(v,f),b=zb(m);h=EO(Eg(e,m,!0),m,l,Bb(Eg(e,b,!0),m),c,h);break;case"macro":h=rD(p,t,i,l,n[o],c,u,d);break;case"dialog":h=oD(p,t,i,l,n[o],c,u,d);break;default:throw new Error("Unrecognized sheet type "+s)}a[o]=h;var y=[];n&&n[o]&&Kf(n[o]).forEach((function(r){var i="";if(n[o][r].Type==Vb.CMNT){i=Rg(n[o][r].Target,t);var a=sD(Cg(e,i,!0),i,l);if(!a||!a.length)return;$x(h,a,!1)}n[o][r].Type==Vb.TCMNT&&(i=Rg(n[o][r].Target,t),y=y.concat(qx(Cg(e,i,!0),l)))})),y&&y.length&&$x(h,y,!0,l.people||[])}catch(w){if(l.WTF)throw w}}function RP(e){return"/"==e.charAt(0)?e.slice(1):e}function OP(e,t){if(If(),t=t||{},SP(t),yg(e,"META-INF/manifest.xml"))return IA(e,t);if(yg(e,"objectdata.xml"))return IA(e,t);if(yg(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if("undefined"!=typeof yP){if(e.FileIndex)return yP(e);var r=Bf.utils.cfb_new();return xg(e).forEach((function(t){Tg(r,t,Sg(e,t))})),yP(r)}throw new Error("Unsupported NUMBERS file")}if(!yg(e,"[Content_Types].xml")){if(yg(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(yg(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var o,i,n=xg(e),a=Hb(Eg(e,"[Content_Types].xml")),s=!1;if(0===a.workbooks.length&&(i="xl/workbook.xml",Cg(e,i,!0)&&a.workbooks.push(i)),0===a.workbooks.length){if(i="xl/workbook.bin",!Cg(e,i,!0))throw new Error("Could not find workbook");a.workbooks.push(i),s=!0}"bin"==a.workbooks[0].slice(-3)&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(g_=[],a.sst)try{g_=aD(Cg(e,RP(a.sst)),a.sst,t)}catch(D){if(t.WTF)throw D}t.cellStyles&&a.themes.length&&(l=nD(Eg(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=iD(Cg(e,RP(a.style)),a.style,l,t))}a.links.map((function(r){try{var o=Bb(Eg(e,zb(RP(r))),r);return cD(Cg(e,RP(r)),o,r,t)}catch(D){}}));var u=ZO(Cg(e,RP(a.workbooks[0])),a.workbooks[0],t),d={},h="";a.coreprops.length&&(h=Cg(e,RP(a.coreprops[0]),!0),h&&(d=ey(h)),0!==a.extprops.length&&(h=Cg(e,RP(a.extprops[0]),!0),h&&ay(h,d,t)));var p={};t.bookSheets&&!t.bookProps||0!==a.custprops.length&&(h=Eg(e,RP(a.custprops[0]),!0),h&&(p=cy(h,t)));var f={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map((function(e){return e.name})):d.Worksheets&&d.SheetNames.length>0&&(o=d.SheetNames),t.bookProps&&(f.Props=d,f.Custprops=p),t.bookSheets&&"undefined"!==typeof o&&(f.SheetNames=o),t.bookSheets?f.SheetNames:t.bookProps))return f;o={};var g={};t.bookDeps&&a.calcchain&&(g=lD(Cg(e,RP(a.calcchain)),a.calcchain,t));var v,m,b=0,y={},w=u.Sheets;d.Worksheets=w.length,d.SheetNames=[];for(var C=0;C!=w.length;++C)d.SheetNames[C]=w[C].name;var E=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),x=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");yg(e,x)||(x="xl/_rels/workbook."+E+".rels");var T=Bb(Eg(e,x,!0),x.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=uD(Cg(e,RP(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Jx(Cg(e,RP(a.people[0])),t)),T&&(T=kP(T,u.Sheets));var k=Cg(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=d.Worksheets;++b){var _="sheet";if(T&&T[b]?(v="xl/"+T[b][1].replace(/[\/]?xl\//,""),yg(e,v)||(v=T[b][1]),yg(e,v)||(v=x.replace(/_rels\/.*$/,"")+T[b][1]),_=T[b][2]):(v="xl/worksheets/sheet"+(b+1-k)+"."+E,v=v.replace(/sheet0\./,"sheet.")),m=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(d.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var R=!1,O=0;O!=t.sheets.length;++O)"number"==typeof t.sheets[O]&&t.sheets[O]==b&&(R=1),"string"==typeof t.sheets[O]&&t.sheets[O].toLowerCase()==d.SheetNames[b].toLowerCase()&&(R=1);if(!R)continue e}}_P(e,v,m,d.SheetNames[b],b,y,o,_,t,u,l,c)}return f={Directory:a,Workbook:u,Props:d,Custprops:p,Deps:g,Sheets:o,SheetNames:d.SheetNames,Strings:g_,Styles:c,Themes:l,SSF:ug(Vp)},t&&t.bookFiles&&(e.files?(f.keys=n,f.files=e.files):(f.keys=[],f.files={},e.FullPaths.forEach((function(t,r){t=t.replace(/^Root Entry[\/]/,""),f.keys.push(t),f.files[t]=e.FileIndex[r]})))),t&&t.bookVBA&&(a.vba.length>0?f.vbaraw=Cg(e,RP(a.vba[0]),!0):a.defaults&&a.defaults.bin===nT&&(f.vbaraw=Cg(e,"xl/vbaProject.bin",!0))),f}function DP(e,t){var r=t||{},o="Workbook",i=Bf.find(e,o);try{if(o="/!DataSpaces/Version",i=Bf.find(e,o),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+o);if(IE(i.content),o="/!DataSpaces/DataSpaceMap",i=Bf.find(e,o),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+o);var n=HE(i.content);if(1!==n.length||1!==n[0].comps.length||0!==n[0].comps[0].t||"StrongEncryptionDataSpace"!==n[0].name||"EncryptedPackage"!==n[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+o);if(o="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Bf.find(e,o),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+o);var a=GE(i.content);if(1!=a.length||"StrongEncryptionTransform"!=a[0])throw new Error("ECMA-376 Encrypted file bad "+o);if(o="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Bf.find(e,o),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+o);zE(i.content)}catch(l){}if(o="/EncryptionInfo",i=Bf.find(e,o),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+o);var s=WE(i.content);if(o="/EncryptedPackage",i=Bf.find(e,o),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+o);if(4==s[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(s[1],i.content,r.password||"",r);if(2==s[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(s[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function AP(e,t){return"ods"==t.bookType?VA(e,t):"numbers"==t.bookType?CP(e,t):"xlsb"==t.bookType?PP(e,t):MP(e,t)}function PP(e,t){Wx=1024,e&&!e.SSF&&(e.SSF=ug(Vp)),e&&e.SSF&&(If(),Ff(e.SSF),t.revssf=Xf(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,m_?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",o=lT.indexOf(t.bookType)>-1,i=Nb();xP(t=t||{});var n=kg(),a="",s=0;if(t.cellXfs=[],C_(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",Tg(n,a,ry(e.Props,t)),i.coreprops.push(a),Wb(t.rels,2,a,Vb.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,Tg(n,a,sy(e.Props,t)),i.extprops.push(a),Wb(t.rels,3,a,Vb.EXT_PROPS),e.Custprops!==e.Props&&Kf(e.Custprops||{}).length>0&&(a="docProps/custom.xml",Tg(n,a,uy(e.Custprops,t)),i.custprops.push(a),Wb(t.rels,4,a,Vb.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},d=e.Sheets[e.SheetNames[s-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+s+"."+r,Tg(n,a,hD(s-1,a,t,e,u)),i.sheets.push(a),Wb(t.wbrels,-1,"worksheets/sheet"+s+"."+r,Vb.WS[0])}if(d){var p=d["!comments"],f=!1,g="";p&&p.length>0&&(g="xl/comments"+s+"."+r,Tg(n,g,gD(p,g,t)),i.comments.push(g),Wb(u,-1,"../comments"+s+"."+r,Vb.CMNT),f=!0),d["!legacy"]&&f&&Tg(n,"xl/drawings/vmlDrawing"+s+".vml",Ux(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&Tg(n,zb(a),jb(u))}return null!=t.Strings&&t.Strings.length>0&&(a="xl/sharedStrings."+r,Tg(n,a,fD(t.Strings,a,t)),i.strs.push(a),Wb(t.wbrels,-1,"sharedStrings."+r,Vb.SST)),a="xl/workbook."+r,Tg(n,a,dD(e,a,t)),i.workbooks.push(a),Wb(t.rels,1,a,Vb.WB),a="xl/theme/theme1.xml",Tg(n,a,bx(e.Themes,t)),i.themes.push(a),Wb(t.wbrels,-1,"theme/theme1.xml",Vb.THEME),a="xl/styles."+r,Tg(n,a,pD(e,a,t)),i.styles.push(a),Wb(t.wbrels,-1,"styles."+r,Vb.STY),e.vbaraw&&o&&(a="xl/vbaProject.bin",Tg(n,a,e.vbaraw),i.vba.push(a),Wb(t.wbrels,-1,"vbaProject.bin",Vb.VBA)),a="xl/metadata."+r,Tg(n,a,vD(a)),i.metadata.push(a),Wb(t.wbrels,-1,"metadata."+r,Vb.XLMETA),Tg(n,"[Content_Types].xml",Gb(i,t)),Tg(n,"_rels/.rels",jb(t.rels)),Tg(n,"xl/_rels/workbook."+r+".rels",jb(t.wbrels)),delete t.revssf,delete t.ssf,n}function MP(e,t){Wx=1024,e&&!e.SSF&&(e.SSF=ug(Vp)),e&&e.SSF&&(If(),Ff(e.SSF),t.revssf=Xf(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,m_?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",o=lT.indexOf(t.bookType)>-1,i=Nb();xP(t=t||{});var n=kg(),a="",s=0;if(t.cellXfs=[],C_(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",Tg(n,a,ry(e.Props,t)),i.coreprops.push(a),Wb(t.rels,2,a,Vb.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Tg(n,a,sy(e.Props,t)),i.extprops.push(a),Wb(t.rels,3,a,Vb.EXT_PROPS),e.Custprops!==e.Props&&Kf(e.Custprops||{}).length>0&&(a="docProps/custom.xml",Tg(n,a,uy(e.Custprops,t)),i.custprops.push(a),Wb(t.rels,4,a,Vb.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},h=e.Sheets[e.SheetNames[s-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+s+"."+r,Tg(n,a,rR(s-1,t,e,d)),i.sheets.push(a),Wb(t.wbrels,-1,"worksheets/sheet"+s+"."+r,Vb.WS[0])}if(h){var f=h["!comments"],g=!1,v="";if(f&&f.length>0){var m=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(m=!0)}))})),m&&(v="xl/threadedComments/threadedComment"+s+"."+r,Tg(n,v,Xx(f,u,t)),i.threadedcomments.push(v),Wb(d,-1,"../threadedComments/threadedComment"+s+"."+r,Vb.TCMNT)),v="xl/comments"+s+"."+r,Tg(n,v,Yx(f,t)),i.comments.push(v),Wb(d,-1,"../comments"+s+"."+r,Vb.CMNT),g=!0}h["!legacy"]&&g&&Tg(n,"xl/drawings/vmlDrawing"+s+".vml",Ux(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Tg(n,zb(a),jb(d))}return null!=t.Strings&&t.Strings.length>0&&(a="xl/sharedStrings."+r,Tg(n,a,RE(t.Strings,t)),i.strs.push(a),Wb(t.wbrels,-1,"sharedStrings."+r,Vb.SST)),a="xl/workbook."+r,Tg(n,a,VO(e,t)),i.workbooks.push(a),Wb(t.rels,1,a,Vb.WB),a="xl/theme/theme1.xml",Tg(n,a,bx(e.Themes,t)),i.themes.push(a),Wb(t.wbrels,-1,"theme/theme1.xml",Vb.THEME),a="xl/styles."+r,Tg(n,a,LS(e,t)),i.styles.push(a),Wb(t.wbrels,-1,"styles."+r,Vb.STY),e.vbaraw&&o&&(a="xl/vbaProject.bin",Tg(n,a,e.vbaraw),i.vba.push(a),Wb(t.wbrels,-1,"vbaProject.bin",Vb.VBA)),a="xl/metadata."+r,Tg(n,a,Nx()),i.metadata.push(a),Wb(t.wbrels,-1,"metadata."+r,Vb.XLMETA),u.length>1&&(a="xl/persons/person.xml",Tg(n,a,Qx(u,t)),i.people.push(a),Wb(t.wbrels,-1,"persons/person.xml",Vb.PEOPLE)),Tg(n,"[Content_Types].xml",Gb(i,t)),Tg(n,"_rels/.rels",jb(t.rels)),Tg(n,"xl/_rels/workbook."+r+".rels",jb(t.wbrels)),delete t.revssf,delete t.ssf,n}function LP(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=fp(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function FP(e,t){return Bf.find(e,"EncryptedPackage")?DP(e,t):QD(e,t)}function IP(e,t){var r,o=e,i=t||{};return i.type||(i.type=gp&&Buffer.isBuffer(e)?"buffer":"base64"),r=_g(o,i),OP(r,i)}function NP(e,t){var r=0;e:while(r<e.length)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return OD(e.slice(r),t);default:break e}return pE.to_workbook(e,t)}function HP(e,t){var r="",o=LP(e,t);switch(t.type){case"base64":r=fp(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=cg(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==o[0]&&187==o[1]&&191==o[2]&&(r=tv(r)),t.type="binary",NP(r,t)}function GP(e,t){var r=e;return"base64"==t.type&&(r=fp(r)),r=ap.utils.decode(1200,r.slice(2),"str"),t.type="binary",NP(r,t)}function VP(e){return e.match(/[^\x00-\x7F]/)?rv(e):e}function zP(e,t,r,o){return o?(r.type="string",pE.to_workbook(e,r)):pE.to_workbook(t,r)}function BP(e,t){rp();var r=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return BP(new Uint8Array(e),(r=ug(r),r.type="array",r));"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&!r.type&&(r.type="undefined"!==typeof Deno?"buffer":"array");var o=e,i=[0,0,0,0],n=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),v_={},r.dateNF&&(v_.dateNF=r.dateNF),r.type||(r.type=gp&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==r.type&&(r.type=gp?"buffer":"binary",o=$f(e),"undefined"===typeof Uint8Array||gp||(r.type="array")),"string"==r.type&&(n=!0,r.type="binary",r.codepage=65001,o=VP(e)),"array"==r.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var a=new ArrayBuffer(3),s=new Uint8Array(a);if(s.foo="bar",!s.foo)return r=ug(r),r.type="array",BP(Sp(o),r)}switch((i=LP(o,r))[0]){case 208:if(207===i[1]&&17===i[2]&&224===i[3]&&161===i[4]&&177===i[5]&&26===i[6]&&225===i[7])return FP(Bf.read(o,r),r);break;case 9:if(i[1]<=8)return QD(o,r);break;case 60:return OD(o,r);case 73:if(73===i[1]&&42===i[2]&&0===i[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===i[1])return fE(o,r);break;case 84:if(65===i[1]&&66===i[2]&&76===i[3])return dE.to_workbook(o,r);break;case 80:return 75===i[1]&&i[2]<9&&i[3]<9?IP(o,r):zP(e,o,r,n);case 239:return 60===i[3]?OD(o,r):zP(e,o,r,n);case 255:if(254===i[1])return GP(o,r);if(0===i[1]&&2===i[2]&&0===i[3])return gE.to_workbook(o,r);break;case 0:if(0===i[1]){if(i[2]>=2&&0===i[3])return gE.to_workbook(o,r);if(0===i[2]&&(8===i[3]||9===i[3]))return gE.to_workbook(o,r)}break;case 3:case 131:case 139:case 140:return cE.to_workbook(o,r);case 123:if(92===i[1]&&114===i[2]&&116===i[3])return oS.to_workbook(o,r);break;case 10:case 13:case 32:return HP(o,r);case 137:if(80===i[1]&&78===i[2]&&71===i[3])throw new Error("PNG Image File is not a spreadsheet");break}return lE.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?cE.to_workbook(o,r):zP(e,o,r,n)}function jP(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Uf(t.file,Bf.write(e,{type:gp?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Bf.write(e,t)}function WP(e,t){var r=ug(t||{}),o=AP(e,r);return UP(o,r)}function UP(e,t){var r={},o=gp?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=o;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=o;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Bf.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!==typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(wp(i))}return t.password&&"undefined"!==typeof encrypt_agile?jP(encrypt_agile(i,t.password),t):"file"===t.type?Uf(t.file,i):"string"==t.type?tv(i):i}function $P(e,t){var r=t||{},o=ZD(e,r);return jP(o,r)}function KP(e,t,r){r||(r="");var o=r+e;switch(t.type){case"base64":return pp(rv(o));case"binary":return rv(o);case"string":return e;case"file":return Uf(t.file,o,"utf8");case"buffer":return gp?vp(o,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(o):KP(o,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function YP(e,t){switch(t.type){case"base64":return pp(e);case"binary":return e;case"string":return e;case"file":return Uf(t.file,e,"binary");case"buffer":return gp?vp(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function qP(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",o=0;o<e.length;++o)r+=String.fromCharCode(e[o]);return"base64"==t.type?pp(r):"string"==t.type?tv(r):r;case"file":return Uf(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function XP(e,t){rp(),NO(e);var r=ug(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var o=XP(e,r);return r.type="array",wp(o)}var i=0;if(r.sheet&&(i="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return KP(BD(e,r),r);case"slk":case"sylk":return KP(uE.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return KP(_A(e.Sheets[e.SheetNames[i]],r),r);case"txt":return YP(iM(e.Sheets[e.SheetNames[i]],r),r);case"csv":return KP(oM(e.Sheets[e.SheetNames[i]],r),r,"\ufeff");case"dif":return KP(dE.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return qP(cE.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return KP(pE.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return KP(oS.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return KP(hE.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return KP(VA(e,r),r);case"wk1":return qP(gE.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return qP(gE.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),qP(wA(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),$P(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return WP(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function JP(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function QP(e,t,r){var o=r||{};return o.type="file",o.file=t,JP(o),XP(e,o)}function ZP(e,t,r,o,i,n,a,s){var l=pm(r),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,h=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch(v){h.__rowNum__=r}else h.__rowNum__=r;if(!a||e[r])for(var p=t.s.c;p<=t.e.c;++p){var f=a?e[r][p]:e[o[p]+l];if(void 0!==f&&void 0!==f.t){var g=f.v;switch(f.t){case"z":if(null==g)break;continue;case"e":g=0==g?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+f.t)}if(null!=n[p]){if(null==g)if("e"==f.t&&null===g)h[n[p]]=null;else if(void 0!==c)h[n[p]]=c;else{if(!u||null!==g)continue;h[n[p]]=null}else h[n[p]]=u&&("n"!==f.t||"n"===f.t&&!1!==s.rawNumbers)?g:_m(f,g,s);null!=g&&(d=!1)}}else{if(void 0===c)continue;null!=n[p]&&(h[n[p]]=c)}}return{row:h,isempty:d}}function eM(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},o=0,i=1,n=[],a=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?o=1:"A"===c.header?o=2:Array.isArray(c.header)?o=3:null==c.header&&(o=0),typeof u){case"string":l=Tm(u);break;case"number":l=Tm(e["!ref"]),l.s.r=u;break;default:l=u}o>0&&(i=0);var d=pm(l.s.r),h=[],p=[],f=0,g=0,v=Array.isArray(e),m=l.s.r,b=0,y={};v&&!e[m]&&(e[m]=[]);var w=c.skipHidden&&e["!cols"]||[],C=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(w[b]||{}).hidden)switch(h[b]=mm(b),r=v?e[m][b]:e[h[b]+d],o){case 1:n[b]=b-l.s.c;break;case 2:n[b]=h[b];break;case 3:n[b]=c.header[b-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),s=a=_m(r,null,c),g=y[a]||0,g){do{s=a+"_"+g++}while(y[s]);y[a]=g,y[s]=1}else y[a]=1;n[b]=s}for(m=l.s.r+i;m<=l.e.r;++m)if(!(C[m]||{}).hidden){var E=ZP(e,l,m,h,o,n,v,c);(!1===E.isempty||(1===o?!1!==c.blankrows:c.blankrows))&&(p[f++]=E.row)}return p.length=f,p}var tM=/"/g;function rM(e,t,r,o,i,n,a,s){for(var l=!0,c=[],u="",d=pm(r),h=t.s.c;h<=t.e.c;++h)if(o[h]){var p=s.dense?(e[r]||[])[h]:e[o[h]+d];if(null==p)u="";else if(null!=p.v){l=!1,u=""+(s.rawNumbers&&"n"==p.t?p.v:_m(p,null,s));for(var f=0,g=0;f!==u.length;++f)if((g=u.charCodeAt(f))===i||g===n||34===g||s.forceQuotes){u='"'+u.replace(tM,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==p.f||p.F?u="":(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(tM,'""')+'"'));c.push(u)}return!1===s.blankrows&&l?null:c.join(a)}function oM(e,t){var r=[],o=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=Tm(e["!ref"]),n=void 0!==o.FS?o.FS:",",a=n.charCodeAt(0),s=void 0!==o.RS?o.RS:"\n",l=s.charCodeAt(0),c=new RegExp(("|"==n?"\\|":n)+"+$"),u="",d=[];o.dense=Array.isArray(e);for(var h=o.skipHidden&&e["!cols"]||[],p=o.skipHidden&&e["!rows"]||[],f=i.s.c;f<=i.e.c;++f)(h[f]||{}).hidden||(d[f]=mm(f));for(var g=0,v=i.s.r;v<=i.e.r;++v)(p[v]||{}).hidden||(u=rM(e,i,v,d,a,l,n,o),null!=u&&(o.strip&&(u=u.replace(c,"")),(u||!1!==o.blankrows)&&r.push((g++?s:"")+u)));return delete o.dense,r.join("")}function iM(e,t){t||(t={}),t.FS="\t",t.RS="\n";var r=oM(e,t);if("undefined"==typeof ap||"string"==t.type)return r;var o=ap.utils.encode(1200,r,"str");return String.fromCharCode(255)+String.fromCharCode(254)+o}function nM(e){var t,r="",o="";if(null==e||null==e["!ref"])return[];var i,n=Tm(e["!ref"]),a="",s=[],l=[],c=Array.isArray(e);for(i=n.s.c;i<=n.e.c;++i)s[i]=mm(i);for(var u=n.s.r;u<=n.e.r;++u)for(a=pm(u),i=n.s.c;i<=n.e.c;++i)if(r=s[i]+a,t=c?(e[u]||[])[i]:e[r],o="",void 0!==t){if(null!=t.F){if(r=t.F,!t.f)continue;o=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)o=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)o=""+t.v;else if("b"==t.t)o=t.v?"TRUE":"FALSE";else if(void 0!==t.w)o="'"+t.w;else{if(void 0===t.v)continue;o="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=r+"="+o}return l}function aM(e,t,r){var o,i=r||{},n=+!i.skipHeader,a=e||{},s=0,l=0;if(a&&null!=i.origin)if("number"==typeof i.origin)s=i.origin;else{var c="string"==typeof i.origin?Cm(i.origin):i.origin;s=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:s+t.length-1+n}};if(a["!ref"]){var d=Tm(a["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),-1==s&&(s=d.e.r+1,u.e.r=s+t.length-1+n)}else-1==s&&(s=0,u.e.r=t.length-1+n);var h=i.header||[],p=0;t.forEach((function(e,t){Kf(e).forEach((function(r){-1==(p=h.indexOf(r))&&(h[p=h.length]=r);var c=e[r],u="z",d="",f=Em({c:l+p,r:s+t+n});o=lM(a,f),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",i.cellDates||(u="n",c=Zf(c)),d=i.dateNF||Vp[14]):null===c&&i.nullError&&(u="e",c=0),o?(o.t=u,o.v=c,delete o.w,delete o.R,d&&(o.z=d)):a[f]=o={t:u,v:c},d&&(o.z=d)):a[f]=c}))})),u.e.c=Math.max(u.e.c,l+h.length-1);var f=pm(s);if(n)for(p=0;p<h.length;++p)a[mm(p+l)+f]={t:"s",v:h[p]};return a["!ref"]=xm(u),a}function sM(e,t){return aM(null,e,t)}function lM(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var o=Cm(t);return e[o.r]||(e[o.r]=[]),e[o.r][o.c]||(e[o.r][o.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return lM(e,Em("number"!=typeof t?t:{r:t,c:r||0}))}function cM(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}function uM(){return{SheetNames:[],Sheets:{}}}function dM(e,t,r,o){var i=1;if(!r)for(;i<=65535;++i,r=void 0)if(-1==e.SheetNames.indexOf(r="Sheet"+i))break;if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(o&&e.SheetNames.indexOf(r)>=0){var n=r.match(/(^.*?)(\d+)$/);i=n&&+n[2]||0;var a=n&&n[1]||r;for(++i;i<=65535;++i)if(-1==e.SheetNames.indexOf(r=a+i))break}if(FO(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function hM(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var o=cM(e,t);switch(e.Workbook.Sheets[o]||(e.Workbook.Sheets[o]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[o].Hidden=r}function pM(e,t){return e.z=t,e}function fM(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function gM(e,t,r){return fM(e,"#"+t,r)}function vM(e,t,r){e.c||(e.c=[]),e.c.push({t:t,a:r||"SheetJS"})}function mM(e,t,r,o){for(var i="string"!=typeof t?t:Tm(t),n="string"==typeof t?t:xm(t),a=i.s.r;a<=i.e.r;++a)for(var s=i.s.c;s<=i.e.c;++s){var l=lM(e,a,s);l.t="n",l.F=n,delete l.v,a==i.s.r&&s==i.s.c&&(l.f=r,o&&(l.D=!0))}return e}var bM={encode_col:mm,encode_row:pm,encode_cell:Em,encode_range:xm,decode_col:vm,decode_row:hm,split_cell:wm,decode_cell:Cm,decode_range:Sm,format_cell:_m,sheet_add_aoa:Om,sheet_add_json:aM,sheet_add_dom:RA,aoa_to_sheet:Dm,json_to_sheet:sM,table_to_sheet:OA,table_to_book:DA,sheet_to_csv:oM,sheet_to_txt:iM,sheet_to_json:eM,sheet_to_html:_A,sheet_to_formulae:nM,sheet_to_row_object_array:eM,sheet_get_cell:lM,book_new:uM,book_append_sheet:dM,book_set_sheet_visibility:hM,cell_set_number_format:pM,cell_set_hyperlink:fM,cell_set_internal_link:gM,cell_add_comment:vM,sheet_set_array_formula:mM,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};Yh.version;var yM=(0,o.aZ)({components:{"vue-excel-filter":ge,"panel-filter":qe,"panel-setting":Ei,"panel-find":Ai,"date-picker":$h},props:{disablePanelSetting:{type:Boolean,default(){return!1}},disablePanelFilter:{type:Boolean,default(){return!1}},modelValue:{type:Array,default(){return[]}},rowStyle:{type:Function,default(){return{}}},cellStyle:{type:Function,default(){return{}}},headerLabel:{type:Function,default(e){return e}},recordLabel:{type:Function,default(e){return e}},noFinding:{type:Boolean,default:!1},noFindingNext:{type:Boolean,default:!1},filterRow:{type:Boolean,default:!1},freeSelect:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noPaging:{type:Boolean,default:!1},noNumCol:{type:Boolean,default:!1},noMouseScroll:{type:Boolean,default:!1},page:{type:Number,default:0},enterToSouth:{type:Boolean,default:!1},nFilterCount:{type:Number,default:1e3},height:{type:String,default:""},width:{type:String,default:"100%"},autocomplete:{type:Boolean,default:!1},autocompleteCount:{type:Number,default:50},readonly:{type:Boolean,default:!1},readonlyStyle:{type:Object,default(){return{}}},remember:{type:Boolean,default:!1},register:{type:Function,default:null},allowAddCol:{type:Boolean,default:!1},noHeaderEdit:{type:Boolean,default:!1},addColumn:{type:Function,default:null},spellcheck:{type:Boolean,default:!1},newIfBottom:{type:Boolean,default:!1},validate:{type:Function,default:null},localizedLabel:{type:Object,default(){return{footerLeft:(e,t,r)=>`Record ${e} to ${t} of ${r}`,first:"First",previous:"Previous",next:"Next",last:"Last",footerRight:{selected:"Selected:",filtered:"Filtered:",loaded:"Loaded:"},processing:"Processing",tableSetting:"Table Setting",exportExcel:"Export Excel",importExcel:"Import Excel",back:"Back",reset:"Default",sortingAndFiltering:"Sorting And Filtering",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",near:"≒ Near",exactMatch:"= Exact Match",notMatch:"≠ Not Match",greaterThan:"&gt; Greater Than",greaterThanOrEqualTo:"≥ Greater Than or Equal To",lessThan:"&lt; Less Than",lessThanOrEqualTo:"≤ Less Than Or Equal To",regularExpression:"~ Regular Expression",customFilter:"Custom Filter",listFirstNValuesOnly:e=>`List first ${e} values only`,apply:"Apply",noRecordIsRead:"No record is read",readonlyColumnDetected:"Readonly column detected",columnHasValidationError:(e,t)=>`Column ${e} has validation error: ${t}`,rowHasValidationError:(e,t,r)=>`Row ${e} has validation error for column ${t}: ${r}`,noMatchedColumnName:"No matched column name",invalidInputValue:"Invalid input value",missingKeyColumn:"Missing key column",noRecordIndicator:"No record"}}},recordFilter:{type:Function,default(){return!0}}},data(){const e=this.noPaging?999999:20,t={version:"1.3",tableContent:null,systable:null,colgroupTr:null,labelTr:null,filterTr:null,recordBody:null,footer:null,pageSize:e,pageTop:0,selected:{},selectedCount:0,prevSelect:-1,processing:!1,rowIndex:{},currentRecord:null,currentRowPos:0,currentColPos:0,currentField:null,currentCell:null,inputBox:null,inputBoxShow:0,inputSquare:null,autocompleteInputs:[],autocompleteSelect:-1,errmsg:{},rowerr:{},tip:"",colHash:"",fields:[],focused:!1,mousein:!1,inputBoxChanged:!1,columnFilter:{},inputFind:"",calCellLeft:0,calCellTop:0,calCellTop2:29,frontdrop:null,sortPos:0,sortDir:0,redo:[],lazyTimeout:{},lazyBuffer:{},hScroller:{},vScroller:{},leftMost:0,showDatePicker:!1,inputDateTime:new Date,table:[],filteredValue:[],lastFilterTime:"",summaryRow:!1,summary:{},showFilteredOnly:!0,showSelectedOnly:!1};return t},computed:{token(){const e=Array.from(document.querySelectorAll(".vue-excel-editor")).indexOf(this.$el);return`vue-excel-editor-${e}`},columnFilterString(){return Object.keys(this.columnFilter).forEach((e=>{""===this.columnFilter[e].trim()&&delete this.columnFilter[e]})),JSON.stringify(this.columnFilter)},pagingTable(){return this.table.slice(this.pageTop,this.pageTop+this.pageSize)},pageBottom(){return 0===this.filteredValue.length?0:this.pageTop+this.pageSize>this.table.length?this.table.length:this.pageTop+this.pageSize},setting:{get(){return null},set(e){if(e.fields){if(e.fields.length!==this.fields.length)return;let t=!0;const r=e.fields.map((e=>{const r=this.fields.find((t=>t.name===e.name));return r?("undefined"!==typeof e.invisible&&(r.invisible=e.invisible),"undefined"!==typeof e.width&&(r.width=e.width),"undefined"!==typeof e.label&&(r.label=e.label)):t=!1,r}));if(t){this.fields=r;const e=(0,o.FN)();e?.proxy?.$forceUpdate()}}}}},watch:{modelValue(){this.lazy((()=>{this.refresh(),this.pageTop>this.table.length&&this.lastPage()}))},columnFilterString(){this.lastFilterTime=String((new Date).getTime()%1e8),this.processing=!0,setTimeout((()=>{this.pageTop=0,this.refresh(),this.processing=!1}),0)},fields:{handler(){this.lazy((()=>{const e=this.getSetting();this.remember&&(localStorage[window.location.pathname+"."+this.token]=JSON.stringify(e)),this.$emit("setting",e)}))},deep:!0},processing(e){if(e){const e=this.$el.children[0].getBoundingClientRect();this.frontdrop.style.top=e.top+"px",this.frontdrop.style.left=e.left+"px",this.frontdrop.style.height=e.height+"px",this.frontdrop.style.width=e.width+"px"}},pageTop(e){this.$emit("page-changed",e,e+this.pageSize-1)},pageSize(e){this.$emit("page-changed",this.pageTop,this.pageTop+e-1)}},beforeUnmount(){window.removeEventListener("resize",this.winResize),window.removeEventListener("paste",this.winPaste),window.removeEventListener("keydown",this.winKeydown),window.removeEventListener("keyup",this.winKeyup),window.removeEventListener("scroll",this.winScroll),window.removeEventListener("wheel",this.mousewheel)},mounted(){if(this.editor=this.$refs.editor,this.tableContent=this.$refs.tableContent,this.systable=this.$refs.systable,this.colgroupTr=this.systable.children[0],this.labelTr=this.systable.children[1].children[0],this.filterTr=this.systable.children[1].children[1],this.recordBody=this.systable.children[2],this.footer=this.$refs.footer,this.inputSquare=this.$refs.inputSquare,this.inputBox=this.$refs.inputBox,this.frontdrop=this.$refs.frontdrop,this.height&&(this.systable.parentNode.style.height=this.height),this.reset(),this.lazy((()=>{this.labelTr.children[0].style.height=this.labelTr.offsetHeight+"px",this.calCellTop2=this.labelTr.offsetHeight,this.refreshPageSize(),this.tableContent.scrollTo(0,this.tableContent.scrollTop),this.calStickyLeft()}),200),window.addEventListener("resize",this.winResize),window.addEventListener("paste",this.winPaste),window.addEventListener("keydown",this.winKeydown),window.addEventListener("keyup",this.winKeyup),window.addEventListener("scroll",this.winScroll),window.addEventListener("wheel",this.mousewheel,{passive:!1}),this.remember){const e=localStorage[window.location.pathname+"."+this.token];if(e){const t=JSON.parse(e);t.colHash===this.colHash&&(this.setting=t)}}},methods:{componentTabInto(e){9===e.keyCode&&(this.moveInputSquare(this.currentRowPos,this.currentColPos)||this.moveInputSquare(0,0))},reset(){this.errmsg={},this.redo=[],this.showFilteredOnly=!0,this.showSelectedOnly=!1,this.columnFilter={},this.sortPos=0,this.sortDir=0,this.inputFind="",this.pageTop=0,this.selected={},this.selectedCount=0,this.prevSelect=-1,this.processing=!1,this.rowIndex={},this.refresh()},toggleSelectView(e){return e&&e.stopPropagation(),this.showSelectedOnly=!this.showSelectedOnly,this.refresh()},toggleFilterView(e){return e&&e.stopPropagation(),this.showFilteredOnly=!this.showFilteredOnly,this.refresh()},resetColumn(){this.fields=[],this.tableContent.scrollTo(0,this.tableContent.scrollTop),this.calStickyLeft()},registerColumn(e){let t=this.fields.findIndex((t=>t.pos>e.pos));-1===t&&(t=this.fields.length),this.fields.splice(t,0,e),this.register&&this.register(e,t),e.register&&e.register(e,t),e.summary&&(this.summaryRow=!0),this.colHash=this.hashCode(this.version+JSON.stringify(this.fields))},insertColumn(e){const t="COL-"+Math.random().toString().slice(2,6);let r={name:t,label:t,type:"string",width:"100px",validate:null,change:null,link:null,sort:null,keyField:!1,sticky:!1,allowKeys:null,mandatory:!1,lengthLimit:0,autocomplete:this.autocomplete,textTransform:null,initStyle:"left",invisible:!1,readonly:this.readonly,pos:0,options:null,summary:null,toValue:e=>e,toText:e=>e,register:null};this.addColumn&&(r=this.addColumn(r)),this.newColumn(r,e)},newColumn(e,t){this.fields.splice(t,0,e),this.register&&this.register(e,t),e.register&&e.register(e,t),e.summary&&(this.summaryRow=!0),this.colHash=this.hashCode(this.version+JSON.stringify(this.fields))},autoRegisterAllColumns(e){const t=e.slice(0,25).reduce(((e,t)=>Object.keys(t).map(((r,o)=>!e||t[r].length>e[o]?t[r].length:e[o]))),0).map((e=>Math.min(Math.max(8.2*e,55),250)));Object.keys(e[0]).forEach(((e,r)=>{"$id"!==e&&this.registerColumn({name:e,label:e,type:t[r]?"string":"number",width:(t[r]?t[r]:75)+"px",validate:null,change:null,link:null,keyField:!1,sticky:!1,tabStop:!0,allowKeys:null,mandatory:!1,lengthLimit:0,autocomplete:this.autocomplete,initStyle:{textAlign:t[r]?"left":"right"},invisible:!1,readonly:this.readonly,pos:0,options:null,summary:null,sort:null,toValue:e=>e,toText:e=>e,register:null})}))},refresh(){this.prevSelect=-1,0===this.fields.length&&this.modelValue.length&&Object.keys(this.modelValue[0])&&this.autoRegisterAllColumns(this.modelValue),this.calTable(),this.refreshPageSize()},calTable(){let e=String((new Date).getTime()%1e8);if(this.modelValue.forEach(((t,r)=>{t.$id||(t.$id=e+"-"+("000000"+r).slice(-7))})),!1===this.showFilteredOnly)this.table=this.modelValue;else{const e=Object.keys(this.columnFilter),t={};e.forEach((e=>{switch(!0){case this.columnFilter[e].startsWith("<="):t[e]={type:1,modelValue:this.columnFilter[e].slice(2).trim().toUpperCase()},"number"===this.fields[e].type&&(t[e].modelValue=Number(t[e].modelValue));break;case this.columnFilter[e].startsWith("<>"):t[e]={type:9,modelValue:this.columnFilter[e].slice(2).trim().toUpperCase()};break;case this.columnFilter[e].startsWith("<"):t[e]={type:2,modelValue:this.columnFilter[e].slice(1).trim().toUpperCase()},"number"===this.fields[e].type&&(t[e].modelValue=Number(t[e].modelValue));break;case this.columnFilter[e].startsWith(">="):t[e]={type:3,modelValue:this.columnFilter[e].slice(2).trim().toUpperCase()},"number"===this.fields[e].type&&(t[e].modelValue=Number(t[e].modelValue));break;case this.columnFilter[e].startsWith(">"):t[e]={type:4,modelValue:this.columnFilter[e].slice(1).trim().toUpperCase()},"number"===this.fields[e].type&&(t[e].modelValue=Number(t[e].modelValue));break;case this.columnFilter[e].startsWith("="):t[e]={type:0,modelValue:this.columnFilter[e].slice(1).trim().toUpperCase()};break;case this.columnFilter[e].startsWith("*")&&this.columnFilter[e].endsWith("*"):t[e]={type:5,modelValue:this.columnFilter[e].slice(1).slice(0,-1).trim().toUpperCase()};break;case this.columnFilter[e].startsWith("*")&&!this.columnFilter[e].slice(1).includes("*"):t[e]={type:6,modelValue:this.columnFilter[e].slice(1).trim().toUpperCase()};break;case this.columnFilter[e].startsWith("~"):t[e]={type:8,modelValue:this.columnFilter[e].slice(1).trim()};break;case this.columnFilter[e].endsWith("*")&&!this.columnFilter[e].slice(0,-1).includes("*"):t[e]={type:7,modelValue:this.columnFilter[e].slice(0,-1).trim().toUpperCase()};break;case this.columnFilter[e].includes("*")||this.columnFilter[e].includes("?"):t[e]={type:8,modelValue:"^"+this.columnFilter[e].replace(/\*/g,".*").replace(/\?/g,".").trim()+"$"};break;default:t[e]={type:5,modelValue:this.columnFilter[e].trim().toUpperCase()};break}})),this.filteredValue=this.modelValue.filter((e=>this.recordFilter(e))),0===e.length?this.table=this.filteredValue:this.table=this.filteredValue.filter((r=>{if(r.$id>this.lastFilterTime)return!0;const o={};e.forEach((e=>{const i=r[this.fields[e].name];"number"===this.fields[e].type&&t[e].type<=4?o[e]=i:o[e]="undefined"===typeof i||null===i?"":String(i).toUpperCase()}));for(let i=0;i<e.length;i++){const r=e[i];switch(t[r].type){case 0:if(`${o[r]}`!==`${t[r].modelValue}`)return!1;break;case 1:if(t[r].modelValue<o[r])return!1;break;case 2:if(t[r].modelValue<=o[r])return!1;break;case 3:if(t[r].modelValue>o[r])return!1;break;case 4:if(t[r].modelValue>=o[r])return!1;break;case 5:if(!o[r].includes(t[r].modelValue))return!1;break;case 6:if(!o[r].endsWith(t[r].modelValue))return!1;break;case 7:if(!o[r].startsWith(t[r].modelValue))return!1;break;case 8:if(!new RegExp(t[r].modelValue,"i").test(o[r]))return!1;break;case 9:if(`${o[r]}`===`${t[r].modelValue}`)return!1;break}}return!0}))}this.reviseSelectedAfterTableChange(),this.showSelectedOnly&&(this.table=this.table.filter(((e,t)=>this.selected[t])),this.reviseSelectedAfterTableChange()),this.calSummary()},calStickyLeft(){let e=0,t=0;this.leftMost=-1,Array.from(this.labelTr.children).forEach((r=>{e+=r.offsetWidth;const o=this.fields[t++];o&&(o.sticky?(o.left=e+"px",this.leftMost=-1):-1===this.leftMost&&(this.leftMost=e))}));const r=(0,o.FN)();r?.proxy?.$forceUpdate()},renderColumnCellStyle(e){let t=e.initStyle;return e.readonly&&(t=Object.assign(t,this.readonlyStyle)),e.left&&(t=Object.assign(t,{left:e.left})),t},localeDate(e){"undefined"===typeof e&&(e=new Date);const t=e=>e<10?"0"+e:e;return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())},calSummary(e){this.fields.forEach((t=>{if(!t.summary)return;const r=t.name;if(e&&e!==r)return;let o="";const i=(new Date).getTime(),n=this.localeDate(),a=n.slice(0,19),s=n.slice(0,10);switch(t.summary){case"sum":o=this.table.reduce(((e,t)=>e+Number(t[r]?t[r]:0)),0),o=Number(Math.round(o+"e+5")+"e-5");break;case"avg":o=this.table.reduce(((e,t)=>e+Number(t[r]?t[r]:0)),0)/this.table.length,o=Number(Math.round(o+"e+5")+"e-5");break;case"max":o=this.table.reduce(((e,t)=>e>t[r]?e:t[r]),Number.MIN_VALUE);break;case"min":o=this.table.reduce(((e,t)=>e<t[r]?e:t[r]),Number.MAX_VALUE);break;case"count":switch(t.type){case"checkYN":o=this.table.reduce(((e,t)=>e+("Y"===t[r]?1:0)),0);break;case"check10":o=this.table.reduce(((e,t)=>e+("1"===t[r]?1:0)),0);break;case"checkTF":o=this.table.reduce(((e,t)=>e+("T"===t[r]?1:0)),0);break;case"date":return o=this.table.reduce(((e,t)=>e+(t[r]>=s?1:0)),0),void(this.summary[r]=o);case"datetime":return o=this.table.reduce(((e,t)=>e+(t[r]>=a?1:0)),0),void(this.summary[r]=o);case"datetimesec":return o=this.table.reduce(((e,t)=>e+(t[r]>=n?1:0)),0),void(this.summary[r]=o);case"datetick":case"datetimetick":case"datetimesectick":return o=this.table.reduce(((e,t)=>e+(t[r]>=i?1:0)),0),void(this.summary[r]=o);default:o=this.table.reduce(((e,t)=>e+(t[r]?1:0)),0);break}break}"number"===t.type&&isNaN(o)||(this.summary[r]=t.toText(o))}))},getKeys(e){e||(e=this.currentRecord);const t=this.fields.filter((e=>e.keyField)).map((t=>e[t.name]));return t.length&&""!==t.join()?t:[e.$id]},getFieldByName(e){return this.fields.find((t=>t.name===e))},getFieldByLabel(e){return this.fields.find((t=>t.label===e))},setFilter(e,t){const r=this.$refs[`filter-${e}`][0];r.$el.textContent=t,r.$emit("update:modelValue",t)},clearFilter(e){e?this.setFilter(e,""):this.columnFilter={}},columnSuppress(){if(0===this.table.length)return;const e={};this.table.forEach((t=>{Object.keys(t).forEach((r=>{t[r]&&(e[r]=1)}))}));const t=Object.keys(e);this.fields.forEach((e=>{t.includes(e.name)||(e.invisible=!0)}))},columnAutoWidth(e){if(0===this.table.length)return;let t=this.fields;e&&(t=[this.fields.find((t=>t.name===e))]);const r={};this.table.forEach((e=>{t.forEach((t=>{e[t.name]&&(!r[t.name]||r[t.name]<e[t.name].length)&&(r[t.name]=e[t.name].length)}))})),t.forEach((e=>{let t=12*r[e.name];t>450&&(t=450),e.width=t+"px"}))},columnFillWidth(){if(0===this.table.length)return;if(!this.editor)return;const e=this.fields.filter((e=>e.autoFillWidth)),t=e.length;if(!t)return;const r=this.editor.getBoundingClientRect().width,o=this.fields.filter((e=>!e.invisible)).reduce(((e,t)=>e- -t.width.replace(/px$/,"")),0)+(this.noNumCol?0:40),i=o-r+2;i&&e.forEach((e=>e.width=e.width.replace(/px$/,"")-i/t+"px"))},showDatePickerDiv(){if(!this.$refs.dpContainer)return;const e=this.currentCell.getBoundingClientRect();this.$refs.dpContainer.style.left=e.left+"px",this.$refs.dpContainer.style.top=e.bottom+"px",this.inputDateTime=new Date(this.currentCell.textContent),this.showDatePicker=!0,this.lazy((()=>{if(!this.$refs.dpContainer)return;const t=this.$refs.dpContainer.getBoundingClientRect();t.bottom>window.innerHeight&&(this.$refs.dpContainer.style.top=e.top-t.height+"px"),t.right>window.innerWidth&&(this.$refs.dpContainer.style.left=window.innerWidth-t.width+"px")}))},datepickerClick(){const e=60*(new Date).getTimezoneOffset()*1e3;switch(this.currentField.type){case"date":this.inputBox.value=new Date(new Date(this.inputDateTime)-e).toISOString().slice(0,10);break;case"datetime":this.inputBox.value=new Date(new Date(this.inputDateTime)-e).toISOString().replace("T"," ").slice(0,16)+":00";break;case"datetimesec":this.inputBox.value=new Date(new Date(this.inputDateTime)-e).toISOString().replace("T"," ").slice(0,19),this.inputBox.value=m.format("YYYY-MM-DD hh:mn:ss");break;case"datetick":case"datetimetick":case"datetimesectick":this.inputBox.value=m.valueOf();break}this.inputBoxShow=0,this.inputCellWrite(this.inputBox.value),this.showDatePicker=!1,this.focused=!0},calVScroll(){let e=this.labelTr.getBoundingClientRect().height;this.filterRow&&(e+=29),this.vScroller.top=e,this.noFooter||(e+=25),this.summaryRow&&(e+=27);const t=this.$el.getBoundingClientRect().height;this.vScroller.height=t-e;const r=this.vScroller.height/(24*this.table.length);this.vScroller.buttonHeight=Math.max(24,this.vScroller.height*r);const i=(this.tableContent.scrollTop+24*this.pageTop)/(24*this.table.length-this.vScroller.height);this.vScroller.buttonTop=(this.vScroller.height-this.vScroller.buttonHeight)*i;const n=(0,o.FN)();n?.proxy?.$forceUpdate()},vsMouseDown(e){e.stopPropagation();const t=e.offsetY-this.vScroller.buttonHeight/2;let r=Math.max(0,t);r=Math.min(r,this.vScroller.height-this.vScroller.buttonHeight),r/=this.vScroller.height-this.vScroller.buttonHeight,this.noPaging?this.tableContent.scrollTo(this.tableContent.scrollLeft,24*this.table.length*r):(this.vScroller.buttonTop=r*(this.vScroller.height-this.vScroller.buttonHeight),this.$refs.vScrollButton.style.marginTop=this.vScroller.buttonTop+"px",this.pageTop=Math.round((this.table.length-this.pageSize)*r))},vsbMouseDown(e){e.stopPropagation(),this.vScroller.mouseY||(this.vScroller.saveButtonTop=this.vScroller.buttonTop,this.vScroller.mouseY=e.clientY,window.addEventListener("mousemove",this.vsbMouseMove),window.addEventListener("mouseup",this.vsbMouseUp),this.$refs.vScrollButton.classList.add("focus"))},vsbMouseUp(){if(window.removeEventListener("mousemove",this.vsbMouseMove),window.removeEventListener("mouseup",this.vsbMouseUp),this.lazy((()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")})),this.vScroller.mouseY=0,!this.noPaging){const e=this.vScroller.buttonTop/(this.vScroller.height-this.vScroller.buttonHeight);this.pageTop=Math.round((this.table.length-this.pageSize)*e)}this.vScroller.runner="";const e=(0,o.FN)();e?.proxy?.$forceUpdate()},vsbMouseMove(e){if(0===e.buttons)this.vsbMouseUp();else{const t=e.clientY-this.vScroller.mouseY;if(this.noPaging){const e=(this.vScroller.saveButtonTop+t)/(this.vScroller.height-this.vScroller.buttonHeight);this.tableContent.scrollTo(this.tableContent.scrollLeft,24*this.table.length*e)}else{this.vScroller.buttonTop=Math.max(0,Math.min(this.vScroller.height-this.vScroller.buttonHeight,this.vScroller.saveButtonTop+t)),this.$refs.vScrollButton.style.marginTop=this.vScroller.buttonTop+"px";const e=this.vScroller.buttonTop/(this.vScroller.height-this.vScroller.buttonHeight),r=Math.round((this.table.length-this.pageSize)*e)+1,i=this.table[r];this.vScroller.runner=r+"<br>"+this.fields.filter(((e,t)=>e.keyField||e.sticky||this.sortPos===t)).map((e=>e.label+": "+i[e.name])).join("<br>");const n=(0,o.FN)();n?.proxy?.$forceUpdate()}}},ftMouseDown(e){const t=this.footer.getBoundingClientRect(),r=(e.x-t.left-40)/(t.width-40),o=this.systable.getBoundingClientRect().width,i=this.tableContent.getBoundingClientRect().width;this.tableContent.scrollTo(o*r-i/2,this.tableContent.scrollTop)},sbMouseDown(e){if(e.stopPropagation(),!this.hScroller.mouseX){const t=this.$refs.hScroll.getBoundingClientRect().left,r=this.footer.getBoundingClientRect().left+40;this.hScroller.left=t-r,this.hScroller.mouseX=e.clientX,window.addEventListener("mousemove",this.sbMouseMove),window.addEventListener("mouseup",this.sbMouseUp),this.$refs.hScroll.classList.add("focus")}},sbMouseUp(){window.removeEventListener("mousemove",this.sbMouseMove),window.removeEventListener("mouseup",this.sbMouseUp),this.lazy((()=>{this.$refs.hScroll&&this.$refs.hScroll.classList.remove("focus")})),this.hScroller.mouseX=0;const e=(0,o.FN)();e?.proxy?.$forceUpdate()},sbMouseMove(e){if(0===e.buttons)this.sbMouseUp();else{const t=e.clientX-this.hScroller.mouseX,r=(this.hScroller.left+t)/this.hScroller.scrollerUnseenWidth;this.tableContent.scrollTo(this.hScroller.tableUnseenWidth*r,this.tableContent.scrollTop)}},tableScroll(){if(this.showDatePicker=!1,this.autocompleteInputs=[],this.focused&&this.currentField&&(this.inputSquare.style.marginLeft=(this.currentField.sticky?this.tableContent.scrollLeft-this.squareSavedLeft:0)+"px"),this.tableContent.scrollTop!==this.vScroller.lastTop&&(this.calVScroll(),this.$refs.vScrollButton&&(this.$refs.vScrollButton.classList.add("focus"),this.lazy((()=>this.$refs.vScrollButton.classList.remove("focus")),1e3))),this.vScroller.lastTop=this.tableContent.scrollTop,this.tableContent.scrollLeft!==this.hScroller.lastLeft&&this.$refs.hScroll&&this.hScroller.tableUnseenWidth){this.$refs.hScroll.classList.add("focus"),this.lazy((()=>this.$refs.hScroll.classList.remove("focus")),1e3);const e=this.tableContent.scrollLeft/this.hScroller.tableUnseenWidth;this.$refs.hScroll.style.left=this.hScroller.scrollerUnseenWidth*e+"px"}this.hScroller.lastLeft=this.tableContent.scrollLeft},winScroll(){this.showDatePicker=!1,this.autocompleteInputs=[]},mousewheel(e){if(this.noMouseScroll||!this.mousein||!e.deltaY)return;let t=0;return e.deltaY>30&&this.pageTop+this.pageSize<this.table.length?t=1:e.deltaY<-30&&this.pageTop>0&&(t=-1),t&&(this.pageTop+=t,setTimeout(this.calVScroll),this.$refs.vScrollButton&&(this.$refs.vScrollButton.classList.add("focus"),this.lazy((()=>this.$refs.vScrollButton.classList.remove("focus")),1e3))),e.preventDefault(),e.stopPropagation(),!1},winResize(){this.lazy(this.refreshPageSize,500)},winPaste(e){if("TEXTAREA"!==e.target.tagName)return;if(!this.mousein&&!this.focused)return;if(!this.currentField||this.currentField.readonly)return;if(this.inputBoxShow)return void(this.inputBoxChanged=!0);const t=(e.originalEvent||e).clipboardData.getData("text/plain");this.inputCellWrite(t),e.preventDefault()},winKeyup(e){e.altKey||this.systable.classList.remove("alt")},winKeydown(e){if(e.altKey&&this.systable.classList.add("alt"),this.mousein||this.focused)if(e.ctrlKey||e.metaKey)switch(e.keyCode){case 90:this.undoTransaction(),e.preventDefault();break;case 65:this.toggleSelectAllRecords(),e.preventDefault();break;case 67:this.inputBox.value=this.currentCell.textContent,this.inputBox.focus(),this.inputBox.select(),document.execCommand("copy"),e.preventDefault();break;case 70:this.noFinding||(this.$refs.panelFind.showPanel(),e.preventDefault());break;case 71:this.noFindingNext||""===this.inputFind||(this.doFindNext(),e.preventDefault());break;case 76:e.preventDefault(),this.calAutocompleteList(!0);break}else{if(this.currentRowPos<0)return;switch(e.keyCode){case 37:if(!this.focused)return;this.inputBoxShow?0===this.inputBox.selectionStart&&(this.moveWest(e),e.preventDefault()):(this.moveWest(e),e.preventDefault());break;case 38:if(!this.focused)return;if(e.preventDefault(),0===this.autocompleteInputs.length)this.moveNorth();else if(this.autocompleteSelect>0){this.autocompleteSelect--;const e=23*this.autocompleteSelect;e<this.$refs.autocomplete.scrollTop&&(this.$refs.autocomplete.scrollTop=e)}else-1===this.autocompleteSelect&&(this.autocompleteSelect=0);break;case 9:if(!this.focused)return;if(e.shiftKey){if(!this.moveWest(e)){if(!this.moveNorth(e))return this.inputBoxBlur();this.moveToEast(e)}}else if(!this.moveEast(e)){if(!this.moveSouth(e))return this.inputBoxBlur();this.moveToWest(e)}e.preventDefault();break;case 39:if(!this.focused)return;this.inputBoxShow?this.inputBox.selectionEnd===this.inputBox.value.length&&(this.moveEast(e),e.preventDefault()):(this.moveEast(e),e.preventDefault());break;case 40:if(!this.focused)return;if(e.preventDefault(),0===this.autocompleteInputs.length)this.moveSouth(e);else if(this.autocompleteSelect<this.autocompleteInputs.length-1&&(this.autocompleteSelect++,this.autocompleteSelect>=10)){const e=23*this.autocompleteSelect-206,t=this.$refs.autocomplete.scrollTop;t<e&&(this.$refs.autocomplete.scrollTop=e)}break;case 13:if(!this.focused)return;e.preventDefault(),0===this.autocompleteInputs.length||-1===this.autocompleteSelect?this.enterToSouth?this.moveSouth(e):this.moveEast(e):-1!==this.autocompleteSelect&&this.autocompleteSelect<this.autocompleteInputs.length?this.inputAutocompleteText(this.autocompleteInputs[this.autocompleteSelect]):(this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=0,this.inputBoxChanged=!1),this.inputBoxComplete();break;case 27:if(!this.focused)return;this.showDatePicker=!1,this.autocompleteInputs=[],this.autocompleteSelect=-1,this.inputBoxShow&&(e.preventDefault(),this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=0,this.inputBoxChanged=!1);break;case 33:this.prevPage(),e.preventDefault();break;case 34:this.nextPage(),e.preventDefault();break;case 8:case 46:if(!this.focused)return;if(this.inputBoxShow)return this.inputBoxChanged=!0,void setTimeout((()=>this.calAutocompleteList(!0)));if(this.currentField.readonly)return;if(this.autocompleteInputs.length)return;this.inputBoxChanged=!0,this.inputBox.value="",this.inputBoxComplete();break;default:if(!this.focused)return;if(this.currentField.readonly)return;if(e.altKey)return;if("Process"!==e.key&&e.key.length>1)return;if(!this.inputBoxShow&&"date"===this.currentField.type)return void this.showDatePickerDiv();if(this.currentField.allowKeys)if("Function"===this.currentField.allowKeys.constructor.name){if(!this.currentField.allowKeys(e.key.toUpperCase()))return e.preventDefault()}else if(-1===this.currentField.allowKeys.indexOf(e.key.toUpperCase()))return e.preventDefault();if(this.currentField.lengthLimit&&this.inputBox.value.length>=this.currentField.lengthLimit)return e.preventDefault();if(this.inputBoxShow)setTimeout((()=>this.calAutocompleteList(this.autocompleteInputs.length)));else{if("select"===this.currentField.type||"map"===this.currentField.type)return setTimeout((()=>this.calAutocompleteList(!0))),32===e.keyCode?e.preventDefault():(this.inputBox.value="",this.inputBoxShow=1,void this.inputBox.focus());this.inputBox.value="",this.inputBoxShow=1,this.inputBox.focus(),setTimeout(this.calAutocompleteList)}this.inputBoxChanged=!0;break}}},colSepMouseDown(e){if(e.preventDefault(),e.stopPropagation(),this.allowAddCol&&!e.target.classList.contains("col-sep")){e.target.style.display="none";const t=e.target.parentElement.parentElement,r=Array.from(t.parentElement.children).findIndex((e=>e===t));this.insertColumn(r)}this.focused=!1;const t=(e,t)=>{window.getComputedStyle(e,null).getPropertyValue(t)},r=Array.from(this.labelTr.children).indexOf(e.target.parentElement);this.sep={},this.sep.curCol=this.colgroupTr.children[r],this.sep.curField=this.fields[r-1],this.sep.pageX=e.pageX;let o=0;if("border-box"!==t(this.sep.curCol,"box-sizing")){const e=t(this.sep.curCol,"padding-left"),r=t(this.sep.curCol,"padding-right");e&&r&&(o=parseInt(e)+parseInt(r))}this.sep.curColWidth=e.target.parentElement.offsetWidth-o,window.addEventListener("mousemove",this.colSepMouseMove),window.addEventListener("mouseup",this.colSepMouseUp)},colSepMouseOver(e){e.target.classList.contains("col-sep")?(e.target.style.borderRight="5px solid #cccccc",e.target.style.height=this.systable.getBoundingClientRect().height+"px",this.allowAddCol&&(e.target.children[0].style.display="block")):(this.addColBtnTimeout&&clearTimeout(this.addColBtnTimeout),this.allowAddCol&&(e.target.style.display="block"))},colSepMouseOut(e){e.target.classList.contains("col-sep")?(e.target.style.borderRight="5px solid transparent",e.target.style.height="100%",this.addColBtnTimeout=setTimeout((()=>{e.target.children[0].style.display="none"}),500)):e.target.style.display="none"},colSepMouseMove(e){if(!this.sep||!this.sep.curCol)return;const t=e.pageX-this.sep.pageX,r=this.sep.curColWidth+t+"px";this.sep.curCol.style.width=r,this.sep.curField.width=r,this.lazy(this.calStickyLeft,200)},colSepMouseUp(e){e.preventDefault(),e.stopPropagation(),delete this.sep,window.removeEventListener("mousemove",this.colSepMouseMove),window.removeEventListener("mouseup",this.colSepMouseUp);const t=this.getSetting();this.remember&&(localStorage[window.location.pathname+"."+this.token]=JSON.stringify(t)),this.$emit("setting",t)},doFindNext(){return this.doFind()},doFind(e){"undefined"===typeof e?e=this.inputFind:this.inputFind=e,e=e.toUpperCase();const t=Math.max(0,this.currentRowPos);for(let r=t+this.pageTop;r<this.table.length;r++){const o=this.table[r];for(let i=r===t+this.pageTop?this.currentColPos+1:0;i<this.fields.length;i++){const t=this.fields[i].name;if("undefined"!==typeof o[t]&&String(o[t]).toUpperCase().indexOf(e)>=0)return this.pageTop=this.findPageTop(r),setTimeout((()=>{this.moveInputSquare(r-this.pageTop,i),setTimeout((()=>this.inputBox.focus())),this.focused=!0})),!0}}for(let r=0;r<=t+this.pageTop;r++){const o=this.table[r];for(let i=0;i<(r===t+this.pageTop?this.currentColPos:this.fields.length);i++){const t=this.fields[i].name;if("undefined"!==typeof o[t]&&String(o[t]).toUpperCase().indexOf(e)>=0)return this.pageTop=this.findPageTop(r),this.moveInputSquare(r-this.pageTop,i),setTimeout((()=>{this.focused=!0})),!0}}return!1},findPageTop(e){for(let t=this.pageTop;t<this.table.length;t+=this.pageSize)if(e>=t&&e<t+this.pageSize)return t;for(let t=this.pageTop;t>0;t-=this.pageSize)if(e>=t&&e<t+this.pageSize)return t;return this.pageTop},headerClick(e,t){if(!this.noHeaderEdit&&"SPAN"===e.target.tagName)return e.target.contentEditable=!0,void e.target.addEventListener("focusout",this.completeHeaderChange);1===e.which&&(e.preventDefault(),this.sortPos===t&&this.sortDir>0?this.sort(-1,t):this.sort(1,t))},completeHeaderChange(e){const t=e.target.parentElement.parentElement,r=Array.from(t.parentElement.children).findIndex((e=>e===t));this.fields[r-1].label=e.target.textContent},sort(e,t){this.processing=!0;const r="undefined"===typeof t?this.columnFilterRef.colPos:t,o=this.fields[r],i=o.name;setTimeout((()=>{let t=o.sort;null===t&&(t="number"===o.type?(e,t)=>Number(e[i])>Number(t[i])?1:Number(e[i])<Number(t[i])?-1:0:(e,t)=>String(e[i]).localeCompare(String(t[i]))),this.modelValue.sort(((r,o)=>t(r,o)*-e)),this.sortPos=r,this.sortDir=e,this.refresh(),this.processing=!1}),0)},refreshPageSize(){if(this.$refs.hScroll){const e=this.systable.getBoundingClientRect().width,t=this.tableContent.getBoundingClientRect().width;this.hScroller.tableUnseenWidth=e-t,this.$refs.hScroll.style.width=100*t/e+"%";const r=this.$refs.hScroll.getBoundingClientRect().width;this.hScroller.scrollerUnseenWidth=this.footer.getBoundingClientRect().width-40-r}if(this.noPaging){if("auto"===this.height){let e=Math.floor(window.innerHeight-this.tableContent.getBoundingClientRect().top-25),t=4;this.filterRow&&(t+=29),this.summaryRow&&(t+=25),this.footerRow||(t+=25),e=Math.min(24*(this.table.length-this.pageTop)+t,e),this.systable.parentNode.style.height=e+"px"}}else{const e=this.summaryRow?60:35;let t=window.innerHeight-this.recordBody.getBoundingClientRect().top-e;const r=1*this.height.replace(/px/,"")+this.systable.getBoundingClientRect().top-this.recordBody.getBoundingClientRect().top;this.height&&t>r&&(t=r),this.pageSize=this.page||Math.floor(t/24)}this.columnFillWidth(),setTimeout(this.calVScroll)},firstPage(e){e&&e.stopPropagation(),this.pageTop=0,this.calVScroll(),this.$refs.vScrollButton&&setTimeout((()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy((()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")}),1e3)}))},lastPage(e){e&&e.stopPropagation(),this.pageTop=this.table.length-this.pageSize<0?0:this.table.length-this.pageSize,this.calVScroll(),this.$refs.vScrollButton&&setTimeout((()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy((()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")}),1e3)}))},prevPage(e){e&&e.stopPropagation(),this.pageTop=this.pageTop<this.pageSize?0:this.pageTop-this.pageSize,this.calVScroll(),this.$refs.vScrollButton&&setTimeout((()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy((()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")}),1e3)}))},nextPage(e){e&&e.stopPropagation(),this.pageTop+this.pageSize<this.table.length&&(this.pageTop=Math.min(this.pageTop+this.pageSize,this.table.length-this.pageSize)),this.calVScroll(),this.$refs.vScrollButton&&setTimeout((()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy((()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")}),1e3)}))},getSetting(){const e=Array.from(this.colgroupTr.children).map((e=>e.style.width)),t=this.fields.map(((t,r)=>({name:t.name,invisible:t.invisible,width:e[r+1],label:t.label})));return{colHash:this.colHash,fields:t}},settingClick(){this.disablePanelSetting||this.$refs.panelSetting.showPanel()},panelFilterClick(e){this.disablePanelFilter||this.$refs.panelFilter.showPanel(this.$refs[`filter-${e.name}`][0])},importTable(e,t){this.$refs.importFile.click(),this.importCallback=e,this.importErrorCallback=t},doImport(e){this.processing=!0,this.clearAllSelected(),setTimeout((()=>{const t=e.target.files;if(!t||0===t.length)return;const r=t[0],o=new FileReader;o.onload=async e=>{try{const t=e.target.result,r=BP(t,{type:"binary",cellDates:!0,cellStyle:!1}),o=r.SheetNames[0];let i=bM.sheet_to_row_object_array(r.Sheets[o]);i=i.filter((e=>Object.keys(e).length>0)).map((e=>(e.key_1&&(e.key=e.key_1,delete e.key_1),Object.keys(e).forEach((t=>{"string"===typeof e[t]&&(e[t]=e[t].replace(/[ \r\n\t]+$/g,""))})),e)));const n=String((new Date).getTime()%1e8);if(0===i.length)throw this.importErrorCallback&&this.importErrorCallback("noRecordIsRead"),new Error("VueExcelEditor: "+this.localizedLabel.noRecordIsRead);if(this.fields.filter((e=>e.keyField)).filter((e=>"undefined"===typeof i[0][e.name]&&"undefined"===typeof i[0][e.label])).length>0)throw this.importErrorCallback&&this.importErrorCallback("missingKeyColumn"),new Error(`VueExcelEditor: ${this.localizedLabel.missingKeyColumn}`);let a=0,s=0,l=0;while(a<2){const e=this.fields.filter((e=>e.keyField));let t=[];await Promise.all(i.map((async(r,o)=>{let i=-1;if(e.length&&(i=this.table.findIndex((t=>e.filter((e=>"undefined"!==typeof t[e.name]&&(t[e.name]===r[e.name]||t[e.name]===r[e.label]))).length===e.length)),-1===i)){const o=e.map((e=>r[e.name]||r[e.label])).join(":");if(o){if(t.includes(o))return;t.push(o)}}-1===i&&(i=this.table.findIndex((e=>0===Object.keys(e).filter((e=>!e.startsWith("$"))).length)));const c={$id:"undefined"===typeof r.$id?n+"-"+("000000"+o).slice(-7):r.$id};await Promise.all(this.fields.map((async e=>{if(e.name.startsWith("$"))return;let t=r[e.name];if("undefined"===typeof t&&(t=r[e.label]),"undefined"===typeof t)t=null;else{if(e.readonly)throw this.importErrorCallback&&this.importErrorCallback("readonlyColumnDetected",o+1),new Error(`VueExcelEditor: [row=${o+1}] `+this.localizedLabel.readonlyColumnDetected+": "+e.name);if(e.change){let r=await e.change(t,c[e.name],c,e);if(!1===r)throw this.importErrorCallback&&this.importErrorCallback("columnHasValidationError",o+1),new Error(`VueExcelEditor: [row=${o+1}, val=${t}] `+this.localizedLabel.columnHasValidationError(e.name,""))}if(e.validate){let r;if(r=e.validate(t,c[e.name],c,e))throw this.importErrorCallback&&this.importErrorCallback("columnHasValidationError",o+1,t),new Error(`VueExcelEditor: [row=${o+1}, val=${t}] `+this.localizedLabel.columnHasValidationError(e.name,r))}if(this.validate){let r;if(r=this.validate(t,c[e.name],c,e))throw this.importErrorCallback&&this.importErrorCallback("rowHasValidationError",o+1,t),new Error(`VueExcelEditor: [row=${o+1}, val=${t}] `+this.localizedLabel.rowHasValidationError(o+1,e.name,r))}}if(null!==t)c[e.name]=t;else if(e.mandatory)throw this.importErrorCallback&&this.importErrorCallback(e.mandatory,o+1,t),new Error(`VueExcelEdutor: [row=${o+1}, val=${t}] `+e.mandatory)}))),1===a&&(i>=0?(l++,Object.keys(c).forEach((e=>{e.startsWith("$")||this.updateCell(i,e,c[e])})),this.selected[i]=this.table[i].$id):(this.newRecord(c,!0),s++))}))),a++}2===a&&this.importCallback&&this.importCallback({inserted:s,updated:l,recordAffected:s+l})}catch(e){throw this.importErrorCallback&&this.importErrorCallback(e.message),new Error("VueExcelEditor: "+e.stack)}finally{this.processing=!1,this.$refs.importFile.modelValue=""}},o.onerror=e=>{throw this.processing=!1,this.$refs.importFile.modelValue="",this.importErrorCallback&&this.importErrorCallback(e.message),new Error("VueExcelEditor: "+e.stack)},o.readAsBinaryString(r)}),500)},exportTable(e,t,r){this.processing=!0,setTimeout((()=>{const o=bM.book_new();let i=null,n=this.table;t&&(n=this.table.filter(((e,t)=>this.selected[t])));const a=n.map((e=>{const t={};return this.fields.forEach((r=>t[r.name]=e[r.name])),t}));i=bM.json_to_sheet(a,{header:this.fields.map((e=>e.name))});const s=Array.from(this.labelTr.children).slice(1).map((e=>e.children[0].innerText));switch(bM.sheet_add_aoa(i,[s],{origin:0}),i["!cols"]=Array.from(this.labelTr.children).slice(1).map((e=>({width:e.getBoundingClientRect().width/6.5}))),bM.book_append_sheet(o,i,"Sheet1"),r=r||"export",e){case"csv":r.endsWith(".csv")||(r+=".csv");break;case"xls":r.endsWith(".xls")||(r+=".xls");break;case"xlsx":case"excel":default:r.endsWith(".xlsx")||(r+=".xlsx");break}r.endsWith(".xlsx")?QP(o,r,{compression:"DEFLATE",compressionOptions:{level:6}}):QP(o,r),this.processing=!1}),500)},getSelectedRecords(){return this.table.filter(((e,t)=>this.selected[t]))},rowLabelClick(e){let t=e.target;while("TD"!==t.tagName)t=t.parentNode;const r=Number(t.getAttribute("pos"))+this.pageTop;if(e.shiftKey){if(document.getSelection().removeAllRanges(),-1!==this.prevSelect&&this.prevSelect!==r)if(e.preventDefault(),r>this.prevSelect)for(let o=this.prevSelect;o<=r;o++)this.selectRecord(o);else for(let o=r;o<=this.prevSelect;o++)this.selectRecord(o)}else{const t=this.selected[r];this.freeSelect||e.ctrlKey||e.metaKey||this.clearAllSelected(),t?this.unSelectRecord(r):this.selectRecord(r)}this.prevSelect=r},selectAllClick(){this.toggleSelectAllRecords()},reviseSelectedAfterTableChange(){this.rowIndex={},this.table.forEach(((e,t)=>this.rowIndex[e.$id]=t));const e=Object.assign(this.selected);this.selected={},Object.keys(e).forEach((t=>{const r=e[t];"undefined"!==typeof this.rowIndex[r]&&(this.selected[this.rowIndex[r]]=r)})),this.selectedCount=Object.keys(this.selected).length},toggleSelectRecord(e){"undefined"!==typeof this.selected[e]?this.unSelectRecord(e):this.selectRecord(e)},selectRecord(e){"undefined"===typeof this.selected[e]&&(this.selectedCount++,this.selected[e]=this.table[e].$id,this.recordBody.children[e-this.pageTop]&&this.recordBody.children[e-this.pageTop].classList.add("select"),this.lazy(e,(e=>{this.$emit("select",e,!0)})))},selectRecordByKeys(e){const t=this.table.findIndex((t=>this.fields.filter((e=>e.keyField)).filter((r=>t[r.name]===e[r.name])).length===e.length));t>=0&&this.selectRecord(t)},selectRecordById(e){const t=this.table.findIndex((t=>t.$id===e));t>=0&&this.selectRecord(t)},unSelectRecord(e){"undefined"!==typeof this.selected[e]&&(delete this.selected[e],this.selectedCount--,this.recordBody.children[e-this.pageTop]&&this.recordBody.children[e-this.pageTop].classList.remove("select"),this.lazy(e,(e=>{this.$emit("select",e,!1)})))},toggleSelectAllRecords(e){if(e&&e.preventDefault(),this.selectedCount>0)this.clearAllSelected();else{for(let e=0;e<this.table.length;e++)this.selectRecord(e);this.selectedCount=this.table.length}},clearAllSelected(){this.selectedCount>0&&this.$emit("select",Object.keys(this.selected).map((e=>Number(e))),!1),this.selected={},this.selectedCount=0},moveTo(e,t){t=t||0;const r=this.moveInputSquare(e-this.pageTop,t);return this.focused=!0,setTimeout((()=>this.inputBox.focus())),r},moveToNorthWest(){let e=0;while(this.fields[e].invisible&&e<this.fields.length-1)e++;return this.moveTo(0,e)},moveToNorthEast(){let e=this.fields.length-1;while(this.fields[e].invisible&&e>0)e--;return this.moveTo(0,e)},moveToSouthWest(){let e=this.table.length-1,t=0;while(this.fields[t].invisible&&t<this.fields.length-1)t++;return this.moveTo(e,t)},moveToSouthEast(){let e=this.table.length-1,t=this.fields.length-1;while(this.fields[t].invisible&&t>0)t--;return this.moveTo(e,t)},moveToWest(){let e=this.currentRowPos,t=0;while(this.fields[t].invisible&&t<this.fields.length-1)t++;return this.moveTo(e,t)},moveToEast(){let e=this.currentRowPos,t=this.fields.length-1;while(this.fields[t].invisible&&t>0)t--;return this.moveTo(e,t)},moveWest(){if(this.focused&&this.currentColPos>0){let e=this.currentColPos-1;while(this.fields[e].invisible&&e>0)e--;return-1!==e&&!this.fields[e].invisible&&this.moveInputSquare(this.currentRowPos,e)}return!1},moveEast(){if(this.focused&&this.currentColPos<this.fields.length-1){let e=this.currentColPos+1;while(this.fields[e].invisible&&e<this.fields.length-1)e++;return e!==this.fields.length&&!this.fields[e].invisible&&this.moveInputSquare(this.currentRowPos,e)}return!1},moveNorth(){if(this.focused){const e=this.moveInputSquare(this.currentRowPos-1,this.currentColPos);return this.calVScroll(),this.$refs.vScrollButton&&setTimeout((()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy((()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")}),1e3)})),e}return!1},moveSouth(){if(this.focused){if(this.currentRowPos+1>=this.pageBottom-this.pageTop&&this.pageBottom>=this.table.length)return!this.readonly&&(!!this.newIfBottom&&(this.newRecord({},!1,!0),setTimeout(this.moveSouth,0),!0));const e=this.moveInputSquare(this.currentRowPos+1,this.currentColPos);return this.calVScroll(),this.$refs.vScrollButton&&setTimeout((()=>{this.$refs.vScrollButton.classList.add("focus"),this.lazy((()=>{this.$refs.vScrollButton&&this.$refs.vScrollButton.classList.remove("focus")}),1e3)})),e}return!1},mouseDown(e){if("TBODY"===e.target.parentNode.parentNode.tagName&&!e.target.classList.contains("first-col")){e.preventDefault(),setTimeout((()=>this.inputBox.focus())),this.focused=!0;const t=e.target.parentNode,r=Array.from(t.children).indexOf(e.target)-1,o=Array.from(t.parentNode.children).indexOf(t);if(this.$emit("cell-click",{rowPos:o,colPos:r}),this.moveInputSquare(o,r),this.currentField&&this.currentField.link&&e.altKey&&setTimeout((()=>this.currentField.link(this.currentCell.textContent,this.currentRecord,o,r,this.currentField,this))),e.target.offsetWidth-e.offsetX>15)return;if(this.currentField.readonly)return;this.inputBox.value=this.currentCell.textContent,e.target.classList.contains("select")&&this.calAutocompleteList(!0),e.target.classList.contains("datepick")&&this.showDatePickerDiv()}},cellMouseMove(e){let t="cell";this.inputBoxShow&&(t="default"),!e.target.classList.contains("readonly")&&(e.target.classList.contains("select")||e.target.classList.contains("datepick"))&&e.target.offsetWidth-e.offsetX<15&&(t="pointer"),e.target.style.cursor=t},cellMouseOver(e){const t=e.target;if(!t.classList.contains("error"))return;if(this.tipTimeout&&clearTimeout(this.tipTimeout),""===(this.tip=this.errmsg[t.getAttribute("id")]))return;const r=t.getBoundingClientRect();this.$refs.tooltip.style.top=r.top-14+"px",this.$refs.tooltip.style.left=r.right+8+"px",t.addEventListener("mouseout",this.cellMouseOut)},numcolMouseOver(e){const t=e.target;if(!t.classList.contains("error"))return;if(this.tipTimeout&&clearTimeout(this.tipTimeout),""===(this.tip=this.rowerr[t.getAttribute("id")]))return;const r=t.getBoundingClientRect();this.$refs.tooltip.style.top=r.top-14+"px",this.$refs.tooltip.style.left=r.right+8+"px",t.addEventListener("mouseout",this.cellMouseOut)},cellMouseOut(e){this.tipTimeout=setTimeout((()=>{this.tip=""}),1e3),e.target.removeEventListener(e.type,this.cellMouseOut)},mouseOver(){this.mousein=!0,this.systable.classList.add("mouseover")},mouseOut(){this.mousein=!1,this.systable.classList.remove("mouseover")},moveInputSquare(e,t){if(t<0)return!1;const r=this.pageTop;let o=this.recordBody.children[e];if(!o)if(e>this.currentRowPos){if(!(this.pageTop+this.pageSize<this.table.length))return!1;this.pageTop+=1,o=this.recordBody.children[--e]}else{if(!(this.pageTop-1>=0))return!1;this.pageTop-=1,o=this.recordBody.children[++e]}this.labelTr.children[this.currentColPos+1].classList.remove("focus"),this.currentRowPos>=0&&this.currentRowPos<this.pagingTable.length&&this.recordBody.children[this.currentRowPos].children[0].classList.remove("focus"),this.inputBoxShow&&(this.inputBoxShow=0),this.inputBoxChanged&&(this.inputCellWrite(this.inputBox.value,this.currentColPos,r+this.currentRowPos),this.inputBoxChanged=!1);const i=o.children[t+1];if(!i)return!1;this.currentField=this.fields[t];const n=i.getBoundingClientRect(),a=this.systable.getBoundingClientRect();if(this.squareSavedLeft=this.tableContent.scrollLeft,this.inputSquare.style.marginLeft=0,this.inputSquare.style.left=n.left-a.left-1+"px",this.inputSquare.style.top=n.top-a.top-1+"px",this.inputSquare.style.width=n.width+1+"px",this.inputSquare.style.height=n.height+1+"px",this.inputSquare.style.zIndex=this.currentField.sticky?3:1,!this.currentField.sticky){const e=this.$el.getBoundingClientRect();n.right>=e.right-12&&this.tableContent.scrollBy(n.right-e.right+13,0),n.left<=e.left+this.leftMost&&this.tableContent.scrollBy(n.left-e.left-this.leftMost-1,0)}return this.currentRowPos=e,this.currentColPos=t,this.currentCell=i,this.currentRecord=this.table[r+e],this.$emit("cell-focus",{rowPos:e,colPos:t,cell:i,record:this.currentRecord}),this.showDatePicker&&(this.showDatePicker=!1),this.autocompleteInputs.length&&(this.autocompleteInputs=[],this.autocompleteSelect=-1),this.recalAutoCompleteList&&clearTimeout(this.recalAutoCompleteList),this.currentRowPos>=0&&this.currentRowPos<this.pagingTable.length&&(this.inputBox.value=this.currentCell.textContent,this.inputBox.focus(),this.focused=!0,o.children[0].classList.add("focus"),this.labelTr.children[t+1].classList.add("focus")),!0},inputSquareClick(){this.currentField.readonly||this.inputBoxShow||"select"===this.currentField.type||(this.inputBox.value=this.currentCell.textContent,this.inputBoxShow=1,this.inputBox.focus(),this.inputBoxChanged=!1,this.focused=!0)},inputBoxMouseMove(e){let t="text";!this.currentField.readonly&&(this.currentField.options||"date"===this.currentField.type)&&e.target.offsetWidth-e.offsetX<15&&(t="pointer"),e.target.style.cursor=t},inputBoxMouseDown(e){e.target.offsetWidth-e.offsetX>15||this.currentField.readonly||(this.currentField.options&&(e.preventDefault(),this.calAutocompleteList(!0)),"date"===this.currentField.type&&(e.preventDefault(),this.showDatePickerDiv()))},inputCellWrite(e,t,r){let o=this.currentField;"undefined"!==typeof t&&(o=this.fields[t]),"undefined"===typeof r&&(r=this.pageTop+this.currentRowPos),"undefined"!==typeof this.selected[r]?this.updateSelectedRows(o,o.toValue(e)):this.updateCell(r,o,o.toValue(e))},inputBoxBlur(){this.$refs.dpContainer&&(this.$refs.dpContainer.querySelector(":hover")||(this.inputBoxComplete(),this.focused=!1,-1!==this.currentRowPos&&this.currentRowPos<this.recordBody.children.length&&(this.recordBody.children[this.currentRowPos].children[0].classList.remove("focus"),this.labelTr.children[this.currentColPos+1].classList.remove("focus"))))},inputBoxComplete(){this.inputBoxChanged&&(this.inputCellWrite(this.inputBox.value),this.inputBoxChanged=!1),this.inputBoxShow=0,this.showDatePicker=!1,this.focused=!1,this.focused=!0},undoTransaction(e){if(e&&e.preventDefault(),0===this.redo.length)return;const t=this.redo.pop();t.every((t=>{try{if("d"===t.type)this.newRecord(t.rec,!1,!0,!0);else if(t.field&&t.field.keyField&&t.oldKeys.includes(t.newVal)){const e=this.modelValue.findIndex((e=>e.$id===t.$id));e>=0&&this.deleteRecord(e,!0)}else this.updateCell(t.$id,t.field.name,t.oldVal,!0);return!0}catch(e){return!1}}))},newRecord(e,t,r,o){"undefined"===typeof e&&(e={}),this.fields.map((t=>{"undefined"===typeof e[t.name]&&(t.keyField?e[t.name]="§"+this.tempKey():e[t.name]=null)}));const i=e.$id||this.tempKey();e.$id=i,this.modelValue.push(e);const n=this.table.push(e)-1;return t&&(this.selected[n]=i),Object.keys(e).forEach((t=>{const r=this.fields.find((e=>e.name===t));r&&this.updateCell(e,r,e[t],o)})),r||this.lazy((()=>{this.lastPage(),this.moveToSouthWest()})),e},deleteSelectedRecords(){Object.values(this.selected).forEach((e=>{const t=this.modelValue.findIndex((t=>t.$id===e));t>=0&&this.deleteRecord(t)})),this.selected={},this.selectedCount=0},deleteRecord(e,t){this.currentRowPos===e&&this.moveNorth();const r=this.modelValue.splice(e,1)[0];setTimeout((()=>{this.lazy(r,(e=>{this.$emit("delete",e),t||this.redo.push(e.map((e=>({type:"d",rec:e}))))}))}),100)},async updateCell(e,t,r,o){switch(e.constructor.name){case"String":e=this.modelValue.find((t=>t.$id===e));break;case"Number":e=this.table[e];break;case"Object":break;default:throw new Error("Invalid row argument type")}switch(t.constructor.name){case"String":t=this.fields.find((e=>e.name===t));break;case"Number":t=this.fields[t];break;case"Object":break;default:throw new Error("Invalid field argument type")}if(!t)throw new Error("Invalid field argument");if(!e)return;const i=e[t.name],n=this.getKeys(e);if(t.change){let o=await t.change(r,i,e,t);if(!1===o)return}e[t.name]=r,setTimeout((()=>{const a={$id:e.$id,keys:this.getKeys(e),oldKeys:n,name:t.name,field:t,oldVal:"undefined"!==typeof i?i:"",newVal:r,err:""};null!==t.validate&&(a.err=t.validate(r,i,e,t)),t.mandatory&&""===r&&(a.err+=(a.err?"\n":"")+t.mandatory),this.setFieldError(a.err,e,t),null!==this.validate&&(a.rowerr=this.validate(r,i,e,t),this.setRowError(a.rowerr,e)),t.summary&&this.calSummary(t.name),this.lazy(a,(e=>{this.$emit("update",e),o||this.redo.push(e)}),50)}))},updateSelectedRows(e,t){this.processing=!0,setTimeout((()=>{Object.keys(this.selected).forEach((r=>this.updateCell(parseInt(r),e,t))),this.processing=!1}),0)},setFieldError(e,t,r){const o=`id-${t.$id}-${r.name}`,i=this.systable.querySelector("td#"+o);e?(this.errmsg[o]=e,this.$emit("validate-error",e,t,r),i&&i.classList.add("error")):this.errmsg[o]&&(delete this.errmsg[o],this.$emit("validate-error","",t,r),i&&i.classList.remove("error"))},setRowError(e,t){const r=`rid-${t.$id}`,o=this.systable.querySelector("td#"+r);e?(this.rowerr[r]=e,this.$emit("validate-error",e,t),o&&o.classList.add("error")):this.rowerr[r]&&(delete this.rowerr[r],this.$emit("validate-error","",t),o&&o.classList.remove("error"))},async calAutocompleteList(e){if((e||this.currentField.autocomplete)&&(e||this.inputBoxChanged&&this.inputBox.value.length>0)){"undefined"!==typeof this.recalAutoCompleteList&&clearTimeout(this.recalAutoCompleteList);const t=async()=>{if(!e&&(!this.focused||!this.inputBoxShow||!this.inputBoxChanged||!this.inputBox.value.length))return void(this.autocompleteInputs=[]);const t=this.currentField,r=t.name,o=this.inputBox.value.toUpperCase(),i=this.autocompleteCount;let n=[];if(t.options)t.options.constructor.name.endsWith("Function")?(n=await t.options(o,this.currentRecord),n="map"===t.type?Object.values(n):n.slice(),this.inputBoxShow&&(n=n.filter((e=>e.toUpperCase().includes(o)))),n.sort().splice(i)):Object.values(t.options).length>0&&(n=t.options,n="map"===t.type?Object.values(n):n.slice(),this.inputBoxShow&&(n=n.filter((e=>e.toUpperCase().includes(o)))),n.sort().splice(i));else{for(let e=0;e<this.modelValue.length;e++){const t=this.modelValue[e];if("undefined"!==typeof t[r]&&t[r].toString().toUpperCase().startsWith(o)&&-1===n.indexOf(t[r])&&n.push(t[r]),n.length>=i)break}n.sort()}this.autocompleteSelect=n.findIndex((e=>e.toUpperCase().startsWith(o))),this.autocompleteInputs=n;const a=this.currentCell.getBoundingClientRect();return this.lazy((()=>{if(!this.$refs.autocomplete)return;this.$refs.autocomplete.style.minWidth=a.width+"px";const e=this.$refs.autocomplete.getBoundingClientRect();a.bottom+e.height>window.innerHeight?(this.autocompleteInputs.reverse(),this.autocompleteSelect=this.autocompleteInputs.length-this.autocompleteSelect-1,this.$refs.autocomplete.style.top=a.top-e.height+"px"):this.$refs.autocomplete.style.top=a.bottom+"px",a.left+e.width>window.innerWidth?this.$refs.autocomplete.style.top=window.innerWidth-e.width+"px":this.$refs.autocomplete.style.left=a.left+"px";const t=23*this.autocompleteSelect-206;this.$refs.autocomplete.scrollTop=t>0?t:0})),this.autocompleteSelect};e?t():this.lazy(t,700)}},inputAutocompleteText(e,t){t&&t.preventDefault(),this.autocompleteInputs=[],this.autocompleteSelect=-1,this.inputBoxShow=0,this.inputBoxChanged=!1,setTimeout((()=>{this.inputCellWrite(e)}))},tempKey(){return(new Date).getTime()%1e8+"-"+Math.random().toString().slice(2,7)},hashCode(e){return e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)|0),0)},lazy(e,t,r){if("function"!==typeof e)return this.lazyBuf(e,t,r);t||(t=20);const o=this.hashCode(e.name+e.toString());this.lazyTimeout[o]&&clearTimeout(this.lazyTimeout[o]),this.lazyTimeout[o]=setTimeout((()=>{e(),delete this.lazyTimeout[o]}),t)},lazyBuf(e,t,r){r||(r=20);const o=this.hashCode(t.name+t.toString());this.lazyBuffer[o]?this.lazyBuffer[o].push(e):this.lazyBuffer[o]=[e],this.lazyTimeout[o]&&clearTimeout(this.lazyTimeout[o]),this.lazyTimeout[o]=setTimeout((()=>{this.$nextTick((()=>{t(this.lazyBuffer[o]),delete this.lazyTimeout[o],delete this.lazyBuffer[o]}))}),r)}}});const wM=(0,pe.Z)(yM,[["render",ce],["__scopeId","data-v-5d7c45f8"]]);var CM=wM;function EM(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)("div")}var SM={props:{field:{type:String,default:""},label:{type:String,default:null},type:{type:String,default:"string"},initStyle:{type:Object,default(){return{}}},width:{type:String,default:"100px"},invisible:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},textTransform:{type:String,default:null},textAlign:{type:String,default:null},keyField:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},validate:{type:Function,default:null},change:{type:Function,default:null},link:{type:Function,default:null},autoFillWidth:{type:Boolean,default:!1},allowKeys:{type:[Array,Function],default(){return null}},mandatory:{type:String,default:""},lengthLimit:{type:Number,default:0},autocomplete:{type:Boolean,default:null},pos:{type:Number,default:0},options:{type:[Array,Object,Function],default(){return null}},summary:{type:String,default:null},sort:{type:Function,default:null},toValue:{type:Function,default(e){switch(this.textTransform){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break}switch(this.type){case"datetick":return new Date(e+" GMT+0").getTime();case"datetimetick":return new Date(e+" GMT+0").getTime();case"datetimesectick":return new Date(e+" GMT+0").getTime();case"check10":case"checkYN":case"checkTF":return e.toUpperCase();case"map":if(this.options.constructor.name.endsWith("Function")){const t=this.options(e);return Object.keys(t).find((r=>t[r]===e))}return Object.keys(this.options).find((t=>this.options[t]===e));default:return e}}},toText:{type:Function,default(e){if(this.keyField&&e&&e.toString().startsWith("§"))return"";const t=60*(new Date).getTimezoneOffset()*1e3;let r;switch(this.type){case"date":return r=new Date(e).getTime(),r?new Date(r-t).toISOString().slice(0,10):"";case"datetick":return r=new Date(1*e?1*e:e).getTime(),r?new Date(r-t).toISOString().slice(0,10):"";case"datetimetick":return r=new Date(1*e?1*e:e).getTime(),r?new Date(r-t).toISOString().replace("T"," ").slice(0,16):"";case"datetimesectick":return r=new Date(1*e?1*e:e).getTime(),r?new Date(r-t).toISOString().replace("T"," ").slice(0,19):"";case"map":return this.options.constructor.name.endsWith("Function")?this.options(e)[e]:this.options[e];default:return e}}},register:{type:Function,default:null}},created(){this.init()},methods:{init(){const e=this;let t=this.initStyle,r=this.validate,o=this.allowKeys,i=this.lengthLimit;switch(this.type){case"number":t.textAlign="right",o=o||["0","1","2","3","4","5","6","7","8","9",".","-"];break;case"date":o=o||["0","1","2","3","4","5","6","7","8","9","-"];break;case"datetime":o=o||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"datetimesec":o=o||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"datetick":o=o||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"datetimetick":o=o||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"datetimesectick":o=o||["0","1","2","3","4","5","6","7","8","9","-"," ",":"];break;case"check10":t.textAlign="center",t.textTransform="uppercase",o=o||["0","1"],i=i||1;break;case"checkYN":t.textAlign="center",t.textTransform="uppercase",o=o||["Y","N"],i=i||1;break;case"checkTF":t.textAlign="center",t.textTransform="uppercase",o=o||["T","F"],i=i||1;break;case"map":if("AsyncFunction"===this.options.constructor.name)throw new Error("VueExcelColumn: Map does not support Async Function");break;case"select":break;case"string":break;default:throw new Error("VueExcelColumn: Not supported type:"+this.type)}this.textTransform&&(t.textTransform=this.textTransform),this.textAlign&&(t.textAlign=this.textAlign),this._autocomplete=e.autocomplete,this._readonly=e.readonly,this.$parent.registerColumn({name:this.field,label:null===this.label?this.field:this.label,type:this.type,width:this.width,autoFillWidth:this.autoFillWidth,validate:r,change:this.change,link:this.link,sort:this.sort,keyField:this.keyField,sticky:this.sticky,allowKeys:o,mandatory:this.mandatory,lengthLimit:Number(i),textTransform:this.textTransform,get autocomplete(){return null===e._autocomplete?e.$parent.autocomplete:e._autocomplete},set autocomplete(t){e._autocomplete=t},initStyle:t,invisible:this.invisible,get readonly(){return null===e._readonly?e.$parent.readonly:e._readonly},set readonly(t){e._readonly=t},pos:Number(this.pos),options:this.options,summary:this.summary,toValue:this.toValue,toText:this.toText,register:this.register})}}};const xM=(0,pe.Z)(SM,[["render",EM]]);var TM=xM,kM={install(e){e.component("vue-excel-editor",CM),e.component("vue-excel-column",TM)}}},8956:function(e,t,r){"use strict";r.d(t,{is:function(){return Ts}});r(2801),r(1295),r(7658);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const o=window,i=o.ShadowRoot&&(void 0===o.ShadyCSS||o.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),a=new WeakMap;class s{constructor(e,t,r){if(this._$cssResult$=!0,r!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(i&&void 0===e){const r=void 0!==t&&1===t.length;r&&(e=a.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&a.set(t,e))}return e}toString(){return this.cssText}}const l=e=>new s("string"==typeof e?e:e+"",void 0,n),c=(e,...t)=>{const r=1===e.length?e[0]:t.reduce(((t,r,o)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[o+1]),e[0]);return new s(r,e,n)},u=(e,t)=>{i?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const r=document.createElement("style"),i=o.litNonce;void 0!==i&&r.setAttribute("nonce",i),r.textContent=t.cssText,e.appendChild(r)}))},d=i?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return l(t)})(e):e;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var h;const p=window,f=p.trustedTypes,g=f?f.emptyScript:"",v=p.reactiveElementPolyfillSupport,m={toAttribute(e,t){switch(t){case Boolean:e=e?g:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},b=(e,t)=>t!==e&&(t==t||e==e),y={attribute:!0,type:String,converter:m,reflect:!1,hasChanged:b},w="finalized";class C extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,r)=>{const o=this._$Ep(r,t);void 0!==o&&(this._$Ev.set(o,r),e.push(o))})),e}static createProperty(e,t=y){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const r="symbol"==typeof e?Symbol():"__"+e,o=this.getPropertyDescriptor(e,r,t);void 0!==o&&Object.defineProperty(this.prototype,e,o)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(o){const i=this[e];this[t]=o,this.requestUpdate(e,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||y}static finalize(){if(this.hasOwnProperty(w))return!1;this[w]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const r of t)this.createProperty(r,e[r])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const e of r)t.unshift(d(e))}else void 0!==e&&t.push(d(e));return t}static _$Ep(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,r;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(r=e.hostConnected)||void 0===r||r.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return u(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=y){var o;const i=this.constructor._$Ep(e,r);if(void 0!==i&&!0===r.reflect){const n=(void 0!==(null===(o=r.converter)||void 0===o?void 0:o.toAttribute)?r.converter:m).toAttribute(t,r.type);this._$El=e,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._$El=null}}_$AK(e,t){var r;const o=this.constructor,i=o._$Ev.get(e);if(void 0!==i&&this._$El!==i){const e=o.getPropertyOptions(i),n="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(r=e.converter)||void 0===r?void 0:r.fromAttribute)?e.converter:m;this._$El=i,this[i]=n.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,r){let o=!0;void 0!==e&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||b)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===r.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,r))):o=!1),!this.isUpdatePending&&o&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(r)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var E;C[w]=!0,C.elementProperties=new Map,C.elementStyles=[],C.shadowRootOptions={mode:"open"},null==v||v({ReactiveElement:C}),(null!==(h=p.reactiveElementVersions)&&void 0!==h?h:p.reactiveElementVersions=[]).push("1.6.3");const S=window,x=S.trustedTypes,T=x?x.createPolicy("lit-html",{createHTML:e=>e}):void 0,k="$lit$",_=`lit$${(Math.random()+"").slice(9)}$`,R="?"+_,O=`<${R}>`,D=document,A=()=>D.createComment(""),P=e=>null===e||"object"!=typeof e&&"function"!=typeof e,M=Array.isArray,L=e=>M(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]),F="[ \t\n\f\r]",I=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,N=/-->/g,H=/>/g,G=RegExp(`>|${F}(?:([^\\s"'>=/]+)(${F}*=${F}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),V=/'/g,z=/"/g,B=/^(?:script|style|textarea|title)$/i,j=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),W=j(1),U=(j(2),Symbol.for("lit-noChange")),$=Symbol.for("lit-nothing"),K=new WeakMap,Y=D.createTreeWalker(D,129,null,!1);function q(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==T?T.createHTML(t):t}const X=(e,t)=>{const r=e.length-1,o=[];let i,n=2===t?"<svg>":"",a=I;for(let s=0;s<r;s++){const t=e[s];let r,l,c=-1,u=0;for(;u<t.length&&(a.lastIndex=u,l=a.exec(t),null!==l);)u=a.lastIndex,a===I?"!--"===l[1]?a=N:void 0!==l[1]?a=H:void 0!==l[2]?(B.test(l[2])&&(i=RegExp("</"+l[2],"g")),a=G):void 0!==l[3]&&(a=G):a===G?">"===l[0]?(a=null!=i?i:I,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,r=l[1],a=void 0===l[3]?G:'"'===l[3]?z:V):a===z||a===V?a=G:a===N||a===H?a=I:(a=G,i=void 0);const d=a===G&&e[s+1].startsWith("/>")?" ":"";n+=a===I?t+O:c>=0?(o.push(r),t.slice(0,c)+k+t.slice(c)+_+d):t+_+(-2===c?(o.push(void 0),s):d)}return[q(e,n+(e[r]||"<?>")+(2===t?"</svg>":"")),o]};class J{constructor({strings:e,_$litType$:t},r){let o;this.parts=[];let i=0,n=0;const a=e.length-1,s=this.parts,[l,c]=X(e,t);if(this.el=J.createElement(l,r),Y.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(o=Y.nextNode())&&s.length<a;){if(1===o.nodeType){if(o.hasAttributes()){const e=[];for(const t of o.getAttributeNames())if(t.endsWith(k)||t.startsWith(_)){const r=c[n++];if(e.push(t),void 0!==r){const e=o.getAttribute(r.toLowerCase()+k).split(_),t=/([.?@])?(.*)/.exec(r);s.push({type:1,index:i,name:t[2],strings:e,ctor:"."===t[1]?re:"?"===t[1]?ie:"@"===t[1]?ne:te})}else s.push({type:6,index:i})}for(const t of e)o.removeAttribute(t)}if(B.test(o.tagName)){const e=o.textContent.split(_),t=e.length-1;if(t>0){o.textContent=x?x.emptyScript:"";for(let r=0;r<t;r++)o.append(e[r],A()),Y.nextNode(),s.push({type:2,index:++i});o.append(e[t],A())}}}else if(8===o.nodeType)if(o.data===R)s.push({type:2,index:i});else{let e=-1;for(;-1!==(e=o.data.indexOf(_,e+1));)s.push({type:7,index:i}),e+=_.length-1}i++}}static createElement(e,t){const r=D.createElement("template");return r.innerHTML=e,r}}function Q(e,t,r=e,o){var i,n,a,s;if(t===U)return t;let l=void 0!==o?null===(i=r._$Co)||void 0===i?void 0:i[o]:r._$Cl;const c=P(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(n=null==l?void 0:l._$AO)||void 0===n||n.call(l,!1),void 0===c?l=void 0:(l=new c(e),l._$AT(e,r,o)),void 0!==o?(null!==(a=(s=r)._$Co)&&void 0!==a?a:s._$Co=[])[o]=l:r._$Cl=l),void 0!==l&&(t=Q(e,l._$AS(e,t.values),l,o)),t}class Z{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:r},parts:o}=this._$AD,i=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:D).importNode(r,!0);Y.currentNode=i;let n=Y.nextNode(),a=0,s=0,l=o[0];for(;void 0!==l;){if(a===l.index){let t;2===l.type?t=new ee(n,n.nextSibling,this,e):1===l.type?t=new l.ctor(n,l.name,l.strings,this,e):6===l.type&&(t=new ae(n,this,e)),this._$AV.push(t),l=o[++s]}a!==(null==l?void 0:l.index)&&(n=Y.nextNode(),a++)}return Y.currentNode=D,i}v(e){let t=0;for(const r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class ee{constructor(e,t,r,o){var i;this.type=2,this._$AH=$,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=o,this._$Cp=null===(i=null==o?void 0:o.isConnected)||void 0===i||i}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Q(this,e,t),P(e)?e===$||null==e||""===e?(this._$AH!==$&&this._$AR(),this._$AH=$):e!==this._$AH&&e!==U&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):L(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==$&&P(this._$AH)?this._$AA.nextSibling.data=e:this.$(D.createTextNode(e)),this._$AH=e}g(e){var t;const{values:r,_$litType$:o}=e,i="number"==typeof o?this._$AC(e):(void 0===o.el&&(o.el=J.createElement(q(o.h,o.h[0]),this.options)),o);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===i)this._$AH.v(r);else{const e=new Z(i,this),t=e.u(this.options);e.v(r),this.$(t),this._$AH=e}}_$AC(e){let t=K.get(e.strings);return void 0===t&&K.set(e.strings,t=new J(e)),t}T(e){M(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,o=0;for(const i of e)o===t.length?t.push(r=new ee(this.k(A()),this.k(A()),this,this.options)):r=t[o],r._$AI(i),o++;o<t.length&&(this._$AR(r&&r._$AB.nextSibling,o),t.length=o)}_$AR(e=this._$AA.nextSibling,t){var r;for(null===(r=this._$AP)||void 0===r||r.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class te{constructor(e,t,r,o,i){this.type=1,this._$AH=$,this._$AN=void 0,this.element=e,this.name=t,this._$AM=o,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=$}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,o){const i=this.strings;let n=!1;if(void 0===i)e=Q(this,e,t,0),n=!P(e)||e!==this._$AH&&e!==U,n&&(this._$AH=e);else{const o=e;let a,s;for(e=i[0],a=0;a<i.length-1;a++)s=Q(this,o[r+a],t,a),s===U&&(s=this._$AH[a]),n||(n=!P(s)||s!==this._$AH[a]),s===$?e=$:e!==$&&(e+=(null!=s?s:"")+i[a+1]),this._$AH[a]=s}n&&!o&&this.j(e)}j(e){e===$?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class re extends te{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===$?void 0:e}}const oe=x?x.emptyScript:"";class ie extends te{constructor(){super(...arguments),this.type=4}j(e){e&&e!==$?this.element.setAttribute(this.name,oe):this.element.removeAttribute(this.name)}}class ne extends te{constructor(e,t,r,o,i){super(e,t,r,o,i),this.type=5}_$AI(e,t=this){var r;if((e=null!==(r=Q(this,e,t,0))&&void 0!==r?r:$)===U)return;const o=this._$AH,i=e===$&&o!==$||e.capture!==o.capture||e.once!==o.once||e.passive!==o.passive,n=e!==$&&(o===$||i);i&&this.element.removeEventListener(this.name,this,o),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==r?r:this.element,e):this._$AH.handleEvent(e)}}class ae{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Q(this,e)}}const se={O:k,P:_,A:R,C:1,M:X,L:Z,R:L,D:Q,I:ee,V:te,H:ie,N:ne,U:re,F:ae},le=S.litHtmlPolyfillSupport;null==le||le(J,ee),(null!==(E=S.litHtmlVersions)&&void 0!==E?E:S.litHtmlVersions=[]).push("2.8.0");const ce=(e,t,r)=>{var o,i;const n=null!==(o=null==r?void 0:r.renderBefore)&&void 0!==o?o:t;let a=n._$litPart$;if(void 0===a){const e=null!==(i=null==r?void 0:r.renderBefore)&&void 0!==i?i:null;n._$litPart$=a=new ee(t.insertBefore(A(),e),e,void 0,null!=r?r:{})}return a._$AI(e),a};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var ue,de;class he extends C{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const r=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ce(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return U}}he.finalized=!0,he._$litElement$=!0,null===(ue=globalThis.litElementHydrateSupport)||void 0===ue||ue.call(globalThis,{LitElement:he});const pe=globalThis.litElementPolyfillSupport;null==pe||pe({LitElement:he});
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function fe(e){return e}(null!==(de=globalThis.litElementVersions)&&void 0!==de?de:globalThis.litElementVersions=[]).push("3.3.3");
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ge{constructor(e){this.disposers=new Map,this.updateObservers=()=>{for(const[e,t]of this.disposers)e(this.o,t)},void 0!==e&&(this.value=e)}get value(){return this.o}set value(e){this.setValue(e)}setValue(e,t=!1){const r=t||!Object.is(e,this.o);this.o=e,r&&this.updateObservers()}addCallback(e,t){if(t){this.disposers.has(e)||this.disposers.set(e,(()=>{this.disposers.delete(e)}));const t=this.disposers.get(e);e(this.value,t)}else e(this.value)}clearCallbacks(){this.disposers.clear()}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ve extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}}class me extends ge{constructor(e,t,r){super(void 0!==t.context?t.initialValue:r),this.onContextRequest=e=>{e.context===this.context&&e.composedPath()[0]!==this.host&&(e.stopPropagation(),this.addCallback(e.callback,e.subscribe))},this.host=e,void 0!==t.context?this.context=t.context:this.context=t,this.attachListeners(),this.host.addController(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest)}hostConnected(){this.host.dispatchEvent(new ve(this.context))}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const be=({finisher:e,descriptor:t})=>(r,o)=>{var i;if(void 0===o){const o=null!==(i=r.originalKey)&&void 0!==i?i:r.key,n=null!=t?{kind:"method",placement:"prototype",key:o,descriptor:t(r.key)}:{...r,key:o};return null!=e&&(n.finisher=function(t){e(t,o)}),n}{const i=r.constructor;void 0!==t&&Object.defineProperty(r,o,t(o)),null==e||e(i,o)}};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ye extends Event{constructor(e,t,r){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=r}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class we{constructor(e,t,r,o){var i;if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(e,t)=>{this.unsubscribe&&(this.unsubscribe!==t&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,t)),this.unsubscribe=t},this.host=e,void 0!==t.context){const e=t;this.context=e.context,this.callback=e.callback,this.subscribe=null!==(i=e.subscribe)&&void 0!==i&&i}else this.context=t,this.callback=r,this.subscribe=null!=o&&o;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new ye(this.context,this.t,this.subscribe))}}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function Ce({context:e,subscribe:t}){return be({finisher:(r,o)=>{r.addInitializer((r=>{new we(r,{context:e,callback:e=>{r[o]=e},subscribe:t})}))}})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ee=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(r){r.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}},Se=(e,t,r)=>{t.constructor.createProperty(r,e)};function xe(e){return(t,r)=>void 0!==r?Se(e,t,r):Ee(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function Te(e){return xe({...e,state:!0})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function ke(e){return be({finisher:(t,r)=>{Object.assign(t.prototype[r],e)}})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function _e(e,t){return be({descriptor:r=>{const o={get(){var t,r;return null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==r?r:null},enumerable:!0,configurable:!0};if(t){const t="symbol"==typeof r?Symbol():"__"+r;o.get=function(){var r,o;return void 0===this[t]&&(this[t]=null!==(o=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelector(e))&&void 0!==o?o:null),this[t]}}return o}})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function Re(e){return be({descriptor:t=>({get(){var t,r;return null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelectorAll(e))&&void 0!==r?r:[]},enumerable:!0,configurable:!0})})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Oe;const De=null!=(null===(Oe=window.HTMLSlotElement)||void 0===Oe?void 0:Oe.prototype.assignedElements)?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter((e=>e.nodeType===Node.ELEMENT_NODE));function Ae(e){const{slot:t,selector:r}=null!=e?e:{};return be({descriptor:o=>({get(){var o;const i="slot"+(t?`[name=${t}]`:":not([name])"),n=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i),a=null!=n?De(n,e):[];return r?a.filter((e=>e.matches(r))):a},enumerable:!0,configurable:!0})})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Pe={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Me=e=>(...t)=>({_$litDirective$:e,values:t});class Le{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Fe="important",Ie=" !"+Fe,Ne=Me(class extends Le{constructor(e){var t;if(super(e),e.type!==Pe.ATTRIBUTE||"style"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,r)=>{const o=e[r];return null==o?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${o};`}),"")}update(e,[t]){const{style:r}=e.element;if(void 0===this.ht){this.ht=new Set;for(const e in t)this.ht.add(e);return this.render(t)}this.ht.forEach((e=>{null==t[e]&&(this.ht.delete(e),e.includes("-")?r.removeProperty(e):r[e]="")}));for(const o in t){const e=t[o];if(null!=e){this.ht.add(o);const t="string"==typeof e&&e.endsWith(Ie);o.includes("-")||t?r.setProperty(o,t?e.slice(0,-11):e,t?Fe:""):r[o]=e}}return U}}),He="apex-grid",Ge="apex-virtualizer",Ve="apex-grid-header-row",ze="apex-grid-header",Be="apex-grid-row",je="apex-grid-cell",We="apex-filter-row",Ue=Symbol(),$e="pipeline",Ke="arrow-upward",Ye="arrow-downward",qe=80,Xe=Object.freeze({column:"",row:-1}),Je=Object.freeze({key:Ue,type:"string",resizable:!1,hidden:!1,sort:!1,filter:!1}),Qe=new Map([["previous",Xe],["current",Xe]]);function Ze(e){return void 0!==e&&null!==e}const et=Object.freeze({all:{name:"all",label:"All",unary:!0,logic:e=>!0},true:{name:"true",label:"True",unary:!0,logic:e=>!0===e},false:{name:"false",label:"False",unary:!0,logic:e=>!1===e},empty:{name:"empty",label:"Empty",unary:!0,logic:e=>!Ze(e)},notEmpty:{name:"notEmpty",label:"Not empty",unary:!0,logic:e=>Ze(e)}}),tt=Object.freeze({equals:{name:"equals",label:"Equals",unary:!1,logic:(e,t)=>e===t},doesNotEqual:{name:"doesNotEqual",label:"Does not equal",unary:!1,logic:(e,t)=>e!==t},greaterThan:{name:"greaterThan",label:"Greater than",unary:!1,logic:(e,t)=>e>t},lessThan:{name:"lessThan",label:"Less than",unary:!1,logic:(e,t)=>e<t},greaterThanOrEqual:{name:"greaterThanOrEqual",label:"Greater than or equal",unary:!1,logic:(e,t)=>e>=t},lessThanOrEqual:{name:"lessThanOrEqual",label:"Less than or equal",unary:!1,logic:(e,t)=>e<=t},empty:{name:"empty",label:"Empty",unary:!0,logic:e=>!Ze(e)||isNaN(e)},notEmpty:{name:"notEmpty",label:"Not empty",unary:!0,logic:e=>Ze(e)&&!isNaN(e)}});function rt(e,t){return t?e:e.toLowerCase()}const ot=Object.freeze({contains:{name:"contains",label:"Contains",unary:!1,logic:(e,t,r)=>rt(e,r).includes(rt(t,r))},doesNotContain:{name:"doesNotContain",label:"Does not contain",unary:!1,logic:(e,t,r)=>!rt(e,r).includes(rt(t,r))},startsWith:{name:"startsWith",label:"Starts with",unary:!1,logic:(e,t,r)=>rt(e,r).startsWith(rt(t,r))},endsWith:{name:"endsWith",label:"Ends with",unary:!1,logic:(e,t,r)=>rt(e,r).endsWith(rt(t,r))},equals:{name:"equals",label:"Equals",unary:!1,logic:(e,t,r)=>rt(e,r)===rt(t,r)},doesNotEqual:{name:"doesNotEqual",label:"Does not equal",unary:!1,logic:(e,t,r)=>rt(e,r)!==rt(t,r)},empty:{name:"empty",label:"Empty",unary:!0,logic:e=>!Ze(e)||e.length<1},notEmpty:{name:"notEmpty",label:"Not empty",unary:!0,logic:e=>Ze(e)&&e.length>0}});function it(e){return{"grid-template-columns":e.filter((e=>!e.hidden)).map((({width:e})=>null!==e&&void 0!==e?e:"minmax(136px, 1fr)")).join(" ")}}function nt(e){var t;if(e.autoGenerate&&e.columns.length<1){const r=null!==(t=e.data[0])&&void 0!==t?t:{};e.columns=Object.entries(r).map((([e,t])=>{const r="boolean"===typeof t?"boolean":"number"===typeof t?"number":"string";return{key:e,type:r}}))}}function at(e){return Array.isArray(e)?e:[e]}function st(e){switch(e.type){case"boolean":return et;case"number":return tt;default:return ot}}class lt{constructor(e){this.key=e,this.operands=[]}get empty(){return this.operands.length<1}get length(){return this.operands.length}get all(){return Array.from(this.iterator())}get ands(){return this.operands.filter((e=>"and"===e.criteria))}get ors(){return this.operands.filter((e=>"or"===e.criteria))}has(e){return this.operands.includes(e)}add(e){return e.criteria||(e.criteria="and"),this.operands.includes(e)||this.operands.push(e),this}remove(e){return this.operands=this.operands.filter((t=>t!==e)),this}*iterator(){for(const e of this.operands)yield e}[Symbol.iterator](){return this.iterator()}}class ct{constructor(){this.state=new Map}get empty(){return this.state.size<1}get keys(){return Array.from(this.state.keys())}get values(){return Array.from(this.state.values())}get ands(){return this.values.map((e=>e.ands)).flat()}get ors(){return this.values.map((e=>e.ors)).flat()}has(e){return this.state.has(e)}get(e){return this.state.get(e)}delete(e){return this.state.delete(e)}clear(){this.state.clear()}set(e){var t;this.has(e.key)?null===(t=this.get(e.key))||void 0===t||t.add(e):this.state.set(e.key,new lt(e.key).add(e))}}var ut,dt,ht,pt,ft,gt=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};class vt{constructor(e){ut.add(this),this.host=e,this.state=new ct,this.host.addController(this)}get filterRow(){return this.host.filterRow}hostConnected(){}hostUpdate(){var e;null===(e=this.filterRow)||void 0===e||e.requestUpdate()}get(e){return this.state.get(e)}reset(e){e?this.state.delete(e):this.state.clear()}setActiveColumn(e){var t;(null===e||void 0===e?void 0:e.filter)&&(null===(t=this.filterRow)||void 0===t?void 0:t.active)&&(this.filterRow.column=e,this.filterRow.expression=this.getDefaultExpression(e),this.host.requestUpdate())}getDefaultExpression(e){var t;const r="boolean"!==typeof e.filter&&Boolean(null===(t=e.filter)||void 0===t?void 0:t.caseSensitive),o=st(e),i=Object.keys(o);return{key:e.key,condition:o[i[0]],caseSensitive:r}}async removeAllExpressions(e){var t,r,o,i;const n=null!==(r=null===(t=this.get(e))||void 0===t?void 0:t.all)&&void 0!==r?r:[];this.host.emitEvent("filtering",{detail:{key:e,expressions:n,type:"remove"},cancelable:!0})&&(this.reset(e),gt(this,ut,"m",ft).call(this,[]),await this.host.updateComplete,gt(this,ut,"m",pt).call(this,{key:e,state:null!==(i=null===(o=this.get(e))||void 0===o?void 0:o.all)&&void 0!==i?i:[]}))}async removeExpression(e){var t;const r=this.get(e.key);gt(this,ut,"m",ht).call(this,e,"remove")&&(null===r||void 0===r||r.remove(e),(null===r||void 0===r?void 0:r.empty)&&this.reset(r.key),gt(this,ut,"m",ft).call(this,[]),await this.host.updateComplete,gt(this,ut,"m",pt).call(this,{key:e.key,state:null!==(t=null===r||void 0===r?void 0:r.all)&&void 0!==t?t:[]}))}async filterWithEvent(e,t){var r,o;gt(this,ut,"m",ht).call(this,e,t)&&(gt(this,ut,"m",ft).call(this,e),await this.host.updateComplete,gt(this,ut,"m",pt).call(this,{key:e.key,state:null!==(o=null===(r=this.get(e.key))||void 0===r?void 0:r.all)&&void 0!==o?o:[]}))}filter(e){gt(this,ut,"m",ft).call(this,at(e).map((e=>Object.assign(this.getDefaultExpression(this.host.getColumn(e.key)),e))))}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function*mt(e,t){if(void 0!==e){let r=0;for(const o of e)yield t(o,r++)}}function bt(e,t=[]){for(const r of t)r.register();customElements.get(e.is)||customElements.define(e.is,e)}ut=new WeakSet,dt=function(){return this.host.scrollContainer},ht=function(e,t){return this.host.emitEvent("filtering",{detail:{key:e.key,expressions:[e],type:t},cancelable:!0})},pt=function(e){return this.host.emitEvent("filtered",{detail:e})},ft=function(e){var t;at(e).forEach((e=>this.state.set(e))),null===(t=gt(this,ut,"a",dt))||void 0===t||t.scrollTo({top:0}),this.host.requestUpdate($e)};const yt=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  position: relative;
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-flex: 1;
      -ms-flex: 1 0 0px;
          flex: 1 0 0;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  padding: 0 max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem));
  color: inherit;
  border-right: var(--igx-row-border-width, var(--row-border-width)) solid transparent;
  font-size: 0.8125rem;
  overflow-wrap: anywhere;
}
:host:last-of-type {
  border-right: 0;
}

:host([active]) {
  outline: none;
  -webkit-box-shadow: inset 0 0 0 0.0625rem var(--igx-cell-active-border-color, var(--cell-active-border-color));
          box-shadow: inset 0 0 0 0.0625rem var(--igx-cell-active-border-color, var(--cell-active-border-color));
}

:host(:last-child) {
  -webkit-border-end: none;
          border-inline-end: none;
}

igc-input {
  position: absolute;
  left: 0;
  height: calc(100% - 0.0625rem * 2);
  width: 100%;
}
igc-input::part(container), igc-input::part(input) {
  border-color: transparent;
  -webkit-box-shadow: none;
          box-shadow: none;
  height: 100%;
}

igc-input::part(container), igc-input::part(input),
igc-select::part(container),
igc-select::part(input) {
  background: inherit;
  color: inherit;
  font-size: 0.8125rem;
}
igc-input::part(helper-text)::after, igc-input::part(container)::after,
igc-select::part(helper-text)::after,
igc-select::part(container)::after {
  display: none;
}`;var wt=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};class Ct extends he{constructor(){super(...arguments),this.active=!1}static get is(){return je}static register(){bt(this)}get context(){return{parent:this,row:this.row,column:this.column,value:this.value}}render(){return this.column.cellTemplate?this.column.cellTemplate(this.context):W`${this.value}`}}Ct.styles=yt,wt([xe({attribute:!1})],Ct.prototype,"value",void 0),wt([xe({attribute:!1})],Ct.prototype,"column",void 0),wt([xe({type:Boolean,reflect:!0})],Ct.prototype,"active",void 0);var Et=Ct;const St=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  display: grid;
  width: 100%;
  min-height: max(var(--is-large, 1) * max(3.125rem, -1 * 3.125rem), var(--is-medium, 1) * max(2.125rem, -1 * 2.125rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem));
  -webkit-border-after: var(--igx-row-border-width, var(--header-border-width)) var(--igx-row-border-style, var(--header-border-style)) var(--igx-row-border-color, var(--header-border-color));
          border-block-end: var(--igx-row-border-width, var(--header-border-width)) var(--igx-row-border-style, var(--header-border-style)) var(--igx-row-border-color, var(--header-border-color));
  background: var(--igx-row-odd-background, var(--row-odd-background));
  color: var(--igx-row-odd-text-color, var(--row-odd-text-color));
  z-index: var(--z-index-base);
}

:host(:last-of-type) {
  border-bottom: 0;
}

:host(:nth-of-type(even)) {
  background: var(--igx-row-even-background, var(--row-even-background));
  color: var(--igx-row-even-text-color, var(--row-even-text-color));
}

:host(:hover) {
  background: var(--igx-row-hover-background, var(--row-hover-background));
  color: var(--igx-row-hover-text-color, var(--row-hover-text-color));
}`;var xt=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};class Tt extends he{constructor(){super(...arguments),this.columns=[],this.index=-1}static get is(){return Be}static register(){bt(this,[Et])}get cells(){return Array.from(this._cells)}connectedCallback(){super.connectedCallback(),this.setAttribute("exportparts","cell")}render(){const{column:e,row:t}=this.activeNode;return W`
      ${mt(this.columns,(r=>r.hidden?$:W`<apex-grid-cell
              part="cell"
              .active=${e===r.key&&t===this.index}
              .column=${r}
              .row=${this}
              .value=${this.data[r.key]}
            ></apex-grid-cell>`))}
    `}}Tt.styles=St,xt([Re(Et.is)],Tt.prototype,"_cells",void 0),xt([xe({attribute:!1})],Tt.prototype,"data",void 0),xt([xe({attribute:!1})],Tt.prototype,"columns",void 0),xt([xe({attribute:!1})],Tt.prototype,"activeNode",void 0),xt([xe({attribute:!1,type:Number})],Tt.prototype,"index",void 0);var kt=Tt;class _t{get virtualizer(){return this.host.scrollContainer}get nextNode(){const e=this.state.get("current");return e===Xe?{column:this.firstColumn,row:0}:{...e}}get columns(){return this.host.columns}get firstColumn(){var e;return null!==(e=this.host.getColumn(0).key)&&void 0!==e?e:""}getPreviousColumn(e){return this.columns[Math.max(this.columns.indexOf(this.host.getColumn(e))-1,0)].key}getNextColumn(e){return this.columns[Math.min(this.columns.indexOf(this.host.getColumn(e))+1,this.columns.length-1)].key}scrollToCell(e){var t;const r=Array.from(this.virtualizer.querySelectorAll(kt.is)).find((t=>t.index===e.row));r&&(null===(t=r.cells.find((t=>t.column.key===e.column)))||void 0===t||t.scrollIntoView({block:"nearest"}))}get active(){return this._active}set active(e){this._active=e,this.state.set("previous",this._active),this.state.set("current",e),this.host.requestUpdate()}constructor(e){this.host=e,this.handlers=new Map(Object.entries({ArrowDown:this.arrowDown,ArrowUp:this.arrowUp,ArrowLeft:this.arrowLeft,ArrowRight:this.arrowRight,Home:this.home,End:this.end})),this.state=Qe,this._active=Xe,this.host.addController(this)}home(){var e;this.active=Object.assign(this.nextNode,{row:0}),null===(e=this.virtualizer.element(this.active.row))||void 0===e||e.scrollIntoView({block:"nearest"})}end(){var e;this.active=Object.assign(this.nextNode,{row:this.host.totalItems-1}),null===(e=this.virtualizer.element(this.active.row))||void 0===e||e.scrollIntoView({block:"nearest"})}arrowDown(){var e;const t=this.nextNode;this.active=Object.assign(t,{row:Math.min(t.row+1,this.host.totalItems-1)}),null===(e=this.virtualizer.element(t.row))||void 0===e||e.scrollIntoView({block:"nearest"})}arrowUp(){var e;const t=this.nextNode;this.active=Object.assign(t,{row:Math.max(0,t.row-1)}),null===(e=this.virtualizer.element(t.row))||void 0===e||e.scrollIntoView({block:"nearest"})}arrowLeft(){const e=this.nextNode;this.active=Object.assign(e,{column:this.getPreviousColumn(e.column)}),this.scrollToCell(this.active)}arrowRight(){const e=this.nextNode;this.active=Object.assign(e,{column:this.getNextColumn(e.column)}),this.scrollToCell(this.active)}hostConnected(){}hostDisconnected(){this.active=Xe,this.state=Qe}navigate(e){this.handlers.has(e.key)&&(e.preventDefault(),this.handlers.get(e.key).call(this))}}var Rt,Ot,Dt,At,Pt,Mt,Lt,Ft,It,Nt=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};class Ht{constructor(e){Rt.add(this),this.host=e,this.state=new Map,this.host.addController(this)}async sortFromHeaderClick(e){const t=this.prepareExpression(e);Nt(this,Rt,"m",Lt).call(this,t)&&(Nt(this,Rt,"a",Ot)||this.reset(),this._sort(t),await this.host.updateComplete,Nt(this,Rt,"m",Ft).call(this,t))}prepareExpression({key:e,sort:t}){if(this.state.has(e)){const r=this.state.get(e);return Object.assign(r,{direction:Nt(this,Rt,"m",Mt).call(this,r.direction),...Nt(this,Rt,"m",At).call(this,t)})}return Nt(this,Rt,"m",Pt).call(this,e)}reset(e){e?this.state.delete(e):this.state.clear()}_sort(e){at(e).forEach((e=>Nt(this,Rt,"m",It).call(this,e))),this.host.requestUpdate($e)}sort(e){this._sort(at(e).map((e=>{var t;return Object.assign(null!==(t=this.state.get(e.key))&&void 0!==t?t:Nt(this,Rt,"m",Pt).call(this,e.key),e)})))}hostConnected(){}}Rt=new WeakSet,Ot=function(){return this.host.sortConfiguration.multiple},Dt=function(){return this.host.sortConfiguration.triState},At=function(e){const t={caseSensitive:!1,comparer:void 0};return e&&"boolean"!==typeof e?Object.assign(t,{caseSensitive:e.caseSensitive,comparer:e.comparer}):t},Pt=function(e){var t;const r=null===(t=this.host.getColumn(e))||void 0===t?void 0:t.sort;return{key:e,direction:"ascending",...Nt(this,Rt,"m",At).call(this,r)}},Mt=function(e){return Nt(this,Rt,"a",Dt)?"ascending"===e?"descending":"descending"===e?"none":"ascending":"ascending"===e?"descending":"ascending"},Lt=function(e){return this.host.emitEvent("sorting",{detail:e,cancelable:!0})},Ft=function(e){return this.host.emitEvent("sorted",{detail:e})},It=function(e){"none"===e.direction?this.reset(e.key):this.state.set(e.key,{...e})};var Gt,Vt,zt=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};class Bt{constructor(e){Gt.add(this),this.host=e,this.indicatorActive=!1,this.indicatorOffset=0,this.host.addController(this)}start(e){this.indicatorActive=!0,this.indicatorOffset=e.offsetLeft+e.offsetWidth,this.host.requestUpdate()}stop(){this.indicatorActive=!1,this.host.requestUpdate()}resize(e,t,r){r&&(this.indicatorOffset=r),e.width=`${t}px`,this.host.requestUpdate()}async autosize(e,t){e.width="max-content",this.host.requestUpdate(),await this.host.updateComplete,e.width=`${zt(this,Gt,"m",Vt).call(this,e.key,t.offsetWidth)}px`,this.host.requestUpdate()}hostConnected(){}renderIndicator(){return this.indicatorActive?W`<div
          part="resize-indicator"
          style=${Ne({transform:`translateX(${this.indicatorOffset}px)`})}
        ></div>`:$}}Gt=new WeakSet,Vt=function(e,t){const r=this.host.rows.map((t=>t.cells.find((t=>t.column.key===e)))).reduce(((e,t)=>t.offsetWidth>e?t.offsetWidth:e),0);return Math.max(qe,r,t)};class jt{get active(){return this.navigation.active}set active(e){this.navigation.active=e}get headerRow(){return this.host.headerRow}get scrollContainer(){return this.host.scrollContainer}constructor(e){this.host=e,this.host.addController(this),this.init()}init(){this.sorting=new Ht(this.host),this.filtering=new vt(this.host),this.navigation=new _t(this.host),this.resizing=new Bt(this.host)}hostConnected(){}hostUpdate(){var e,t;null===(e=this.headerRow)||void 0===e||e.requestUpdate(),null===(t=this.scrollContainer)||void 0===t||t.requestUpdate()}}const Wt=fe("gridStateController");class Ut{resolveValue(e,t){return e[t]}resolveCase(e,t){return"string"!==typeof e||t?e:e.toLowerCase()}}class $t extends Ut{constructor(){super(...arguments),this.orderBy=new Map(Object.entries({ascending:1,descending:-1}))}compareValues(e,t){return"string"===typeof e&&"string"===typeof t?e.localeCompare(t):e>t?1:e<t?-1:0}compareObjects(e,t,r){var o;const{direction:i,key:n,caseSensitive:a,comparer:s}=r,l=this.resolveCase(this.resolveValue(e,n),a),c=this.resolveCase(this.resolveValue(t,n),a);return this.orderBy.get(i)*(null!==(o=null===s||void 0===s?void 0:s(l,c))&&void 0!==o?o:this.compareValues(l,c))}apply(e,t){const r=Array.from(t.values()),o=r.length;return e.sort(((e,t)=>{let i=0,n=0;while(i<o&&!n)n=this.compareObjects(e,t,r[i]),i++;return n})),e}}class Kt extends Ut{resolveFilter(e,t){const r=t.condition;return r.logic(this.resolveValue(e,t.key),t.searchTerm,t.caseSensitive)}match(e,t,r){for(const o of r)if(this.resolveFilter(e,o))return this.match(e,t.filter((e=>e.key!==o.key)),[]);return t.every((t=>this.resolveFilter(e,t)))}apply(e,t){if(t.empty)return e;const{ands:r,ors:o}=t;return e.filter((e=>this.match(e,r,o)))}}class Yt{constructor(e){this.host=e,this.sorting=new $t,this.filtering=new Kt,this.host.addController(this)}hostConnected(){}get hasCustomSort(){var e;return Ze(null===(e=this.host.dataPipelineConfiguration)||void 0===e?void 0:e.sort)}get hasCustomFilter(){var e;return Ze(null===(e=this.host.dataPipelineConfiguration)||void 0===e?void 0:e.filter)}get customFilter(){return this.host.dataPipelineConfiguration.filter}get customSort(){return this.host.dataPipelineConfiguration.sort}async apply(e,t){const{filtering:r,sorting:o}=t;return e=this.hasCustomFilter?await this.customFilter({data:e,grid:this.host,type:"filter"}):this.filtering.apply(e,r.state),e=this.hasCustomSort?await this.customSort({data:e,grid:this.host,type:"sort"}):this.sorting.apply(e,o.state),e}}class qt{static instance(){return qt._instance||(qt._instance=new qt),qt._instance}constructor(){this.iconsRegistry=new Map,this.callbacks=new Set,this.iconsRegistry.set("internal",Qt)}subscribe(e){this.callbacks.add(e)}unsubscribe(e){this.callbacks.delete(e)}registerIcon(e,t,r="default"){const o=document.createElement("div");o.innerHTML=t;const i=o.querySelector("svg");if(!i)throw new Error("SVG element not found.");{i.setAttribute("fit",""),i.setAttribute("preserveAspectRatio","xMidYMid meet");const t=i.outerHTML,o=this.getOrCreateIconCollection(r);o[e]=t,this.callbacks.forEach((t=>t(e,r)))}}getIcon(e,t="default"){if(this.iconsRegistry.has(t))return this.iconsRegistry.get(t)[e]}getOrCreateIconCollection(e){let t;return this.iconsRegistry.has(e)?t=this.iconsRegistry.get(e):(t={},this.iconsRegistry.set(e,t)),t}}const Xt=async(e,t,r="default")=>{const o=await fetch(t);if(!o.ok)throw new Error(`Icon request failed. Status: ${o.status}.`);{const t=await o.text();qt.instance().registerIcon(e,t,r)}},Jt=(e,t,r="default")=>{qt.instance().registerIcon(e,t,r)},Qt={navigate_before:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.61 7.41L14.2 6l-6 6 6 6 1.41-1.41L11.03 12l4.58-4.59z"/></svg>',navigate_next:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"/></svg>',keyboard_arrow_up:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>',keyboard_arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>',keyboard_arrow_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>',chip_cancel:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>',chip_select:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>',star:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0z" fill="none"/><path d="M0 0h24v24H0z" fill="none"/><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>',star_border:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0z" fill="none"/><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg>',case_sensitive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"><path d="M21.2 16.5c0-.2-.1-.5-.1-.7v-4.4c0-.4-.1-.8-.3-1.2-.2-.3-.5-.6-.8-.7-.3-.2-.7-.3-1.1-.3-.4-.1-.8-.1-1.2-.1-.5 0-.9 0-1.4.1-.4.1-.8.3-1.2.5-.3.2-.6.5-.8.9s-.3.9-.3 1.3h1.4c0-.5.2-1 .7-1.3.5-.2 1-.4 1.5-.3.2 0 .5 0 .7.1.2 0 .4.1.6.2.2.1.3.2.5.4.1.2.2.5.2.7s-.1.4-.2.6c-.2.2-.4.3-.6.3-.3.1-.6.1-.9.2-.4 0-.7.1-1.1.2-.4.1-.7.1-1.1.2-.3.1-.7.2-1 .4s-.5.5-.7.8c-.2.4-.3.8-.3 1.2s.1.8.2 1.1c.1.3.4.5.6.7.3.2.6.3.9.4.9.2 1.9.2 2.8-.2.5-.2 1-.6 1.4-1 0 .4.1.7.3 1 .2.2.6.3.9.3.4 0 .7-.1 1-.2v-1.1c-.1 0-.3.1-.4.1-.1.1-.2 0-.2-.2zm-1.5-1.7c0 .2-.1.4-.2.6-.1.2-.3.5-.5.6-.2.2-.5.4-.8.5-.4.1-.8.2-1.2.2-.2 0-.4 0-.6-.1-.2 0-.4-.1-.5-.2-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.1-.6 0-.3.1-.6.2-.8.2-.2.4-.4.6-.5.3-.1.6-.2.9-.2s.7-.1 1-.1.6-.1.9-.1.5-.1.7-.3v1.4zm-9.6-.4l1.3 3.6h1.8L8.5 6H6.7L2 18h1.7L5 14.4h5.1zm-2.5-7l2.1 5.5H5.5l2.1-5.5z"></path></svg>',clear:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',arrow_drop_up:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14l5-5 5 5z"/></svg>',arrow_drop_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 10l5 5 5-5z"/></svg>',arrow_downward:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/></svg>',arrow_upward:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>'},Zt={"arrow-upward":'<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-downward" role="img" viewBox="0 0 45 45"><path d="M22.5 40V13.7L10.1 26.1 8 24 24 8l16 16-2.1 2.1-12.4-12.4V40Z"/></svg>',"arrow-downward":'<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-downward" role="img" viewBox="0 0 45 45"><path fill="currentColor" d="M24 40 8 24l2.1-2.1 12.4 12.4V8h3v26.3l12.4-12.4L40 24Z"/></svg>',all:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="agall-desc agall-title"><title id="agall-title">Select All Icon</title><desc id="agall-desc">A picture showing tree lines and a check mark.</desc><path d="M2 14h8v2H2zm0-8h12v2H2zm14 11l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/></svg>',contains:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="czcontains-desc czcontains-title"><title id="czcontains-title">Contains Icon</title><desc id="czcontains-desc">A picture showing the lowercase letter A in a square box.</desc><path d="M3 3v18h18V3zm16 16H5V5h14z"/><path d="M12 11.3a4.39 4.39 0 00-2.54.63 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 01-.21-.88 5.57 5.57 0 01-.07-.93v-3.5a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.54 3.54 0 00-2.3.72A1.93 1.93 0 009 10.29h1.71a.93.93 0 01.29-.71 1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 01-.71.77 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9 1.76 1.76 0 011.22-.39z"/></svg>',doesNotContain:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eadoes-not-contain-desc eadoes-not-contain-title"><title id="eadoes-not-contain-title">Does-Not-Contain Icon</title><desc id="eadoes-not-contain-desc">A picture showing the lowercase letter A in a crossed-out square box.</desc><path d="M21 19.74V3H4.26L2.89 1.63 1.63 2.92 3 4.29V21h16.73l1.37 1.37 1.27-1.26zM5 19V6.28l5.28 5.27a3.19 3.19 0 00-.81.38 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1L17.73 19zm5.79-6.23a1.31 1.31 0 01.45-.25l1.37 1.36.28.29a1.57 1.57 0 01-.19.15 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9zm2.6-1.47h-.83l-1.62-1.62.08-.1a1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1zM19 17.74l-3.85-3.85v-3.27a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.64 3.64 0 00-2.24.67L6.26 5H19z"/></svg>',greaterThan:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fygreater-than-desc fygreater-than-title"><title id="fygreater-than-title">Greater Than Icon</title><desc id="fygreater-than-desc">A picture showing the greater-than symbol.</desc><path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/></svg>',greaterThanOrEqual:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fzgreater-than-or-equal-desc fzgreater-than-or-equal-title"><title id="fzgreater-than-or-equal-title">Greater Than or Equal Icon</title><desc id="fzgreater-than-or-equal-desc">A picture showing the grater-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/></svg>',empty:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gsis-empty-desc gsis-empty-title"><title id="gsis-empty-title">Is Empty Icon</title><desc id="gsis-empty-desc">A picture showing a dotted square.</desc><path d="M5 17h2v2H5zm8 0h2v2h-2zm-8-4h2v2H5zm12 4h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zm8-8h2v2h-2zm0 4h2v2h-2zm0-8h2v2h-2zM5 9h2v2H5zm0-4h2v2H5zm4 0h2v2H9z"/></svg>',endsWith:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="enends-with-desc enends-with-title"><title id="enends-with-title">Ends With Icon</title><desc id="enends-with-desc">A picture showing three dots followed by lowercase a.</desc><path d="M3 14.5h2v2H3zm8 0h2v2h-2zm-4 0h2v2H7zm13.8.3v-3A2.1 2.1 0 0020 10a3 3 0 00-2-.6 3 3 0 00-2 .6 1.7 1.7 0 00-.7 1.5h1.5a.8.8 0 01.3-.7 1.3 1.3 0 01.9-.3 1.3 1.3 0 01.9.4 1.1 1.1 0 01.3.8v.6H18a3.8 3.8 0 00-2.2.6 1.8 1.8 0 00-.8 1.5 2 2 0 00.6 1.6 2.3 2.3 0 001.6.6 2.1 2.1 0 001.2-.4 2.8 2.8 0 00.8-.8 4.3 4.3 0 00.1.5l.1.5H21a4.1 4.1 0 01-.2-.7 5.4 5.4 0 010-1zm-1.6-.5a1.5 1.5 0 01-.6.7 2 2 0 01-1 .2 1.1 1.1 0 01-.8-.2.8.8 0 01-.2-.6 1 1 0 01.3-.8 1.5 1.5 0 011.1-.3h1.2z"/></svg>',equals:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eoequals-desc eoequals-title"><title id="eoequals-title">Equals Icon</title><desc id="eoequals-desc">A picture showing the equals sign.</desc><path d="M5 13.5h14v2H5zm0-5h14v2H5z"/></svg>',false:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gtis-false-desc gtis-false-title"><title id="gtis-false-title">Is False Icon</title><desc id="gtis-false-desc">A picture showing an encircled X symbol.</desc><path d="M8 5a7 7 0 107 7 7 7 0 00-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7z"/><path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/></svg>',lessThan:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hhless-than-desc hhless-than-title"><title id="hhless-than-title">Less Than Icon</title><desc id="hhless-than-desc">A picture showing the less-than symbol.</desc><path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/></svg>',lessThanOrEqual:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hiless-than-or-equal-desc hiless-than-or-equal-title"><title id="hiless-than-or-equal-title">Less Than or Equal Icon</title><desc id="hiless-than-or-equal-desc">A picture showing the lass-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/></svg>',notEmpty:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ionot-empty-desc ionot-empty-title"><title id="ionot-empty-title">Not Empty Icon</title><desc id="ionot-empty-desc">A picture showing a crossed-out dotted square.</desc><path d="M5 9h2v2H5zm4 8h2v2H9zm4 0h2v2h-2zm4-8h2v2h-2zm0-4h2v2h-2zM5 17h2v2H5zm8-12h2v2h-2zm-8 8h2v2H5zm14 2v-2h-2v.47L18.53 15H19zm-8-8V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/></svg>',doesNotEqual:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ipnot-equal-desc ipnot-equal-title"><title id="ipnot-equal-title">Not Equal Icon</title><desc id="ipnot-equal-desc">A picture showing a crossed-out equals symbol.</desc><path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/></svg>',startsWith:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="512" height="512" aria-labelledby="lqstarts-with-desc lqstarts-with-title"><title id="lqstarts-with-title">Starts With Icon</title><desc id="lqstarts-with-desc">A picture showing the uppercase letter A followed by three dots.</desc><path d="M5.9 7.5l-3.9 9h1.7l.7-1.8h4.1l.7 1.8H11l-3.9-9H5.9zM5 13.2l1.5-4.1L8 13.2H5zm7 1.3h2v2h-2v-2zm8 0h2v2h-2v-2zm-4 0h2v2h-2v-2z"/></svg>',true:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="512" height="512" aria-labelledby="gwis-true-desc gwis-true-title"><title id="gwis-true-title">is True Icon</title><desc id="gwis-true-desc">A picture showing an encircled check mark symbol.</desc><path d="M19.44 14.22zm-2.88 0zm0 0L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/><path d="M18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7zM8 5a7 7 0 107 7 7 7 0 00-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/></svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><path d="M20 36v-3h8v3Zm-8-10.5v-3h24v3ZM6 15v-3h36v3Z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="m12.45 37.65-2.1-2.1L21.9 24 10.35 12.45l2.1-2.1L24 21.9l11.55-11.55 2.1 2.1L26.1 24l11.55 11.55-2.1 2.1L24 26.1Z"/></svg>',refresh:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M24 40q-6.65 0-11.325-4.675Q8 30.65 8 24q0-6.65 4.675-11.325Q17.35 8 24 8q4.25 0 7.45 1.725T37 14.45V8h3v12.7H27.3v-3h8.4q-1.9-3-4.85-4.85Q27.9 11 24 11q-5.45 0-9.225 3.775Q11 18.55 11 24q0 5.45 3.775 9.225Q18.55 37 24 37q4.15 0 7.6-2.375 3.45-2.375 4.8-6.275h3.1q-1.45 5.25-5.75 8.45Q29.45 40 24 40Z"/></svg>'};function er(){for(const[e,t]of Object.entries(Zt))Jt(e,t,"internal")}var tr,rr=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};class or{constructor(e,t){this.host=e,this.state=t,tr.set(this,(()=>{setTimeout((()=>this.setScrollOffset()))})),this.columnSizes={},this.rowRenderer=(e,t)=>W`<apex-grid-row
      part="row"
      style=${Ne({...this.columnSizes,...this.getActiveRowStyles(t)})}
      .index=${t}
      .activeNode=${this.state.active}
      .data=${e}
      .columns=${this.host.columns}
    ></apex-grid-row>`,this.host.addController(this)}get container(){return this.host.scrollContainer}async hostConnected(){er(),this.setGridColumnSizes(),await this.host.updateComplete,this.container.addEventListener("visibilityChanged",rr(this,tr,"f"),{once:!0})}hostUpdate(){this.setScrollOffset(),this.setGridColumnSizes()}setScrollOffset(){const e=this.container?this.container.offsetWidth-this.container.clientWidth:0;this.host.style.setProperty("--scrollbar-offset",`${e}px`)}setGridColumnSizes(){this.columnSizes=it(this.host.columns)}getActiveRowStyles(e){const{row:t}=this.state.active;return t===e?{"z-index":"3"}:{}}}tr=new WeakMap;class ir extends he{addEventListener(e,t,r){super.addEventListener(e,t,r)}removeEventListener(e,t,r){super.removeEventListener(e,t,r)}emitEvent(e,t){return this.dispatchEvent(new CustomEvent(e,Object.assign({bubbles:!0,cancelable:!1,composed:!0,detail:{}},t)))}}function nr(e,t){return(r,o)=>{const{willUpdate:i}=r;t=Object.assign({waitUntilFirstUpdate:!1},t),r.willUpdate=function(r){if(i.call(this,r),r.has(e)){const i=r.get(e),n=this[e];i!==n&&((null===t||void 0===t?void 0:t.waitUntilFirstUpdate)&&!this.hasUpdated||this[o].call(this,i,n))}}}}const ar=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  display: grid;
  height: 100%;
  position: relative;
  font-family: var(--ig-font-family);
  -webkit-box-shadow: var(--ig-elevation-2);
          box-shadow: var(--ig-elevation-2);
  overflow: auto hidden;
  grid-template-rows: [header-row] -webkit-max-content [filter-row] -webkit-max-content [virtualized-container] auto;
  grid-template-rows: [header-row] max-content [filter-row] max-content [virtualized-container] auto;
  --scrollbar-offset: 0;
  --z-index-base: 1;
}

apex-virtualizer {
  grid-row: virtualized-container;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-flow: column;
          flex-flow: column;
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  background: var(--igx-content-background, var(--content-background));
  color: var(--igx-content-text-color, var(--content-text-color));
  overflow: hidden auto !important;
}
apex-virtualizer:focus {
  outline: none;
}

[part~=resize-indicator] {
  position: absolute;
  height: 100%;
  background-color: var(--igx-grid-resize-line-color, var(--grid-resize-line-color));
  width: 0.125rem;
  inset-inline-start: 0;
  top: 0;
  z-index: calc(var(--z-index-base) + 1);
}

:host {
  --content-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --content-text-color: var(--ig-gray-50-contrast);
  --header-background: hsla(var(--ig-surface-500), var(--ig-surface-a));
  --header-text-color: var(--ig-surface-500-contrast);
  --header-border-width: 0.0625rem;
  --header-border-style: solid;
  --header-border-color: hsla(var(--ig-gray-400), 0.38);
  --filtering-header-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --filtering-row-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --filtering-row-text-color: var(--ig-gray-50-contrast);
  --sorted-header-icon-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
  --icon-color: "currentColor";
  --row-hover-background: hsla(var(--ig-gray-200), var(--ig-gray-a));
  --row-hover-text-color: var(--ig-gray-200-contrast);
  --row-even-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --row-even-text-color: var(--ig-gray-50-contrast);
  --row-odd-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --row-odd-text-color: var(--ig-gray-50-contrast);
  --row-border-color: hsla(var(--ig-gray-300), 0.38);
  --row-border-style: solid;
  --row-border-width: 0.0625rem;
  --cell-active-border-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
  --grid-resize-line-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
}`,sr=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  display: grid;
  height: 100%;
  position: relative;
  font-family: var(--ig-font-family);
  -webkit-box-shadow: var(--ig-elevation-2);
          box-shadow: var(--ig-elevation-2);
  overflow: auto hidden;
  grid-template-rows: [header-row] -webkit-max-content [filter-row] -webkit-max-content [virtualized-container] auto;
  grid-template-rows: [header-row] max-content [filter-row] max-content [virtualized-container] auto;
  --scrollbar-offset: 0;
  --z-index-base: 1;
}

apex-virtualizer {
  grid-row: virtualized-container;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-flow: column;
          flex-flow: column;
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  background: var(--igx-content-background, var(--content-background));
  color: var(--igx-content-text-color, var(--content-text-color));
  overflow: hidden auto !important;
}
apex-virtualizer:focus {
  outline: none;
}

[part~=resize-indicator] {
  position: absolute;
  height: 100%;
  background-color: var(--igx-grid-resize-line-color, var(--grid-resize-line-color));
  width: 0.125rem;
  inset-inline-start: 0;
  top: 0;
  z-index: calc(var(--z-index-base) + 1);
}

:host {
  --content-background: var(hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --content-text-color: var(var(--ig-gray-50-contrast));
  --header-background: hsla(var(--ig-surface-500), var(--ig-surface-a));
  --header-text-color: var(--ig-surface-500-contrast);
  --header-border-width: 0.0625rem;
  --header-border-style: solid;
  --header-border-color: hsla(var(--ig-gray-100), var(--ig-gray-a));
  --filtering-header-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --filtering-row-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --filtering-row-text-color: var(--ig-gray-50-contrast);
  --sorted-header-icon-color: hsla(var(--ig-secondary-500), var(--ig-secondary-a));
  --icon-color: "currentColor";
  --row-hover-background: hsla(var(--ig-gray-200), var(--ig-gray-a));
  --row-hover-text-color: var(--ig-gray-200-contrast);
  --row-even-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --row-even-text-color: var(--ig-gray-50-contrast);
  --row-odd-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --row-odd-text-color: var(--ig-gray-50-contrast);
  --row-border-color: hsla(var(--ig-gray-100), var(--ig-gray-a));
  --row-border-style: var(--header-border-style);
  --row-border-width: var(--header-border-width);
  --cell-active-border-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
  --grid-resize-line-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
}`,lr=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  display: grid;
  height: 100%;
  position: relative;
  font-family: var(--ig-font-family);
  -webkit-box-shadow: var(--ig-elevation-2);
          box-shadow: var(--ig-elevation-2);
  overflow: auto hidden;
  grid-template-rows: [header-row] -webkit-max-content [filter-row] -webkit-max-content [virtualized-container] auto;
  grid-template-rows: [header-row] max-content [filter-row] max-content [virtualized-container] auto;
  --scrollbar-offset: 0;
  --z-index-base: 1;
}

apex-virtualizer {
  grid-row: virtualized-container;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-flow: column;
          flex-flow: column;
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  background: var(--igx-content-background, var(--content-background));
  color: var(--igx-content-text-color, var(--content-text-color));
  overflow: hidden auto !important;
}
apex-virtualizer:focus {
  outline: none;
}

[part~=resize-indicator] {
  position: absolute;
  height: 100%;
  background-color: var(--igx-grid-resize-line-color, var(--grid-resize-line-color));
  width: 0.125rem;
  inset-inline-start: 0;
  top: 0;
  z-index: calc(var(--z-index-base) + 1);
}

:host {
  --content-background: var(hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --content-text-color: var(var(--ig-gray-50-contrast));
  --header-background: hsla(var(--ig-gray-100), var(--ig-gray-a));
  --header-text-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
  --header-border-width: 0.0625rem;
  --header-border-style: solid;
  --header-border-color: hsla(var(--ig-primary-500), 0.24);
  --filtering-header-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --filtering-row-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --filtering-row-text-color: var(--ig-gray-50-contrast);
  --sorted-header-icon-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
  --icon-color: "currentColor";
  --row-hover-background: hsla(var(--ig-primary-50), var(--ig-primary-a));
  --row-hover-text-color: var(--ig-gray-200-contrast);
  --row-even-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --row-even-text-color: var(--ig-gray-50-contrast);
  --row-odd-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --row-odd-text-color: var(--ig-gray-50-contrast);
  --row-border-color: hsla(var(--ig-primary-50), var(--ig-primary-a));
  --row-border-style: var(--header-border-style);
  --row-border-width: var(--header-border-width);
  --cell-active-border-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
  --grid-resize-line-color: hsla(var(--ig-primary-500), var(--ig-primary-a));
}`,cr=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  display: grid;
  height: 100%;
  position: relative;
  font-family: var(--ig-font-family);
  -webkit-box-shadow: var(--ig-elevation-2);
          box-shadow: var(--ig-elevation-2);
  overflow: auto hidden;
  grid-template-rows: [header-row] -webkit-max-content [filter-row] -webkit-max-content [virtualized-container] auto;
  grid-template-rows: [header-row] max-content [filter-row] max-content [virtualized-container] auto;
  --scrollbar-offset: 0;
  --z-index-base: 1;
}

apex-virtualizer {
  grid-row: virtualized-container;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-flow: column;
          flex-flow: column;
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  background: var(--igx-content-background, var(--content-background));
  color: var(--igx-content-text-color, var(--content-text-color));
  overflow: hidden auto !important;
}
apex-virtualizer:focus {
  outline: none;
}

[part~=resize-indicator] {
  position: absolute;
  height: 100%;
  background-color: var(--igx-grid-resize-line-color, var(--grid-resize-line-color));
  width: 0.125rem;
  inset-inline-start: 0;
  top: 0;
  z-index: calc(var(--z-index-base) + 1);
}

:host {
  --content-background: var(hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --content-text-color: var(var(--ig-gray-50-contrast));
  --header-background: hsla(var(--ig-gray-100), var(--ig-gray-a));
  --header-text-color: hsla(var(--ig-gray-800), 0.7);
  --header-border-width: 0.0625rem;
  --header-border-style: solid;
  --header-border-color: hsla(var(--ig-gray-400), 0.38);
  --filtering-header-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --filtering-row-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --filtering-row-text-color: var(--ig-gray-50-contrast);
  --sorted-header-icon-color: hsla(var(--ig-secondary-500), var(--ig-secondary-a));
  --icon-color: "currentColor";
  --row-hover-background: hsla(var(--ig-gray-200), var(--ig-gray-a));
  --row-hover-text-color: var(--ig-gray-200-contrast);
  --row-even-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --row-even-text-color: hsla(var(--ig-gray-800), var(--ig-gray-a));
  --row-odd-background: hsla(var(--ig-gray-50), var(--ig-gray-a));
  --row-odd-text-color: hsla(var(--ig-gray-800), var(--ig-gray-a));
  --row-border-color: hsla(var(--ig-gray-300), 0.38);
  --row-border-style: var(--header-border-style);
  --row-border-width: var(--header-border-width);
  --cell-active-border-color: hsla(var(--ig-secondary-500), var(--ig-secondary-a));
  --grid-resize-line-color: hsla(var(--ig-secondary-500), var(--ig-secondary-a));
}`;function ur(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const{I:dr}=se,hr=e=>void 0===e.strings,pr=()=>document.createComment(""),fr=(e,t,r)=>{var o;const i=e._$AA.parentNode,n=void 0===t?e._$AB:t._$AA;if(void 0===r){const t=i.insertBefore(pr(),n),o=i.insertBefore(pr(),n);r=new dr(t,o,e,e.options)}else{const t=r._$AB.nextSibling,a=r._$AM,s=a!==e;if(s){let t;null===(o=r._$AQ)||void 0===o||o.call(r,e),r._$AM=e,void 0!==r._$AP&&(t=e._$AU)!==a._$AU&&r._$AP(t)}if(t!==n||s){let e=r._$AA;for(;e!==t;){const t=e.nextSibling;i.insertBefore(e,n),e=t}}}return r},gr=(e,t,r=e)=>(e._$AI(t,r),e),vr={},mr=(e,t=vr)=>e._$AH=t,br=e=>e._$AH,yr=e=>{var t;null===(t=e._$AP)||void 0===t||t.call(e,!1,!0);let r=e._$AA;const o=e._$AB.nextSibling;for(;r!==o;){const e=r.nextSibling;r.remove(),r=e}},wr=(e,t)=>{var r,o;const i=e._$AN;if(void 0===i)return!1;for(const n of i)null===(o=(r=n)._$AO)||void 0===o||o.call(r,t,!1),wr(n,t);return!0},Cr=e=>{let t,r;do{if(void 0===(t=e._$AM))break;r=t._$AN,r.delete(e),e=t}while(0===(null==r?void 0:r.size))},Er=e=>{for(let t;t=e._$AM;e=t){let r=t._$AN;if(void 0===r)t._$AN=r=new Set;else if(r.has(e))break;r.add(e),Tr(t)}};function Sr(e){void 0!==this._$AN?(Cr(this),this._$AM=e,Er(this)):this._$AM=e}function xr(e,t=!1,r=0){const o=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(o))for(let n=r;n<o.length;n++)wr(o[n],!1),Cr(o[n]);else null!=o&&(wr(o,!1),Cr(o));else wr(this,e)}const Tr=e=>{var t,r,o,i;e.type==Pe.CHILD&&(null!==(t=(o=e)._$AP)&&void 0!==t||(o._$AP=xr),null!==(r=(i=e)._$AQ)&&void 0!==r||(i._$AQ=Sr))};class kr extends Le{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,r){super._$AT(e,t,r),Er(this),this.isConnected=e._$AU}_$AO(e,t=!0){var r,o;e!==this.isConnected&&(this.isConnected=e,e?null===(r=this.reconnected)||void 0===r||r.call(this):null===(o=this.disconnected)||void 0===o||o.call(this)),t&&(wr(this,e),Cr(this))}setValue(e){if(hr(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const _r=(e,t,r)=>{const o=new Map;for(let i=t;i<=r;i++)o.set(e[i],i);return o},Rr=Me(class extends Le{constructor(e){if(super(e),e.type!==Pe.CHILD)throw Error("repeat() can only be used in text expressions")}ct(e,t,r){let o;void 0===r?r=t:void 0!==t&&(o=t);const i=[],n=[];let a=0;for(const s of e)i[a]=o?o(s,a):a,n[a]=r(s,a),a++;return{values:n,keys:i}}render(e,t,r){return this.ct(e,t,r).values}update(e,[t,r,o]){var i;const n=br(e),{values:a,keys:s}=this.ct(t,r,o);if(!Array.isArray(n))return this.ut=s,a;const l=null!==(i=this.ut)&&void 0!==i?i:this.ut=[],c=[];let u,d,h=0,p=n.length-1,f=0,g=a.length-1;for(;h<=p&&f<=g;)if(null===n[h])h++;else if(null===n[p])p--;else if(l[h]===s[f])c[f]=gr(n[h],a[f]),h++,f++;else if(l[p]===s[g])c[g]=gr(n[p],a[g]),p--,g--;else if(l[h]===s[g])c[g]=gr(n[h],a[g]),fr(e,c[g+1],n[h]),h++,g--;else if(l[p]===s[f])c[f]=gr(n[p],a[f]),fr(e,n[h],n[p]),p--,f++;else if(void 0===u&&(u=_r(s,f,g),d=_r(l,h,p)),u.has(l[h]))if(u.has(l[p])){const t=d.get(s[f]),r=void 0!==t?n[t]:null;if(null===r){const t=fr(e,n[h]);gr(t,a[f]),c[f]=t}else c[f]=gr(r,a[f]),fr(e,n[h],r),n[t]=null;f++}else yr(n[p]),p--;else yr(n[h]),h++;for(;f<=g;){const t=fr(e,c[g+1]);gr(t,a[f]),c[f++]=t}for(;h<=p;){const e=n[h++];null!==e&&yr(e)}return this.ut=s,mr(e,c),U}});
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class Or extends Event{constructor(e){super(Or.eventName,{bubbles:!1}),this.first=e.first,this.last=e.last}}Or.eventName="rangeChanged";class Dr extends Event{constructor(e){super(Dr.eventName,{bubbles:!1}),this.first=e.first,this.last=e.last}}Dr.eventName="visibilityChanged";class Ar extends Event{constructor(){super(Ar.eventName,{bubbles:!1})}}Ar.eventName="unpinned";
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class Pr{constructor(e){this._element=null;const t=null!==e&&void 0!==e?e:window;this._node=t,e&&(this._element=e)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}}class Mr extends Pr{constructor(e,t){super(t),this._clients=new Set,this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1,this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this);const r=this._node;this._originalScrollTo=r.scrollTo,this._originalScrollBy=r.scrollBy,this._originalScroll=r.scroll,this._attach(e)}get _destination(){return this.__destination}get scrolling(){return null!==this._destination}scrollTo(e,t){const r="number"===typeof e&&"number"===typeof t?{left:e,top:t}:e;this._scrollTo(r)}scrollBy(e,t){const r="number"===typeof e&&"number"===typeof t?{left:e,top:t}:e;void 0!==r.top&&(r.top+=this.scrollTop),void 0!==r.left&&(r.left+=this.scrollLeft),this._scrollTo(r)}_nativeScrollTo(e){this._originalScrollTo.bind(this._element||window)(e)}_scrollTo(e,t=null,r=null){null!==this._end&&this._end(),"smooth"===e.behavior?(this._setDestination(e),this._retarget=t,this._end=r):this._resetScrollState(),this._nativeScrollTo(e)}_setDestination(e){let{top:t,left:r}=e;return t=void 0===t?void 0:Math.max(0,Math.min(t,this.maxScrollTop)),r=void 0===r?void 0:Math.max(0,Math.min(r,this.maxScrollLeft)),(null===this._destination||r!==this._destination.left||t!==this._destination.top)&&(this.__destination={top:t,left:r,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(e){this._destination&&this._setDestination(e)&&this._nativeScrollTo(this._destination)}managedScrollTo(e,t,r){return this._scrollTo(e,t,r),this._updateManagedScrollTo}correctScrollError(e){this.correctingScrollError=!0,requestAnimationFrame((()=>requestAnimationFrame((()=>this.correctingScrollError=!1)))),this._nativeScrollTo(e),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(null!==this._destination){const{scrollTop:e,scrollLeft:t}=this;let{top:r,left:o}=this._destination;r=Math.min(r||0,this.maxScrollTop),o=Math.min(o||0,this.maxScrollLeft);const i=Math.abs(r-e),n=Math.abs(o-t);i<1&&n<1&&(this._end&&this._end(),this._resetScrollState())}}detach(e){return this._clients.delete(e),0===this._clients.size&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(e){this._clients.add(e),1===this._clients.size&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let Lr=null===window||void 0===window?void 0:window.ResizeObserver;const Fr=Symbol("virtualizerRef"),Ir="virtualizer-sizer";let Nr;class Hr{constructor(e){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,this._layoutInitialized=null,!e)throw new Error("Virtualizer constructor requires a configuration object");if(!e.hostElement)throw new Error('Virtualizer configuration requires the "hostElement" property');this._init(e)}set items(e){Array.isArray(e)&&e!==this._items&&(this._itemsChanged=!0,this._items=e,this._schedule(this._updateLayout))}_init(e){this._isScroller=!!e.scroller,this._initHostElement(e);const t=e.layout||{};this._layoutInitialized=this._initLayout(t)}_initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this)),this._hostElementRO=new Lr((()=>this._hostElementSizeChanged())),this._childrenRO=new Lr(this._childrenSizeChanged.bind(this))}_initHostElement(e){const t=this._hostElement=e.hostElement;this._applyVirtualizerStyles(),t[Fr]=this}connected(){this._initObservers();const e=this._isScroller;this._clippingAncestors=jr(this._hostElement,e),this._scrollerController=new Mr(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen()}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach((e=>{e.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(e),this._hostElementRO.observe(e)})),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach((e=>this._childrenRO.observe(e))),this._scrollEventListeners.forEach((e=>e.addEventListener("scroll",this,this._scrollEventListenerOptions)))}disconnected(){this._scrollEventListeners.forEach((e=>e.removeEventListener("scroll",this,this._scrollEventListenerOptions))),this._scrollEventListeners=[],this._clippingAncestors=[],this._scrollerController.detach(this),this._scrollerController=null,this._mutationObserver.disconnect(),this._hostElementRO.disconnect(),this._childrenRO.disconnect(),this._rejectLayoutCompletePromise("disconnected")}_applyVirtualizerStyles(){const e=this._hostElement,t=e.style;t.display=t.display||"block",t.position=t.position||"relative",t.contain=t.contain||"size layout",this._isScroller&&(t.overflow=t.overflow||"auto",t.minHeight=t.minHeight||"150px")}_getSizer(){const e=this._hostElement;if(!this._sizer){let t=e.querySelector(`[${Ir}]`);t||(t=document.createElement("div"),t.setAttribute(Ir,""),e.appendChild(t)),Object.assign(t.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),t.textContent="&nbsp;",t.setAttribute(Ir,""),this._sizer=t}return this._sizer}async updateLayoutConfig(e){await this._layoutInitialized;const t=e.type||Nr;if("function"===typeof t&&this._layout instanceof t){const t={...e};return delete t.type,this._layout.config=t,!0}return!1}async _initLayout(e){let t,o;if("function"===typeof e.type){o=e.type;const r={...e};delete r.type,t=r}else t=e;void 0===o&&(Nr=o=(await r.e(695).then(r.bind(r,1695))).FlowLayout),this._layout=new o((e=>this._handleLayoutMessage(e)),t),this._layout.measureChildren&&"function"===typeof this._layout.updateItemSizes&&("function"===typeof this._layout.measureChildren&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){null===this._benchmarkStart&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(null!==this._benchmarkStart){const e=window.performance.now(),t=e-this._benchmarkStart,r=performance.getEntriesByName("uv-virtualizing","measure"),o=r.filter((t=>t.startTime>=this._benchmarkStart&&t.startTime<e)).reduce(((e,t)=>e+t.duration),0);return this._benchmarkStart=null,{timeElapsed:t,virtualizationTime:o}}return null}_measureChildren(){const e={},t=this._children,r=this._measureChildOverride||this._measureChild;for(let o=0;o<t.length;o++){const i=t[o],n=this._first+o;(this._itemsChanged||this._toBeMeasured.has(i))&&(e[n]=r.call(this,i,this._items[n]))}this._childMeasurements=e,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(e){const{width:t,height:r}=e.getBoundingClientRect();return Object.assign({width:t,height:r},Gr(e))}async _schedule(e){this._scheduled.has(e)||(this._scheduled.add(e),await Promise.resolve(),this._scheduled.delete(e),e.call(this))}async _updateDOM(e){this._scrollSize=e.scrollSize,this._adjustRange(e.range),this._childrenPos=e.childPositions,this._scrollError=e.scrollError||null;const{_rangeChanged:t,_itemsChanged:r}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),(t||r)&&(this._notifyRange(),this._rangeChanged=!1),this._finishDOMUpdate()}_finishDOMUpdate(){this._children.forEach((e=>this._childrenRO.observe(e))),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end")}_updateLayout(){this._layout&&(this._layout.items=this._items,this._updateView(),null!==this._childMeasurements&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){var e;if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(t){console.warn("Error measuring performance data: ",t)}window.performance.mark("uv-start")}!1===this._scrollerController.correctingScrollError&&(null===(e=this._layout)||void 0===e||e.unpin()),this._schedule(this._updateLayout)}handleEvent(e){switch(e.type){case"scroll":(e.currentTarget===window||this._clippingAncestors.includes(e.currentTarget))&&this._handleScrollEvent();break;default:console.warn("event not handled",e)}}_handleLayoutMessage(e){"stateChanged"===e.type?this._updateDOM(e):"visibilityChanged"===e.type?(this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._notifyVisibility()):"unpinned"===e.type&&this._hostElement.dispatchEvent(new Ar)}get _children(){const e=[];let t=this._hostElement.firstElementChild;while(t)t.hasAttribute(Ir)||e.push(t),t=t.nextElementSibling;return e}_updateView(){var e;const t=this._hostElement,r=null===(e=this._scrollerController)||void 0===e?void 0:e.element,o=this._layout;if(t&&r&&o){let e,i,n,a;const s=t.getBoundingClientRect();e=0,i=0,n=window.innerHeight,a=window.innerWidth;const l=this._clippingAncestors.map((e=>e.getBoundingClientRect()));l.unshift(s);for(const t of l)e=Math.max(e,t.top),i=Math.max(i,t.left),n=Math.min(n,t.bottom),a=Math.min(a,t.right);const c=r.getBoundingClientRect(),u={left:s.left-c.left,top:s.top-c.top},d={width:r.scrollWidth,height:r.scrollHeight},h=e-s.top+t.scrollTop,p=i-s.left+t.scrollLeft,f=Math.max(1,n-e),g=Math.max(1,a-i);o.viewportSize={width:g,height:f},o.viewportScroll={top:h,left:p},o.totalScrollSize=d,o.offsetWithinScroller=u}}_sizeHostElement(e){const t=82e5,r=e&&null!==e.width?Math.min(t,e.width):0,o=e&&null!==e.height?Math.min(t,e.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${r}px, ${o}px)`;else{const e=this._hostElement.style;e.minWidth=r?`${r}px`:"100%",e.minHeight=o?`${o}px`:"100%"}}_positionChildren(e){e&&e.forEach((({top:e,left:t,width:r,height:o,xOffset:i,yOffset:n},a)=>{const s=this._children[a-this._first];s&&(s.style.position="absolute",s.style.boxSizing="border-box",s.style.transform=`translate(${t}px, ${e}px)`,void 0!==r&&(s.style.width=r+"px"),void 0!==o&&(s.style.height=o+"px"),s.style.left=void 0===i?null:i+"px",s.style.top=void 0===n?null:n+"px")}))}async _adjustRange(e){const{_first:t,_last:r,_firstVisible:o,_lastVisible:i}=this;this._first=e.first,this._last=e.last,this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==t||this._last!==r,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==o||this._lastVisible!==i}_correctScrollError(){if(this._scrollError){const{scrollTop:e,scrollLeft:t}=this._scrollerController,{top:r,left:o}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:e-r,left:t-o})}}element(e){var t;return e===1/0&&(e=this._items.length-1),void 0===(null===(t=this._items)||void 0===t?void 0:t[e])?void 0:{scrollIntoView:(t={})=>this._scrollElementIntoView({...t,index:e})}}_scrollElementIntoView(e){if(e.index>=this._first&&e.index<=this._last)this._children[e.index-this._first].scrollIntoView(e);else if(e.index=Math.min(e.index,this._items.length-1),"smooth"===e.behavior){const t=this._layout.getScrollIntoViewCoordinates(e),{behavior:r}=e;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(t,{behavior:r}),(()=>this._layout.getScrollIntoViewCoordinates(e)),(()=>this._scrollIntoViewTarget=null)),this._scrollIntoViewTarget=e}else this._layout.pin=e}_checkScrollIntoViewTarget(e){const{index:t}=this._scrollIntoViewTarget||{};t&&(null===e||void 0===e?void 0:e.has(t))&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new Or({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new Dr({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise(((e,t)=>{this._layoutCompleteResolver=e,this._layoutCompleteRejecter=t}))),this._layoutCompletePromise}_rejectLayoutCompletePromise(e){null!==this._layoutCompleteRejecter&&this._layoutCompleteRejecter(e),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&null===this._pendingLayoutComplete&&(this._pendingLayoutComplete=requestAnimationFrame((()=>requestAnimationFrame((()=>this._resolveLayoutCompletePromise())))))}_resolveLayoutCompletePromise(){null!==this._layoutCompleteResolver&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(e){var t;if(null===(t=this._layout)||void 0===t?void 0:t.measureChildren){for(const t of e)this._toBeMeasured.set(t.target,t.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}}function Gr(e){const t=window.getComputedStyle(e);return{marginTop:Vr(t.marginTop),marginRight:Vr(t.marginRight),marginBottom:Vr(t.marginBottom),marginLeft:Vr(t.marginLeft)}}function Vr(e){const t=e?parseFloat(e):NaN;return Number.isNaN(t)?0:t}function zr(e){if(null!==e.assignedSlot)return e.assignedSlot;if(null!==e.parentElement)return e.parentElement;const t=e.parentNode;return t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host||null}function Br(e,t=!1){const r=[];let o=t?e:zr(e);while(null!==o)r.push(o),o=zr(o);return r}function jr(e,t=!1){let r=!1;return Br(e,t).filter((e=>{if(r)return!1;const t=getComputedStyle(e);return r="fixed"===t.position,"visible"!==t.overflow}))}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Wr=e=>e,Ur=(e,t)=>W`${t}: ${JSON.stringify(e,null,2)}`;class $r extends kr{constructor(e){if(super(e),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(e,t)=>Ur(e,t+this._first),this._keyFunction=(e,t)=>Wr(e,t+this._first),this._items=[],e.type!==Pe.CHILD)throw new Error("The virtualize directive can only be used in child expressions")}render(e){e&&this._setFunctions(e);const t=[];if(this._first>=0&&this._last>=this._first)for(let r=this._first;r<=this._last;r++)t.push(this._items[r]);return Rr(t,this._keyFunction,this._renderItem)}update(e,[t]){this._setFunctions(t);const r=this._items!==t.items;return this._items=t.items||[],this._virtualizer?this._updateVirtualizerConfig(e,t):this._initialize(e,t),r?U:this.render()}async _updateVirtualizerConfig(e,t){const r=await this._virtualizer.updateLayoutConfig(t.layout||{});if(!r){const r=e.parentNode;this._makeVirtualizer(r,t)}this._virtualizer.items=this._items}_setFunctions(e){const{renderItem:t,keyFunction:r}=e;t&&(this._renderItem=(e,r)=>t(e,r+this._first)),r&&(this._keyFunction=(e,t)=>r(e,t+this._first))}_makeVirtualizer(e,t){this._virtualizer&&this._virtualizer.disconnected();const{layout:r,scroller:o,items:i}=t;this._virtualizer=new Hr({hostElement:e,layout:r,scroller:o}),this._virtualizer.items=i,this._virtualizer.connected()}_initialize(e,t){const r=e.parentNode;r&&1===r.nodeType&&(r.addEventListener("rangeChanged",(e=>{this._first=e.first,this._last=e.last,this.setValue(this.render())})),this._makeVirtualizer(r,t))}disconnected(){var e;null===(e=this._virtualizer)||void 0===e||e.disconnected()}reconnected(){var e;null===(e=this._virtualizer)||void 0===e||e.connected()}}const Kr=Me($r);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class Yr extends he{constructor(){super(...arguments),this.items=[],this.renderItem=Ur,this.keyFunction=Wr,this.layout={},this.scroller=!1}createRenderRoot(){return this}render(){const{items:e,renderItem:t,keyFunction:r,layout:o,scroller:i}=this;return W`${Kr({items:e,renderItem:t,keyFunction:r,layout:o,scroller:i})}`}element(e){var t;return null===(t=this[Fr])||void 0===t?void 0:t.element(e)}get layoutComplete(){var e;return null===(e=this[Fr])||void 0===e?void 0:e.layoutComplete}scrollToIndex(e,t="start"){var r;null===(r=this.element(e))||void 0===r||r.scrollIntoView({block:t})}}ur([xe({attribute:!1})],Yr.prototype,"items",void 0),ur([xe()],Yr.prototype,"renderItem",void 0),ur([xe()],Yr.prototype,"keyFunction",void 0),ur([xe({attribute:!1})],Yr.prototype,"layout",void 0),ur([xe({reflect:!0,type:Boolean})],Yr.prototype,"scroller",void 0);class qr extends Yr{constructor(){super(...arguments),this.scroller=!0}static get is(){return Ge}static register(){bt(this)}async connectedCallback(){await super.layoutComplete,super.connectedCallback(),this.setAttribute("tabindex","0")}}function Xr(e){return Object.keys(e).filter((t=>e[t])).join(" ")}const Jr=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  position: relative;
  -webkit-border-end: var(--igx-header-border-width, var(--header-border-width)) var(--igx-header-border-style, var(--header-border-style)) var(--igx-header-border-color, var(--header-border-color));
          border-inline-end: var(--igx-header-border-width, var(--header-border-width)) var(--igx-header-border-style, var(--header-border-style)) var(--igx-header-border-color, var(--header-border-color));
  font-weight: 600;
  font-size: 0.75rem;
}

:host(:last-of-type) {
  -webkit-border-end: none;
          border-inline-end: none;
}

[part~=content] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: justify;
      -ms-flex-pack: justify;
          justify-content: space-between;
  width: 100%;
  height: 100%;
  padding: 0 max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem));
  font-weight: 500;
  overflow: hidden;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

[part~=title] {
  display: block;
  position: relative;
  cursor: initial;
  white-space: nowrap;
  -o-text-overflow: ellipsis;
     text-overflow: ellipsis;
  overflow: hidden;
  min-width: 3ch;
}

[part~=actions] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  gap: 0.25rem;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

[part~=action] {
  cursor: pointer;
  opacity: 0.7;
  -webkit-transition: opacity 0.25s ease-in-out;
  -o-transition: opacity 0.25s ease-in-out;
  transition: opacity 0.25s ease-in-out;
}
[part~=action]:hover, [part~=action]:focus {
  opacity: 1;
}
[part~=action] igc-icon {
  --size: 0.9375rem;
  color: var(--igx-icon-color, var(--icon-color));
}
[part~=action] igc-icon::after {
  content: attr(data-sortIndex);
  position: absolute;
  top: -5px;
  inset-inline-end: -1px;
  font-size: 0.625rem;
  text-align: end;
  font-family: sans-serif;
  line-height: 0.625rem;
  color: var(--igx-sorted-header-icon-color, var(--sorted-header-icon-color));
}

[part~=sorted],
[part~=filtered] {
  color: var(--igx-sorted-header-icon-color, var(--sorted-header-icon-color));
}
[part~=sorted] igc-icon,
[part~=filtered] igc-icon {
  color: var(--igx-sorted-header-icon-color, var(--sorted-header-icon-color));
}

[part~=filtered] {
  background: var(--igx-filtering-header-background, var(--filtering-header-background));
}

[part~=action]:empty {
  display: none;
}

[part~=resizable] {
  width: 0.25rem;
  height: 100%;
  position: absolute;
  inset-inline-end: -0.125rem;
  z-index: var(--z-index-base);
  cursor: col-resize;
}

[part~=filter] {
  position: relative;
}

[part~=filter-count] {
  position: absolute;
  top: -5px;
  inset-inline-end: -1px;
  font-size: 0.625rem;
  text-align: end;
  font-family: sans-serif;
  line-height: 0.625rem;
  color: currentcolor;
}`;var Qr,Zr,eo,to,ro,oo,io,no=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ao=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};class so extends he{constructor(){super(...arguments),Qr.add(this),to.set(this,(({clientX:e})=>{const{left:t}=this.getBoundingClientRect(),r=Math.max(e-t,qe),o=this.offsetLeft+r;this.resizeController.resize(this.column,r,o)})),oo.set(this,(()=>{this.resizeController.indicatorActive=!1,this.removeEventListener("pointermove",ao(this,to,"f")),this.resizeController.stop()})),io.set(this,(()=>this.resizeController.autosize(this.column,this)))}static get is(){return ze}static register(){bt(this)}get context(){return{parent:this,column:this.column}}get isSortable(){return Boolean(this.column.sort)}get resizeController(){return this.state.resizing}renderSortPart(){const e=this.state.sorting.state.get(this.column.key),t=Array.from(this.state.sorting.state.values()).indexOf(e),r=this.state.host.sortConfiguration.multiple&&t>-1?t+1:$,o=e?"ascending"===e.direction?Ke:Ye:Ke;return e||this.isSortable?W`<span
          part=${Xr({action:!0,sorted:!!(null===e||void 0===e?void 0:e.direction)})}
          @click=${this.isSortable?ao(this,Qr,"m",eo):$}
        >
          <igc-icon
            part=${Xr({"sorting-action":!!e})}
            data-sortIndex=${r}
            name=${o}
            collection="internal"
          ></igc-icon>
        </span>`:$}renderContentPart(){var e;const t=null!==(e=this.column.headerText)&&void 0!==e?e:this.column.key,r=this.column.headerTemplate;return W`
      <span part="title">
        <span>${r?r(this.context):W`${t}`}</span>
      </span>
    `}renderResizePart(){return this.column.resizable?W`<span
          part="resizable"
          @dblclick=${ao(this,io,"f")}
          @pointerdown=${ao(this,Qr,"m",ro)}
        ></span>`:$}render(){return W`
      <div
        part=${Xr({content:!0,sortable:this.isSortable,resizing:this.resizeController.indicatorActive})}
      >
        ${this.renderContentPart()}
        <div part="actions">${this.renderSortPart()}</div>
      </div>
      ${this.renderResizePart()}
    `}}to=new WeakMap,oo=new WeakMap,io=new WeakMap,Qr=new WeakSet,Zr=function(){const e={once:!0};this.addEventListener("gotpointercapture",(()=>this.resizeController.indicatorActive=!0),e),this.addEventListener("lostpointercapture",ao(this,oo,"f"),e),this.addEventListener("pointerup",(e=>this.releasePointerCapture(e.pointerId)),e),this.addEventListener("pointermove",ao(this,to,"f"))},eo=function(e){e.stopPropagation(),this.state.sorting.sortFromHeaderClick(this.column)},ro=function(e){const{target:t,pointerId:r}=e;e.preventDefault(),ao(this,Qr,"m",Zr).call(this),this.resizeController.start(this),t.setPointerCapture(r)},so.styles=Jr,no([Ce({context:Wt,subscribe:!0}),xe({attribute:!1})],so.prototype,"state",void 0),no([xe({attribute:!1})],so.prototype,"column",void 0);var lo=so;const co=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  display: grid;
  grid-row: header-row;
  min-height: max(var(--is-large, 1) * max(3.125rem, -1 * 3.125rem), var(--is-medium, 1) * max(2.125rem, -1 * 2.125rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem));
  background: var(--igx-header-background, var(--header-background));
  color: var(--igx-header-text-color, var(--header-text-color));
  contain: content;
  -webkit-border-after: var(--igx-header-border-width, var(--header-border-width)) var(--igx-header-border-style, var(--header-border-style)) var(--igx-header-border-color, var(--header-border-color));
          border-block-end: var(--igx-header-border-width, var(--header-border-width)) var(--igx-header-border-style, var(--header-border-style)) var(--igx-header-border-color, var(--header-border-color));
  z-index: var(--z-index-base);
  -webkit-padding-end: var(--scrollbar-offset);
          padding-inline-end: var(--scrollbar-offset);
}

:host(:focus) {
  outline: none;
}

[part=filtered] {
  background: var(--igx-filtering-header-background, var(--filtering-header-background));
}`;var uo,ho,po=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},fo=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};class go extends he{static get is(){return Ve}static register(){bt(this,[lo])}get headers(){return Array.from(this._headers)}constructor(){super(),uo.add(this),this.columns=[],this.addEventListener("click",fo(this,uo,"m",ho))}connectedCallback(){super.connectedCallback(),this.setAttribute("tabindex","0")}shouldUpdate(e){return this.headers.forEach((e=>e.requestUpdate())),super.shouldUpdate(e)}render(){const e=this.state.filtering.filterRow;return W`${mt(this.columns,(t=>t.hidden?$:W`<apex-grid-header
            part=${Xr({filtered:t===(null===e||void 0===e?void 0:e.column)})}
            .column=${t}
          ></apex-grid-header>`))}`}}uo=new WeakSet,ho=function(e){const t=e.composedPath().filter((e=>e instanceof lo)).at(0);this.state.filtering.setActiveColumn(null===t||void 0===t?void 0:t.column)},go.styles=co,po([Re(lo.is)],go.prototype,"_headers",void 0),po([Ce({context:Wt,subscribe:!0}),xe({attribute:!1})],go.prototype,"state",void 0),po([xe({attribute:!1})],go.prototype,"columns",void 0);var vo=go;
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const mo=e=>null!=e?e:$,bo=c`/* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */ /* stylelint-disable max-line-length */
:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium:
      min(
          clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
          clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
      );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  --component-size: 3;
}

:host {
  --ig-size: 1;
  display: grid;
  grid-row: filter-row;
  min-height: max(var(--is-large, 1) * max(3.125rem, -1 * 3.125rem), var(--is-medium, 1) * max(2.125rem, -1 * 2.125rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem));
  background: var(--igx-header-background, var(--header-background));
  color: var(--igx-header-text-color, var(--header-text-color));
  -webkit-border-after: var(--igx-header-border-width, var(--header-border-width)) var(--igx-header-border-style, var(--header-border-style)) var(--igx-header-border-color, var(--header-border-color));
          border-block-end: var(--igx-header-border-width, var(--header-border-width)) var(--igx-header-border-style, var(--header-border-style)) var(--igx-header-border-color, var(--header-border-color));
  z-index: var(--z-index-base);
  -webkit-padding-end: var(--scrollbar-offset);
          padding-inline-end: var(--scrollbar-offset);
}

[part=filter-row-preview] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  overflow: hidden;
  padding: 0 max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem));
  background: var(--igx-filtering-row-background, var(--filtering-row-background));
  color: var(--igx-filtering-row-text-color, var(--filtering-row-text-color));
  -webkit-border-end: var(--igx-header-border-width, var(--header-border-width)) var(--igx-header-border-style, var(--header-border-style)) var(--igx-header-border-color, var(--header-border-color));
          border-inline-end: var(--igx-header-border-width, var(--header-border-width)) var(--igx-header-border-style, var(--header-border-style)) var(--igx-header-border-color, var(--header-border-color));
}

[part~=active-state] {
  background: var(--igx-filtering-row-background, var(--filtering-row-background));
  color: var(--igx-filtering-row-text-color, var(--filtering-row-text-color));
  min-height: max(var(--is-large, 1) * max(3.125rem, -1 * 3.125rem), var(--is-medium, 1) * max(2.125rem, -1 * 2.125rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem));
  min-width: 100%;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  gap: 0.5rem;
  position: relative;
  inset-block-start: -0.0625rem;
}

[part=filter-row-preview]:last-of-type {
  -webkit-border-end: none;
          border-inline-end: none;
}

[part~=filter-row-input] {
  -webkit-padding-start: max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem));
          padding-inline-start: max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem));
}

[part~=filter-row-actions] {
  -webkit-padding-end: max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem));
          padding-inline-end: max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem));
}

[part~=filter-row-input],
[part~=filter-row-filters],
[part~=filter-row-actions] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

[part~=filter-row-filters] {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  overflow: hidden;
}

igc-input::part(container), igc-input::part(input) {
  background: inherit;
  color: inherit;
}`,yo=Me(class extends Le{constructor(e){if(super(e),e.type!==Pe.PROPERTY&&e.type!==Pe.ATTRIBUTE&&e.type!==Pe.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!hr(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[t]){if(t===U||t===$)return t;const r=e.element,o=e.name;if(e.type===Pe.PROPERTY){if(t===r[o])return U}else if(e.type===Pe.BOOLEAN_ATTRIBUTE){if(!!t===r.hasAttribute(o))return U}else if(e.type===Pe.ATTRIBUTE&&r.getAttribute(o)===t+"")return U;return mr(e),t}});function wo(e,t=!1){return(e,t)=>{}}function Co(){return(e,t)=>{}}function Eo(e,t){return(e,t)=>{}}function So(e,t){return(r,o)=>{const{willUpdate:i}=r;t=Object.assign({waitUntilFirstUpdate:!1},t),r.willUpdate=function(r){if(i.call(this,r),r.has(e)){const i=r.get(e),n=this[e];i!==n&&((null===t||void 0===t?void 0:t.waitUntilFirstUpdate)&&!this.hasUpdated||this[o].call(this,i,n))}}}}const xo=e=>Object.keys(e).filter((t=>e[t])).join(" ");function To(){let e=0;return function(){return e++,e}}function ko(e,...t){return e.replace(/{(\d+)}/g,(function(e,r){if(r>=t.length)return e;const o=t[r];return"number"===typeof o||o?o:""}))}function _o(e,t=0){const r=parseFloat(e);return isNaN(r)?t:r}function Ro(e){return void 0!==e}const Oo=e=>e.replace("--","").replace(/-./g,(e=>e.toUpperCase()[1])),Do=(e=document.styleSheets)=>{const t=[];return Array.from(e).forEach((e=>{try{Array.from(e.cssRules).forEach((e=>{e&&e["style"]&&Array.from(e["style"]).forEach((e=>{e.startsWith("--")&&-1==t.indexOf(e)&&t.push(e)}))}))}catch(r){}})),t},Ao=(e,t=document.body,r="")=>{const o=window.getComputedStyle(t,r),i={};return e.forEach((e=>{const t=o.getPropertyValue(e);t&&(i[Oo(e)]=t.trim())})),i},Po=()=>{const e=Do();return Ao(e,document.documentElement)};let Mo;function Lo(e){return["bootstrap","material","indigo","fluent"].includes(e)}const Fo=()=>{if(!Mo){const[e,t]=Object.entries(Po()).find((([e])=>"igTheme"===e))||[];Mo=t&&Lo(t)?t:"bootstrap"}return Mo},Io="igc-change-theme";class No{constructor(){this.listeners=new Set,this.handleEvent=()=>{for(const e of this.listeners)e()}}add(e){window.addEventListener(Io,this),this.listeners.add(e)}remove(e){this.listeners.delete(e),this.listeners.size<1&&window.removeEventListener(Io,this)}}const Ho=new No;class Go{constructor(e,t){this.themeChanged=()=>{this.adoptStyles(),this.host.requestUpdate()},this.host=e,this.themes=t}hostConnected(){this.adoptStyles(),Ho.add(this.themeChanged)}hostDisconnected(){Ho.remove(this.themeChanged)}adoptStyles(){var e;this.theme=Fo();const t=this.host.constructor,[r,o]=null!==(e=Object.entries(this.themes).find((([e])=>e===this.theme)))&&void 0!==e?e:[];u(this.host.shadowRoot,[...t.elementStyles,null!==o&&void 0!==o?o:c``])}}const Vo=(e,t,r)=>{const o=new Go(e,t);return e.addController(o),r&&Object.defineProperty(e,Bo,{get(){return o.theme},configurable:!0,enumerable:!1}),o},zo=Vo,Bo=Symbol("Current active theme");function jo(e,t=!1){return r=>(r.addInitializer((r=>{zo(r,e,t)})),r)}function Wo(e){}function Uo(e){class t extends e{addEventListener(e,t,r){super.addEventListener(e,t,r)}removeEventListener(e,t,r){super.removeEventListener(e,t,r)}emitEvent(e,t){return this.dispatchEvent(new CustomEvent(e,Object.assign({bubbles:!0,cancelable:!1,composed:!0,detail:{}},t)))}}return t}var $o=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};const Ko=e=>{class t extends e{constructor(){super(...arguments),this.size="large"}}return $o([xe({reflect:!0})],t.prototype,"size",void 0),t},Yo=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
[part~=suffixed] [part=suffix], [part~=prefixed] [part=prefix] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

:host {
  position: relative;
  display: block;
  font-family: var(--ig-font-family);
  outline-style: none;
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}

[part=label] {
  display: inline-block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

[part~=input] {
  width: 100%;
  border: none;
  outline-style: none;
  font-family: var(--ig-font-family);
  z-index: 1;
}

[part^=container] {
  position: relative;
  display: grid;
}

[part=prefix],
[part=suffix] {
  display: none;
  overflow: hidden;
}

:host([required]) [part=label]::after {
  content: "*";
}

[part=helper-text] {
  font-family: var(--ig-caption-font-family, var(--ig-font-family));
  font-size: var(--ig-caption-font-size);
  font-weight: var(--ig-caption-font-weight);
  font-style: var(--ig-caption-font-style);
  line-height: var(--ig-caption-line-height);
  letter-spacing: var(--ig-caption-letter-spacing);
  text-transform: var(--ig-caption-text-transform);
  margin-top: var(--ig-caption-margin-top);
  margin-bottom: var(--ig-caption-margin-bottom);
}

:host([disabled]) {
  pointer-events: none;
}`,qo=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  --search-resting-elevation: var(--ig-input-search-resting-elevation, var(--ig-elevation-1));
  --search-hover-elevation: var(--ig-input-search-hover-elevation, var(--ig-elevation-2));
  --search-disabled-elevation: var(--ig-input-search-disabled-elevation, var(--ig-elevation-0));
  --helper-text-color: var(--ig-input-helper-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-prefix-background: var(--ig-input-input-prefix-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --input-prefix-color: var(--ig-input-input-prefix-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --input-prefix-background--filled: var(--ig-input-input-prefix-background--filled, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --input-prefix-color--filled: var(--ig-input-input-prefix-color--filled, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --input-prefix-background--focused: var(--ig-input-input-prefix-background--focused, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --input-prefix-color--focused: var(--ig-input-input-prefix-color--focused, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --input-suffix-background: var(--ig-input-input-suffix-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --input-suffix-color: var(--ig-input-input-suffix-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --input-suffix-background--filled: var(--ig-input-input-suffix-background--filled, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --input-suffix-color--filled: var(--ig-input-input-suffix-color--filled, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --input-suffix-background--focused: var(--ig-input-input-suffix-background--focused, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --input-suffix-color--focused: var(--ig-input-input-suffix-color--focused, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --idle-text-color: var(--ig-input-idle-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --filled-text-color: var(--ig-input-filled-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focused-text-color: var(--ig-input-focused-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --disabled-text-color: var(--ig-input-disabled-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --idle-secondary-color: var(--ig-input-idle-secondary-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --filled-secondary-color: var(--ig-input-filled-secondary-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --focused-secondary-color: var(--ig-input-focused-secondary-color, hsla(var(--ig-primary-500), 0.38));
  --idle-bottom-line-color: var(--ig-input-idle-bottom-line-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --hover-bottom-line-color: var(--ig-input-hover-bottom-line-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --focused-bottom-line-color: var(--ig-input-focused-bottom-line-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --interim-bottom-line-color: var(--ig-input-interim-bottom-line-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --disabled-bottom-line-color: var(--ig-input-disabled-bottom-line-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-input-disabled-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-color: var(--ig-input-border-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --hover-border-color: var(--ig-input-hover-border-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focused-border-color: var(--ig-input-focused-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --border-background: var(--ig-input-border-background, transparent);
  --border-disabled-background: var(--ig-input-border-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --search-background: var(--ig-input-search-background, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --search-disabled-background: var(--ig-input-search-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --success-secondary-color: var(--ig-input-success-secondary-color, hsla(var(--ig-success-500), var(--ig-success-a)));
  --warning-secondary-color: var(--ig-input-warning-secondary-color, hsla(var(--ig-warn-500), var(--ig-warn-a)));
  --error-secondary-color: var(--ig-input-error-secondary-color, hsla(var(--ig-error-500), var(--ig-error-a)));
  --placeholder-color: var(--ig-input-placeholder-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --disabled-placeholder-color: var(--ig-input-disabled-placeholder-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --box-background: var(--ig-input-box-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --box-background-hover: var(--ig-input-box-background-hover, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --box-background-focus: var(--ig-input-box-background-focus, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --box-disabled-background: var(--ig-input-box-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --box-border-radius: var(--ig-input-box-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --border-border-radius: var(--ig-input-border-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --search-border-radius: var(--ig-input-search-border-radius, 0.25rem, 0rem, 1.25rem);
  --success-shadow-color: var(--ig-input-success-shadow-color, hsla(var(--ig-success-500), 0.38));
  --error-shadow-color: var(--ig-input-error-shadow-color, hsla(var(--ig-error-500), 0.38));
  --size: var(--ig-input-size, max(var(--is-large, 1) * max(3rem, -1 * 3rem), var(--is-medium, 1) * max(2.375rem, -1 * 2.375rem), var(--is-small, 1) * max(1.9375rem, -1 * 1.9375rem)));
  --font: max(var(--is-large, 1) * max(1.25rem, -1 * 1.25rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(0.875rem, -1 * 0.875rem));
  --input-font: max(var(--is-large, 1) * max(1.25rem, -1 * 1.25rem), var(--is-medium, 1) * max(1rem, -1 * 1rem), var(--is-small, 1) * max(1rem, -1 * 1rem));
}

[part~=container] {
  border-radius: var(--border-border-radius);
  border-style: none;
  grid-template-columns: auto 1fr auto;
}
[part~=container]::after {
  display: none;
}

[part~=input] {
  border-radius: var(--border-border-radius);
  font-size: var(--input-font);
  padding-inline: max(var(--is-large, 1) * max(16px, -1 * 16px) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(12px, -1 * 12px) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(8px, -1 * 8px) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  padding-block: max(var(--is-large, 1) * max(8px, -1 * 8px) * var(--ig-spacing-block-large, var(--ig-spacing-block, --ig-spacing)), var(--is-medium, 1) * max(6px, -1 * 6px) * var(--ig-spacing-block-medium, var(--ig-spacing-block, --ig-spacing)), var(--is-small, 1) * max(4px, -1 * 4px) * var(--ig-spacing-block-small, var(--ig-spacing-block, --ig-spacing)));
  color: var(--idle-text-color);
  background: transparent;
  -webkit-box-shadow: none;
          box-shadow: none;
  z-index: 1;
  border: 1px solid var(--border-color);
  -webkit-transition: border 0.15s ease-out, -webkit-box-shadow 0.15s ease-out;
  transition: border 0.15s ease-out, -webkit-box-shadow 0.15s ease-out;
  transition: box-shadow 0.15s ease-out, border 0.15s ease-out;
  transition: box-shadow 0.15s ease-out, border 0.15s ease-out, -webkit-box-shadow 0.15s ease-out;
  grid-area: 1/2;
  background-clip: padding-box;
}

[part~=input],
[part~=container] {
  height: var(--size);
}

[part*="input prefixed"] {
  border-start-start-radius: 0;
  border-end-start-radius: 0;
}

[part*="input suffixed"] {
  border-start-end-radius: 0;
  border-end-end-radius: 0;
}

[part*="input prefixed suffixed"] {
  border-radius: 0;
}

[part~=label] {
  line-height: 1.5rem;
  margin-bottom: 0.25rem;
  color: var(--idle-secondary-color);
}
[part~=label]:empty {
  display: none;
}

[name=prefix]::slotted(*),
[name=suffix]::slotted(*) {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  width: -webkit-max-content;
  width: -moz-max-content;
  width: max-content;
  height: 100%;
  padding-inline: max(var(--is-large, 1) * max(16px, -1 * 16px) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(12px, -1 * 12px) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(8px, -1 * 8px) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
}

[part=prefix],
[part=suffix] {
  position: relative;
  border-radius: none;
  min-width: auto;
  -webkit-transition: border 0.15s ease-out, -webkit-box-shadow 0.15s ease-out;
  transition: border 0.15s ease-out, -webkit-box-shadow 0.15s ease-out;
  transition: box-shadow 0.15s ease-out, border 0.15s ease-out;
  transition: box-shadow 0.15s ease-out, border 0.15s ease-out, -webkit-box-shadow 0.15s ease-out;
  font-size: var(--font);
}
[part=prefix] ::slotted(*),
[part=suffix] ::slotted(*) {
  color: inherit;
}

[part=prefix] {
  border-start-start-radius: inherit;
  border-end-start-radius: inherit;
  color: var(--input-prefix-color);
  background: var(--input-prefix-background);
  grid-area: 1/1;
  border-style: solid;
  border-color: var(--border-color);
  border-inline-start-width: 1px;
  border-inline-end-width: 0;
  border-block-start-width: 1px;
  border-block-end-width: 1px;
}

[part=suffix] {
  border-start-end-radius: inherit;
  border-end-end-radius: inherit;
  color: var(--input-suffix-color);
  background: var(--input-suffix-background);
  grid-area: 1/3;
  border-style: solid;
  border-color: var(--border-color);
  border-inline-start-width: 0;
  border-inline-end-width: 1px;
  border-block-start-width: 1px;
  border-block-end-width: 1px;
}

[part=helper-text] {
  font-family: var(--ig-body-2-font-family, var(--ig-font-family));
  font-size: var(--ig-body-2-font-size);
  font-weight: var(--ig-body-2-font-weight);
  font-style: var(--ig-body-2-font-style);
  line-height: var(--ig-body-2-line-height);
  letter-spacing: var(--ig-body-2-letter-spacing);
  text-transform: var(--ig-body-2-text-transform);
  margin-top: var(--ig-body-2-margin-top);
  margin-bottom: var(--ig-body-2-margin-bottom);
  margin-top: 0.25rem;
  color: var(--helper-text-color);
}

:host(:focus-within) [part=prefix] {
  color: var(--input-prefix-color--focused);
  background: var(--input-prefix-background--focused);
}
:host(:focus-within) [part=suffix] {
  color: var(--input-suffix-color--focused);
  background: var(--input-suffix-background--focused);
}
:host(:focus-within) [part~=input] {
  color: var(--input-prefix-color--focused);
  border-color: var(--focused-border-color);
  -webkit-box-shadow: 0 0 0 0.25rem var(--focused-secondary-color);
          box-shadow: 0 0 0 0.25rem var(--focused-secondary-color);
}

[part~=filled] [part=prefix],
[part~=filled] [part=suffix] {
  color: var(--input-prefix-color--filled);
  background: var(--input-prefix-background--filled);
}
[part~=filled] [part~=input] {
  color: var(--input-prefix-color--filled);
}

:host([invalid]) [part=helper-text] {
  color: var(--error-secondary-color);
}

[part~=prefixed] [part=prefix] ::slotted(*),
[part~=suffixed] [part=suffix] ::slotted(*) {
  color: inherit;
}

:host(:not([disabled])[invalid]) [part~=input],
:host(:not([disabled])[invalid]:focus-within) [part~=input] {
  border-color: var(--error-secondary-color);
  -webkit-box-shadow: 0 0 0 0.25rem var(--error-shadow-color);
          box-shadow: 0 0 0 0.25rem var(--error-shadow-color);
}

:host(:disabled) [part=prefix],
:host(:disabled) [part=suffix],
:host(:disabled) [part~=input],
:host([disabled]) [part=prefix],
:host([disabled]) [part=suffix],
:host([disabled]) [part~=input] {
  color: var(--disabled-text-color);
  background: var(--border-disabled-background);
  border-block-color: var(--disabled-border-color);
}
:host(:disabled) [part=prefix],
:host([disabled]) [part=prefix] {
  border-inline-start-color: var(--disabled-border-color);
}
:host(:disabled) [part=suffix],
:host([disabled]) [part=suffix] {
  border-inline-end-color: var(--disabled-border-color);
}
:host(:disabled) [part~=input],
:host([disabled]) [part~=input] {
  border-color: var(--disabled-border-color);
}
:host(:disabled) [part=helper-text],
:host(:disabled) [part=label],
:host([disabled]) [part=helper-text],
:host([disabled]) [part=label] {
  color: var(--disabled-text-color);
}
:host(:disabled) [part~=input]::-webkit-input-placeholder, :host([disabled]) [part~=input]::-webkit-input-placeholder {
  color: var(--disabled-placeholder-color);
}
:host(:disabled) [part~=input]::-moz-placeholder, :host([disabled]) [part~=input]::-moz-placeholder {
  color: var(--disabled-placeholder-color);
}
:host(:disabled) [part~=input]:-ms-input-placeholder, :host([disabled]) [part~=input]:-ms-input-placeholder {
  color: var(--disabled-placeholder-color);
}
:host(:disabled) [part~=input]::-ms-input-placeholder, :host([disabled]) [part~=input]::-ms-input-placeholder {
  color: var(--disabled-placeholder-color);
}
:host(:disabled) [part~=input]::placeholder,
:host([disabled]) [part~=input]::placeholder {
  color: var(--disabled-placeholder-color);
}`,Xo=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  --search-resting-elevation: var(--ig-input-search-resting-elevation, var(--ig-elevation-0));
  --search-hover-elevation: var(--ig-input-search-hover-elevation, var(--ig-elevation-0));
  --search-disabled-elevation: var(--ig-input-search-disabled-elevation, var(--ig-elevation-0));
  --helper-text-color: var(--ig-input-helper-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-prefix-background: var(--ig-input-input-prefix-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --input-prefix-color: var(--ig-input-input-prefix-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-prefix-background--filled: var(--ig-input-input-prefix-background--filled, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --input-prefix-color--filled: var(--ig-input-input-prefix-color--filled, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-prefix-background--focused: var(--ig-input-input-prefix-background--focused, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --input-prefix-color--focused: var(--ig-input-input-prefix-color--focused, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-suffix-background: var(--ig-input-input-suffix-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --input-suffix-color: var(--ig-input-input-suffix-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-suffix-background--filled: var(--ig-input-input-suffix-background--filled, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --input-suffix-color--filled: var(--ig-input-input-suffix-color--filled, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-suffix-background--focused: var(--ig-input-input-suffix-background--focused, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --input-suffix-color--focused: var(--ig-input-input-suffix-color--focused, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --idle-text-color: var(--ig-input-idle-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --filled-text-color: var(--ig-input-filled-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focused-text-color: var(--ig-input-focused-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --disabled-text-color: var(--ig-input-disabled-text-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --idle-secondary-color: var(--ig-input-idle-secondary-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --filled-secondary-color: var(--ig-input-filled-secondary-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --focused-secondary-color: var(--ig-input-focused-secondary-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --idle-bottom-line-color: var(--ig-input-idle-bottom-line-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --hover-bottom-line-color: var(--ig-input-hover-bottom-line-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --focused-bottom-line-color: var(--ig-input-focused-bottom-line-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --interim-bottom-line-color: var(--ig-input-interim-bottom-line-color, hsla(var(--ig-primary-500), 0.12));
  --disabled-bottom-line-color: var(--ig-input-disabled-bottom-line-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-input-disabled-border-color, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --border-color: var(--ig-input-border-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --hover-border-color: var(--ig-input-hover-border-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --focused-border-color: var(--ig-input-focused-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --border-background: var(--ig-input-border-background, transparent);
  --border-disabled-background: var(--ig-input-border-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --search-background: var(--ig-input-search-background, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --search-disabled-background: var(--ig-input-search-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --success-secondary-color: var(--ig-input-success-secondary-color, hsla(var(--ig-success-500), var(--ig-success-a)));
  --warning-secondary-color: var(--ig-input-warning-secondary-color, hsla(var(--ig-warn-500), var(--ig-warn-a)));
  --error-secondary-color: var(--ig-input-error-secondary-color, hsla(var(--ig-error-500), var(--ig-error-a)));
  --placeholder-color: var(--ig-input-placeholder-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --disabled-placeholder-color: var(--ig-input-disabled-placeholder-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --box-background: var(--ig-input-box-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --box-background-hover: var(--ig-input-box-background-hover, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --box-background-focus: var(--ig-input-box-background-focus, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --box-disabled-background: var(--ig-input-box-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --box-border-radius: var(--ig-input-box-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --border-border-radius: var(--ig-input-border-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --search-border-radius: var(--ig-input-search-border-radius, 0.125rem, 0rem, 1.25rem);
  --success-shadow-color: var(--ig-input-success-shadow-color, hsla(var(--ig-success-500), 0.38));
  --error-shadow-color: var(--ig-input-error-shadow-color, hsla(var(--ig-error-500), 0.38));
  --size: var(--ig-input-size, max(var(--is-large, 1) * max(3rem, -1 * 3rem), var(--is-medium, 1) * max(2.5rem, -1 * 2.5rem), var(--is-small, 1) * max(2rem, -1 * 2rem)));
}
:host [part=prefix],
:host [part=suffix] {
  font-size: 0.875rem;
  cursor: default;
}
:host [part=prefix] ::slotted(*),
:host [part=suffix] ::slotted(*) {
  color: inherit;
}
:host [name=prefix]::slotted(*),
:host [name=suffix]::slotted(*) {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  width: -webkit-max-content;
  width: -moz-max-content;
  width: max-content;
  height: 100%;
  padding-inline: max(var(--is-large, 1) * max(16px, -1 * 16px) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(12px, -1 * 12px) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(8px, -1 * 8px) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
}
:host [part=prefix] {
  color: var(--input-prefix-color);
  background: var(--input-prefix-background);
  grid-area: 1/1;
}
:host [part=suffix] {
  color: var(--input-suffix-color);
  background: var(--input-suffix-background);
  grid-area: 1/3;
}
:host [part=label] {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--idle-secondary-color);
}
:host [part^=container] {
  height: var(--size);
  border-radius: var(--border-border-radius);
  border: 0.0625rem solid var(--border-color);
  -webkit-transition: none;
  transition: none;
  cursor: text;
  grid-template-columns: auto 1fr auto;
  overflow: hidden;
}
:host [part~=input] {
  color: var(--idle-text-color);
  height: calc(var-get($theme, "size") - 0.125rem);
  background: initial;
  font-size: 0.875rem;
  padding-inline: 0.5rem;
  max-height: 100%;
  border: none;
  grid-area: 1/2;
}
:host [part=helper-text] {
  padding: 0;
  margin-top: 0.3125rem;
  color: var(--helper-text-color);
}

:host(:hover) [part^=container] {
  border-color: var(--hover-border-color);
}

[part~=filled] [part=prefix] {
  color: var(--input-prefix-color--filled);
  background: var(--input-prefix-background--filled);
}
[part~=filled] [part=suffix] {
  color: var(--input-suffix-color--filled);
  background: var(--input-suffix-background--filled);
}

:host(:focus-within) [part=label] {
  color: hsla(var(--ig-gray-800), var(--ig-gray-a));
}
:host(:focus-within) [part^=container] {
  border-color: var(--focused-border-color);
  border-width: 0.125rem;
}
:host(:focus-within) [part~=input] {
  height: calc(var-get($theme, "size") - 0.25rem);
}
:host(:focus-within) [part=prefix] {
  color: var(--input-prefix-color--focused);
  background: var(--input-prefix-background--focused);
  -webkit-margin-start: -0.0625rem;
          margin-inline-start: -0.0625rem;
}
:host(:focus-within) [part=suffix] {
  color: var(--input-suffix-color--focused);
  background: var(--input-suffix-background--focused);
  -webkit-margin-end: -0.0625rem;
          margin-inline-end: -0.0625rem;
}
:host(:focus-within) [name=prefix]::slotted(*),
:host(:focus-within) [name=suffix]::slotted(*) {
  padding-block: max(var(--is-large, 1) * max(10px, -1 * 10px) * var(--ig-spacing-block-large, var(--ig-spacing-block, --ig-spacing)), var(--is-medium, 1) * max(8px, -1 * 8px) * var(--ig-spacing-block-medium, var(--ig-spacing-block, --ig-spacing)), var(--is-small, 1) * max(6px, -1 * 6px) * var(--ig-spacing-block-small, var(--ig-spacing-block, --ig-spacing)));
}

:host([required]) [part=label]::after {
  color: var(--error-secondary-color);
}

:host([invalid]) [part^=container] {
  border-color: var(--error-secondary-color);
}
:host([invalid]) [part=helper-text] {
  color: var(--error-secondary-color);
}

:host(:disabled) [part^=container],
:host([disabled]) [part^=container] {
  border-color: var(--disabled-border-color);
}
:host(:disabled) [part^=container],
:host(:disabled) [part=prefix],
:host(:disabled) [part=suffix],
:host([disabled]) [part^=container],
:host([disabled]) [part=prefix],
:host([disabled]) [part=suffix] {
  background: var(--border-disabled-background);
}
:host(:disabled) [part~=input]::-webkit-input-placeholder, :host([disabled]) [part~=input]::-webkit-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) [part~=input]::-moz-placeholder, :host([disabled]) [part~=input]::-moz-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) [part~=input]:-ms-input-placeholder, :host([disabled]) [part~=input]:-ms-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) [part~=input]::-ms-input-placeholder, :host([disabled]) [part~=input]::-ms-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) [part=prefix],
:host(:disabled) [part=suffix],
:host(:disabled) [part=label],
:host(:disabled) [part=label]::after,
:host(:disabled) [part=helper-text],
:host(:disabled) [part~=input],
:host(:disabled) [part~=input]::placeholder,
:host([disabled]) [part=prefix],
:host([disabled]) [part=suffix],
:host([disabled]) [part=label],
:host([disabled]) [part=label]::after,
:host([disabled]) [part=helper-text],
:host([disabled]) [part~=input],
:host([disabled]) [part~=input]::placeholder {
  color: var(--disabled-text-color);
}`,Jo=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host [part=suffix] ::slotted(*), :host [part=prefix] ::slotted(*) {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  width: -webkit-max-content;
  width: -moz-max-content;
  width: max-content;
  height: calc(100% - 0.125rem);
  padding-inline: max(var(--is-large, 1) * max(16px, -1 * 16px) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(12px, -1 * 12px) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(8px, -1 * 8px) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
}

:host {
  --search-resting-elevation: var(--ig-input-search-resting-elevation, var(--ig-elevation-1));
  --search-hover-elevation: var(--ig-input-search-hover-elevation, var(--ig-elevation-1));
  --search-disabled-elevation: var(--ig-input-search-disabled-elevation, var(--ig-elevation-1));
  --helper-text-color: var(--ig-input-helper-text-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --input-prefix-background: var(--ig-input-input-prefix-background, transparent);
  --input-prefix-color: var(--ig-input-input-prefix-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --input-prefix-background--filled: var(--ig-input-input-prefix-background--filled, inherit);
  --input-prefix-color--filled: var(--ig-input-input-prefix-color--filled, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --input-prefix-background--focused: var(--ig-input-input-prefix-background--focused, inherit);
  --input-prefix-color--focused: var(--ig-input-input-prefix-color--focused, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --input-suffix-background: var(--ig-input-input-suffix-background, transparent);
  --input-suffix-color: var(--ig-input-input-suffix-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --input-suffix-background--filled: var(--ig-input-input-suffix-background--filled, inherit);
  --input-suffix-color--filled: var(--ig-input-input-suffix-color--filled, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --input-suffix-background--focused: var(--ig-input-input-suffix-background--focused, inherit);
  --input-suffix-color--focused: var(--ig-input-input-suffix-color--focused, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --idle-text-color: var(--ig-input-idle-text-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --filled-text-color: var(--ig-input-filled-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focused-text-color: var(--ig-input-focused-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --disabled-text-color: var(--ig-input-disabled-text-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --idle-secondary-color: var(--ig-input-idle-secondary-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --filled-secondary-color: var(--ig-input-filled-secondary-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --focused-secondary-color: var(--ig-input-focused-secondary-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --idle-bottom-line-color: var(--ig-input-idle-bottom-line-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --hover-bottom-line-color: var(--ig-input-hover-bottom-line-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --focused-bottom-line-color: var(--ig-input-focused-bottom-line-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --interim-bottom-line-color: var(--ig-input-interim-bottom-line-color, hsla(var(--ig-primary-500), 0.12));
  --disabled-bottom-line-color: var(--ig-input-disabled-bottom-line-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-input-disabled-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-color: var(--ig-input-border-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --hover-border-color: var(--ig-input-hover-border-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --focused-border-color: var(--ig-input-focused-border-color, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --border-background: var(--ig-input-border-background, transparent);
  --border-disabled-background: var(--ig-input-border-disabled-background, transparent);
  --search-background: var(--ig-input-search-background, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --search-disabled-background: var(--ig-input-search-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --success-secondary-color: var(--ig-input-success-secondary-color, hsla(var(--ig-success-500), var(--ig-success-a)));
  --warning-secondary-color: var(--ig-input-warning-secondary-color, hsla(var(--ig-warn-500), var(--ig-warn-a)));
  --error-secondary-color: var(--ig-input-error-secondary-color, hsla(var(--ig-error-500), var(--ig-error-a)));
  --placeholder-color: var(--ig-input-placeholder-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --disabled-placeholder-color: var(--ig-input-disabled-placeholder-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --box-background: var(--ig-input-box-background, transparent);
  --box-background-hover: var(--ig-input-box-background-hover, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --box-background-focus: var(--ig-input-box-background-focus, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --box-disabled-background: var(--ig-input-box-disabled-background, transparent);
  --box-border-radius: var(--ig-input-box-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --border-border-radius: var(--ig-input-border-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --search-border-radius: var(--ig-input-search-border-radius, 0.125rem, 0rem, 1.25rem);
  --success-shadow-color: var(--ig-input-success-shadow-color, hsla(var(--ig-success-500), 0.38));
  --error-shadow-color: var(--ig-input-error-shadow-color, hsla(var(--ig-error-500), 0.38));
  --size: var(--ig-input-size, max(var(--is-large, 1) * max(3.5rem, -1 * 3.5rem), var(--is-medium, 1) * max(3rem, -1 * 3rem), var(--is-small, 1) * max(2.5rem, -1 * 2.5rem)));
}
:host [part=prefix],
:host [part=suffix] {
  -webkit-transition-duration: 0ms;
          transition-duration: 0ms;
}
:host [part=prefix] ::slotted(*),
:host [part=suffix] ::slotted(*) {
  height: 100%;
  color: inherit;
  -webkit-transition-duration: 0ms;
          transition-duration: 0ms;
}
:host [part=prefix] {
  border-start-start-radius: var(--border-border-radius);
  color: var(--input-prefix-color);
  background: var(--input-prefix-background);
  grid-area: 1/1;
}
:host [part=suffix] {
  border-start-end-radius: var(--border-border-radius);
  color: var(--input-suffix-color);
  background: var(--input-suffix-background);
  grid-area: 1/3;
}
:host [part~=label] {
  color: var(--idle-secondary-color);
  font-size: 0.875rem;
  font-weight: 600;
  line-height: 1;
}
:host [part^=container] {
  border-radius: var(--box-border-radius);
  border-end-start-radius: 0;
  border-end-end-radius: 0;
  border-bottom: 0.0625rem solid var(--idle-bottom-line-color);
  -webkit-transition: background 0.25s ease-out;
  transition: background 0.25s ease-out;
  grid-template-columns: auto 1fr auto;
  height: var(--size);
}
:host [part^=container]::after {
  position: absolute;
  content: "";
  width: 100%;
  height: 0.125rem;
  left: 0;
  right: 0;
  bottom: -1px;
  background: var(--focused-bottom-line-color);
  -webkit-transform: scaleY(0);
      -ms-transform: scaleY(0);
          transform: scaleY(0);
  -webkit-transition: opacity 180ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 180ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: opacity 180ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 180ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: transform 180ms cubic-bezier(0.4, 0, 0.2, 1), opacity 180ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: transform 180ms cubic-bezier(0.4, 0, 0.2, 1), opacity 180ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 180ms cubic-bezier(0.4, 0, 0.2, 1);
  -webkit-transform-origin: bottom center;
      -ms-transform-origin: bottom center;
          transform-origin: bottom center;
}
:host [part~=input] {
  color: var(--idle-text-color);
  font-size: 1rem;
  background: initial;
  padding-block: 0.5rem;
  padding-inline: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(0.75rem, -1 * 0.75rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  border: none;
  grid-area: 1/2;
  height: 100%;
}
:host [part~=prefixed] {
  -webkit-padding-start: 0.25rem;
          padding-inline-start: 0.25rem;
}
:host [part~=suffixed] {
  -webkit-padding-end: 0.25rem;
          padding-inline-end: 0.25rem;
}
:host [part=helper-text] {
  margin-top: 0.375rem;
  padding-inline: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(0.75rem, -1 * 0.75rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  color: var(--helper-text-color);
}

:host(:focus-within) [part^=container],
:host(:hover) [part^=container] {
  background: var(--box-background-hover);
}

[part~=filled] [part=prefix] {
  color: var(--input-prefix-color--filled);
  background: var(--input-prefix-background--filled);
}
[part~=filled] [part=suffix] {
  color: var(--input-suffix-color--filled);
  background: var(--input-suffix-background--filled);
}
[part~=filled] [part~=input] {
  color: var(--filled-text-color);
}

:host(:focus-within) [part=prefix],
:host(:focus-within) [part=suffix] {
  -webkit-transition-duration: 0.25s;
          transition-duration: 0.25s;
}
:host(:focus-within) [part^=container]::after {
  -webkit-transform: scaleY(1);
      -ms-transform: scaleY(1);
          transform: scaleY(1);
}
:host(:focus-within) [part=prefix] {
  color: var(--input-prefix-color--focused);
  background: var(--input-prefix-background--focused);
}
:host(:focus-within) [part=suffix] {
  color: var(--input-suffix-color--focused);
  background: var(--input-suffix-background--focused);
}
:host(:focus-within) [part=label] {
  color: var(--focused-secondary-color);
}

:host([invalid]) [part^=container] {
  border-color: var(--error-secondary-color);
}
:host([invalid]) [part^=container]::after {
  background: var(--error-secondary-color);
}
:host([invalid]) [part=label] {
  color: var(--error-secondary-color);
}
:host([invalid]) [part=helper-text] {
  color: var(--error-secondary-color);
}

:host(:disabled) [part^=container],
:host([disabled]) [part^=container] {
  border-color: var(--disabled-bottom-line-color);
}
:host(:disabled) [part~=input]::-webkit-input-placeholder, :host([disabled]) [part~=input]::-webkit-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) [part~=input]::-moz-placeholder, :host([disabled]) [part~=input]::-moz-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) [part~=input]:-ms-input-placeholder, :host([disabled]) [part~=input]:-ms-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) [part~=input]::-ms-input-placeholder, :host([disabled]) [part~=input]::-ms-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) [part=prefix],
:host(:disabled) [part=suffix],
:host(:disabled) [part=label],
:host(:disabled) [part~=input],
:host(:disabled) [part=helper-text],
:host(:disabled) [part~=input]::placeholder,
:host([disabled]) [part=prefix],
:host([disabled]) [part=suffix],
:host([disabled]) [part=label],
:host([disabled]) [part~=input],
:host([disabled]) [part=helper-text],
:host([disabled]) [part~=input]::placeholder {
  color: var(--disabled-text-color);
}`,Qo=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
input:-moz-placeholder-shown + [part=notch] [part=label] {
  --label-position: max(var(--is-large, 1) * max(26px, -1 * 26px), var(--is-medium, 1) * max(22px, -1 * 22px), var(--is-small, 1) * max(18px, -1 * 18px));
  transform: translateY(calc(var(--label-position) * -1));
  font-size: 0.75rem;
}
input:-ms-input-placeholder + [part=notch] [part=label] {
  --label-position: max(var(--is-large, 1) * max(26px, -1 * 26px), var(--is-medium, 1) * max(22px, -1 * 22px), var(--is-small, 1) * max(18px, -1 * 18px));
  -ms-transform: translateY(calc(var(--label-position) * -1));
      transform: translateY(calc(var(--label-position) * -1));
  font-size: 0.75rem;
}
:host(:focus-within) [part=label], input:placeholder-shown + [part=notch] [part=label],
[part~=filled] + [part=notch] [part=label] {
  --label-position: max(var(--is-large, 1) * max(26px, -1 * 26px), var(--is-medium, 1) * max(22px, -1 * 22px), var(--is-small, 1) * max(18px, -1 * 18px));
  -webkit-transform: translateY(calc(var(--label-position) * -1));
      -ms-transform: translateY(calc(var(--label-position) * -1));
          transform: translateY(calc(var(--label-position) * -1));
  font-size: 0.75rem;
}

:host(:disabled[outlined]) input:-moz-placeholder-shown + [part=notch], :host([disabled][outlined]) input:-moz-placeholder-shown + [part=notch], :host([outlined][invalid]) input:-moz-placeholder-shown + [part=notch], :host([outlined][invalid]:focus-within) input:-moz-placeholder-shown + [part=notch], :host input:-moz-placeholder-shown + [part=notch] {
  border-top: 0.0625rem solid transparent;
}

:host(:disabled[outlined]) input:-ms-input-placeholder + [part=notch], :host([disabled][outlined]) input:-ms-input-placeholder + [part=notch], :host([outlined][invalid]) input:-ms-input-placeholder + [part=notch], :host([outlined][invalid]:focus-within) input:-ms-input-placeholder + [part=notch], :host input:-ms-input-placeholder + [part=notch] {
  border-top: 0.0625rem solid transparent;
}

:host(:disabled) [part~=filled] + [part=notch],
:host([disabled]) [part~=filled] + [part=notch], :host(:disabled[outlined]) input:placeholder-shown + [part=notch],
:host(:disabled[outlined]) [part~=filled] + [part=notch],
:host([disabled][outlined]) input:placeholder-shown + [part=notch],
:host([disabled][outlined]) [part~=filled] + [part=notch], :host([outlined][invalid]) input:placeholder-shown + [part=notch],
:host([outlined][invalid]) [part~=filled] + [part=notch],
:host([outlined][invalid]:focus-within) input:placeholder-shown + [part=notch],
:host([outlined][invalid]:focus-within) [part~=filled] + [part=notch], :host([outlined]) [part~=filled] + [part=notch], :host input:placeholder-shown + [part=notch] {
  border-top: 0.0625rem solid transparent;
}

[part=end] > [part=suffix] ::slotted(*), [part=start] > [part=prefix] ::slotted(*) {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  width: -webkit-max-content;
  width: -moz-max-content;
  width: max-content;
  height: 100%;
  padding-inline: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(0.875rem, -1 * 0.875rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.75rem, -1 * 0.75rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
}

:host {
  --search-resting-elevation: var(--ig-input-search-resting-elevation, var(--ig-elevation-1));
  --search-hover-elevation: var(--ig-input-search-hover-elevation, var(--ig-elevation-2));
  --search-disabled-elevation: var(--ig-input-search-disabled-elevation, var(--ig-elevation-0));
  --helper-text-color: var(--ig-input-helper-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-prefix-background: var(--ig-input-input-prefix-background, transparent);
  --input-prefix-color: var(--ig-input-input-prefix-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-prefix-background--filled: var(--ig-input-input-prefix-background--filled, inherit);
  --input-prefix-color--filled: var(--ig-input-input-prefix-color--filled, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --input-prefix-background--focused: var(--ig-input-input-prefix-background--focused, inherit);
  --input-prefix-color--focused: var(--ig-input-input-prefix-color--focused, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --input-suffix-background: var(--ig-input-input-suffix-background, transparent);
  --input-suffix-color: var(--ig-input-input-suffix-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --input-suffix-background--filled: var(--ig-input-input-suffix-background--filled, inherit);
  --input-suffix-color--filled: var(--ig-input-input-suffix-color--filled, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --input-suffix-background--focused: var(--ig-input-input-suffix-background--focused, inherit);
  --input-suffix-color--focused: var(--ig-input-input-suffix-color--focused, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --idle-text-color: var(--ig-input-idle-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --filled-text-color: var(--ig-input-filled-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focused-text-color: var(--ig-input-focused-text-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --disabled-text-color: var(--ig-input-disabled-text-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --idle-secondary-color: var(--ig-input-idle-secondary-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --filled-secondary-color: var(--ig-input-filled-secondary-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --focused-secondary-color: var(--ig-input-focused-secondary-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --idle-bottom-line-color: var(--ig-input-idle-bottom-line-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --hover-bottom-line-color: var(--ig-input-hover-bottom-line-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --focused-bottom-line-color: var(--ig-input-focused-bottom-line-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --interim-bottom-line-color: var(--ig-input-interim-bottom-line-color, hsla(var(--ig-primary-500), 0.12));
  --disabled-bottom-line-color: var(--ig-input-disabled-bottom-line-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-input-disabled-border-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --border-color: var(--ig-input-border-color, hsla(var(--ig-gray-600), var(--ig-gray-a)));
  --hover-border-color: var(--ig-input-hover-border-color, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focused-border-color: var(--ig-input-focused-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --border-background: var(--ig-input-border-background, transparent);
  --border-disabled-background: var(--ig-input-border-disabled-background, transparent);
  --search-background: var(--ig-input-search-background, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --search-disabled-background: var(--ig-input-search-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --success-secondary-color: var(--ig-input-success-secondary-color, hsla(var(--ig-success-500), var(--ig-success-a)));
  --warning-secondary-color: var(--ig-input-warning-secondary-color, hsla(var(--ig-warn-500), var(--ig-warn-a)));
  --error-secondary-color: var(--ig-input-error-secondary-color, hsla(var(--ig-error-500), var(--ig-error-a)));
  --placeholder-color: var(--ig-input-placeholder-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --disabled-placeholder-color: var(--ig-input-disabled-placeholder-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --box-background: var(--ig-input-box-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --box-background-hover: var(--ig-input-box-background-hover, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --box-background-focus: var(--ig-input-box-background-focus, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --box-disabled-background: var(--ig-input-box-disabled-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --box-border-radius: var(--ig-input-box-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --border-border-radius: var(--ig-input-border-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --search-border-radius: var(--ig-input-search-border-radius, 0.25rem, 0rem, 1.25rem);
  --success-shadow-color: var(--ig-input-success-shadow-color, hsla(var(--ig-success-500), 0.38));
  --error-shadow-color: var(--ig-input-error-shadow-color, hsla(var(--ig-error-500), 0.38));
  --size: var(--ig-input-size, max(var(--is-large, 1) * max(3.5rem, -1 * 3.5rem), var(--is-medium, 1) * max(3rem, -1 * 3rem), var(--is-small, 1) * max(2.5rem, -1 * 2.5rem)));
}
:host input::-webkit-input-placeholder {
  color: var(--placeholder-color);
}
:host input::-moz-placeholder {
  color: var(--placeholder-color);
}
:host input:-ms-input-placeholder {
  color: var(--placeholder-color);
}
:host input::-ms-input-placeholder {
  color: var(--placeholder-color);
}
:host input::placeholder {
  color: var(--placeholder-color);
}

[part=prefix] {
  color: var(--input-prefix-color);
  background: var(--input-prefix-background);
}

[part=suffix] {
  color: var(--input-suffix-color);
  background: var(--input-suffix-background);
}

[part=prefix] ::slotted(*),
[part=suffix] ::slotted(*) {
  color: inherit;
}

[part~=input] {
  color: var(--filled-text-color);
  background: transparent;
  padding: 0 0.25rem;
  font-size: 1rem;
  grid-area: 1/2/span 1/span 2;
}

[part=label] {
  color: var(--idle-secondary-color);
  -webkit-transition: color 150ms cubic-bezier(0.4, 0, 0.2, 1), font-size 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: color 150ms cubic-bezier(0.4, 0, 0.2, 1), font-size 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1), color 150ms cubic-bezier(0.4, 0, 0.2, 1), font-size 150ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1), color 150ms cubic-bezier(0.4, 0, 0.2, 1), font-size 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
  line-height: 1;
  text-overflow: ellipsis;
  overflow: hidden;
  will-change: font-size, color, transform;
}

[part~=filled] [part~=prefix] {
  background: var(--input-prefix-background--filled);
  color: var(--input-prefix-color--filled);
}
[part~=filled] [part~=suffix] {
  background: var(--input-suffix-background--filled);
  color: var(--input-suffix-color--filled);
}

[part^=container] {
  grid-template-columns: auto auto 1fr auto;
}

[part~=input],
[part^=container] {
  height: var(--size);
}

[part=start] {
  border-start-start-radius: var(--border-border-radius);
  -webkit-box-pack: start;
      -ms-flex-pack: start;
          justify-content: flex-start;
  grid-area: 1/1;
}
[part=notch] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  width: auto;
  min-width: 0;
  height: 100%;
  grid-area: 1/2;
  padding: 0 0.25rem;
  overflow: visible;
}
[part=notch]:empty {
  display: none;
}

[part=filler] {
  grid-area: 1/3;
}

[part=end] {
  border-start-end-radius: var(--border-border-radius);
  -webkit-box-pack: end;
      -ms-flex-pack: end;
          justify-content: flex-end;
  grid-area: 1/4;
}
[part=start],
[part=end] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  min-width: max(var(--is-large, 1) * max(0.875rem, -1 * 0.875rem), var(--is-medium, 1) * max(0.75rem, -1 * 0.75rem), var(--is-small, 1) * max(0.625rem, -1 * 0.625rem));
  height: var(--size);
  overflow: hidden;
}

[part=helper-text] {
  font-family: var(--ig-caption-font-family, var(--ig-font-family));
  font-size: var(--ig-caption-font-size);
  font-weight: var(--ig-caption-font-weight);
  font-style: var(--ig-caption-font-style);
  line-height: var(--ig-caption-line-height);
  letter-spacing: var(--ig-caption-letter-spacing);
  text-transform: var(--ig-caption-text-transform);
  margin-top: var(--ig-caption-margin-top);
  margin-bottom: var(--ig-caption-margin-bottom);
  padding-inline: max(var(--is-large, 1) * max(1.125rem, -1 * 1.125rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.875rem, -1 * 0.875rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  margin-top: 0.3125rem;
  color: var(--helper-text-color);
}

:host(:focus-within) [part=label] {
  color: var(--focused-secondary-color);
}
:host(:focus-within) [part~=prefix] {
  background: var(--input-prefix-background--focused);
  color: var(--input-prefix-color--focused);
}
:host(:focus-within) [part~=suffix] {
  background: var(--input-suffix-background--focused);
  color: var(--input-suffix-color--focused);
}

:host([readonly]:not([outlined]):focus-within) :not([part~=filled]) input:not(:-moz-placeholder-shown) + [part=notch] [part=label] {
  transform: translate(0);
  font-size: initial;
}

:host([readonly]:not([outlined]):focus-within) :not([part~=filled]) input:not(:-ms-input-placeholder) + [part=notch] [part=label] {
  -ms-transform: translate(0);
      transform: translate(0);
  font-size: initial;
}

:host([readonly]:not([outlined]):focus-within) :not([part~=filled]) input:not(:placeholder-shown) + [part=notch] [part=label] {
  -webkit-transform: translate(0);
      -ms-transform: translate(0);
          transform: translate(0);
  font-size: initial;
}

:host(:not([outlined])) [part=prefix],
:host(:not([outlined])) [part=suffix] {
  max-height: calc(100% - 0.0625rem);
}
:host(:not([outlined])) [part=label] {
  inset-inline-start: 0.125rem;
}
:host(:not([outlined])) [part~=container] {
  background: var(--box-background);
  border-bottom: 1px solid var(--idle-bottom-line-color);
  border-start-end-radius: var(--box-border-radius);
  border-start-start-radius: var(--box-border-radius);
  -webkit-transition: border-bottom-width 150ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: border-bottom-width 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
:host(:not([outlined])) [part~=container]::after {
  position: absolute;
  content: "";
  width: 100%;
  height: 0.125rem;
  left: 0;
  right: 0;
  bottom: -1px;
  background: var(--idle-bottom-line-color);
  -webkit-transform: scaleX(0);
      -ms-transform: scaleX(0);
          transform: scaleX(0);
  -webkit-transition: opacity 180ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 180ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: opacity 180ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 180ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: transform 180ms cubic-bezier(0.4, 0, 0.2, 1), opacity 180ms cubic-bezier(0.4, 0, 0.2, 1);
  transition: transform 180ms cubic-bezier(0.4, 0, 0.2, 1), opacity 180ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 180ms cubic-bezier(0.4, 0, 0.2, 1);
}
:host(:not([outlined])) [part~=labelled] [part~=input] {
  padding-top: 1.25rem;
  padding-bottom: 0.375rem;
}
:host(:not([outlined])) input:-moz-placeholder-shown + [part=notch] [part=label] {
  transform: translateY(-106%);
}
:host(:not([outlined])) input:-ms-input-placeholder + [part=notch] [part=label] {
  -ms-transform: translateY(-106%);
      transform: translateY(-106%);
}
:host(:not([outlined])) input:placeholder-shown + [part=notch] [part=label],
:host(:not([outlined])) [part~=filled] + [part=notch] [part=label] {
  -webkit-transform: translateY(-106%);
      -ms-transform: translateY(-106%);
          transform: translateY(-106%);
}

:host(:not([outlined]):hover) [part~=container] {
  background: var(--box-background-hover);
  border-bottom-color: var(--hover-bottom-line-color);
}
:host(:not([outlined]):hover) [part~=container]::after {
  background: var(--hover-bottom-line-color);
}

:host(:not([outlined]):focus-within) [part~=container] {
  background: var(--box-background-focus);
  border-bottom-color: var(--focused-bottom-line-color);
}
:host(:not([outlined]):focus-within) [part~=container]::after {
  background: var(--focused-bottom-line-color);
  -webkit-transform: scaleX(1);
      -ms-transform: scaleX(1);
          transform: scaleX(1);
  opacity: 1;
}
:host(:not([outlined]):focus-within) [part=notch] [part=label] {
  -webkit-transform: translateY(-106%);
      -ms-transform: translateY(-106%);
          transform: translateY(-106%);
}

:host(:not([outlined])[invalid]) [part~=container],
:host(:not([outlined])[invalid]:focus-within) [part~=container] {
  border-color: var(--error-secondary-color);
}
:host(:not([outlined])[invalid]) [part~=container]::after,
:host(:not([outlined])[invalid]:focus-within) [part~=container]::after {
  background: var(--error-secondary-color);
}

:host(:not([outlined])[disabled]) [part~=container],
:host(:not([outlined]):disabled) [part~=container] {
  background: var(--box-disabled-background);
  border-color: var(--disabled-border-color);
  border-bottom-style: dashed;
}

:host([outlined]) [part^=container] {
  border-radius: var(--border-border-radius);
  background: var(--border-background);
}
:host([outlined]) [part=start] {
  border-style: solid;
  border-color: var(--border-color);
  border-inline-start-width: 0.0625rem;
  border-inline-end-width: 0;
  border-block-start-width: 0.0625rem;
  border-block-end-width: 0.0625rem;
  border-start-start-radius: var(--border-border-radius);
  border-end-start-radius: var(--border-border-radius);
}
:host([outlined]) [part=notch] {
  border-width: 0.0625rem;
  border-style: solid;
  border-color: var(--border-color);
  border-left: none;
  border-right: none;
}
:host([outlined]) [part=filler] {
  border-width: 0.0625rem;
  border-style: solid;
  border-color: var(--border-color);
  border-left: none;
  border-right: none;
}
:host([outlined]) [part=end] {
  border-style: solid;
  border-color: var(--border-color);
  border-inline-start-width: 0;
  border-inline-end-width: 0.0625rem;
  border-block-start-width: 0.0625rem;
  border-block-end-width: 0.0625rem;
  border-start-end-radius: var(--border-border-radius);
  border-end-end-radius: var(--border-border-radius);
}
:host([readonly][outlined]:focus-within) :not([part~=filled]) input:not(:-moz-placeholder-shown) + [part=notch] [part=label] {
  transform: translate(0);
  font-size: initial;
}
:host([readonly][outlined]:focus-within) :not([part~=filled]) input:not(:-ms-input-placeholder) + [part=notch] [part=label] {
  -ms-transform: translate(0);
      transform: translate(0);
  font-size: initial;
}
:host([readonly][outlined]:focus-within) :not([part~=filled]) input:not(:placeholder-shown) + [part=notch] [part=label] {
  -webkit-transform: translate(0);
      -ms-transform: translate(0);
          transform: translate(0);
  font-size: initial;
}
:host([readonly][outlined]:focus-within) :not([part~=filled]) input:not(:-moz-placeholder-shown) + [part=notch] {
  border-width: 0.125rem;
  border-color: var(--focused-border-color);
}
:host([readonly][outlined]:focus-within) :not([part~=filled]) input:not(:-ms-input-placeholder) + [part=notch] {
  border-width: 0.125rem;
  border-color: var(--focused-border-color);
}
:host([readonly][outlined]:focus-within) :not([part~=filled]) input:not(:placeholder-shown) + [part=notch] {
  border-width: 0.125rem;
  border-color: var(--focused-border-color);
}

:host([outlined]:focus-within) [part=label] {
  -webkit-margin-before: calc(0.125rem / 2);
          margin-block-start: calc(0.125rem / 2);
}
:host([outlined]:focus-within) [part=start] {
  border-color: var(--focused-border-color);
  border-inline-start-width: 0.125rem;
  border-block-start-width: 0.125rem;
  border-block-end-width: 0.125rem;
}
:host([outlined]:focus-within) [part=notch] {
  border-width: 0.125rem;
  border-color: var(--focused-border-color);
  border-top: 0.0625rem solid transparent;
}
:host([outlined]:focus-within) [part=filler] {
  border-width: 0.125rem;
  border-color: var(--focused-border-color);
}
:host([outlined]:focus-within) [part=end] {
  border-color: var(--focused-border-color);
  border-inline-end-width: 0.125rem;
  border-block-start-width: 0.125rem;
  border-block-end-width: 0.125rem;
}

:host([outlined]:active) [part=suffix],
:host([outlined]:focus) [part=suffix],
:host([outlined]:focus-within) [part=suffix] {
  -webkit-margin-end: -0.0625rem;
          margin-inline-end: -0.0625rem;
}
:host([outlined]:active) [part=prefix],
:host([outlined]:focus) [part=prefix],
:host([outlined]:focus-within) [part=prefix] {
  -webkit-margin-start: -0.0625rem;
          margin-inline-start: -0.0625rem;
}
:host([outlined]:active) [part=suffix] ::slotted(*),
:host([outlined]:active) [part=prefix] ::slotted(*),
:host([outlined]:focus) [part=suffix] ::slotted(*),
:host([outlined]:focus) [part=prefix] ::slotted(*),
:host([outlined]:focus-within) [part=suffix] ::slotted(*),
:host([outlined]:focus-within) [part=prefix] ::slotted(*) {
  padding-block: max(var(--is-large, 1) * max(14px, -1 * 14px) * var(--ig-spacing-block-large, var(--ig-spacing-block, --ig-spacing)), var(--is-medium, 1) * max(12px, -1 * 12px) * var(--ig-spacing-block-medium, var(--ig-spacing-block, --ig-spacing)), var(--is-small, 1) * max(10px, -1 * 10px) * var(--ig-spacing-block-small, var(--ig-spacing-block, --ig-spacing)));
}

:host([outlined][invalid]) [part=start],
:host([outlined][invalid]) [part=notch],
:host([outlined][invalid]) [part=filler],
:host([outlined][invalid]) [part=end],
:host([outlined][invalid]:focus-within) [part=start],
:host([outlined][invalid]:focus-within) [part=notch],
:host([outlined][invalid]:focus-within) [part=filler],
:host([outlined][invalid]:focus-within) [part=end] {
  border-color: var(--error-secondary-color);
}
:host([outlined][invalid]:focus-within) [part=notch] {
  border-top: 0.0625rem solid transparent;
}

:host([outlined][invalid]:focus-within) input:not(:-moz-placeholder-shown) + [part=notch], :host([readonly][outlined][invalid]:focus-within) input:not(:-moz-placeholder-shown) + [part=notch] {
  border-width: 0.125rem;
  border-color: var(--error-secondary-color);
  border-top: 0.125rem solid var(--error-secondary-color);
}

:host([outlined][invalid]:focus-within) input:not(:-ms-input-placeholder) + [part=notch], :host([readonly][outlined][invalid]:focus-within) input:not(:-ms-input-placeholder) + [part=notch] {
  border-width: 0.125rem;
  border-color: var(--error-secondary-color);
  border-top: 0.125rem solid var(--error-secondary-color);
}

:host([outlined][invalid]:focus-within) input:not(:placeholder-shown) + [part=notch],
:host([readonly][outlined][invalid]:focus-within) input:not(:placeholder-shown) + [part=notch] {
  border-width: 0.125rem;
  border-color: var(--error-secondary-color);
  border-top: 0.125rem solid var(--error-secondary-color);
}

:host([invalid]) [part=label] {
  color: var(--error-secondary-color);
}
:host([invalid]) [part=helper-text] {
  color: var(--error-secondary-color);
}

:host(:disabled[outlined]) [part=start],
:host(:disabled[outlined]) [part=filler],
:host(:disabled[outlined]) [part=notch],
:host(:disabled[outlined]) [part=end],
:host([disabled][outlined]) [part=start],
:host([disabled][outlined]) [part=filler],
:host([disabled][outlined]) [part=notch],
:host([disabled][outlined]) [part=end] {
  border-color: var(--disabled-border-color);
}
:host(:disabled) [part~=input],
:host(:disabled) [part=label],
:host(:disabled) [part=prefix],
:host(:disabled) [part=suffix],
:host(:disabled) [part=helper-text],
:host([disabled]) [part~=input],
:host([disabled]) [part=label],
:host([disabled]) [part=prefix],
:host([disabled]) [part=suffix],
:host([disabled]) [part=helper-text] {
  color: var(--disabled-text-color);
}
:host(:disabled) [part=start],
:host(:disabled) [part=filler],
:host(:disabled) [part=notch],
:host(:disabled) [part=end],
:host([disabled]) [part=start],
:host([disabled]) [part=filler],
:host([disabled]) [part=notch],
:host([disabled]) [part=end] {
  color: var(--disabled-text-color);
}
:host(:disabled) input::-webkit-input-placeholder, :host([disabled]) input::-webkit-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) input::-moz-placeholder, :host([disabled]) input::-moz-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) input:-ms-input-placeholder, :host([disabled]) input:-ms-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) input::-ms-input-placeholder, :host([disabled]) input::-ms-input-placeholder {
  color: var(--disabled-text-color);
}
:host(:disabled) input::placeholder,
:host([disabled]) input::placeholder {
  color: var(--disabled-text-color);
}`;var Zo=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},ei=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)},ti=function(e,t,r,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,r):i?i.value=r:t.set(e,r),r};function ri(e){var t;class r extends e{get form(){return ei(this,t,"f").form}get validity(){return ei(this,t,"f").validity}get validationMessage(){return ei(this,t,"f").validationMessage}get willValidate(){return ei(this,t,"f").willValidate}get disabled(){return this._disabled}set disabled(e){const t=this._disabled;this._disabled=e,this.toggleAttribute("disabled",Boolean(this._disabled)),this.requestUpdate("disabled",t)}get invalid(){return this._invalid}set invalid(e){const t=this._invalid;this._invalid=e,this.toggleAttribute("invalid",Boolean(this._invalid)),this.requestUpdate("invalid",t)}constructor(...e){super(e),t.set(this,void 0),this.validators=[],this._disabled=!1,this._invalid=!1,this._dirty=!1,this.handleInvalid=e=>{e.preventDefault(),this.invalid=!0},ti(this,t,this.attachInternals(),"f"),this.addEventListener("invalid",this.handleInvalid)}connectedCallback(){super.connectedCallback(),this._dirty=!1,this.setDefaultValue()}setDefaultValue(){"checked"in this?this._defaultValue=this.checked:"value"in this&&(this._defaultValue=this.value)}restoreDefaultValue(){"checked"in this?this.checked=this._defaultValue:"value"in this&&(this.value=this._defaultValue)}setFormValue(e,r){ei(this,t,"f").setFormValue(e,r||e)}setValidity(e,r,o){ei(this,t,"f").setValidity(e,r,o)}formResetCallback(){this.restoreDefaultValue(),this._dirty=!1,this.performUpdate(),this.invalid=!1}formDisabledCallback(e){this._disabled=e,this.requestUpdate()}updateValidity(e){const r={};let o="";for(const t of this.validators){const e=t.isValid(this);r[t.key]=!e,e||(o="function"===typeof t.message?t.message(this):t.message)}e&&(r.customError=!0,o=e),ei(this,t,"f").setValidity(r,o)}setInvalidState(){(this.hasUpdated||this._dirty)&&(this.invalid=!this.checkValidity())}reportValidity(){return ei(this,t,"f").reportValidity()}checkValidity(){return ei(this,t,"f").checkValidity()}setCustomValidity(e){this.updateValidity(e),this.invalid=!this.checkValidity()}}return t=new WeakMap,r.formAssociated=!0,Zo([xe({reflect:!0})],r.prototype,"name",void 0),Zo([xe({type:Boolean,reflect:!0})],r.prototype,"disabled",null),Zo([xe({type:Boolean,reflect:!0})],r.prototype,"invalid",null),r}var oi=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};function ii(e){class t extends(ri(e)){constructor(){super(...arguments),this.required=!1}requiredChange(){this.updateValidity(),this.invalid=!this.checkValidity()}}return oi([xe({type:Boolean,reflect:!0})],t.prototype,"required",void 0),oi([So("required",{waitUntilFirstUpdate:!0})],t.prototype,"requiredChange",null),t}var ni,ai=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};let si=ni=class extends(ii(Ko(Uo(he)))){get readonly(){return this.readOnly}set readonly(e){this.readOnly=e}constructor(){super(),this.inputId=`input-${ni.increment()}`,this.outlined=!1,this.readOnly=!1,this.handleSlotChange=()=>this.requestUpdate(),this.size="medium"}connectedCallback(){super.connectedCallback(),this.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}disconnectedCallback(){this.shadowRoot.removeEventListener("slotchange",this.handleSlotChange),super.disconnectedCallback()}focus(e){this.input.focus(e)}blur(){this.input.blur()}resolvePartNames(e){return{[e]:!0,prefixed:this.prefixes.length>0,suffixed:this.suffixes.length>0,filled:!!this.value}}handleFocus(){this.emitEvent("igcFocus")}handleBlur(){this.emitEvent("igcBlur")}setSelectionRange(e,t,r="none"){this.input.setSelectionRange(e,t,r)}setRangeText(e,t,r,o="preserve"){this.input.setRangeText(e,t,r,o)}renderPrefix(){return W`<div part="prefix">
      <slot name="prefix"></slot>
    </div>`}renderSuffix(){return W`<div part="suffix">
      <slot name="suffix"></slot>
    </div>`}renderLabel(){return this.label?W`<label part="label" for="${this.inputId}"> ${this.label} </label>`:$}renderMaterial(){return W`
      <div
        part="${xo({...this.resolvePartNames("container"),labelled:this.label})}"
      >
        <div part="start">${this.renderPrefix()}</div>
        ${this.renderInput()}
        <div part="notch">${this.renderLabel()}</div>
        <div part="filler"></div>
        <div part="end">${this.renderSuffix()}</div>
      </div>
      <div part="helper-text" .hidden="${0==this.helperText.length}">
        <slot name="helper-text"></slot>
      </div>
    `}renderStandard(){return W`${this.renderLabel()}
      <div part="${xo(this.resolvePartNames("container"))}">
        ${this.renderPrefix()} ${this.renderInput()} ${this.renderSuffix()}
      </div>
      <div part="helper-text" .hidden="${0==this.helperText.length}">
        <slot name="helper-text"></slot>
      </div>`}render(){return W`${"material"===this[Bo]?this.renderMaterial():this.renderStandard()}`}};si.shadowRootOptions={...he.shadowRootOptions,delegatesFocus:!0},si.styles=Yo,si.increment=To(),ai([Co()],si.prototype,"value",void 0),ai([_e("input")],si.prototype,"input",void 0),ai([Ae({slot:"prefix"})],si.prototype,"prefixes",void 0),ai([Ae({slot:"suffix"})],si.prototype,"suffixes",void 0),ai([Ae({slot:"helper-text"})],si.prototype,"helperText",void 0),ai([xe({reflect:!0,type:Boolean})],si.prototype,"outlined",void 0),ai([xe({type:Boolean,reflect:!0})],si.prototype,"readOnly",void 0),ai([xe({attribute:!1})],si.prototype,"readonly",null),ai([xe({type:String})],si.prototype,"placeholder",void 0),ai([xe({type:String})],si.prototype,"label",void 0),ai([wo("focusComponent")],si.prototype,"focus",null),ai([wo("blurComponent")],si.prototype,"blur",null),si=ni=ai([jo({bootstrap:qo,material:Qo,fluent:Xo,indigo:Jo},!0),Wo],si);var li={minLength:"Entry should be at least {0} character(s) long",maxLength:"Entry should be no more than {0} character(s) long",required:"This field is required",pattern:"Entry does not match the required pattern",mask:"All required positions should be filled",min:"A value of at least {0} should be entered",max:"A value no more than {0} should be entered"};const ci={key:"valueMissing",message:li.required,isValid:({required:e,value:t})=>!e||!!t},ui={key:"valueMissing",message:li.required,isValid:({required:e,value:t})=>!e||Ro(t)},di=(li.required,{key:"tooShort",message:({minLength:e})=>ko(li.minLength,`${e}`),isValid:({minLength:e,value:t})=>!e||t.length>=e}),hi={key:"tooLong",message:({maxLength:e})=>ko(li.maxLength,`${e}`),isValid:({maxLength:e,value:t})=>!e||t.length<=e},pi={key:"patternMismatch",message:li.pattern,isValid:({pattern:e,value:t})=>!e||new RegExp(e,"u").test(t)},fi={key:"rangeUnderflow",message:({min:e})=>ko(li.min,`${e}`),isValid:({min:e,value:t})=>!Ro(e)||Ro(t)&&_o(t)>=_o(e)},gi={key:"rangeOverflow",message:({max:e})=>ko(li.max,`${e}`),isValid:({max:e,value:t})=>!Ro(e)||Ro(t)&&_o(t)<=_o(e)},vi={key:"stepMismatch",message:"Value does not conform to step constraint",isValid:({min:e,step:t,value:r})=>!Ro(t)||(_o(r)-_o(e))%_o(t,1)===0};var mi=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};class bi extends si{constructor(){super(...arguments),this.validators=[{...ci,isValid:()=>this.isStringType?ci.isValid(this):ui.isValid(this)},{...di,isValid:()=>!this.isStringType||di.isValid(this)},{...hi,isValid:()=>!this.isStringType||hi.isValid(this)},{...fi,isValid:()=>!!this.isStringType||fi.isValid(this)},{...gi,isValid:()=>!!this.isStringType||gi.isValid(this)},{...vi,isValid:()=>!!this.isStringType||vi.isValid(this)},{...pi,isValid:()=>!this.isStringType||pi.isValid(this)}],this.value="",this.type="text",this.tabIndex=0}get isStringType(){return"number"!==this.type}get minlength(){return this.minLength}set minlength(e){this.minLength=e}get maxlength(){return this.maxLength}set maxlength(e){this.maxLength=e}constraintsChanged(){this.updateValidity()}valueChange(){const e=this.value?this.value:null;this.setFormValue(e,e),this.updateValidity(),this.setInvalidState()}setRangeText(e,t,r,o="preserve"){super.setRangeText(e,t,r,o),this.value=this.input.value}select(){return this.input.select()}stepUp(e){this.input.stepUp(e),this.value=this.input.value}stepDown(e){this.input.stepDown(e),this.value=this.input.value}handleInput(){this.value=this.input.value,this.emitEvent("igcInput",{detail:this.value})}handleChange(){this.value=this.input.value,this.emitEvent("igcChange",{detail:this.value})}handleFocus(){this._dirty=!0,super.handleFocus()}handleBlur(){this.invalid=!this.checkValidity(),super.handleBlur()}renderInput(){return W`
      <input
        id=${this.inputId}
        part=${xo(this.resolvePartNames("input"))}
        name=${mo(this.name)}
        type=${mo(this.type)}
        pattern=${mo(this.pattern)}
        placeholder=${mo(this.placeholder)}
        .value=${yo(this.value)}
        ?readonly=${this.readOnly}
        ?disabled=${this.disabled}
        ?required=${this.required}
        ?autofocus=${this.autofocus}
        tabindex=${this.tabIndex}
        autocomplete=${mo(this.autocomplete)}
        inputmode=${mo(this.inputmode)}
        min=${mo(this.min)}
        max=${mo(this.max)}
        minlength=${mo(this.minLength)}
        maxlength=${mo(this.maxLength)}
        step=${mo(this.step)}
        aria-invalid=${this.invalid?"true":"false"}
        @change=${this.handleChange}
        @input=${this.handleInput}
        @focus=${this.handleFocus}
        @blur=${this.handleBlur}
      />
    `}}bi.tagName="igc-input",mi([xe(),Eo("igcChange","detail")],bi.prototype,"value",void 0),mi([wo("displayType"),xe({reflect:!0})],bi.prototype,"type",void 0),mi([xe()],bi.prototype,"inputmode",void 0),mi([xe({type:String})],bi.prototype,"pattern",void 0),mi([xe({type:Number})],bi.prototype,"minLength",void 0),mi([xe({attribute:!1})],bi.prototype,"minlength",null),mi([xe({type:Number})],bi.prototype,"maxLength",void 0),mi([xe({attribute:!1})],bi.prototype,"maxlength",null),mi([xe()],bi.prototype,"min",void 0),mi([xe()],bi.prototype,"max",void 0),mi([xe({type:Number})],bi.prototype,"step",void 0),mi([xe({type:Boolean})],bi.prototype,"autofocus",void 0),mi([xe()],bi.prototype,"autocomplete",void 0),mi([xe({type:Number})],bi.prototype,"tabIndex",void 0),mi([So("min",{waitUntilFirstUpdate:!0}),So("max",{waitUntilFirstUpdate:!0}),So("minLength",{waitUntilFirstUpdate:!0}),So("maxLength",{waitUntilFirstUpdate:!0}),So("pattern",{waitUntilFirstUpdate:!0}),So("step",{waitUntilFirstUpdate:!0})],bi.prototype,"constraintsChanged",null),mi([So("value")],bi.prototype,"valueChange",null),mi([Co()],bi.prototype,"setRangeText",null);var yi=bi;function wi(e){return e=>e}const Ci=Math.min,Ei=Math.max,Si=Math.round,xi=Math.floor,Ti=e=>({x:e,y:e}),ki={left:"right",right:"left",bottom:"top",top:"bottom"},_i={start:"end",end:"start"};function Ri(e,t,r){return Ei(e,Ci(t,r))}function Oi(e,t){return"function"===typeof e?e(t):e}function Di(e){return e.split("-")[0]}function Ai(e){return e.split("-")[1]}function Pi(e){return"x"===e?"y":"x"}function Mi(e){return"y"===e?"height":"width"}function Li(e){return["top","bottom"].includes(Di(e))?"y":"x"}function Fi(e){return Pi(Li(e))}function Ii(e,t,r){void 0===r&&(r=!1);const o=Ai(e),i=Fi(e),n=Mi(i);let a="x"===i?o===(r?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[n]>t.floating[n]&&(a=zi(a)),[a,zi(a)]}function Ni(e){const t=zi(e);return[Hi(e),t,Hi(t)]}function Hi(e){return e.replace(/start|end/g,(e=>_i[e]))}function Gi(e,t,r){const o=["left","right"],i=["right","left"],n=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:o:t?o:i;case"left":case"right":return t?n:a;default:return[]}}function Vi(e,t,r,o){const i=Ai(e);let n=Gi(Di(e),"start"===r,o);return i&&(n=n.map((e=>e+"-"+i)),t&&(n=n.concat(n.map(Hi)))),n}function zi(e){return e.replace(/left|right|bottom|top/g,(e=>ki[e]))}function Bi(e){return{top:0,right:0,bottom:0,left:0,...e}}function ji(e){return"number"!==typeof e?Bi(e):{top:e,right:e,bottom:e,left:e}}function Wi(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Ui(e,t,r){let{reference:o,floating:i}=e;const n=Li(t),a=Fi(t),s=Mi(a),l=Di(t),c="y"===n,u=o.x+o.width/2-i.width/2,d=o.y+o.height/2-i.height/2,h=o[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:o.y-i.height};break;case"bottom":p={x:u,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:d};break;case"left":p={x:o.x-i.width,y:d};break;default:p={x:o.x,y:o.y}}switch(Ai(t)){case"start":p[a]-=h*(r&&c?-1:1);break;case"end":p[a]+=h*(r&&c?-1:1);break}return p}const $i=async(e,t,r)=>{const{placement:o="bottom",strategy:i="absolute",middleware:n=[],platform:a}=r,s=n.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Ui(c,o,l),h=o,p={},f=0;for(let g=0;g<s.length;g++){const{name:r,fn:n}=s[g],{x:v,y:m,data:b,reset:y}=await n({x:u,y:d,initialPlacement:o,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=v?v:u,d=null!=m?m:d,p={...p,[r]:{...p[r],...b}},y&&f<=50&&(f++,"object"===typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:u,y:d}=Ui(c,h,l))),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function Ki(e,t){var r;void 0===t&&(t={});const{x:o,y:i,platform:n,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Oi(t,e),f=ji(p),g="floating"===d?"reference":"floating",v=s[h?g:d],m=Wi(await n.getClippingRect({element:null==(r=await(null==n.isElement?void 0:n.isElement(v)))||r?v:v.contextElement||await(null==n.getDocumentElement?void 0:n.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b="floating"===d?{...a.floating,x:o,y:i}:a.reference,y=await(null==n.getOffsetParent?void 0:n.getOffsetParent(s.floating)),w=await(null==n.isElement?void 0:n.isElement(y))&&await(null==n.getScale?void 0:n.getScale(y))||{x:1,y:1},C=Wi(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:y,strategy:l}):b);return{top:(m.top-C.top+f.top)/w.y,bottom:(C.bottom-m.bottom+f.bottom)/w.y,left:(m.left-C.left+f.left)/w.x,right:(C.right-m.right+f.right)/w.x}}const Yi=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r;const{placement:o,middlewareData:i,rects:n,initialPlacement:a,platform:s,elements:l}=t,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...g}=Oi(e,t),v=Di(o),m=Di(a)===a,b=await(null==s.isRTL?void 0:s.isRTL(l.floating)),y=d||(m||!f?[zi(a)]:Ni(a));d||"none"===p||y.push(...Vi(a,f,p,b));const w=[a,...y],C=await Ki(t,g),E=[];let S=(null==(r=i.flip)?void 0:r.overflows)||[];if(c&&E.push(C[v]),u){const e=Ii(o,n,b);E.push(C[e[0]],C[e[1]])}if(S=[...S,{placement:o,overflows:E}],!E.every((e=>e<=0))){var x,T;const e=((null==(x=i.flip)?void 0:x.index)||0)+1,t=w[e];if(t)return{data:{index:e,overflows:S},reset:{placement:t}};let r=null==(T=S.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!r)switch(h){case"bestFit":{var k;const e=null==(k=S.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:k[0];e&&(r=e);break}case"initialPlacement":r=a;break}if(o!==r)return{reset:{placement:r}}}return{}}}};async function qi(e,t){const{placement:r,platform:o,elements:i}=e,n=await(null==o.isRTL?void 0:o.isRTL(i.floating)),a=Di(r),s=Ai(r),l="y"===Li(r),c=["left","top"].includes(a)?-1:1,u=n&&l?-1:1,d=Oi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"===typeof f&&(p="end"===s?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Xi=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:r,y:o}=t,i=await qi(t,e);return{x:r+i.x,y:o+i.y,data:i}}}},Ji=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:o,placement:i}=t,{mainAxis:n=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=Oi(e,t),c={x:r,y:o},u=await Ki(t,l),d=Li(Di(i)),h=Pi(d);let p=c[h],f=c[d];if(n){const e="y"===h?"top":"left",t="y"===h?"bottom":"right",r=p+u[e],o=p-u[t];p=Ri(r,p,o)}if(a){const e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=f+u[e],o=f-u[t];f=Ri(r,f,o)}const g=s.fn({...t,[h]:p,[d]:f});return{...g,data:{x:g.x-r,y:g.y-o}}}}},Qi=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:r,rects:o,platform:i,elements:n}=t,{apply:a=(()=>{}),...s}=Oi(e,t),l=await Ki(t,s),c=Di(r),u=Ai(r),d="y"===Li(r),{width:h,height:p}=o.floating;let f,g;"top"===c||"bottom"===c?(f=c,g=u===(await(null==i.isRTL?void 0:i.isRTL(n.floating))?"start":"end")?"left":"right"):(g=c,f="end"===u?"top":"bottom");const v=p-l[f],m=h-l[g],b=!t.middlewareData.shift;let y=v,w=m;if(d){const e=h-l.left-l.right;w=u||b?Ci(m,e):e}else{const e=p-l.top-l.bottom;y=u||b?Ci(v,e):e}if(b&&!u){const e=Ei(l.left,0),t=Ei(l.right,0),r=Ei(l.top,0),o=Ei(l.bottom,0);d?w=h-2*(0!==e||0!==t?e+t:Ei(l.left,l.right)):y=p-2*(0!==r||0!==o?r+o:Ei(l.top,l.bottom))}await a({...t,availableWidth:w,availableHeight:y});const C=await i.getDimensions(n.floating);return h!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Zi(e){return rn(e)?(e.nodeName||"").toLowerCase():"#document"}function en(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function tn(e){var t;return null==(t=(rn(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function rn(e){return e instanceof Node||e instanceof en(e).Node}function on(e){return e instanceof Element||e instanceof en(e).Element}function nn(e){return e instanceof HTMLElement||e instanceof en(e).HTMLElement}function an(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof en(e).ShadowRoot)}function sn(e){const{overflow:t,overflowX:r,overflowY:o,display:i}=pn(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!["inline","contents"].includes(i)}function ln(e){return["table","td","th"].includes(Zi(e))}function cn(e){const t=dn(),r=pn(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function un(e){let t=gn(e);while(nn(t)&&!hn(t)){if(cn(t))return t;t=gn(t)}return null}function dn(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function hn(e){return["html","body","#document"].includes(Zi(e))}function pn(e){return en(e).getComputedStyle(e)}function fn(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function gn(e){if("html"===Zi(e))return e;const t=e.assignedSlot||e.parentNode||an(e)&&e.host||tn(e);return an(t)?t.host:t}function vn(e){const t=gn(e);return hn(t)?e.ownerDocument?e.ownerDocument.body:e.body:nn(t)&&sn(t)?t:vn(t)}function mn(e,t){var r;void 0===t&&(t=[]);const o=vn(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),n=en(o);return i?t.concat(n,n.visualViewport||[],sn(o)?o:[]):t.concat(o,mn(o))}function bn(e){const t=pn(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=nn(e),n=i?e.offsetWidth:r,a=i?e.offsetHeight:o,s=Si(r)!==n||Si(o)!==a;return s&&(r=n,o=a),{width:r,height:o,$:s}}function yn(e){return on(e)?e:e.contextElement}function wn(e){const t=yn(e);if(!nn(t))return Ti(1);const r=t.getBoundingClientRect(),{width:o,height:i,$:n}=bn(t);let a=(n?Si(r.width):r.width)/o,s=(n?Si(r.height):r.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Cn=Ti(0);function En(e){const t=en(e);return dn()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Cn}function Sn(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==en(e))&&t}function xn(e,t,r,o){void 0===t&&(t=!1),void 0===r&&(r=!1);const i=e.getBoundingClientRect(),n=yn(e);let a=Ti(1);t&&(o?on(o)&&(a=wn(o)):a=wn(e));const s=Sn(n,r,o)?En(n):Ti(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(n){const e=en(n),t=o&&on(o)?en(o):o;let r=e.frameElement;while(r&&o&&t!==e){const e=wn(r),t=r.getBoundingClientRect(),o=pn(r),i=t.left+(r.clientLeft+parseFloat(o.paddingLeft))*e.x,n=t.top+(r.clientTop+parseFloat(o.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=n,r=en(r).frameElement}}return Wi({width:u,height:d,x:l,y:c})}function Tn(e){let{rect:t,offsetParent:r,strategy:o}=e;const i=nn(r),n=tn(r);if(r===n)return t;let a={scrollLeft:0,scrollTop:0},s=Ti(1);const l=Ti(0);if((i||!i&&"fixed"!==o)&&(("body"!==Zi(r)||sn(n))&&(a=fn(r)),nn(r))){const e=xn(r);s=wn(r),l.x=e.x+r.clientLeft,l.y=e.y+r.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}}function kn(e){return Array.from(e.getClientRects())}function _n(e){return xn(tn(e)).left+fn(e).scrollLeft}function Rn(e){const t=tn(e),r=fn(e),o=e.ownerDocument.body,i=Ei(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),n=Ei(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-r.scrollLeft+_n(e);const s=-r.scrollTop;return"rtl"===pn(o).direction&&(a+=Ei(t.clientWidth,o.clientWidth)-i),{width:i,height:n,x:a,y:s}}function On(e,t){const r=en(e),o=tn(e),i=r.visualViewport;let n=o.clientWidth,a=o.clientHeight,s=0,l=0;if(i){n=i.width,a=i.height;const e=dn();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:n,height:a,x:s,y:l}}function Dn(e,t){const r=xn(e,!0,"fixed"===t),o=r.top+e.clientTop,i=r.left+e.clientLeft,n=nn(e)?wn(e):Ti(1),a=e.clientWidth*n.x,s=e.clientHeight*n.y,l=i*n.x,c=o*n.y;return{width:a,height:s,x:l,y:c}}function An(e,t,r){let o;if("viewport"===t)o=On(e,r);else if("document"===t)o=Rn(tn(e));else if(on(t))o=Dn(t,r);else{const r=En(e);o={...t,x:t.x-r.x,y:t.y-r.y}}return Wi(o)}function Pn(e,t){const r=gn(e);return!(r===t||!on(r)||hn(r))&&("fixed"===pn(r).position||Pn(r,t))}function Mn(e,t){const r=t.get(e);if(r)return r;let o=mn(e).filter((e=>on(e)&&"body"!==Zi(e))),i=null;const n="fixed"===pn(e).position;let a=n?gn(e):e;while(on(a)&&!hn(a)){const t=pn(a),r=cn(a);r||"fixed"!==t.position||(i=null);const s=n?!r&&!i:!r&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||sn(a)&&!r&&Pn(e,a);s?o=o.filter((e=>e!==a)):i=t,a=gn(a)}return t.set(e,o),o}function Ln(e){let{element:t,boundary:r,rootBoundary:o,strategy:i}=e;const n="clippingAncestors"===r?Mn(t,this._c):[].concat(r),a=[...n,o],s=a[0],l=a.reduce(((e,r)=>{const o=An(t,r,i);return e.top=Ei(o.top,e.top),e.right=Ci(o.right,e.right),e.bottom=Ci(o.bottom,e.bottom),e.left=Ei(o.left,e.left),e}),An(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Fn(e){return bn(e)}function In(e,t,r){const o=nn(t),i=tn(t),n="fixed"===r,a=xn(e,!0,n,t);let s={scrollLeft:0,scrollTop:0};const l=Ti(0);if(o||!o&&!n)if(("body"!==Zi(t)||sn(i))&&(s=fn(t)),o){const e=xn(t,!0,n,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=_n(i));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Nn(e,t){return nn(e)&&"fixed"!==pn(e).position?t?t(e):e.offsetParent:null}function Hn(e,t){const r=en(e);if(!nn(e))return r;let o=Nn(e,t);while(o&&ln(o)&&"static"===pn(o).position)o=Nn(o,t);return o&&("html"===Zi(o)||"body"===Zi(o)&&"static"===pn(o).position&&!cn(o))?r:o||un(e)||r}const Gn=async function(e){let{reference:t,floating:r,strategy:o}=e;const i=this.getOffsetParent||Hn,n=this.getDimensions;return{reference:In(t,await i(r),o),floating:{x:0,y:0,...await n(r)}}};function Vn(e){return"rtl"===pn(e).direction}const zn={convertOffsetParentRelativeRectToViewportRelativeRect:Tn,getDocumentElement:tn,getClippingRect:Ln,getOffsetParent:Hn,getElementRects:Gn,getClientRects:kn,getDimensions:Fn,getScale:wn,isElement:on,isRTL:Vn};function Bn(e,t){let r,o=null;const i=tn(e);function n(){clearTimeout(r),o&&o.disconnect(),o=null}function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),n();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(s||t(),!d||!h)return;const p=xi(u),f=xi(i.clientWidth-(c+d)),g=xi(i.clientHeight-(u+h)),v=xi(c),m=-p+"px "+-f+"px "+-g+"px "+-v+"px",b={rootMargin:m,threshold:Ei(0,Ci(1,l))||1};let y=!0;function w(e){const t=e[0].intersectionRatio;if(t!==l){if(!y)return a();t?a(!1,t):r=setTimeout((()=>{a(!1,1e-7)}),100)}y=!1}try{o=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch(C){o=new IntersectionObserver(w,b)}o.observe(e)}return a(!0),n}function jn(e,t,r,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:n=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=o,c=yn(e),u=i||n?[...c?mn(c):[],...mn(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",r,{passive:!0}),n&&e.addEventListener("resize",r)}));const d=c&&s?Bn(c,r):null;let h,p=-1,f=null;a&&(f=new ResizeObserver((e=>{let[o]=e;o&&o.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{f&&f.observe(t)}))),r()})),c&&!l&&f.observe(c),f.observe(t));let g=l?xn(e):null;function v(){const t=xn(e);!g||t.x===g.x&&t.y===g.y&&t.width===g.width&&t.height===g.height||r(),g=t,h=requestAnimationFrame(v)}return l&&v(),r(),()=>{u.forEach((e=>{i&&e.removeEventListener("scroll",r),n&&e.removeEventListener("resize",r)})),d&&d(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const Wn=(e,t,r)=>{const o=new Map,i={platform:zn,...r},n={...i.platform,_c:o};return $i(e,t,{...i,platform:n})};class Un extends Le{get floatingElement(){return this._floatingElement||(this._floatingElement=this.part.element),Object.assign(this._floatingElement.style,{display:this.options.open?"":"none"}),this._floatingElement}dispose(){this._dispose&&this._dispose()}notifyController(e){this.controller&&(this.controller.rendered=e)}updatePosition(){return this.dispose(),this.floatingElement&&this.target&&this.options.open?(this._dispose=jn(this.target,this.floatingElement,this.reposition),U):U}createMiddleware(e){const t=[],{style:r}=this._floatingElement;return e.distance&&t.push(Xi({mainAxis:e.distance})),e.flip&&t.push(Yi()),t.push(Ji({mainAxis:!0})),e.sameWidth?t.push(Qi({apply:({rects:e})=>{Object.assign(r,{width:`${e.reference.width}px`})}})):Object.assign(r,{width:""}),t}constructor(e){if(super(e),this.reposition=()=>{var e,t;if(!this.target)return this.dispose(),this.notifyController(Promise.resolve()),U;const r={placement:null!==(e=this.options.placement)&&void 0!==e?e:"bottom-start",strategy:null!==(t=this.options.positionStrategy)&&void 0!==t?t:"absolute",middleware:this.createMiddleware(this.options)},o=Wn(this.target,this.floatingElement,r).then((({x:e,y:t})=>{Object.assign(this.floatingElement.style,{left:0,top:0,transform:`translate(${e}px,${t}px)`})}));return this.notifyController(o),U},this.part=e,e.type!==Pe.ELEMENT)throw new Error("The `igcToggle` directive must be attached to an element tag.")}render(e,t,r){return Object.assign(this,{target:e,options:t,controller:r}),this.updatePosition()}}const $n=Me(Un);class Kn{get abortController(){return this._abortController.signal.aborted&&(this._abortController=new AbortController),this._abortController}set target(e){this._target=e,this.update()}get target(){return this._target}constructor(e,t){this.initialScrollTop=0,this.initialScrollLeft=0,this._abortController=new AbortController,this.blockScroll=e=>{var t,r,o,i;e.preventDefault(),this.sourceElement&&this.sourceElement===e.target||(this.sourceElement=e.target,this.initialScrollTop=null!==(t=this.sourceElement.scrollTop)&&void 0!==t?t:null===(r=this.sourceElement.firstElementChild)||void 0===r?void 0:r.scrollTop,this.initialScrollLeft=null!==(o=this.sourceElement.scrollLeft)&&void 0!==o?o:null===(i=this.sourceElement.firstElementChild)||void 0===i?void 0:i.scrollLeft),this.sourceElement.scrollTop=this.initialScrollTop,this.sourceElement.scrollLeft=this.initialScrollLeft,this.sourceElement.firstElementChild&&(this.sourceElement.firstElementChild.scrollTop=this.initialScrollTop,this.sourceElement.firstElementChild.scrollLeft=this.initialScrollLeft)},this.documentClicked=e=>{if(!this.host.keepOpenOnOutsideClick){const t=e.composed?e.composedPath():[e.target];if(t.includes(this.host)||t.includes(this.target))return;this.hide()}},this.handleScroll=e=>{switch(this.host.scrollStrategy){case"scroll":break;case"block":this.blockScroll(e);break;case"close":this.hide();break}},(this.host=e).addController(this),(null===t||void 0===t?void 0:t.target)&&(this._target=t.target),(null===t||void 0===t?void 0:t.closeCallback)&&(this._hide=t.closeCallback),this.update()}hostDisconnected(){this.abortController.abort()}update(){this.toggleDirective=$n(this.target,this.host,this),this.configureListeners()}hide(){this._hide?this._hide():this.host.hide()}addEventListeners(){const e={capture:!0,signal:this.abortController.signal};this.host.keepOpenOnOutsideClick||document.addEventListener("click",this.documentClicked,e),document.addEventListener("scroll",this.handleScroll,e)}configureListeners(){this.host.open?this.addEventListeners():this.abortController.abort()}}const Yn=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  font-family: var(--ig-font-family);
}

[part=base] {
  overflow-y: auto;
  overflow-x: hidden;
  min-width: 7rem;
  z-index: 10005;
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}`,qn=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-8));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-secondary-100), var(--ig-secondary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-secondary-100-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-secondary-200-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-secondary-200-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
}

[part=base] {
  background: var(--background-color);
  border-radius: var(--border-radius);
  -webkit-box-shadow: var(--ig-elevation-8);
          box-shadow: var(--ig-elevation-8);
  padding: 0.5rem 0;
}`,Xn=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-0));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, var(--ig-primary-600-contrast));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-primary-600-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-primary-600-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-primary-600-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 1px);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
}

[part=base] {
  background: var(--background-color);
  border-radius: var(--border-radius);
  padding: 0.5rem 0;
  border: 0.0625rem solid var(--border-color);
}`,Jn=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-4));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-gray-100-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-gray-200-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-gray-200-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
}

[part=base] {
  background: var(--background-color);
  border-radius: var(--border-radius);
  -webkit-box-shadow: var(--ig-elevation-4);
          box-shadow: var(--ig-elevation-4);
}`,Qn=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-3));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-primary-500), 0.15));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-primary-500), 0.15));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-primary-500-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-primary-400-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-primary-400-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
}

[part=base] {
  background: var(--background-color);
  border-radius: var(--border-radius);
  -webkit-box-shadow: var(--ig-elevation-3);
          box-shadow: var(--ig-elevation-3);
}`,Zn=(...e)=>{for(const t of e){const e=t.tagName;e&&!window.customElements.get(e)&&window.customElements.define(e,t)}},ea=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  pointer-events: auto;
}
:host ::slotted([slot=label]) {
  font-family: var(--ig-overline-font-family, var(--ig-font-family));
  font-size: var(--ig-overline-font-size);
  font-weight: var(--ig-overline-font-weight);
  font-style: var(--ig-overline-font-style);
  line-height: var(--ig-overline-line-height);
  letter-spacing: var(--ig-overline-letter-spacing);
  text-transform: var(--ig-overline-text-transform);
  margin-top: var(--ig-overline-margin-top);
  margin-bottom: var(--ig-overline-margin-bottom);
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: block;
  white-space: nowrap;
  position: relative;
  pointer-events: none;
  padding-inline: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  padding-block: max(var(--is-large, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-block-large, var(--ig-spacing-block, --ig-spacing)), var(--is-medium, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-block-medium, var(--ig-spacing-block, --ig-spacing)), var(--is-small, 1) * max(0.125rem, -1 * 0.125rem) * var(--ig-spacing-block-small, var(--ig-spacing-block, --ig-spacing)));
}`,ta=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-4));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-gray-100-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-gray-200-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-gray-200-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
}
:host ::slotted([slot=label]) {
  color: var(--header-text-color);
  padding: max(var(--is-large, 1) * max(8px, -1 * 8px) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(0.125rem, -1 * 0.125rem) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}`,ra=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-0));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, var(--ig-primary-600-contrast));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-primary-600-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-primary-600-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-primary-600-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 1px);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
}
:host ::slotted([slot=label]) {
  color: var(--header-text-color);
}`,oa=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-3));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-primary-500), 0.15));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-primary-500), 0.15));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-primary-500-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-primary-400-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-primary-400-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
}
:host ::slotted([slot=label]) {
  color: var(--header-text-color);
}`,ia=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-8));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-secondary-100), var(--ig-secondary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-secondary-100-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-secondary-200-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-secondary-200-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
}
:host ::slotted([slot=label]) {
  color: var(--header-text-color);
}`;var na=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};let aa=class extends he{connectedCallback(){super.connectedCallback(),this.setAttribute("role","group"),this.parent=this.getParent()}getParent(){return this.closest("igc-dropdown")}render(){var e,t;return this.setAttribute("size",null!==(t=null===(e=this.parent)||void 0===e?void 0:e.size)&&void 0!==t?t:"large"),W`
      <label part="label"><slot name="label"></slot></label>
      <slot></slot>
    `}};aa.tagName="igc-dropdown-group",aa.styles=ea,na([Co(),Ae({flatten:!0,selector:"igc-dropdown-item"})],aa.prototype,"items",void 0),aa=na([jo({fluent:ta,bootstrap:ra,indigo:oa,material:ia})],aa);var sa=aa;const la=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  font-family: var(--ig-overline-font-family, var(--ig-font-family));
  font-size: var(--ig-overline-font-size);
  font-weight: var(--ig-overline-font-weight);
  font-style: var(--ig-overline-font-style);
  line-height: var(--ig-overline-line-height);
  letter-spacing: var(--ig-overline-letter-spacing);
  text-transform: var(--ig-overline-text-transform);
  margin-top: var(--ig-overline-margin-top);
  margin-bottom: var(--ig-overline-margin-bottom);
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: block;
  white-space: nowrap;
  position: relative;
  pointer-events: none;
}

::slotted(*) {
  font: inherit;
}`,ca=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-0));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, var(--ig-primary-600-contrast));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-primary-600-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-primary-600-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-primary-600-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 1px);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  color: var(--header-text-color);
  padding-inline: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  padding-block: max(var(--is-large, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-block-large, var(--ig-spacing-block, --ig-spacing)), var(--is-medium, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-block-medium, var(--ig-spacing-block, --ig-spacing)), var(--is-small, 1) * max(0.125rem, -1 * 0.125rem) * var(--ig-spacing-block-small, var(--ig-spacing-block, --ig-spacing)));
}`,ua=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-4));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-gray-100-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-gray-200-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-gray-200-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  color: var(--header-text-color);
  padding: max(var(--is-large, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(0.125rem, -1 * 0.125rem) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}`,da=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-3));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-primary-500), 0.15));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-primary-500), 0.15));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-primary-500-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-primary-400-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-primary-400-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  color: var(--header-text-color);
  padding-inline: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  padding-block: max(var(--is-large, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-block-large, var(--ig-spacing-block, --ig-spacing)), var(--is-medium, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-block-medium, var(--ig-spacing-block, --ig-spacing)), var(--is-small, 1) * max(0.125rem, -1 * 0.125rem) * var(--ig-spacing-block-small, var(--ig-spacing-block, --ig-spacing)));
}`,ha=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-8));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-secondary-100), var(--ig-secondary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-secondary-100-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-secondary-200-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-secondary-200-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  color: var(--header-text-color);
  padding-inline: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  padding-block: max(var(--is-large, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-block-large, var(--ig-spacing-block, --ig-spacing)), var(--is-medium, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-block-medium, var(--ig-spacing-block, --ig-spacing)), var(--is-small, 1) * max(0.125rem, -1 * 0.125rem) * var(--ig-spacing-block-small, var(--ig-spacing-block, --ig-spacing)));
}`;var pa=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};let fa=class extends he{render(){return W`<slot></slot>`}};fa.tagName="igc-dropdown-header",fa.styles=la,fa=pa([jo({bootstrap:ca,fluent:ua,indigo:da,material:ha})],fa);var ga=fa;const va=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}

:host {
  font-family: var(--ig-body-2-font-family, var(--ig-font-family));
  font-size: var(--ig-body-2-font-size);
  font-weight: var(--ig-body-2-font-weight);
  font-style: var(--ig-body-2-font-style);
  line-height: var(--ig-body-2-line-height);
  letter-spacing: var(--ig-body-2-letter-spacing);
  text-transform: var(--ig-body-2-text-transform);
  margin-top: var(--ig-body-2-margin-top);
  margin-bottom: var(--ig-body-2-margin-bottom);
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: start;
      -ms-flex-pack: start;
          justify-content: flex-start;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  width: 100%;
  white-space: nowrap;
  position: relative;
  cursor: pointer;
  outline-style: none;
  padding-inline: max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem) * var(--ig-spacing-inline-large, var(--ig-spacing-inline, --ig-spacing)), var(--is-medium, 1) * max(0.75rem, -1 * 0.75rem) * var(--ig-spacing-inline-medium, var(--ig-spacing-inline, --ig-spacing)), var(--is-small, 1) * max(0.375rem, -1 * 0.375rem) * var(--ig-spacing-inline-small, var(--ig-spacing-inline, --ig-spacing)));
  padding-block: max(var(--is-large, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-block-large, var(--ig-spacing-block, --ig-spacing)), var(--is-medium, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-block-medium, var(--ig-spacing-block, --ig-spacing)), var(--is-small, 1) * max(0.125rem, -1 * 0.125rem) * var(--ig-spacing-block-small, var(--ig-spacing-block, --ig-spacing)));
}

:host([disabled]) {
  cursor: default;
  pointer-events: none;
}

::slotted(*) {
  font: inherit;
}

[part=content] {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  display: block;
  width: 100%;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

[part=prefix],
[part=suffix] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

[name=prefix]::slotted(*) {
  -webkit-margin-end: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
          margin-inline-end: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}

[name=suffix]::slotted(*) {
  -webkit-margin-start: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
          margin-inline-start: max(var(--is-large, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(1rem, -1 * 1rem) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}`,ma=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-0));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, var(--ig-primary-600-contrast));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-primary-600-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-primary-600-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-primary-600-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 1px);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  border-radius: var(--item-border-radius);
  color: var(--item-text-color);
}

:host([active]),
:host(:hover) {
  background: var(--hover-item-background);
  color: var(--hover-item-text-color);
}

:host([active]) {
  background: var(--focused-item-background);
  color: var(--focused-item-text-color);
}

:host([selected]) {
  background: var(--selected-item-background);
  color: var(--selected-item-text-color);
}

:host([selected]:hover),
:host([selected][active]) {
  background: var(--selected-hover-item-background);
  color: var(--selected-hover-item-text-color);
}

:host([disabled]) {
  background: var(--disabled-item-background);
  color: var(--disabled-item-text-color);
}`,ba=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-4));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-gray-100-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-gray-200-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-gray-200-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  border-radius: var(--item-border-radius);
  color: var(--item-text-color);
  padding: max(var(--is-large, 1) * max(0.5rem, -1 * 0.5rem) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(0.25rem, -1 * 0.25rem) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(0.125rem, -1 * 0.125rem) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}

:host([active]),
:host(:hover) {
  background: var(--hover-item-background);
  color: var(--hover-item-text-color);
}

:host([active]) {
  background: var(--focused-item-background);
  color: var(--focused-item-text-color);
}

:host([selected]) {
  background: var(--selected-item-background);
  color: var(--selected-item-text-color);
}

:host([selected]:hover),
:host([selected][active]) {
  background: var(--selected-hover-item-background);
  color: var(--selected-hover-item-text-color);
}

:host([disabled]) {
  background: var(--disabled-item-background);
  color: var(--disabled-item-text-color);
}`,ya=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-3));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-primary-500), 0.15));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-primary-500), 0.15));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-primary-500-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-primary-400-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-primary-400-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  border-radius: var(--item-border-radius);
  color: var(--item-text-color);
}

:host([active]),
:host(:hover) {
  background: var(--hover-item-background);
  color: var(--hover-item-text-color);
}

:host([active]) {
  background: var(--focused-item-background);
  color: var(--focused-item-text-color);
}

:host([selected]) {
  background: var(--selected-item-background);
  color: var(--selected-item-text-color);
}

:host([selected]:hover),
:host([selected][active]) {
  background: var(--selected-hover-item-background);
  color: var(--selected-hover-item-text-color);
}

:host([disabled]) {
  background: var(--disabled-item-background);
  color: var(--disabled-item-text-color);
}`,wa=c`:host {
  --elevation: var(--ig-dropdown-elevation, var(--ig-elevation-8));
  --background-color: var(--ig-dropdown-background-color, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --header-text-color: var(--ig-dropdown-header-text-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --item-text-color: var(--ig-dropdown-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-text-color: var(--ig-dropdown-hover-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-item-background: var(--ig-dropdown-hover-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-background: var(--ig-dropdown-focused-item-background, hsla(var(--ig-gray-100), 0.8));
  --focused-item-text-color: var(--ig-dropdown-focused-item-text-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --selected-item-background: var(--ig-dropdown-selected-item-background, hsla(var(--ig-secondary-100), var(--ig-secondary-a)));
  --selected-item-text-color: var(--ig-dropdown-selected-item-text-color, var(--ig-secondary-100-contrast));
  --selected-hover-item-background: var(--ig-dropdown-selected-hover-item-background, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --selected-hover-item-text-color: var(--ig-dropdown-selected-hover-item-text-color, var(--ig-secondary-200-contrast));
  --selected-focus-item-background: var(--ig-dropdown-selected-focus-item-background, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --selected-focus-item-text-color: var(--ig-dropdown-selected-focus-item-text-color, var(--ig-secondary-200-contrast));
  --disabled-item-background: var(--ig-dropdown-disabled-item-background, hsla(var(--ig-gray-50), 0));
  --disabled-item-text-color: var(--ig-dropdown-disabled-item-text-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --border-color: var(--ig-dropdown-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-width: var(--ig-dropdown-border-width, 0);
  --border-radius: var(--ig-dropdown-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
  --item-border-radius: var(--ig-dropdown-item-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
  --size: var(--ig-dropdown-size, max(var(--is-large, 1) * max(2.5rem, -1 * 2.5rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  border-radius: var(--item-border-radius);
  color: var(--item-text-color);
}

:host([active]),
:host(:hover) {
  background: var(--hover-item-background);
  color: var(--hover-item-text-color);
}

:host([active]) {
  background: var(--focused-item-background);
  color: var(--focused-item-text-color);
}

:host([selected]) {
  background: var(--selected-item-background);
  color: var(--selected-item-text-color);
}

:host([selected]:hover),
:host([selected][active]) {
  background: var(--selected-hover-item-background);
  color: var(--selected-hover-item-text-color);
}

:host([disabled]) {
  background: var(--disabled-item-background);
  color: var(--disabled-item-text-color);
}`;var Ca=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};let Ea=class extends he{constructor(){super(...arguments),this.selected=!1,this.active=!1,this.disabled=!1}get value(){var e;return this._value?this._value:null!==(e=this.textContent)&&void 0!==e?e:""}set value(e){const t=this._value;this._value=e,this.requestUpdate("value",t)}selectedChange(){this.toggleAttribute("aria-selected",this.selected),this.active=this.selected}disabledChange(){this.toggleAttribute("aria-disabled",this.disabled)}connectedCallback(){super.connectedCallback(),this.setAttribute("role","option")}render(){return W`
      <section part="prefix"><slot name="prefix"></slot></section>
      <section part="content"><slot></slot></section>
      <section part="suffix"><slot name="suffix"></slot></section>
    `}};Ea.tagName="igc-dropdown-item",Ea.styles=va,Ca([xe()],Ea.prototype,"value",null),Ca([xe({type:Boolean,reflect:!0})],Ea.prototype,"selected",void 0),Ca([xe({type:Boolean,reflect:!0})],Ea.prototype,"active",void 0),Ca([xe({type:Boolean,reflect:!0})],Ea.prototype,"disabled",void 0),Ca([So("selected")],Ea.prototype,"selectedChange",null),Ca([So("disabled")],Ea.prototype,"disabledChange",null),Ea=Ca([jo({bootstrap:ma,fluent:ba,indigo:ya,material:wa})],Ea);var Sa=Ea,xa=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};Zn(sa,ga,Sa);let Ta=class extends(Ko(Uo(he))){get allItems(){return[...this.items,...this.groups.flatMap((e=>e.items))]}toggleDirectiveChange(){var e;this.target&&(this.toggleController.target=this.target,this.requestUpdate(),this.open?(document.addEventListener("keydown",this.handleKeyDown),this.target.addEventListener("focusout",this.handleFocusout),this.selectedItem=null!==(e=this.allItems.find((e=>e.selected)))&&void 0!==e?e:null):(document.removeEventListener("keydown",this.handleKeyDown),this.target.removeEventListener("focusout",this.handleFocusout)),this.target.setAttribute("aria-expanded",this.open?"true":"false"))}updateOptions(){this.toggleController&&this.toggleController.update()}sizeChange(){this.groups.forEach((e=>e.requestUpdate()))}constructor(){super(),this.keyDownHandlers=new Map(Object.entries({Escape:this.onEscapeKey,Enter:this.onEnterKey,ArrowUp:this.onArrowUpKeyDown,ArrowDown:this.onArrowDownKeyDown,ArrowLeft:this.onArrowUpKeyDown,ArrowRight:this.onArrowDownKeyDown,Home:this.onHomeKey,End:this.onEndKey})),this.keepOpenOnSelect=!1,this.open=!1,this.placement="bottom-start",this.positionStrategy="absolute",this.scrollStrategy="scroll",this.flip=!1,this.distance=0,this.keepOpenOnOutsideClick=!1,this.sameWidth=!1,this.handleKeyDown=e=>{var t;const r=e.composedPath();(r.includes(this.target)||r.includes(this.content))&&this.keyDownHandlers.has(e.key)&&(e.preventDefault(),e.stopPropagation(),null===(t=this.keyDownHandlers.get(e.key))||void 0===t||t.call(this))},this.handleTargetClick=async()=>{if(this.open)this._hide();else{if(!this.handleOpening())return;this.show(),await this.updateComplete,this.emitEvent("igcOpened")}},this.toggleController=new Kn(this,{target:this.target,closeCallback:()=>this._hide()})}async firstUpdated(){this.targetNodes.length&&(this.target=this.targetNodes[0],this.target.setAttribute("aria-haspopup","listbox")),await this.updateComplete,this.toggleDirectiveChange(),this.setInitialSelection()}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.toggleController.rendered,e}setInitialSelection(){const e=this.allItems.filter((e=>e.selected)).at(-1);this.allItems.forEach((e=>e.selected=!1)),e&&this.selectItem(e,!1)}onHomeKey(){this.navigateTo(this.allItems.filter((e=>!e.disabled)).at(0).value)}onEndKey(){this.navigateTo(this.allItems.filter((e=>!e.disabled)).at(-1).value)}onEscapeKey(){this._hide()}onEnterKey(){this.selectItem(this.activeItem)}handleClick(e){const t=e.composedPath().find((e=>e instanceof Sa));t&&!t.disabled&&this.selectItem(t)}handleOpening(){const e={cancelable:!0};return this.emitEvent("igcOpening",e)}handleClosing(){const e={cancelable:!0};return this.emitEvent("igcClosing",e)}handleChange(e){const t={detail:e};this.emitEvent("igcChange",t)}handleSlotChange(){this.target&&this.target.setAttribute("aria-expanded",this.open?"true":"false")}handleFocusout(e){e.preventDefault(),e.target.focus()}getItem(e){let t,r=-1;return this.allItems.find(((o,i)=>{o.value===e&&(t=o,r=i)})),{item:t,index:r}}activateItem(e){e&&(this.activeItem&&(this.activeItem.active=!1),this.activeItem=e,this.activeItem.active=!0)}selectItem(e,t=!0){return e?(this.selectedItem&&(this.selectedItem.selected=!1),this.activateItem(e),this.selectedItem=e,this.selectedItem.selected=!0,t&&this.handleChange(this.selectedItem),t&&!this.keepOpenOnSelect&&this._hide(),this.selectedItem):null}navigate(e,t){var r;let o=-1;this.activeItem&&(o=t||(null!==(r=[...this.allItems].indexOf(this.activeItem))&&void 0!==r?r:o));const i=this.getNearestSiblingFocusableItemIndex(o,e);this.navigateItem(i)}navigateItem(e){if(!this.allItems)return null;if(e<0||e>=this.allItems.length)return null;const t=this.allItems[e];return this.activateItem(t),this.scrollToHiddenItem(t),t}scrollToHiddenItem(e){const t=e.getBoundingClientRect(),r=this.content.getBoundingClientRect();r.top>t.top&&(this.content.scrollTop-=r.top-t.top),r.bottom<t.bottom&&(this.content.scrollTop+=t.bottom-r.bottom)}getNearestSiblingFocusableItemIndex(e,t){let r=e;const o=this.allItems;if(!o)return-1;while(o[r+t]&&o[r+t].disabled)r+=t;return r+=t,r>-1&&r<o.length?r:-1}navigateNext(){this.navigate(1)}navigatePrev(){this.navigate(-1)}onArrowDownKeyDown(){this.navigateNext()}onArrowUpKeyDown(){this.navigatePrev()}async _hide(e=!0){this.open&&(e&&!this.handleClosing()||(this.open=!1,e&&(await this.updateComplete,this.emitEvent("igcClosed"))))}show(e){this.open&&!e||(e&&(this.target=e),this.open=!0)}hide(){this._hide(!1)}toggle(e){this.open?this.hide():this.show(e)}navigateTo(e){const t="string"===typeof e?this.getItem(e).index:e;return this.navigateItem(t)}select(e){const t="string"===typeof e?this.getItem(e).item:this.allItems[e];return this.selectItem(t,!1)}clearSelection(){this.selectedItem&&(this.selectedItem.selected=!1),this.selectedItem=null}render(){return W`
      <slot
        id="igcDDLTarget"
        name="target"
        @click=${this.handleTargetClick}
        @slotchange=${this.handleSlotChange}
      >
      </slot>
      <div
        part="base"
        style=${Ne({position:this.positionStrategy})}
        @click=${this.handleClick}
        ${this.toggleController.toggleDirective}
      >
        <div role="listbox" part="list" aria-labelledby="igcDDLTarget">
          <slot></slot>
        </div>
      </div>
    `}};Ta.tagName="igc-dropdown",Ta.styles=Yn,xa([Te()],Ta.prototype,"activeItem",void 0),xa([Ae({slot:"target"})],Ta.prototype,"targetNodes",void 0),xa([_e('[part="base"]')],Ta.prototype,"content",void 0),xa([_e('[part="list"]')],Ta.prototype,"scrollContainer",void 0),xa([Ae({flatten:!0,selector:"igc-dropdown-item"})],Ta.prototype,"items",void 0),xa([Ae({flatten:!0,selector:"igc-dropdown-group"})],Ta.prototype,"groups",void 0),xa([xe({type:Boolean,attribute:"keep-open-on-select"})],Ta.prototype,"keepOpenOnSelect",void 0),xa([xe({type:Boolean})],Ta.prototype,"open",void 0),xa([xe()],Ta.prototype,"placement",void 0),xa([xe({attribute:"position-strategy"})],Ta.prototype,"positionStrategy",void 0),xa([xe({attribute:"scroll-strategy"})],Ta.prototype,"scrollStrategy",void 0),xa([xe({type:Boolean})],Ta.prototype,"flip",void 0),xa([xe({type:Number})],Ta.prototype,"distance",void 0),xa([xe({type:Boolean,attribute:"keep-open-on-outside-click"})],Ta.prototype,"keepOpenOnOutsideClick",void 0),xa([xe({type:Boolean,attribute:"same-width"})],Ta.prototype,"sameWidth",void 0),xa([So("open")],Ta.prototype,"toggleDirectiveChange",null),xa([So("placement"),So("flip"),So("positionStrategy"),So("closeOnOutsideClick"),So("distance"),So("sameWidth")],Ta.prototype,"updateOptions",null),xa([So("size")],Ta.prototype,"sizeChange",null),xa([Co()],Ta.prototype,"show",null),xa([Co()],Ta.prototype,"toggle",null),xa([Co()],Ta.prototype,"navigateTo",null),xa([Co()],Ta.prototype,"select",null),Ta=xa([jo({bootstrap:Xn,fluent:Jn,indigo:Qn,material:qn}),wi("IgcDropdownItemComponent, IgcDropdownHeaderComponent, IgcDropdownGroupComponent")],Ta);var ka,_a,Ra,Oa,Da,Aa,Pa,Ma,La,Fa,Ia,Na,Ha=Ta,Ga=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Va=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};function za(e){return W`<igc-icon
    slot="prefix"
    name=${mo(e)}
    collection="internal"
  ></igc-icon>`}class Ba extends he{constructor(){super(...arguments),ka.add(this),this.active=!1,this.column=Je}static get is(){return We}static register(){bt(this)}get isNumeric(){return"number"===this.column.type}get filterController(){return this.state.filtering}get condition(){return this.expression.condition}activeChanged(){this.style.display=this.active?"flex":"",this.active||(this.column=Je),this.state.host.requestUpdate()}renderCriteriaButton(e,t){return t?W`<igc-button
          variant="flat"
          @click=${Va(this,ka,"m",Fa).call(this,e)}
        >
          ${e.criteria}
        </igc-button>`:$}renderExpressionChip(e){const{name:t,unary:r}=e.expression.condition,{searchTerm:o}=e.expression,i=W`<span slot="select"></span>${za(t)}`;return W`<igc-chip
      selectable
      removable
      ?selected=${e.selected}
      @igcRemove=${e.onRemove}
      @igcSelect=${e.onSelect}
    >
      ${i}${r?t:o}
    </igc-chip>`}renderActiveChips(){const e=this.filterController.get(this.column.key);return e?Array.from(e).map(((e,t)=>{const r={expression:e,selected:this.expression===e,onRemove:Va(this,ka,"m",Na).call(this,e),onSelect:Va(this,ka,"m",Ia).call(this,e)};return W`${this.renderCriteriaButton(e,t)}${this.renderExpressionChip(r)}`})):$}renderFilterActions(){return W`
      <igc-button
        id="reset"
        variant="flat"
        @click=${Va(this,ka,"m",Ma)}
      >
        ${za("refresh")} Reset
      </igc-button>
      <igc-button
        id="close"
        variant="flat"
        @click=${()=>this.active=!1}
      >
        ${za("close")} Close
      </igc-button>
    `}renderDropdown(){return W`<igc-dropdown
      flip
      same-width
      @igcChange=${Va(this,ka,"m",Da)}
    >
      ${Object.entries(st(this.column)).map((([e,t])=>{var r;return W`
          <igc-dropdown-item
            .value=${e}
            ?selected=${this.condition.name===e}
          >
            ${za(e)}${null!==(r=null===t||void 0===t?void 0:t.label)&&void 0!==r?r:e}
          </igc-dropdown-item>
        `}))}
    </igc-dropdown>`}renderDropdownTarget(){return W`<igc-icon
      id="condition"
      slot="prefix"
      collection="internal"
      .name=${this.condition.name}
      @click=${Va(this,ka,"m",La)}
    >
    </igc-icon>`}renderInputArea(){return W`<igc-input
        outlined
        value=${mo(this.expression.searchTerm)}
        placeholder="Add filter value"
        ?readonly=${this.condition.unary}
        @igcInput=${Va(this,ka,"m",Aa)}
        @keydown=${Va(this,ka,"m",Pa)}
      >
        ${this.renderDropdownTarget()}
      </igc-input>
      ${this.renderDropdown()}`}renderActiveState(){return W`<div part="active-state">
      <div part="filter-row-input">${this.renderInputArea()}</div>
      <div part="filter-row-filters">${this.renderActiveChips()}</div>
      <div part="filter-row-actions">${this.renderFilterActions()}</div>
    </div> `}renderInactiveChips(e,t){return Array.from(t).map(((t,r)=>{const o={expression:t,selected:!1,onRemove:Va(this,ka,"m",Na).call(this,t),onSelect:r=>{r.stopPropagation(),this.column=e,this.expression=t,Va(this,ka,"m",Oa).call(this)}};return W`${this.renderCriteriaButton(t,r)}${this.renderExpressionChip(o)}`}))}renderFilterState(e){const t=this.filterController.get(e.key),r=t&&t.length<3,o=t&&t.length>=3,i=()=>{this.column=e,Va(this,ka,"m",_a).call(this),Va(this,ka,"m",Oa).call(this)},n=o?W`<span slot="suffix">${t.length}</span>`:$,a=W`<igc-chip
      data-column=${e.key}
      @click=${i}
      >${za("filter")}Filter${n}</igc-chip
    >`;return r?this.renderInactiveChips(e,t):a}renderInactiveState(){return this.state.host.columns.map((e=>e.hidden?$:W`<div part="filter-row-preview">
            ${e.filter?this.renderFilterState(e):$}
          </div>`))}render(){return W`${this.active?this.renderActiveState():this.renderInactiveState()}`}}ka=new WeakSet,_a=function(){this.expression=this.filterController.getDefaultExpression(this.column)},Ra=function(e){this.filterController.removeExpression(e)},Oa=async function(){var e;this.active=!0,await this.updateComplete,null===(e=this.input)||void 0===e||e.select()},Da=function(e){e.stopPropagation();const t=e.detail.value;this.expression.condition=st(this.column)[t],(this.input.value||this.expression.condition.unary)&&this.filterController.filterWithEvent(this.expression,"modify"),this.requestUpdate()},Aa=function(e){var t;e.stopPropagation();const r=this.isNumeric?parseFloat(e.detail):e.detail,o=this.isNumeric?!isNaN(r):!!r,i=(null===(t=this.filterController.get(this.expression.key))||void 0===t?void 0:t.has(this.expression))?"modify":"add";o?(this.expression.searchTerm=r,this.filterController.filterWithEvent(this.expression,i)):Va(this,ka,"m",Ra).call(this,this.expression),this.requestUpdate()},Pa=function(e){switch(e.stopPropagation(),e.key){case"Enter":return this.input.value="",void Va(this,ka,"m",_a).call(this);case"Escape":return void(this.active=!1);default:return}},Ma=function(){this.filterController.removeAllExpressions(this.column.key),this.requestUpdate()},La=function(){this.dropdown.toggle(this.input)},Fa=function(e){return async t=>{t.stopPropagation(),e.criteria="and"===e.criteria?"or":"and",this.filterController.filterWithEvent(e,"modify"),this.requestUpdate()}},Ia=function(e){return async t=>{var r;t.stopPropagation(),this.expression=e,await this.updateComplete,null===(r=this.input)||void 0===r||r.select()}},Na=function(e){return async t=>{t.stopPropagation(),Va(this,ka,"m",Ra).call(this,e),this.active&&this.expression===e&&(Va(this,ka,"m",_a).call(this),await this.updateComplete,this.input.focus()),this.requestUpdate()}},Ba.styles=bo,Ga([Ce({context:Wt,subscribe:!0}),xe({attribute:!1})],Ba.prototype,"state",void 0),Ga([xe({attribute:!1})],Ba.prototype,"active",void 0),Ga([_e(yi.tagName)],Ba.prototype,"input",void 0),Ga([_e("#condition")],Ba.prototype,"conditionElement",void 0),Ga([_e(Ha.tagName)],Ba.prototype,"dropdown",void 0),Ga([xe({attribute:!1})],Ba.prototype,"column",void 0),Ga([xe({attribute:!1})],Ba.prototype,"expression",void 0),Ga([nr("active",{waitUntilFirstUpdate:!0})],Ba.prototype,"activeChanged",null);var ja=Ba;
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Wa=Me(class extends Le{constructor(e){var t;if(super(e),e.type!==Pe.ATTRIBUTE||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){var r,o;if(void 0===this.it){this.it=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!(null===(r=this.nt)||void 0===r?void 0:r.has(e))&&this.it.add(e);return this.render(t)}const i=e.element.classList;this.it.forEach((e=>{e in t||(i.remove(e),this.it.delete(e))}));for(const n in t){const e=!!t[n];e===this.it.has(n)||(null===(o=this.nt)||void 0===o?void 0:o.has(n))||(e?(i.add(n),this.it.add(n)):(i.remove(n),this.it.delete(n)))}return U}});var Ua,$a=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Ka=function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)},Ya=function(e,t,r,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,r):i?i.value=r:t.set(e,r),r};let qa=class extends(Ko(Uo(he))){get disabled(){return this._disabled}set disabled(e){const t=this._disabled;this._disabled=e,this.toggleAttribute("disabled",Boolean(this._disabled)),this.requestUpdate("disabled",t)}get form(){return Ka(this,Ua,"f").form}constructor(){super(),Ua.set(this,void 0),this._disabled=!1,Ya(this,Ua,this.attachInternals(),"f")}focus(e){this.nativeElement.focus(e)}click(){this.nativeElement.click()}blur(){this.nativeElement.blur()}handleFocus(){this.emitEvent("igcFocus")}handleBlur(){this.emitEvent("igcBlur")}get classes(){return{}}handleClick(){var e,t;switch(this.type){case"submit":return null===(e=this.form)||void 0===e?void 0:e.requestSubmit();case"reset":return null===(t=this.form)||void 0===t?void 0:t.reset();default:return}}formDisabledCallback(e){this._disabled=e,this.requestUpdate()}renderButton(){return W`
      <button
        part="base"
        .ariaLabel=${this.ariaLabel}
        .disabled=${this.disabled}
        class=${Wa(this.classes)}
        type=${mo(this.type)}
        @click=${this.handleClick}
        @focus=${this.handleFocus}
        @blur=${this.handleBlur}
      >
        ${this.renderContent()}
      </button>
    `}renderLinkButton(){return W`
      <a
        part="base"
        role="button"
        href=${mo(this.href)}
        target=${mo(this.target)}
        download=${mo(this.download)}
        rel=${mo(this.rel)}
        aria-disabled=${this.disabled?"true":"false"}
        .ariaLabel=${this.ariaLabel}
        class=${Wa(this.classes)}
        @focus=${!this.disabled&&this.handleFocus}
        @blur=${!this.disabled&&this.handleBlur}
      >
        ${this.renderContent()}
      </a>
    `}render(){const e=void 0!==this.href;return e?this.renderLinkButton():this.renderButton()}};Ua=new WeakMap,qa.formAssociated=!0,qa.shadowRootOptions={...he.shadowRootOptions,delegatesFocus:!0},$a([_e('[part="base"]',!0)],qa.prototype,"nativeElement",void 0),$a([wo("displayType"),xe()],qa.prototype,"type",void 0),$a([xe()],qa.prototype,"href",void 0),$a([xe()],qa.prototype,"download",void 0),$a([xe()],qa.prototype,"target",void 0),$a([xe()],qa.prototype,"rel",void 0),$a([xe({type:Boolean,reflect:!0})],qa.prototype,"disabled",null),$a([wo("focusComponent")],qa.prototype,"focus",null),$a([wo("blurComponent")],qa.prototype,"blur",null),qa=$a([Wo],qa);const Xa=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  --gap: max(var(--is-large, 1) * max(0.75rem, -1 * 0.75rem), var(--is-medium, 1) * max(0.5rem, -1 * 0.5rem), var(--is-small, 1) * max(0.25rem, -1 * 0.25rem));
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  vertical-align: middle;
}
:host ::slotted(*) {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  font-size: inherit !important;
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}

[part=base] {
  font-family: var(--ig-button-font-family, var(--ig-font-family));
  font-size: var(--ig-button-font-size);
  font-weight: var(--ig-button-font-weight);
  font-style: var(--ig-button-font-style);
  line-height: var(--ig-button-line-height);
  letter-spacing: var(--ig-button-letter-spacing);
  text-transform: var(--ig-button-text-transform);
  margin-top: var(--ig-button-margin-top);
  margin-bottom: var(--ig-button-margin-bottom);
  position: relative;
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  border: none;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  outline-style: none;
  -webkit-tap-highlight-color: transparent;
  overflow: hidden;
  white-space: nowrap;
  text-decoration: none;
  z-index: 0;
  padding: 0 max(var(--is-large, 1) * max(16px, -1 * 16px) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(12px, -1 * 12px) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(8px, -1 * 8px) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
  gap: var(--gap);
  min-width: 5.5rem;
}

:host(:not([disabled])) [part=base]:hover,
:host(:not(:disabled)) [part=base]:hover {
  cursor: pointer;
}

:host(:disabled),
:host([disabled]) {
  pointer-events: none;
}`,Ja=c`:host([variant=flat]) {
  --shadow-color: var(--ig-button-shadow-color, hsla(var(--ig-primary-200), 0.5));
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, transparent);
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-primary-200), var(--ig-primary-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(3rem, -1 * 3rem), var(--is-medium, 1) * max(2.375rem, -1 * 2.375rem), var(--is-small, 1) * max(1.9375rem, -1 * 1.9375rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, transparent);
  --foreground: var(--ig-button-foreground, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --hover-background: var(--ig-button-hover-background, transparent);
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-primary-800), var(--ig-primary-a)));
  --focus-background: var(--ig-button-focus-background, transparent);
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, transparent);
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --active-background: var(--ig-button-active-background, transparent);
  --active-foreground: var(--ig-button-active-foreground, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
}
:host([variant=flat]) [part=base] {
  height: var(--size);
  border-radius: var(--border-radius);
}

:host([variant=contained]) {
  --shadow-color: var(--ig-button-shadow-color, hsla(var(--ig-primary-200), var(--ig-primary-a)));
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-primary-50), var(--ig-primary-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-primary-200), var(--ig-primary-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(3rem, -1 * 3rem), var(--is-medium, 1) * max(2.375rem, -1 * 2.375rem), var(--is-small, 1) * max(1.9375rem, -1 * 1.9375rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --foreground: var(--ig-button-foreground, var(--ig-primary-600-contrast));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, var(--ig-primary-600-contrast));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-foreground: var(--ig-button-focus-foreground, var(--ig-primary-600-contrast));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, var(--ig-primary-600-contrast));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-primary-700), var(--ig-primary-a)));
  --active-foreground: var(--ig-button-active-foreground, var(--ig-primary-700-contrast));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
}
:host([variant=contained]) [part=base] {
  height: var(--size);
  border-radius: var(--border-radius);
}

:host([variant=outlined]) {
  --shadow-color: var(--ig-button-shadow-color, hsla(var(--ig-primary-200), 0.5));
  --border-color: var(--ig-button-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --hover-border-color: var(--ig-button-hover-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focus-border-color: var(--ig-button-focus-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --active-border-color: var(--ig-button-active-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --disabled-border-color: var(--ig-button-disabled-border-color, hsla(var(--ig-primary-50), var(--ig-primary-a)));
  --disabled-background: var(--ig-button-disabled-background, transparent);
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-primary-200), var(--ig-primary-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(3rem, -1 * 3rem), var(--is-medium, 1) * max(2.375rem, -1 * 2.375rem), var(--is-small, 1) * max(1.9375rem, -1 * 1.9375rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, transparent);
  --foreground: var(--ig-button-foreground, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, var(--ig-primary-600-contrast));
  --focus-background: var(--ig-button-focus-background, transparent);
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, transparent);
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-primary-700), var(--ig-primary-a)));
  --active-foreground: var(--ig-button-active-foreground, var(--ig-primary-700-contrast));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
}
:host([variant=outlined]) [part=base] {
  height: var(--size);
  border: 0.0625rem solid var(--border-color);
  border-radius: var(--border-radius);
}

:host([variant=fab]) {
  --shadow-color: var(--ig-button-shadow-color, hsla(var(--ig-primary-200), var(--ig-primary-a)));
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-primary-50), var(--ig-primary-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-primary-200), var(--ig-primary-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(3rem, -1 * 3rem), var(--is-medium, 1) * max(2.375rem, -1 * 2.375rem), var(--is-small, 1) * max(1.9375rem, -1 * 1.9375rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --foreground: var(--ig-button-foreground, var(--ig-primary-600-contrast));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, var(--ig-primary-600-contrast));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-foreground: var(--ig-button-focus-foreground, var(--ig-primary-600-contrast));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, var(--ig-primary-600-contrast));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-primary-700), var(--ig-primary-a)));
  --active-foreground: var(--ig-button-active-foreground, var(--ig-primary-700-contrast));
  --border-radius: var(--ig-button-border-radius, clamp(0.75rem, calc(var(--ig-radius-factor, 0.5357142857) * 1.75rem), 1.75rem));
}
:host([variant=fab]) [part=base] {
  height: var(--size);
  border-radius: var(--border-radius);
}

:host [part=base] {
  -webkit-transition: all 0.15s ease-in-out;
  transition: all 0.15s ease-in-out;
}

:host(:not([disabled])[variant=flat]) [part=base],
:host(:not(:disabled)[variant=flat]) [part=base] {
  color: var(--foreground);
  background: var(--background);
}
:host(:not([disabled])[variant=flat]) [part=base]:hover,
:host(:not(:disabled)[variant=flat]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus,
:host(:not(:disabled)[variant=flat]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=flat]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:active,
:host(:not(:disabled)[variant=flat]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus, :host(:not([disabled])[variant=flat]) [part=base]:active,
:host(:not(:disabled)[variant=flat]) [part=base]:focus,
:host(:not(:disabled)[variant=flat]) [part=base]:active {
  -webkit-box-shadow: 0 0 0 0.25rem var(--shadow-color);
          box-shadow: 0 0 0 0.25rem var(--shadow-color);
}

:host(:not([disabled])[variant=contained]) [part=base],
:host(:not(:disabled)[variant=contained]) [part=base] {
  color: var(--foreground);
  background: var(--background);
}
:host(:not([disabled])[variant=contained]) [part=base]:hover,
:host(:not(:disabled)[variant=contained]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus,
:host(:not(:disabled)[variant=contained]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
}
:host(:not([disabled])[variant=contained]) [part=base]:active,
:host(:not(:disabled)[variant=contained]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus, :host(:not([disabled])[variant=contained]) [part=base]:active,
:host(:not(:disabled)[variant=contained]) [part=base]:focus,
:host(:not(:disabled)[variant=contained]) [part=base]:active {
  -webkit-box-shadow: 0 0 0 0.25rem var(--shadow-color);
          box-shadow: 0 0 0 0.25rem var(--shadow-color);
}

:host(:not([disabled])[variant=outlined]) [part=base],
:host(:not(:disabled)[variant=outlined]) [part=base] {
  color: var(--foreground);
  background: var(--background);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
}
:host(:not([disabled])[variant=outlined]) [part=base]:hover,
:host(:not(:disabled)[variant=outlined]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
}
:host(:not([disabled])[variant=outlined]) [part=base]:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus, :host(:not([disabled])[variant=outlined]) [part=base]:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus,
:host(:not(:disabled)[variant=outlined]) [part=base]:active {
  -webkit-box-shadow: 0 0 0 0.25rem var(--shadow-color);
          box-shadow: 0 0 0 0.25rem var(--shadow-color);
}

:host(:not([disabled])[variant=fab]) [part=base],
:host(:not(:disabled)[variant=fab]) [part=base] {
  color: var(--foreground);
  background: var(--background);
}
:host(:not([disabled])[variant=fab]) [part=base]:hover,
:host(:not(:disabled)[variant=fab]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus,
:host(:not(:disabled)[variant=fab]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:active,
:host(:not(:disabled)[variant=fab]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus, :host(:not([disabled])[variant=fab]) [part=base]:active,
:host(:not(:disabled)[variant=fab]) [part=base]:focus,
:host(:not(:disabled)[variant=fab]) [part=base]:active {
  -webkit-box-shadow: 0 0 0 0.25rem var(--shadow-color);
          box-shadow: 0 0 0 0.25rem var(--shadow-color);
}

:host([disabled][variant=flat]) [part=base],
:host(:disabled[variant=flat]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
}

:host([disabled][variant=contained]) [part=base],
:host(:disabled[variant=contained]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
}

:host([disabled][variant=outlined]) [part=base],
:host(:disabled[variant=outlined]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
  border-color: var(--disabled-border-color);
}

:host([disabled][variant=fab]) [part=base],
:host(:disabled[variant=fab]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
}`,Qa=c`:host([variant=flat]) {
  --shadow-color: var(--ig-button-shadow-color, transparent);
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, transparent);
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.375rem, -1 * 2.375rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, transparent);
  --foreground: var(--ig-button-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --hover-background: var(--ig-button-hover-background, transparent);
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focus-background: var(--ig-button-focus-background, transparent);
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, transparent);
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --active-background: var(--ig-button-active-background, transparent);
  --active-foreground: var(--ig-button-active-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0) * 1.25rem), 1.25rem));
}
:host([variant=flat]) [part=base] {
  height: var(--size);
  border-radius: var(--border-radius);
}

:host([variant=outlined]) {
  --shadow-color: var(--ig-button-shadow-color, transparent);
  --border-color: var(--ig-button-border-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --hover-border-color: var(--ig-button-hover-border-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --focus-border-color: var(--ig-button-focus-border-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --active-border-color: var(--ig-button-active-border-color, hsla(var(--ig-gray-800), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-400), 0.5));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.375rem, -1 * 2.375rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, transparent);
  --foreground: var(--ig-button-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, transparent);
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --active-foreground: var(--ig-button-active-foreground, var(--ig-gray-300-contrast));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
}
:host([variant=outlined]) [part=base] {
  height: var(--size);
  border-radius: var(--border-radius);
}
:host([variant=outlined]) [part=base]::after {
  border-radius: calc(var(--border-radius) - 0.25rem);
}

:host([variant=contained]) {
  --shadow-color: var(--ig-button-shadow-color, transparent);
  --border-color: var(--ig-button-border-color, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --hover-border-color: var(--ig-button-hover-border-color, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-border-color: var(--ig-button-focus-border-color, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --active-border-color: var(--ig-button-active-border-color, hsla(var(--ig-primary-800), var(--ig-primary-a)));
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.375rem, -1 * 2.375rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --foreground: var(--ig-button-foreground, var(--ig-primary-900-contrast));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, var(--ig-primary-900-contrast));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-foreground: var(--ig-button-focus-foreground, var(--ig-primary-900-contrast));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, var(--ig-primary-900-contrast));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-primary-800), var(--ig-primary-a)));
  --active-foreground: var(--ig-button-active-foreground, var(--ig-primary-900-contrast));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.1) * 1.25rem), 1.25rem));
}
:host([variant=contained]) [part=base] {
  height: var(--size);
  border-radius: var(--border-radius);
}
:host([variant=contained]) [part=base]::after {
  border-radius: calc(var(--border-radius) - 0.25rem);
}

:host([variant=fab]) {
  --shadow-color: var(--ig-button-shadow-color, transparent);
  --border-color: var(--ig-button-border-color, var(--ig-gray-900-contrast));
  --hover-border-color: var(--ig-button-hover-border-color, var(--ig-gray-900-contrast));
  --focus-border-color: var(--ig-button-focus-border-color, var(--ig-gray-900-contrast));
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, var(--ig-gray-900-contrast));
  --active-border-color: var(--ig-button-active-border-color, var(--ig-gray-900-contrast));
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.375rem, -1 * 2.375rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --foreground: var(--ig-button-foreground, var(--ig-primary-900-contrast));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, var(--ig-primary-900-contrast));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-foreground: var(--ig-button-focus-foreground, var(--ig-primary-900-contrast));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, var(--ig-primary-900-contrast));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-primary-800), var(--ig-primary-a)));
  --active-foreground: var(--ig-button-active-foreground, var(--ig-primary-900-contrast));
  --border-radius: var(--ig-button-border-radius, clamp(0.75rem, calc(var(--ig-radius-factor, 0.5) * 1.75rem), 1.75rem));
}
:host([variant=fab]) [part=base] {
  height: var(--size);
  border-radius: var(--border-radius);
}
:host([variant=fab]) [part=base]::after {
  border-radius: calc(var(--border-radius) - 0.25rem);
}

[part=base] {
  padding: 0 max(var(--is-large, 1) * max(16px, -1 * 16px) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(16px, -1 * 16px) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(8px, -1 * 8px) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
  -webkit-transition: all 0.1s ease-in-out;
  transition: all 0.1s ease-in-out;
}

:host(:not([disabled])[variant=flat]) [part=base],
:host(:not(:disabled)[variant=flat]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  border: 1px solid var(--border-color);
}
:host(:not([disabled])[variant=flat]) [part=base]:hover,
:host(:not(:disabled)[variant=flat]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus,
:host(:not(:disabled)[variant=flat]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
  border-color: var(--focus-border-color);
}
:host(:not([disabled])[variant=flat]) [part=base]:active,
:host(:not(:disabled)[variant=flat]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=flat]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
  border-color: var(--focus-visible-border-color);
}

:host(:not([disabled])[variant=outlined]) [part=base],
:host(:not(:disabled)[variant=outlined]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  border: 0.0625rem solid var(--border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:hover,
:host(:not(:disabled)[variant=outlined]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
  border-color: var(--focus-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
  border-color: var(--focus-visible-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible::after,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible::after {
  content: "";
  position: absolute;
  inset-block-start: 0.125rem;
  inset-inline-start: 0.125rem;
  pointer-events: none;
  width: calc(100% - (0.125rem * 2));
  height: calc(100% - (0.125rem * 2));
  -webkit-box-shadow: 0 0 0 0.0625rem var(--focus-visible-foreground);
          box-shadow: 0 0 0 0.0625rem var(--focus-visible-foreground);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible:hover::after,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible:hover::after {
  -webkit-box-shadow: 0 0 0 0.0625rem var(--hover-foreground);
          box-shadow: 0 0 0 0.0625rem var(--hover-foreground);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible:active::after,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible:active::after {
  -webkit-box-shadow: 0 0 0 0.0625rem var(--active-foreground);
          box-shadow: 0 0 0 0.0625rem var(--active-foreground);
}

:host(:not([disabled])[variant=contained]) [part=base],
:host(:not(:disabled)[variant=contained]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  border: 0.0625rem solid var(--border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:hover,
:host(:not(:disabled)[variant=contained]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus,
:host(:not(:disabled)[variant=contained]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
  border-color: var(--focus-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:active,
:host(:not(:disabled)[variant=contained]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
  border-color: var(--focus-visible-border-color);
  position: relative;
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible::after,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible::after {
  content: "";
  -webkit-box-shadow: 0 0 0 1px var(--ig-primary-600-contrast);
          box-shadow: 0 0 0 1px var(--ig-primary-600-contrast);
  position: absolute;
  inset-block-start: 3px;
  inset-inline-start: 3px;
  pointer-events: none;
  width: calc(100% - 6px);
  height: calc(100% - 6px);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}

:host(:not([disabled])[variant=fab]) [part=base],
:host(:not(:disabled)[variant=fab]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  border: 0.0625rem solid var(--border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:hover,
:host(:not(:disabled)[variant=fab]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus,
:host(:not(:disabled)[variant=fab]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
  border-color: var(--focus-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:active,
:host(:not(:disabled)[variant=fab]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
  border-color: var(--focus-visible-border-color);
  position: relative;
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible::after,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible::after {
  content: "";
  -webkit-box-shadow: 0 0 0 1px var(--ig-primary-600-contrast);
          box-shadow: 0 0 0 1px var(--ig-primary-600-contrast);
  position: absolute;
  inset-block-start: 3px;
  inset-inline-start: 3px;
  pointer-events: none;
  width: calc(100% - 6px);
  height: calc(100% - 6px);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}

:host([disabled][variant=flat]) [part=base],
:host(:disabled[variant=flat]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
}

:host([disabled][variant=outlined]) [part=base],
:host(:disabled[variant=outlined]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
  border-color: var(--disabled-border-color);
}

:host([disabled][variant=contained]) [part=base],
:host(:disabled[variant=contained]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
  border: 0.0625rem solid var(--disabled-border-color);
}

:host([disabled][variant=fab]) [part=base],
:host(:disabled[variant=fab]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
}`,Za=c`:host([variant=flat]) {
  --shadow-color: var(--ig-button-shadow-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, transparent);
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.25rem, -1 * 2.25rem), var(--is-medium, 1) * max(2rem, -1 * 2rem), var(--is-small, 1) * max(1.75rem, -1 * 1.75rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, transparent);
  --foreground: var(--ig-button-foreground, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --hover-background: var(--ig-button-hover-background, transparent);
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focus-background: var(--ig-button-focus-background, transparent);
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, transparent);
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --active-background: var(--ig-button-active-background, transparent);
  --active-foreground: var(--ig-button-active-foreground, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 1) * 1.25rem), 1.25rem));
}
:host([variant=flat]) [part=base] {
  height: var(--size);
}

:host([variant=outlined]) {
  --shadow-color: var(--ig-button-shadow-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-color: var(--ig-button-border-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --hover-border-color: var(--ig-button-hover-border-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --focus-border-color: var(--ig-button-focus-border-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --active-border-color: var(--ig-button-active-border-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, transparent);
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.25rem, -1 * 2.25rem), var(--is-medium, 1) * max(1.875rem, -1 * 1.875rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, transparent);
  --foreground: var(--ig-button-foreground, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-gray-100), var(--ig-gray-a)));
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focus-background: var(--ig-button-focus-background, transparent);
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, transparent);
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --active-background: var(--ig-button-active-background, transparent);
  --active-foreground: var(--ig-button-active-foreground, hsla(var(--ig-gray-900), var(--ig-gray-a)));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 1) * 1.25rem), 1.25rem));
}
:host([variant=outlined]) [part=base] {
  height: var(--size);
}

:host([variant=contained]) {
  --shadow-color: var(--ig-button-shadow-color, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.25rem, -1 * 2.25rem), var(--is-medium, 1) * max(1.875rem, -1 * 1.875rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --foreground: var(--ig-button-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-secondary-400), var(--ig-secondary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-secondary-400), var(--ig-secondary-a)));
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-secondary-400), var(--ig-secondary-a)));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --active-foreground: var(--ig-button-active-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 1) * 1.25rem), 1.25rem));
}
:host([variant=contained]) [part=base] {
  height: var(--size);
}

:host([variant=fab]) {
  --shadow-color: var(--ig-button-shadow-color, hsla(var(--ig-secondary-200), var(--ig-secondary-a)));
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(3rem, -1 * 3rem), var(--is-medium, 1) * max(2.625rem, -1 * 2.625rem), var(--is-small, 1) * max(2.25rem, -1 * 2.25rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --foreground: var(--ig-button-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-secondary-400), var(--ig-secondary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-secondary-400), var(--ig-secondary-a)));
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-secondary-400), var(--ig-secondary-a)));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --active-foreground: var(--ig-button-active-foreground, hsla(var(--ig-gray-50), var(--ig-gray-a)));
  --border-radius: var(--ig-button-border-radius, clamp(0.75rem, calc(var(--ig-radius-factor, 1) * 1.75rem), 1.75rem));
}
:host([variant=fab]) [part=base] {
  height: var(--size);
}

[part=base] {
  -webkit-transition: all 0.15s ease-in-out;
  transition: all 0.15s ease-in-out;
}
:host([variant=flat]) [part=base] {
  border-radius: var(--border-radius);
}

:host([variant=outlined]) [part=base] {
  border-radius: var(--border-radius);
}

:host([variant=contained]) [part=base] {
  border-radius: var(--border-radius);
}

:host([variant=fab]) [part=base] {
  border-radius: var(--border-radius);
}
:host(:not([disabled])[variant=flat]) [part=base],
:host(:not(:disabled)[variant=flat]) [part=base] {
  color: var(--foreground);
  background: var(--background);
}
:host(:not([disabled])[variant=flat]) [part=base]:hover,
:host(:not(:disabled)[variant=flat]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus,
:host(:not(:disabled)[variant=flat]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:active,
:host(:not(:disabled)[variant=flat]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=flat]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus, :host(:not([disabled])[variant=flat]) [part=base]:active,
:host(:not(:disabled)[variant=flat]) [part=base]:focus,
:host(:not(:disabled)[variant=flat]) [part=base]:active {
  -webkit-box-shadow: 0 0 0 0.1875rem var(--shadow-color);
          box-shadow: 0 0 0 0.1875rem var(--shadow-color);
}

:host(:not([disabled])[variant=outlined]) [part=base],
:host(:not(:disabled)[variant=outlined]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  border-style: solid;
  border-color: var(--border-color);
  border-width: 0.125rem;
}
:host(:not([disabled])[variant=outlined]) [part=base]:hover,
:host(:not(:disabled)[variant=outlined]) [part=base]:hover {
  background: var(--hover-background);
  color: var(--hover-foreground);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus {
  background: var(--focus-background);
  color: var(--focus-foreground);
  border-color: var(--focus-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:active {
  background: var(--active-background);
  color: var(--active-foreground);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus, :host(:not([disabled])[variant=outlined]) [part=base]:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus,
:host(:not(:disabled)[variant=outlined]) [part=base]:active {
  -webkit-box-shadow: 0 0 0 0.1875rem var(--shadow-color);
          box-shadow: 0 0 0 0.1875rem var(--shadow-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible {
  background: var(--focus-visible-background);
  color: var(--focus-visible-foreground);
  border-color: var(--focus-visible-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible:hover {
  background: var(--hover-background);
  color: var(--hover-foreground);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible:active {
  background: var(--active-background);
  color: var(--active-foreground);
  border-color: var(--active-border-color);
}

:host(:not([disabled])[variant=contained]) [part=base],
:host(:not(:disabled)[variant=contained]) [part=base] {
  color: var(--foreground);
  background: var(--background);
}
:host(:not([disabled])[variant=contained]) [part=base]:hover,
:host(:not(:disabled)[variant=contained]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus,
:host(:not(:disabled)[variant=contained]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
  border-color: var(--focus-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:active,
:host(:not(:disabled)[variant=contained]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus, :host(:not([disabled])[variant=contained]) [part=base]:active,
:host(:not(:disabled)[variant=contained]) [part=base]:focus,
:host(:not(:disabled)[variant=contained]) [part=base]:active {
  -webkit-box-shadow: 0 0 0 0.1875rem var(--shadow-color);
          box-shadow: 0 0 0 0.1875rem var(--shadow-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible {
  background: var(--focus-visible-background);
  color: var(--focus-visible-foreground);
  border-color: var(--focus-visible-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}

:host(:not([disabled])[variant=fab]) [part=base],
:host(:not(:disabled)[variant=fab]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  border-color: var(--border-color);
  min-width: var(--size);
  min-height: var(--size);
}
:host(:not([disabled])[variant=fab]) [part=base]:hover,
:host(:not(:disabled)[variant=fab]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus,
:host(:not(:disabled)[variant=fab]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
  border-color: var(--focus-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:active,
:host(:not(:disabled)[variant=fab]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus, :host(:not([disabled])[variant=fab]) [part=base]:active,
:host(:not(:disabled)[variant=fab]) [part=base]:focus,
:host(:not(:disabled)[variant=fab]) [part=base]:active {
  -webkit-box-shadow: 0 0 0 0.1875rem var(--shadow-color);
          box-shadow: 0 0 0 0.1875rem var(--shadow-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible {
  background: var(--focus-visible-background);
  color: var(--focus-visible-foreground);
  border-color: var(--focus-visible-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}

:host([disabled][variant=flat]) [part=base],
:host(:disabled[variant=flat]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
}

:host([disabled][variant=outlined]) [part=base],
:host(:disabled[variant=outlined]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
  border-color: var(--disabled-border-color);
}

:host([disabled][variant=contained]) [part=base],
:host(:disabled[variant=contained]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
}

:host([disabled][variant=fab]) [part=base],
:host(:disabled[variant=fab]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
}`,es=c`:host([variant=flat]) {
  --shadow-color: var(--ig-button-shadow-color, transparent);
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, transparent);
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.25rem, -1 * 2.25rem), var(--is-medium, 1) * max(1.875rem, -1 * 1.875rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, transparent);
  --foreground: var(--ig-button-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-secondary-500), 0.05));
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-secondary-400), 0.12));
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-secondary-400), 0.12));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-secondary-400), 0.12));
  --active-foreground: var(--ig-button-active-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
}
:host([variant=flat]) [part=base] {
  height: var(--size);
}

:host([variant=outlined]) {
  --shadow-color: var(--ig-button-shadow-color, transparent);
  --border-color: var(--ig-button-border-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --hover-border-color: var(--ig-button-hover-border-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --focus-border-color: var(--ig-button-focus-border-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --active-border-color: var(--ig-button-active-border-color, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --disabled-border-color: var(--ig-button-disabled-border-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --disabled-background: var(--ig-button-disabled-background, transparent);
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.25rem, -1 * 2.25rem), var(--is-medium, 1) * max(1.875rem, -1 * 1.875rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-0));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-0));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-0));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-0));
  --background: var(--ig-button-background, transparent);
  --foreground: var(--ig-button-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-secondary-500), 0.05));
  --hover-foreground: var(--ig-button-hover-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-secondary-400), 0.12));
  --focus-foreground: var(--ig-button-focus-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-secondary-400), 0.12));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-secondary-400), 0.12));
  --active-foreground: var(--ig-button-active-foreground, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
}
:host([variant=outlined]) [part=base] {
  height: var(--size);
}

:host([variant=contained]) {
  --shadow-color: var(--ig-button-shadow-color, transparent);
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(2.25rem, -1 * 2.25rem), var(--is-medium, 1) * max(1.875rem, -1 * 1.875rem), var(--is-small, 1) * max(1.5rem, -1 * 1.5rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-2));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-4));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-8));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-8));
  --background: var(--ig-button-background, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --foreground: var(--ig-button-foreground, var(--ig-secondary-500-contrast));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, var(--ig-secondary-300-contrast));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --focus-foreground: var(--ig-button-focus-foreground, var(--ig-secondary-300-contrast));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, var(--ig-secondary-300-contrast));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --active-foreground: var(--ig-button-active-foreground, var(--ig-secondary-300-contrast));
  --border-radius: var(--ig-button-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.2) * 1.25rem), 1.25rem));
}
:host([variant=contained]) [part=base] {
  height: var(--size);
}

:host([variant=fab]) {
  --shadow-color: var(--ig-button-shadow-color, transparent);
  --border-color: var(--ig-button-border-color, transparent);
  --hover-border-color: var(--ig-button-hover-border-color, transparent);
  --focus-border-color: var(--ig-button-focus-border-color, transparent);
  --focus-visible-border-color: var(--ig-button-focus-visible-border-color, transparent);
  --active-border-color: var(--ig-button-active-border-color, transparent);
  --disabled-border-color: var(--ig-button-disabled-border-color, transparent);
  --disabled-background: var(--ig-button-disabled-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --disabled-foreground: var(--ig-button-disabled-foreground, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --size: var(--ig-button-size, max(var(--is-large, 1) * max(3rem, -1 * 3rem), var(--is-medium, 1) * max(2.5rem, -1 * 2.5rem), var(--is-small, 1) * max(2rem, -1 * 2rem)));
  --resting-elevation: var(--ig-button-resting-elevation, var(--ig-elevation-6));
  --hover-elevation: var(--ig-button-hover-elevation, var(--ig-elevation-12));
  --focus-elevation: var(--ig-button-focus-elevation, var(--ig-elevation-12));
  --active-elevation: var(--ig-button-active-elevation, var(--ig-elevation-12));
  --background: var(--ig-button-background, hsla(var(--ig-secondary-500), var(--ig-secondary-a)));
  --foreground: var(--ig-button-foreground, var(--ig-secondary-500-contrast));
  --hover-background: var(--ig-button-hover-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --hover-foreground: var(--ig-button-hover-foreground, var(--ig-secondary-300-contrast));
  --focus-background: var(--ig-button-focus-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --focus-foreground: var(--ig-button-focus-foreground, var(--ig-secondary-300-contrast));
  --focus-visible-background: var(--ig-button-focus-visible-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --focus-visible-foreground: var(--ig-button-focus-visible-foreground, var(--ig-secondary-300-contrast));
  --active-background: var(--ig-button-active-background, hsla(var(--ig-secondary-300), var(--ig-secondary-a)));
  --active-foreground: var(--ig-button-active-foreground, var(--ig-secondary-300-contrast));
  --border-radius: var(--ig-button-border-radius, clamp(0.75rem, calc(var(--ig-radius-factor, 1) * 1.75rem), 1.75rem));
}
:host([variant=fab]) [part=base] {
  height: var(--size);
}

[part=base] {
  -webkit-transition: all 0.1s ease-in-out;
  transition: all 0.1s ease-in-out;
}

:host(:not([disabled])[variant=flat]) [part=base],
:host(:not(:disabled)[variant=flat]) [part=base] {
  color: var(--foreground);
  background: var(--background);
}
:host(:not([disabled])[variant=flat]) [part=base]:hover,
:host(:not(:disabled)[variant=flat]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus,
:host(:not(:disabled)[variant=flat]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:active,
:host(:not(:disabled)[variant=flat]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=flat]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=flat]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-foreground);
}
:host(:not([disabled])[variant=flat]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=flat]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
}

:host(:not([disabled])[variant=outlined]) [part=base],
:host(:not(:disabled)[variant=outlined]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  border: 0.0625rem solid var(--border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:hover,
:host(:not(:disabled)[variant=outlined]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
  border-color: var(--focus-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible {
  color: var(--focus-visible-foreground);
  background: var(--focus-visible-background);
  border-color: var(--focus-visible-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-foreground);
  border-color: var(--hover-border-color);
}
:host(:not([disabled])[variant=outlined]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=outlined]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
  border-color: var(--active-border-color);
}

:host(:not([disabled])[variant=contained]) [part=base],
:host(:not(:disabled)[variant=contained]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  -webkit-box-shadow: var(--ig-elevation-2);
          box-shadow: var(--ig-elevation-2);
}
:host(:not([disabled])[variant=contained]) [part=base]:hover,
:host(:not(:disabled)[variant=contained]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  -webkit-box-shadow: var(--ig-elevation-4);
          box-shadow: var(--ig-elevation-4);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus,
:host(:not(:disabled)[variant=contained]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=contained]) [part=base]:active,
:host(:not(:disabled)[variant=contained]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus, :host(:not([disabled])[variant=contained]) [part=base]:active,
:host(:not(:disabled)[variant=contained]) [part=base]:focus,
:host(:not(:disabled)[variant=contained]) [part=base]:active {
  -webkit-box-shadow: var(--ig-elevation-8);
          box-shadow: var(--ig-elevation-8);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
}
:host(:not([disabled])[variant=contained]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=contained]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
}

:host(:not([disabled])[variant=fab]) [part=base],
:host(:not(:disabled)[variant=fab]) [part=base] {
  color: var(--foreground);
  background: var(--background);
  -webkit-box-shadow: var(--ig-elevation-6);
          box-shadow: var(--ig-elevation-6);
}
:host(:not([disabled])[variant=fab]) [part=base]:hover,
:host(:not(:disabled)[variant=fab]) [part=base]:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
  -webkit-box-shadow: var(--ig-elevation-4);
          box-shadow: var(--ig-elevation-4);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus,
:host(:not(:disabled)[variant=fab]) [part=base]:focus {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:active,
:host(:not(:disabled)[variant=fab]) [part=base]:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus, :host(:not([disabled])[variant=fab]) [part=base]:active,
:host(:not(:disabled)[variant=fab]) [part=base]:focus,
:host(:not(:disabled)[variant=fab]) [part=base]:active {
  -webkit-box-shadow: var(--ig-elevation-8);
          box-shadow: var(--ig-elevation-8);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible {
  color: var(--focus-foreground);
  background: var(--focus-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible:hover,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible:hover {
  color: var(--hover-foreground);
  background: var(--hover-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:focus-visible:active,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible:active {
  color: var(--active-foreground);
  background: var(--active-background);
}
:host(:not([disabled])[variant=fab]) [part=base]:hover, :host(:not([disabled])[variant=fab]) [part=base]:focus, :host(:not([disabled])[variant=fab]) [part=base]:focus-visible, :host(:not([disabled])[variant=fab]) [part=base]:active,
:host(:not(:disabled)[variant=fab]) [part=base]:hover,
:host(:not(:disabled)[variant=fab]) [part=base]:focus,
:host(:not(:disabled)[variant=fab]) [part=base]:focus-visible,
:host(:not(:disabled)[variant=fab]) [part=base]:active {
  -webkit-box-shadow: var(--ig-elevation-12);
          box-shadow: var(--ig-elevation-12);
}
:host([variant=flat]) [part=base] {
  border-radius: var(--border-radius);
}

:host([variant=outlined]) [part=base] {
  border-radius: var(--border-radius);
}

:host([variant=contained]) [part=base] {
  border-radius: var(--border-radius);
}

:host([variant=fab]) [part=base] {
  border-radius: var(--border-radius);
}
:host([disabled][variant=flat]) [part=base],
:host(:disabled[variant=flat]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
  -webkit-box-shadow: inset 0 0 0 0.0625rem var(--disabled-border-color);
          box-shadow: inset 0 0 0 0.0625rem var(--disabled-border-color);
}

:host([disabled][variant=outlined]) [part=base],
:host(:disabled[variant=outlined]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
  -webkit-box-shadow: inset 0 0 0 0.0625rem var(--disabled-border-color);
          box-shadow: inset 0 0 0 0.0625rem var(--disabled-border-color);
  border: 0.0625rem solid var(--disabled-border-color);
}

:host([disabled][variant=contained]) [part=base],
:host(:disabled[variant=contained]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
  -webkit-box-shadow: inset 0 0 0 0.0625rem var(--disabled-border-color);
          box-shadow: inset 0 0 0 0.0625rem var(--disabled-border-color);
}

:host([disabled][variant=fab]) [part=base],
:host(:disabled[variant=fab]) [part=base] {
  color: var(--disabled-foreground);
  background: var(--disabled-background);
  -webkit-box-shadow: inset 0 0 0 0.0625rem var(--disabled-border-color);
          box-shadow: inset 0 0 0 0.0625rem var(--disabled-border-color);
}`;var ts=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};let rs=class extends qa{constructor(){super(),this.variant="contained",this.size="medium"}get classes(){const{size:e,variant:t}=this;return{flat:"flat"===t,outlined:"outlined"===t,contained:"contained"===t,fab:"fab"===t,small:"small"===e,medium:"medium"===e,large:"large"===e,disabled:this.disabled}}renderContent(){return W`
      <slot name="prefix"></slot>
      <slot></slot>
      <slot name="suffix"></slot>
    `}};rs.tagName="igc-button",rs.styles=Xa,ts([xe({reflect:!0})],rs.prototype,"variant",void 0),rs=ts([jo({bootstrap:Ja,indigo:Za,fluent:Qa,material:es})],rs);var os=rs;const is=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  vertical-align: top;
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}
:host([size=small]) [part=prefix] {
  -webkit-margin-end: 0.1875rem;
          margin-inline-end: 0.1875rem;
}
:host([size=small]) [part=suffix] {
  -webkit-margin-start: 0.1875rem;
          margin-inline-start: 0.1875rem;
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}
:host([size=medium]) [part=prefix] {
  -webkit-margin-end: 0.375rem;
          margin-inline-end: 0.375rem;
}
:host([size=medium]) [part=suffix] {
  -webkit-margin-start: 0.375rem;
          margin-inline-start: 0.375rem;
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}
:host([size=large]) [part=prefix] {
  -webkit-margin-end: 0.5rem;
          margin-inline-end: 0.5rem;
}
:host([size=large]) [part=suffix] {
  -webkit-margin-start: 0.5rem;
          margin-inline-start: 0.5rem;
}
:host([size=large]) igc-icon[size=large] {
  --size: 1.25rem;
}

:host button {
  font-family: var(--ig-body-2-font-family, var(--ig-font-family));
  font-size: var(--ig-body-2-font-size);
  font-weight: var(--ig-body-2-font-weight);
  font-style: var(--ig-body-2-font-style);
  line-height: var(--ig-body-2-line-height);
  letter-spacing: var(--ig-body-2-letter-spacing);
  text-transform: var(--ig-body-2-text-transform);
  margin-top: var(--ig-body-2-margin-top);
  margin-bottom: var(--ig-body-2-margin-bottom);
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  font-family: var(--ig-font-family);
  border-style: none;
  -webkit-box-shadow: none;
          box-shadow: none;
  cursor: pointer;
  padding: max(var(--is-large, 1) * max(12px, -1 * 12px) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(6px, -1 * 6px) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(2px, -1 * 2px) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}
:host button[disabled] {
  pointer-events: none;
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host([variant=primary]) button,
:host([selected][variant=primary]) button:not([disabled]) {
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-500-contrast);
}
:host([variant=primary]) button:hover,
:host([selected][variant=primary]) button:not([disabled]):hover {
  background: hsla(var(--ig-primary-600), var(--ig-primary-a));
  color: var(--ig-primary-600-contrast);
}
:host([variant=primary]) button:focus,
:host([selected][variant=primary]) button:not([disabled]):focus {
  background: hsla(var(--ig-primary-800), var(--ig-primary-a));
  color: var(--ig-primary-800-contrast);
}

:host([variant=info]) button,
:host([selected][variant=info]) button:not([disabled]) {
  background: hsla(var(--ig-info-500), var(--ig-info-a));
  color: var(--ig-info-500-contrast);
}
:host([variant=info]) button:hover,
:host([selected][variant=info]) button:not([disabled]):hover {
  background: hsla(var(--ig-info-600), var(--ig-info-a));
  color: var(--ig-info-600-contrast);
}
:host([variant=info]) button:focus,
:host([selected][variant=info]) button:not([disabled]):focus {
  background: hsla(var(--ig-info-800), var(--ig-info-a));
  color: var(--ig-info-800-contrast);
}

:host([variant=success]) button,
:host([selected][variant=success]) button:not([disabled]) {
  background: hsla(var(--ig-success-500), var(--ig-success-a));
  color: var(--ig-success-500-contrast);
}
:host([variant=success]) button:hover,
:host([selected][variant=success]) button:not([disabled]):hover {
  background: hsla(var(--ig-success-600), var(--ig-success-a));
  color: var(--ig-success-600-contrast);
}
:host([variant=success]) button:focus,
:host([selected][variant=success]) button:not([disabled]):focus {
  background: hsla(var(--ig-success-800), var(--ig-success-a));
  color: var(--ig-success-800-contrast);
}

:host([variant=warning]) button,
:host([selected][variant=warning]) button:not([disabled]) {
  background: hsla(var(--ig-warn-500), var(--ig-warn-a));
  color: var(--ig-warn-500-contrast);
}
:host([variant=warning]) button:hover,
:host([selected][variant=warning]) button:not([disabled]):hover {
  background: hsla(var(--ig-warn-600), var(--ig-warn-a));
  color: var(--ig-warn-600-contrast);
}
:host([variant=warning]) button:focus,
:host([selected][variant=warning]) button:not([disabled]):focus {
  background: hsla(var(--ig-warn-800), var(--ig-warn-a));
  color: var(--ig-warn-800-contrast);
}

:host([variant=danger]) button,
:host([selected][variant=danger]) button:not([disabled]) {
  background: hsla(var(--ig-error-500), var(--ig-error-a));
  color: var(--ig-error-500-contrast);
}
:host([variant=danger]) button:hover,
:host([selected][variant=danger]) button:not([disabled]):hover {
  background: hsla(var(--ig-error-600), var(--ig-error-a));
  color: var(--ig-error-600-contrast);
}
:host([variant=danger]) button:focus,
:host([selected][variant=danger]) button:not([disabled]):focus {
  background: hsla(var(--ig-error-800), var(--ig-error-a));
  color: var(--ig-error-800-contrast);
}

[part=prefix],
[part=suffix] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

::slotted(*) {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

:host([variant=primary]) button[disabled],
:host([variant=info]) button[disabled],
:host([variant=success]) button[disabled],
:host([variant=warning]) button[disabled],
:host([variant=danger]) button[disabled] {
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}`,ns=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  vertical-align: top;
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}
:host([size=small]) [part=prefix] {
  -webkit-margin-end: 0.1875rem;
          margin-inline-end: 0.1875rem;
}
:host([size=small]) [part=suffix] {
  -webkit-margin-start: 0.1875rem;
          margin-inline-start: 0.1875rem;
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}
:host([size=medium]) [part=prefix] {
  -webkit-margin-end: 0.375rem;
          margin-inline-end: 0.375rem;
}
:host([size=medium]) [part=suffix] {
  -webkit-margin-start: 0.375rem;
          margin-inline-start: 0.375rem;
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}
:host([size=large]) [part=prefix] {
  -webkit-margin-end: 0.5rem;
          margin-inline-end: 0.5rem;
}
:host([size=large]) [part=suffix] {
  -webkit-margin-start: 0.5rem;
          margin-inline-start: 0.5rem;
}
:host([size=large]) igc-icon[size=large] {
  --size: 1.25rem;
}

:host button {
  font-family: var(--ig-body-2-font-family, var(--ig-font-family));
  font-size: var(--ig-body-2-font-size);
  font-weight: var(--ig-body-2-font-weight);
  font-style: var(--ig-body-2-font-style);
  line-height: var(--ig-body-2-line-height);
  letter-spacing: var(--ig-body-2-letter-spacing);
  text-transform: var(--ig-body-2-text-transform);
  margin-top: var(--ig-body-2-margin-top);
  margin-bottom: var(--ig-body-2-margin-bottom);
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  font-family: var(--ig-font-family);
  border-style: none;
  -webkit-box-shadow: none;
          box-shadow: none;
  cursor: pointer;
  padding: max(var(--is-large, 1) * max(12px, -1 * 12px) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(6px, -1 * 6px) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(2px, -1 * 2px) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}
:host button[disabled] {
  pointer-events: none;
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host([variant=primary]) button,
:host([selected][variant=primary]) button:not([disabled]) {
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-500-contrast);
}
:host([variant=primary]) button:hover,
:host([selected][variant=primary]) button:not([disabled]):hover {
  background: hsla(var(--ig-primary-600), var(--ig-primary-a));
  color: var(--ig-primary-600-contrast);
}
:host([variant=primary]) button:focus,
:host([selected][variant=primary]) button:not([disabled]):focus {
  background: hsla(var(--ig-primary-800), var(--ig-primary-a));
  color: var(--ig-primary-800-contrast);
}

:host([variant=info]) button,
:host([selected][variant=info]) button:not([disabled]) {
  background: hsla(var(--ig-info-500), var(--ig-info-a));
  color: var(--ig-info-500-contrast);
}
:host([variant=info]) button:hover,
:host([selected][variant=info]) button:not([disabled]):hover {
  background: hsla(var(--ig-info-600), var(--ig-info-a));
  color: var(--ig-info-600-contrast);
}
:host([variant=info]) button:focus,
:host([selected][variant=info]) button:not([disabled]):focus {
  background: hsla(var(--ig-info-800), var(--ig-info-a));
  color: var(--ig-info-800-contrast);
}

:host([variant=success]) button,
:host([selected][variant=success]) button:not([disabled]) {
  background: hsla(var(--ig-success-500), var(--ig-success-a));
  color: var(--ig-success-500-contrast);
}
:host([variant=success]) button:hover,
:host([selected][variant=success]) button:not([disabled]):hover {
  background: hsla(var(--ig-success-600), var(--ig-success-a));
  color: var(--ig-success-600-contrast);
}
:host([variant=success]) button:focus,
:host([selected][variant=success]) button:not([disabled]):focus {
  background: hsla(var(--ig-success-800), var(--ig-success-a));
  color: var(--ig-success-800-contrast);
}

:host([variant=warning]) button,
:host([selected][variant=warning]) button:not([disabled]) {
  background: hsla(var(--ig-warn-500), var(--ig-warn-a));
  color: var(--ig-warn-500-contrast);
}
:host([variant=warning]) button:hover,
:host([selected][variant=warning]) button:not([disabled]):hover {
  background: hsla(var(--ig-warn-600), var(--ig-warn-a));
  color: var(--ig-warn-600-contrast);
}
:host([variant=warning]) button:focus,
:host([selected][variant=warning]) button:not([disabled]):focus {
  background: hsla(var(--ig-warn-800), var(--ig-warn-a));
  color: var(--ig-warn-800-contrast);
}

:host([variant=danger]) button,
:host([selected][variant=danger]) button:not([disabled]) {
  background: hsla(var(--ig-error-500), var(--ig-error-a));
  color: var(--ig-error-500-contrast);
}
:host([variant=danger]) button:hover,
:host([selected][variant=danger]) button:not([disabled]):hover {
  background: hsla(var(--ig-error-600), var(--ig-error-a));
  color: var(--ig-error-600-contrast);
}
:host([variant=danger]) button:focus,
:host([selected][variant=danger]) button:not([disabled]):focus {
  background: hsla(var(--ig-error-800), var(--ig-error-a));
  color: var(--ig-error-800-contrast);
}

[part=prefix],
[part=suffix] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

::slotted(*) {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

:host([variant=primary]) button[disabled],
:host([variant=info]) button[disabled],
:host([variant=success]) button[disabled],
:host([variant=warning]) button[disabled],
:host([variant=danger]) button[disabled] {
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host {
  --ghost-elevation: var(--ig-chip-ghost-elevation, var(--ig-elevation-0));
  --remove-icon-color: var(--ig-chip-remove-icon-color, 'currentColor');
  --focus-outline-color: var(--ig-chip-focus-outline-color, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --focus-selected-outline-color: var(--ig-chip-focus-selected-outline-color, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --remove-icon-color-focus: var(--ig-chip-remove-icon-color-focus, 'currentColor');
  --text-color: var(--ig-chip-text-color, var(--ig-gray-200-contrast));
  --background: var(--ig-chip-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --border-color: var(--ig-chip-border-color, transparent);
  --ghost-background: var(--ig-chip-ghost-background, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --hover-text-color: var(--ig-chip-hover-text-color, var(--ig-gray-400-contrast));
  --hover-background: var(--ig-chip-hover-background, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --hover-border-color: var(--ig-chip-hover-border-color, transparent);
  --focus-text-color: var(--ig-chip-focus-text-color, var(--ig-gray-400-contrast));
  --focus-background: var(--ig-chip-focus-background, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --focus-border-color: var(--ig-chip-focus-border-color, transparent);
  --selected-text-color: var(--ig-chip-selected-text-color, var(--ig-gray-300-contrast));
  --selected-background: var(--ig-chip-selected-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --selected-border-color: var(--ig-chip-selected-border-color, transparent);
  --hover-selected-text-color: var(--ig-chip-hover-selected-text-color, var(--ig-gray-400-contrast));
  --hover-selected-background: var(--ig-chip-hover-selected-background, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --hover-selected-border-color: var(--ig-chip-hover-selected-border-color, transparent);
  --focus-selected-text-color: var(--ig-chip-focus-selected-text-color, var(--ig-gray-400-contrast));
  --focus-selected-background: var(--ig-chip-focus-selected-background, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --focus-selected-border-color: var(--ig-chip-focus-selected-border-color, transparent);
  --border-radius: var(--ig-chip-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 0.25) * 1rem), 1rem));
  --disabled-text-color: var(--ig-chip-disabled-text-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --disabled-background: var(--ig-chip-disabled-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-chip-disabled-border-color, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --size: var(--ig-chip-size, max(var(--is-large, 1) * max(2rem, -1 * 2rem), var(--is-medium, 1) * max(1.5rem, -1 * 1.5rem), var(--is-small, 1) * max(1.25rem, -1 * 1.25rem)));
}

:host button {
  border-radius: var(--border-radius);
  background: hsla(var(--ig-gray-200), var(--ig-gray-a));
  color: var(--ig-gray-200-contrast);
  height: var(--size);
}
:host button:hover {
  background: hsla(var(--ig-gray-400), var(--ig-gray-a));
  color: var(--ig-gray-400-contrast);
}
:host button:focus {
  outline: 0.125rem solid hsla(var(--ig-gray-200), var(--ig-gray-a));
  background: hsla(var(--ig-gray-400), var(--ig-gray-a));
  color: var(--ig-gray-400-contrast);
}
:host button[disabled] {
  background: hsla(var(--ig-gray-200), var(--ig-gray-a));
}

:host([variant=primary]) button,
:host([variant=primary]) button:focus,
:host([variant=primary]) button:hover,
:host([selected][variant=primary]) button:not([disabled]) {
  color: var(--ig-primary-700-contrast);
}

:host([variant=primary]) button:focus {
  outline: 0.125rem solid hsla(var(--ig-primary-200), var(--ig-primary-a));
}

:host([variant=info]) button,
:host([variant=info]) button:focus,
:host([variant=info]) button:hover,
:host([selected][variant=info]) button:not([disabled]) {
  color: var(--ig-info-700-contrast);
}

:host([variant=info]) button:focus {
  outline: 0.125rem solid hsla(var(--ig-info-200), var(--ig-info-a));
}

:host([variant=success]) button,
:host([variant=success]) button:focus,
:host([variant=success]) button:hover,
:host([selected][variant=success]) button:not([disabled]) {
  color: var(--ig-success-700-contrast);
}

:host([variant=success]) button:focus {
  outline: 0.125rem solid hsla(var(--ig-success-200), var(--ig-success-a));
}

:host([variant=warning]) button,
:host([variant=warning]) button:focus,
:host([variant=warning]) button:hover,
:host([selected][variant=warning]) button:not([disabled]) {
  color: var(--ig-warn-700-contrast);
}

:host([variant=warning]) button:focus {
  outline: 0.125rem solid hsla(var(--ig-warn-200), var(--ig-warn-a));
}

:host([variant=danger]) button,
:host([variant=danger]) button:focus,
:host([variant=danger]) button:hover,
:host([selected][variant=danger]) button:not([disabled]) {
  color: var(--ig-error-700-contrast);
}

:host([variant=danger]) button:focus {
  outline: 0.125rem solid hsla(var(--ig-error-200), var(--ig-error-a));
}`,as=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  vertical-align: top;
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}
:host([size=small]) [part=prefix] {
  -webkit-margin-end: 0.1875rem;
          margin-inline-end: 0.1875rem;
}
:host([size=small]) [part=suffix] {
  -webkit-margin-start: 0.1875rem;
          margin-inline-start: 0.1875rem;
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}
:host([size=medium]) [part=prefix] {
  -webkit-margin-end: 0.375rem;
          margin-inline-end: 0.375rem;
}
:host([size=medium]) [part=suffix] {
  -webkit-margin-start: 0.375rem;
          margin-inline-start: 0.375rem;
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}
:host([size=large]) [part=prefix] {
  -webkit-margin-end: 0.5rem;
          margin-inline-end: 0.5rem;
}
:host([size=large]) [part=suffix] {
  -webkit-margin-start: 0.5rem;
          margin-inline-start: 0.5rem;
}
:host([size=large]) igc-icon[size=large] {
  --size: 1.25rem;
}

:host button {
  font-family: var(--ig-body-2-font-family, var(--ig-font-family));
  font-size: var(--ig-body-2-font-size);
  font-weight: var(--ig-body-2-font-weight);
  font-style: var(--ig-body-2-font-style);
  line-height: var(--ig-body-2-line-height);
  letter-spacing: var(--ig-body-2-letter-spacing);
  text-transform: var(--ig-body-2-text-transform);
  margin-top: var(--ig-body-2-margin-top);
  margin-bottom: var(--ig-body-2-margin-bottom);
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  font-family: var(--ig-font-family);
  border-style: none;
  -webkit-box-shadow: none;
          box-shadow: none;
  cursor: pointer;
  padding: max(var(--is-large, 1) * max(12px, -1 * 12px) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(6px, -1 * 6px) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(2px, -1 * 2px) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}
:host button[disabled] {
  pointer-events: none;
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host([variant=primary]) button,
:host([selected][variant=primary]) button:not([disabled]) {
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-500-contrast);
}
:host([variant=primary]) button:hover,
:host([selected][variant=primary]) button:not([disabled]):hover {
  background: hsla(var(--ig-primary-600), var(--ig-primary-a));
  color: var(--ig-primary-600-contrast);
}
:host([variant=primary]) button:focus,
:host([selected][variant=primary]) button:not([disabled]):focus {
  background: hsla(var(--ig-primary-800), var(--ig-primary-a));
  color: var(--ig-primary-800-contrast);
}

:host([variant=info]) button,
:host([selected][variant=info]) button:not([disabled]) {
  background: hsla(var(--ig-info-500), var(--ig-info-a));
  color: var(--ig-info-500-contrast);
}
:host([variant=info]) button:hover,
:host([selected][variant=info]) button:not([disabled]):hover {
  background: hsla(var(--ig-info-600), var(--ig-info-a));
  color: var(--ig-info-600-contrast);
}
:host([variant=info]) button:focus,
:host([selected][variant=info]) button:not([disabled]):focus {
  background: hsla(var(--ig-info-800), var(--ig-info-a));
  color: var(--ig-info-800-contrast);
}

:host([variant=success]) button,
:host([selected][variant=success]) button:not([disabled]) {
  background: hsla(var(--ig-success-500), var(--ig-success-a));
  color: var(--ig-success-500-contrast);
}
:host([variant=success]) button:hover,
:host([selected][variant=success]) button:not([disabled]):hover {
  background: hsla(var(--ig-success-600), var(--ig-success-a));
  color: var(--ig-success-600-contrast);
}
:host([variant=success]) button:focus,
:host([selected][variant=success]) button:not([disabled]):focus {
  background: hsla(var(--ig-success-800), var(--ig-success-a));
  color: var(--ig-success-800-contrast);
}

:host([variant=warning]) button,
:host([selected][variant=warning]) button:not([disabled]) {
  background: hsla(var(--ig-warn-500), var(--ig-warn-a));
  color: var(--ig-warn-500-contrast);
}
:host([variant=warning]) button:hover,
:host([selected][variant=warning]) button:not([disabled]):hover {
  background: hsla(var(--ig-warn-600), var(--ig-warn-a));
  color: var(--ig-warn-600-contrast);
}
:host([variant=warning]) button:focus,
:host([selected][variant=warning]) button:not([disabled]):focus {
  background: hsla(var(--ig-warn-800), var(--ig-warn-a));
  color: var(--ig-warn-800-contrast);
}

:host([variant=danger]) button,
:host([selected][variant=danger]) button:not([disabled]) {
  background: hsla(var(--ig-error-500), var(--ig-error-a));
  color: var(--ig-error-500-contrast);
}
:host([variant=danger]) button:hover,
:host([selected][variant=danger]) button:not([disabled]):hover {
  background: hsla(var(--ig-error-600), var(--ig-error-a));
  color: var(--ig-error-600-contrast);
}
:host([variant=danger]) button:focus,
:host([selected][variant=danger]) button:not([disabled]):focus {
  background: hsla(var(--ig-error-800), var(--ig-error-a));
  color: var(--ig-error-800-contrast);
}

[part=prefix],
[part=suffix] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

::slotted(*) {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

:host([variant=primary]) button[disabled],
:host([variant=info]) button[disabled],
:host([variant=success]) button[disabled],
:host([variant=warning]) button[disabled],
:host([variant=danger]) button[disabled] {
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host {
  --ghost-elevation: var(--ig-chip-ghost-elevation, var(--ig-elevation-2));
  --remove-icon-color: var(--ig-chip-remove-icon-color, 'currentColor');
  --focus-outline-color: var(--ig-chip-focus-outline-color, transparent);
  --focus-selected-outline-color: var(--ig-chip-focus-selected-outline-color, transparent);
  --remove-icon-color-focus: var(--ig-chip-remove-icon-color-focus, 'currentColor');
  --text-color: var(--ig-chip-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --background: var(--ig-chip-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --border-color: var(--ig-chip-border-color, transparent);
  --ghost-background: var(--ig-chip-ghost-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --hover-text-color: var(--ig-chip-hover-text-color, var(--ig-gray-200-contrast));
  --hover-background: var(--ig-chip-hover-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --hover-border-color: var(--ig-chip-hover-border-color, transparent);
  --focus-text-color: var(--ig-chip-focus-text-color, var(--ig-primary-700-contrast));
  --focus-background: var(--ig-chip-focus-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --focus-border-color: var(--ig-chip-focus-border-color, transparent);
  --selected-text-color: var(--ig-chip-selected-text-color, var(--ig-primary-700-contrast));
  --selected-background: var(--ig-chip-selected-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-border-color: var(--ig-chip-selected-border-color, transparent);
  --hover-selected-text-color: var(--ig-chip-hover-selected-text-color, var(--ig-primary-700-contrast));
  --hover-selected-background: var(--ig-chip-hover-selected-background, hsla(var(--ig-primary-600), var(--ig-primary-a)));
  --hover-selected-border-color: var(--ig-chip-hover-selected-border-color, transparent);
  --focus-selected-text-color: var(--ig-chip-focus-selected-text-color, var(--ig-primary-700-contrast));
  --focus-selected-background: var(--ig-chip-focus-selected-background, hsla(var(--ig-primary-800), var(--ig-primary-a)));
  --focus-selected-border-color: var(--ig-chip-focus-selected-border-color, transparent);
  --border-radius: var(--ig-chip-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 1) * 1rem), 1rem));
  --disabled-text-color: var(--ig-chip-disabled-text-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --disabled-background: var(--ig-chip-disabled-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-chip-disabled-border-color, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --size: var(--ig-chip-size, max(var(--is-large, 1) * max(2rem, -1 * 2rem), var(--is-medium, 1) * max(1.5rem, -1 * 1.5rem), var(--is-small, 1) * max(1.25rem, -1 * 1.25rem)));
}

:host button {
  font-family: var(--ig-subtitle-2-font-family, var(--ig-font-family));
  font-size: var(--ig-subtitle-2-font-size);
  font-weight: var(--ig-subtitle-2-font-weight);
  font-style: var(--ig-subtitle-2-font-style);
  line-height: var(--ig-subtitle-2-line-height);
  letter-spacing: var(--ig-subtitle-2-letter-spacing);
  text-transform: var(--ig-subtitle-2-text-transform);
  margin-top: var(--ig-subtitle-2-margin-top);
  margin-bottom: var(--ig-subtitle-2-margin-bottom);
  border-radius: var(--border-radius);
  background: hsla(var(--ig-gray-200), var(--ig-gray-a));
  color: hsla(var(--ig-gray-700), var(--ig-gray-a));
  outline: none;
  height: var(--size);
}
:host button:hover {
  color: var(--ig-gray-200-contrast);
}
:host button:focus {
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-700-contrast);
}
:host button[disabled] {
  background: hsla(var(--ig-gray-100), var(--ig-gray-a));
}

:host([selected]) button:not([disabled]) {
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-700-contrast);
}
:host([selected]) button:not([disabled]):hover {
  background: hsla(var(--ig-primary-600), var(--ig-primary-a));
}
:host([selected]) button:not([disabled]):focus {
  background: hsla(var(--ig-primary-800), var(--ig-primary-a));
}`,ss=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  vertical-align: top;
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}
:host([size=small]) [part=prefix] {
  -webkit-margin-end: 0.1875rem;
          margin-inline-end: 0.1875rem;
}
:host([size=small]) [part=suffix] {
  -webkit-margin-start: 0.1875rem;
          margin-inline-start: 0.1875rem;
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}
:host([size=medium]) [part=prefix] {
  -webkit-margin-end: 0.375rem;
          margin-inline-end: 0.375rem;
}
:host([size=medium]) [part=suffix] {
  -webkit-margin-start: 0.375rem;
          margin-inline-start: 0.375rem;
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}
:host([size=large]) [part=prefix] {
  -webkit-margin-end: 0.5rem;
          margin-inline-end: 0.5rem;
}
:host([size=large]) [part=suffix] {
  -webkit-margin-start: 0.5rem;
          margin-inline-start: 0.5rem;
}
:host([size=large]) igc-icon[size=large] {
  --size: 1.25rem;
}

:host button {
  font-family: var(--ig-body-2-font-family, var(--ig-font-family));
  font-size: var(--ig-body-2-font-size);
  font-weight: var(--ig-body-2-font-weight);
  font-style: var(--ig-body-2-font-style);
  line-height: var(--ig-body-2-line-height);
  letter-spacing: var(--ig-body-2-letter-spacing);
  text-transform: var(--ig-body-2-text-transform);
  margin-top: var(--ig-body-2-margin-top);
  margin-bottom: var(--ig-body-2-margin-bottom);
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  font-family: var(--ig-font-family);
  border-style: none;
  -webkit-box-shadow: none;
          box-shadow: none;
  cursor: pointer;
  padding: max(var(--is-large, 1) * max(12px, -1 * 12px) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(6px, -1 * 6px) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(2px, -1 * 2px) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}
:host button[disabled] {
  pointer-events: none;
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host([variant=primary]) button,
:host([selected][variant=primary]) button:not([disabled]) {
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-500-contrast);
}
:host([variant=primary]) button:hover,
:host([selected][variant=primary]) button:not([disabled]):hover {
  background: hsla(var(--ig-primary-600), var(--ig-primary-a));
  color: var(--ig-primary-600-contrast);
}
:host([variant=primary]) button:focus,
:host([selected][variant=primary]) button:not([disabled]):focus {
  background: hsla(var(--ig-primary-800), var(--ig-primary-a));
  color: var(--ig-primary-800-contrast);
}

:host([variant=info]) button,
:host([selected][variant=info]) button:not([disabled]) {
  background: hsla(var(--ig-info-500), var(--ig-info-a));
  color: var(--ig-info-500-contrast);
}
:host([variant=info]) button:hover,
:host([selected][variant=info]) button:not([disabled]):hover {
  background: hsla(var(--ig-info-600), var(--ig-info-a));
  color: var(--ig-info-600-contrast);
}
:host([variant=info]) button:focus,
:host([selected][variant=info]) button:not([disabled]):focus {
  background: hsla(var(--ig-info-800), var(--ig-info-a));
  color: var(--ig-info-800-contrast);
}

:host([variant=success]) button,
:host([selected][variant=success]) button:not([disabled]) {
  background: hsla(var(--ig-success-500), var(--ig-success-a));
  color: var(--ig-success-500-contrast);
}
:host([variant=success]) button:hover,
:host([selected][variant=success]) button:not([disabled]):hover {
  background: hsla(var(--ig-success-600), var(--ig-success-a));
  color: var(--ig-success-600-contrast);
}
:host([variant=success]) button:focus,
:host([selected][variant=success]) button:not([disabled]):focus {
  background: hsla(var(--ig-success-800), var(--ig-success-a));
  color: var(--ig-success-800-contrast);
}

:host([variant=warning]) button,
:host([selected][variant=warning]) button:not([disabled]) {
  background: hsla(var(--ig-warn-500), var(--ig-warn-a));
  color: var(--ig-warn-500-contrast);
}
:host([variant=warning]) button:hover,
:host([selected][variant=warning]) button:not([disabled]):hover {
  background: hsla(var(--ig-warn-600), var(--ig-warn-a));
  color: var(--ig-warn-600-contrast);
}
:host([variant=warning]) button:focus,
:host([selected][variant=warning]) button:not([disabled]):focus {
  background: hsla(var(--ig-warn-800), var(--ig-warn-a));
  color: var(--ig-warn-800-contrast);
}

:host([variant=danger]) button,
:host([selected][variant=danger]) button:not([disabled]) {
  background: hsla(var(--ig-error-500), var(--ig-error-a));
  color: var(--ig-error-500-contrast);
}
:host([variant=danger]) button:hover,
:host([selected][variant=danger]) button:not([disabled]):hover {
  background: hsla(var(--ig-error-600), var(--ig-error-a));
  color: var(--ig-error-600-contrast);
}
:host([variant=danger]) button:focus,
:host([selected][variant=danger]) button:not([disabled]):focus {
  background: hsla(var(--ig-error-800), var(--ig-error-a));
  color: var(--ig-error-800-contrast);
}

[part=prefix],
[part=suffix] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

::slotted(*) {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

:host([variant=primary]) button[disabled],
:host([variant=info]) button[disabled],
:host([variant=success]) button[disabled],
:host([variant=warning]) button[disabled],
:host([variant=danger]) button[disabled] {
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host {
  --ghost-elevation: var(--ig-chip-ghost-elevation, var(--ig-elevation-1));
  --remove-icon-color: var(--ig-chip-remove-icon-color, 'currentColor');
  --focus-outline-color: var(--ig-chip-focus-outline-color, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --focus-selected-outline-color: var(--ig-chip-focus-selected-outline-color, hsla(var(--ig-primary-200), var(--ig-primary-a)));
  --remove-icon-color-focus: var(--ig-chip-remove-icon-color-focus, 'currentColor');
  --text-color: var(--ig-chip-text-color, hsla(var(--ig-gray-700), var(--ig-gray-a)));
  --background: var(--ig-chip-background, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --border-color: var(--ig-chip-border-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --ghost-background: var(--ig-chip-ghost-background, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --hover-text-color: var(--ig-chip-hover-text-color, var(--ig-gray-400-contrast));
  --hover-background: var(--ig-chip-hover-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --hover-border-color: var(--ig-chip-hover-border-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --focus-text-color: var(--ig-chip-focus-text-color, var(--ig-gray-500-contrast));
  --focus-background: var(--ig-chip-focus-background, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --focus-border-color: var(--ig-chip-focus-border-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --selected-text-color: var(--ig-chip-selected-text-color, var(--ig-primary-500-contrast));
  --selected-background: var(--ig-chip-selected-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --selected-border-color: var(--ig-chip-selected-border-color, transparent);
  --hover-selected-text-color: var(--ig-chip-hover-selected-text-color, var(--ig-primary-400-contrast));
  --hover-selected-background: var(--ig-chip-hover-selected-background, hsla(var(--ig-primary-400), var(--ig-primary-a)));
  --hover-selected-border-color: var(--ig-chip-hover-selected-border-color, transparent);
  --focus-selected-text-color: var(--ig-chip-focus-selected-text-color, var(--ig-primary-500-contrast));
  --focus-selected-background: var(--ig-chip-focus-selected-background, hsla(var(--ig-primary-500), var(--ig-primary-a)));
  --focus-selected-border-color: var(--ig-chip-focus-selected-border-color, transparent);
  --border-radius: var(--ig-chip-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 1) * 1rem), 1rem));
  --disabled-text-color: var(--ig-chip-disabled-text-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --disabled-background: var(--ig-chip-disabled-background, hsla(var(--ig-surface-500), var(--ig-surface-a)));
  --disabled-border-color: var(--ig-chip-disabled-border-color, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --size: var(--ig-chip-size, max(var(--is-large, 1) * max(2rem, -1 * 2rem), var(--is-medium, 1) * max(1.5rem, -1 * 1.5rem), var(--is-small, 1) * max(1.25rem, -1 * 1.25rem)));
}

:host button {
  border-radius: var(--border-radius);
  border: 0.0625rem solid hsla(var(--ig-gray-400), var(--ig-gray-a));
  background: hsla(var(--ig-surface-500), var(--ig-surface-a));
  color: hsla(var(--ig-gray-700), var(--ig-gray-a));
  height: var(--size);
}
:host button:hover {
  background: hsla(var(--ig-gray-200), var(--ig-gray-a));
}
:host button:focus {
  outline: 0.1875rem solid hsla(var(--ig-gray-300), var(--ig-gray-a));
}
:host button[disabled] {
  border-color: hsla(var(--ig-gray-200), var(--ig-gray-a));
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host([selected]) button:not([disabled]) {
  border-color: transparent;
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-700-contrast);
}
:host([selected]) button:not([disabled]):hover {
  background: hsla(var(--ig-primary-600), var(--ig-primary-a));
}
:host([selected]) button:not([disabled]):focus {
  outline: 0.1875rem solid hsla(var(--ig-primary-200), var(--ig-primary-a));
}

:host([variant=primary]) button,
:host([selected][variant=primary]) button:not([disabled]) {
  border-color: transparent;
}
:host([variant=primary]) button:hover,
:host([selected][variant=primary]) button:not([disabled]):hover {
  background: hsla(var(--ig-primary-400), var(--ig-primary-a));
  color: var(--ig-primary-400-contrast);
}
:host([variant=primary]) button:focus,
:host([selected][variant=primary]) button:not([disabled]):focus {
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-500-contrast);
  outline: 0.1875rem solid hsla(var(--ig-primary-200), var(--ig-primary-a));
}

:host([variant=primary]) button[disabled] {
  background: hsla(var(--ig-primary-200), var(--ig-primary-a));
  color: var(--ig-primary-400-contrast);
}

:host([variant=info]) button,
:host([selected][variant=info]) button:not([disabled]) {
  border-color: transparent;
}
:host([variant=info]) button:hover,
:host([selected][variant=info]) button:not([disabled]):hover {
  background: hsla(var(--ig-info-400), var(--ig-info-a));
  color: var(--ig-info-400-contrast);
}
:host([variant=info]) button:focus,
:host([selected][variant=info]) button:not([disabled]):focus {
  background: hsla(var(--ig-info-500), var(--ig-info-a));
  color: var(--ig-info-500-contrast);
  outline: 0.1875rem solid hsla(var(--ig-info-200), var(--ig-info-a));
}

:host([variant=info]) button[disabled] {
  background: hsla(var(--ig-info-200), var(--ig-info-a));
  color: var(--ig-info-400-contrast);
}

:host([variant=success]) button,
:host([selected][variant=success]) button:not([disabled]) {
  border-color: transparent;
}
:host([variant=success]) button:hover,
:host([selected][variant=success]) button:not([disabled]):hover {
  background: hsla(var(--ig-success-400), var(--ig-success-a));
  color: var(--ig-success-400-contrast);
}
:host([variant=success]) button:focus,
:host([selected][variant=success]) button:not([disabled]):focus {
  background: hsla(var(--ig-success-500), var(--ig-success-a));
  color: var(--ig-success-500-contrast);
  outline: 0.1875rem solid hsla(var(--ig-success-200), var(--ig-success-a));
}

:host([variant=success]) button[disabled] {
  background: hsla(var(--ig-success-200), var(--ig-success-a));
  color: var(--ig-success-800-contrast);
}

:host([variant=warning]) button,
:host([selected][variant=warning]) button:not([disabled]) {
  border-color: transparent;
}
:host([variant=warning]) button:hover,
:host([selected][variant=warning]) button:not([disabled]):hover {
  background: hsla(var(--ig-warn-400), var(--ig-warn-a));
  color: var(--ig-warn-400-contrast);
}
:host([variant=warning]) button:focus,
:host([selected][variant=warning]) button:not([disabled]):focus {
  background: hsla(var(--ig-warn-500), var(--ig-warn-a));
  color: var(--ig-warn-500-contrast);
  outline: 0.1875rem solid hsla(var(--ig-warn-200), var(--ig-warn-a));
}

:host([variant=warning]) button[disabled] {
  background: hsla(var(--ig-warn-200), var(--ig-warn-a));
  color: var(--ig-warn-900-contrast);
}

:host([variant=danger]) button,
:host([selected][variant=danger]) button:not([disabled]) {
  border-color: transparent;
}
:host([variant=danger]) button:hover,
:host([selected][variant=danger]) button:not([disabled]):hover {
  background: hsla(var(--ig-error-400), var(--ig-error-a));
  color: var(--ig-error-400-contrast);
}
:host([variant=danger]) button:focus,
:host([selected][variant=danger]) button:not([disabled]):focus {
  background: hsla(var(--ig-error-500), var(--ig-error-a));
  color: var(--ig-error-500-contrast);
  outline: 0.1875rem solid hsla(var(--ig-error-200), var(--ig-error-a));
}

:host([variant=danger]) button[disabled] {
  background: hsla(var(--ig-error-200), var(--ig-error-a));
  color: var(--ig-error-400-contrast);
}`,ls=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  vertical-align: top;
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}
:host([size=small]) [part=prefix] {
  -webkit-margin-end: 0.1875rem;
          margin-inline-end: 0.1875rem;
}
:host([size=small]) [part=suffix] {
  -webkit-margin-start: 0.1875rem;
          margin-inline-start: 0.1875rem;
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}
:host([size=medium]) [part=prefix] {
  -webkit-margin-end: 0.375rem;
          margin-inline-end: 0.375rem;
}
:host([size=medium]) [part=suffix] {
  -webkit-margin-start: 0.375rem;
          margin-inline-start: 0.375rem;
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}
:host([size=large]) [part=prefix] {
  -webkit-margin-end: 0.5rem;
          margin-inline-end: 0.5rem;
}
:host([size=large]) [part=suffix] {
  -webkit-margin-start: 0.5rem;
          margin-inline-start: 0.5rem;
}
:host([size=large]) igc-icon[size=large] {
  --size: 1.25rem;
}

:host button {
  font-family: var(--ig-body-2-font-family, var(--ig-font-family));
  font-size: var(--ig-body-2-font-size);
  font-weight: var(--ig-body-2-font-weight);
  font-style: var(--ig-body-2-font-style);
  line-height: var(--ig-body-2-line-height);
  letter-spacing: var(--ig-body-2-letter-spacing);
  text-transform: var(--ig-body-2-text-transform);
  margin-top: var(--ig-body-2-margin-top);
  margin-bottom: var(--ig-body-2-margin-bottom);
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  font-family: var(--ig-font-family);
  border-style: none;
  -webkit-box-shadow: none;
          box-shadow: none;
  cursor: pointer;
  padding: max(var(--is-large, 1) * max(12px, -1 * 12px) * var(--ig-spacing-large, var(--ig-spacing, --ig-spacing)), var(--is-medium, 1) * max(6px, -1 * 6px) * var(--ig-spacing-medium, var(--ig-spacing, --ig-spacing)), var(--is-small, 1) * max(2px, -1 * 2px) * var(--ig-spacing-small, var(--ig-spacing, --ig-spacing)));
}
:host button[disabled] {
  pointer-events: none;
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host([variant=primary]) button,
:host([selected][variant=primary]) button:not([disabled]) {
  background: hsla(var(--ig-primary-500), var(--ig-primary-a));
  color: var(--ig-primary-500-contrast);
}
:host([variant=primary]) button:hover,
:host([selected][variant=primary]) button:not([disabled]):hover {
  background: hsla(var(--ig-primary-600), var(--ig-primary-a));
  color: var(--ig-primary-600-contrast);
}
:host([variant=primary]) button:focus,
:host([selected][variant=primary]) button:not([disabled]):focus {
  background: hsla(var(--ig-primary-800), var(--ig-primary-a));
  color: var(--ig-primary-800-contrast);
}

:host([variant=info]) button,
:host([selected][variant=info]) button:not([disabled]) {
  background: hsla(var(--ig-info-500), var(--ig-info-a));
  color: var(--ig-info-500-contrast);
}
:host([variant=info]) button:hover,
:host([selected][variant=info]) button:not([disabled]):hover {
  background: hsla(var(--ig-info-600), var(--ig-info-a));
  color: var(--ig-info-600-contrast);
}
:host([variant=info]) button:focus,
:host([selected][variant=info]) button:not([disabled]):focus {
  background: hsla(var(--ig-info-800), var(--ig-info-a));
  color: var(--ig-info-800-contrast);
}

:host([variant=success]) button,
:host([selected][variant=success]) button:not([disabled]) {
  background: hsla(var(--ig-success-500), var(--ig-success-a));
  color: var(--ig-success-500-contrast);
}
:host([variant=success]) button:hover,
:host([selected][variant=success]) button:not([disabled]):hover {
  background: hsla(var(--ig-success-600), var(--ig-success-a));
  color: var(--ig-success-600-contrast);
}
:host([variant=success]) button:focus,
:host([selected][variant=success]) button:not([disabled]):focus {
  background: hsla(var(--ig-success-800), var(--ig-success-a));
  color: var(--ig-success-800-contrast);
}

:host([variant=warning]) button,
:host([selected][variant=warning]) button:not([disabled]) {
  background: hsla(var(--ig-warn-500), var(--ig-warn-a));
  color: var(--ig-warn-500-contrast);
}
:host([variant=warning]) button:hover,
:host([selected][variant=warning]) button:not([disabled]):hover {
  background: hsla(var(--ig-warn-600), var(--ig-warn-a));
  color: var(--ig-warn-600-contrast);
}
:host([variant=warning]) button:focus,
:host([selected][variant=warning]) button:not([disabled]):focus {
  background: hsla(var(--ig-warn-800), var(--ig-warn-a));
  color: var(--ig-warn-800-contrast);
}

:host([variant=danger]) button,
:host([selected][variant=danger]) button:not([disabled]) {
  background: hsla(var(--ig-error-500), var(--ig-error-a));
  color: var(--ig-error-500-contrast);
}
:host([variant=danger]) button:hover,
:host([selected][variant=danger]) button:not([disabled]):hover {
  background: hsla(var(--ig-error-600), var(--ig-error-a));
  color: var(--ig-error-600-contrast);
}
:host([variant=danger]) button:focus,
:host([selected][variant=danger]) button:not([disabled]):focus {
  background: hsla(var(--ig-error-800), var(--ig-error-a));
  color: var(--ig-error-800-contrast);
}

[part=prefix],
[part=suffix] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

::slotted(*) {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

:host([variant=primary]) button[disabled],
:host([variant=info]) button[disabled],
:host([variant=success]) button[disabled],
:host([variant=warning]) button[disabled],
:host([variant=danger]) button[disabled] {
  color: hsla(var(--ig-gray-500), var(--ig-gray-a));
}

:host {
  --ghost-elevation: var(--ig-chip-ghost-elevation, var(--ig-elevation-8));
  --remove-icon-color: var(--ig-chip-remove-icon-color, 'currentColor');
  --focus-outline-color: var(--ig-chip-focus-outline-color, transparent);
  --focus-selected-outline-color: var(--ig-chip-focus-selected-outline-color, transparent);
  --remove-icon-color-focus: var(--ig-chip-remove-icon-color-focus, 'currentColor');
  --text-color: var(--ig-chip-text-color, var(--ig-gray-300-contrast));
  --background: var(--ig-chip-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --border-color: var(--ig-chip-border-color, transparent);
  --ghost-background: var(--ig-chip-ghost-background, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --hover-text-color: var(--ig-chip-hover-text-color, var(--ig-gray-400-contrast));
  --hover-background: var(--ig-chip-hover-background, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --hover-border-color: var(--ig-chip-hover-border-color, transparent);
  --focus-text-color: var(--ig-chip-focus-text-color, var(--ig-gray-500-contrast));
  --focus-background: var(--ig-chip-focus-background, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --focus-border-color: var(--ig-chip-focus-border-color, transparent);
  --selected-text-color: var(--ig-chip-selected-text-color, var(--ig-gray-300-contrast));
  --selected-background: var(--ig-chip-selected-background, hsla(var(--ig-gray-300), var(--ig-gray-a)));
  --selected-border-color: var(--ig-chip-selected-border-color, transparent);
  --hover-selected-text-color: var(--ig-chip-hover-selected-text-color, var(--ig-gray-400-contrast));
  --hover-selected-background: var(--ig-chip-hover-selected-background, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --hover-selected-border-color: var(--ig-chip-hover-selected-border-color, transparent);
  --focus-selected-text-color: var(--ig-chip-focus-selected-text-color, var(--ig-gray-500-contrast));
  --focus-selected-background: var(--ig-chip-focus-selected-background, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --focus-selected-border-color: var(--ig-chip-focus-selected-border-color, transparent);
  --border-radius: var(--ig-chip-border-radius, clamp(0rem, calc(var(--ig-radius-factor, 1) * 1rem), 1rem));
  --disabled-text-color: var(--ig-chip-disabled-text-color, hsla(var(--ig-gray-500), var(--ig-gray-a)));
  --disabled-background: var(--ig-chip-disabled-background, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --disabled-border-color: var(--ig-chip-disabled-border-color, hsla(var(--ig-gray-200), var(--ig-gray-a)));
  --size: var(--ig-chip-size, max(var(--is-large, 1) * max(2rem, -1 * 2rem), var(--is-medium, 1) * max(1.5rem, -1 * 1.5rem), var(--is-small, 1) * max(1.25rem, -1 * 1.25rem)));
}

:host button {
  border-radius: var(--border-radius);
  background: hsla(var(--ig-gray-300), var(--ig-gray-a));
  color: var(--ig-gray-300-contrast);
  outline: none;
  height: var(--size);
}
:host button:hover {
  background: hsla(var(--ig-gray-400), var(--ig-gray-a));
  color: var(--ig-gray-400-contrast);
}
:host button:focus {
  background: hsla(var(--ig-gray-500), var(--ig-gray-a));
  color: var(--ig-gray-500-contrast);
}
:host button[disabled] {
  background: hsla(var(--ig-gray-200), var(--ig-gray-a));
}`;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class cs extends Le{constructor(e){if(super(e),this.et=$,e.type!==Pe.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===$||null==e)return this.ft=void 0,this.et=e;if(e===U)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;const t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}}cs.directiveName="unsafeHTML",cs.resultType=1;Me(cs);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class us extends cs{}us.directiveName="unsafeSVG",us.resultType=2;const ds=Me(us);function hs(){return(e,t)=>{}}const ps=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

:host([size=small]) {
  --component-size: var(--ig-size, var(--ig-size-small));
}

:host([size=medium]) {
  --component-size: var(--ig-size, var(--ig-size-medium));
}

:host([size=large]) {
  --component-size: var(--ig-size, var(--ig-size-large));
}

:host([mirrored]) {
  -webkit-transform: scaleX(-1);
      -ms-transform: scaleX(-1);
          transform: scaleX(-1);
}`,fs=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  --color: var(--ig-icon-color, 'currentColor');
  --disabled-color: var(--ig-icon-disabled-color, 'currentColor');
  --size: var(--ig-icon-size, max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1.25rem, -1 * 1.25rem), var(--is-small, 1) * max(1.125rem, -1 * 1.125rem)));
  color: var(--color);
}

svg {
  fill: currentcolor;
}

:host,
svg {
  width: var(--size);
  height: var(--size);
}`,gs=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  --color: var(--ig-icon-color, 'currentColor');
  --disabled-color: var(--ig-icon-disabled-color, 'currentColor');
  --size: var(--ig-icon-size, max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1.25rem, -1 * 1.25rem), var(--is-small, 1) * max(1.125rem, -1 * 1.125rem)));
  color: var(--color);
}

svg {
  fill: currentcolor;
}

:host,
svg {
  width: var(--size);
  height: var(--size);
}`,vs=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  --color: var(--ig-icon-color, 'currentColor');
  --disabled-color: var(--ig-icon-disabled-color, 'currentColor');
  --size: var(--ig-icon-size, max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1.25rem, -1 * 1.25rem), var(--is-small, 1) * max(1.125rem, -1 * 1.125rem)));
  color: var(--color);
}

svg {
  fill: currentcolor;
}

:host,
svg {
  width: var(--size);
  height: var(--size);
}`,ms=c`:host {
  --is-large: clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-large, 3), 1);
  --is-medium: min(
      clamp(0, (var(--component-size, 1) + 1) - var(--ig-size-medium, 2), 1),
      clamp(0, var(--ig-size-large, 3) - var(--component-size, 1), 1)
  );
  --is-small: clamp(0, var(--ig-size-medium) - var(--component-size, 1), 1);
  position: relative;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  scrollbar-width: var(--ig-scrollbar-size);
  scrollbar-color: var(--ig-scrollbar-thumb-background) var(--ig-scrollbar-track-background);
}
:host *,
:host *::before,
:host *::after {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
:host ::-webkit-scrollbar {
  width: var(--ig-scrollbar-size);
  height: var(--ig-scrollbar-size);
  background: var(--ig-scrollbar-track-background);
}
:host ::-webkit-scrollbar-thumb {
  background: var(--ig-scrollbar-thumb-background);
}

:host([hidden]),
[hidden] {
  display: none !important;
}
:host {
  --color: var(--ig-icon-color, 'currentColor');
  --disabled-color: var(--ig-icon-disabled-color, hsla(var(--ig-gray-400), var(--ig-gray-a)));
  --size: var(--ig-icon-size, max(var(--is-large, 1) * max(1.5rem, -1 * 1.5rem), var(--is-medium, 1) * max(1.25rem, -1 * 1.25rem), var(--is-small, 1) * max(1.125rem, -1 * 1.125rem)));
  color: var(--color);
}

svg {
  fill: currentcolor;
}

:host,
svg {
  width: var(--size);
  height: var(--size);
}`;var bs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};let ys=class extends(Ko(he)){constructor(){super(),this.svg="",this.name="",this.collection="default",this.mirrored=!1,this.iconLoaded=(e,t)=>{this.name===e&&this.collection===t&&this.getIcon()},this.size="medium"}connectedCallback(){super.connectedCallback(),this.hasAttribute("role")||this.setAttribute("role","img"),qt.instance().subscribe(this.iconLoaded)}disconnectedCallback(){qt.instance().unsubscribe(this.iconLoaded),super.disconnectedCallback()}iconChanged(e,t){e!==t&&this.getIcon()}getIcon(){const e=this.name&&this.collection?qt.instance().getIcon(this.name,this.collection):"";this.svg=null!==e&&void 0!==e?e:""}render(){return W` ${ds(this.svg)} `}async registerIcon(e,t,r="default"){await Xt(e,t,r)}registerIconFromText(e,t,r="default"){Jt(e,t,r)}};ys.tagName="igc-icon",ys.styles=ps,bs([Te()],ys.prototype,"svg",void 0),bs([xe(),wo("iconName")],ys.prototype,"name",void 0),bs([xe()],ys.prototype,"collection",void 0),bs([xe({type:Boolean,reflect:!0})],ys.prototype,"mirrored",void 0),bs([So("name"),So("collection")],ys.prototype,"iconChanged",null),bs([hs()],ys.prototype,"registerIcon",null),bs([hs()],ys.prototype,"registerIconFromText",null),ys=bs([jo({material:fs,bootstrap:gs,fluent:vs,indigo:ms})],ys);var ws=ys,Cs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};Zn(ws);let Es=class extends(Ko(Uo(he))){constructor(){super(),this.disabled=!1,this.removable=!1,this.selectable=!1,this.selected=!1,this.size="medium"}handleSelect(){this.selectable&&(this.selected=!this.selected,this.emitEvent("igcSelect",{detail:this.selected}))}handleRemove(e){this.emitEvent("igcRemove"),e.stopPropagation()}handleKeyup(e){/\s|enter/i.test(e.key)&&this.handleRemove(e)}render(){return W`
      <button
        part="base"
        .disabled="${this.disabled}"
        aria-selected="${this.selected?"true":"false"}"
        aria-disabled="${this.disabled?"true":"false"}"
        @click=${this.handleSelect}
      >
        <span part="prefix">
          ${this.selectable&&this.selected?W`<slot @slotchange=${this.slotChanges} name="select">
                <igc-icon
                  size=${this.size}
                  name="chip_select"
                  collection="internal"
                ></igc-icon>
              </slot>`:$}
          <slot name="start"></slot>
          <slot name="prefix"></slot>
        </span>
        <slot></slot>
        <span part="suffix">
          <slot name="end"></slot>
          <slot name="suffix"></slot>
          ${this.removable&&!this.disabled?W`<slot
                @slotchange=${this.slotChanges}
                @click=${this.handleRemove}
                @keyup=${this.handleKeyup}
                name="remove"
              >
                <igc-icon
                  size=${this.size}
                  name="chip_cancel"
                  collection="internal"
                  tabindex="0"
                  role="button"
                  aria-label="remove"
                ></igc-icon>
              </slot>`:$}
        </span>
      </button>
    `}slotChanges(){this.requestUpdate()}};Es.tagName="igc-chip",Es.styles=is,Cs([xe({type:Boolean,reflect:!0})],Es.prototype,"disabled",void 0),Cs([xe({type:Boolean,reflect:!0})],Es.prototype,"removable",void 0),Cs([xe({type:Boolean,reflect:!0})],Es.prototype,"selectable",void 0),Cs([xe({type:Boolean,reflect:!0}),Eo("igcSelect","detail")],Es.prototype,"selected",void 0),Cs([xe({reflect:!0})],Es.prototype,"variant",void 0),Es=Cs([jo({material:ls,bootstrap:ns,fluent:as,indigo:ss})],Es);var Ss=Es,xs=function(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a};let Ts=class extends ir{constructor(){super(...arguments),this.stateController=new jt(this),this.DOM=new or(this,this.stateController),this.dataController=new Yt(this),this.stateProvider=new me(this,{context:Wt,initialValue:this.stateController}),this.dataState=[],this.columns=[],this.data=[],this.autoGenerate=!1,this.sortConfiguration={multiple:!0,triState:!0}}static get is(){return He}static register(){bt(this,[qr,kt,vo,ja]),Zn(os,Ss,yi,Ha,ws)}set sortExpressions(e){e.length&&this.sort(e)}get sortExpressions(){return Array.from(this.stateController.sorting.state.values())}set filterExpressions(e){e.length&&this.filter(e)}get filterExpressions(){return this.stateController.filtering.state.values.reduce(((e,t)=>[...e,...t.all]),[])}get rows(){return Array.from(this._rows)}get dataView(){return this.dataState}get totalItems(){return this.dataState.length}watchColumns(e,t=[]){this.columns=t.map((e=>({...Je,...e})))}dataChanged(){this.dataState=structuredClone(this.data),nt(this),this.hasUpdated&&this.pipeline()}async pipeline(){this.dataState=await this.dataController.apply(structuredClone(this.data),this.stateController)}filter(e){this.stateController.filtering.filter(at(e).map((e=>"string"===typeof e.condition?Object.assign(e,{condition:st(this.getColumn(e.key))[e.condition]}):e)))}sort(e){this.stateController.sorting.sort(e)}clearSort(e){this.stateController.sorting.reset(e),this.requestUpdate($e)}clearFilter(e){this.stateController.filtering.reset(e),this.requestUpdate($e)}getColumn(e){return"number"===typeof e?this.columns.at(e):this.columns.find((({key:t})=>t===e))}updateColumns(e){at(e).forEach((e=>{const t=this.columns.findIndex((t=>t.key===e.key));this.columns[t]={...this.columns[t],...e}})),this.requestUpdate($e)}bodyClickHandler(e){const t=e.composedPath().find((e=>e instanceof Et));t&&(this.stateController.active={column:t.column.key,row:t.row.index})}bodyKeydownHandler(e){this.scrollContainer.isSameNode(e.target)&&this.stateController.navigation.navigate(e)}renderHeaderRow(){return W`<apex-grid-header-row
      style=${Ne(this.DOM.columnSizes)}
      .columns=${this.columns}
    ></apex-grid-header-row>`}renderBody(){return W`
      <apex-virtualizer
        .items=${this.dataState}
        .renderItem=${this.DOM.rowRenderer}
        @click=${this.bodyClickHandler}
        @keydown=${this.bodyKeydownHandler}
      ></apex-virtualizer>
    `}renderFilterRow(){return this.columns.some((e=>e.filter))?W`<apex-filter-row style=${Ne(this.DOM.columnSizes)}></apex-filter-row>`:$}render(){return W` ${this.stateController.resizing.renderIndicator()} ${this.renderHeaderRow()}
    ${this.renderFilterRow()} ${this.renderBody()}`}};Ts.styles=ar,xs([_e(qr.is)],Ts.prototype,"scrollContainer",void 0),xs([_e(vo.is)],Ts.prototype,"headerRow",void 0),xs([_e(ja.is)],Ts.prototype,"filterRow",void 0),xs([Te()],Ts.prototype,"dataState",void 0),xs([Re(kt.is)],Ts.prototype,"_rows",void 0),xs([xe({attribute:!1})],Ts.prototype,"columns",void 0),xs([xe({attribute:!1})],Ts.prototype,"data",void 0),xs([xe({type:Boolean,attribute:"auto-generate"})],Ts.prototype,"autoGenerate",void 0),xs([xe({attribute:!1})],Ts.prototype,"sortConfiguration",void 0),xs([xe({attribute:!1})],Ts.prototype,"dataPipelineConfiguration",void 0),xs([xe({attribute:!1})],Ts.prototype,"sortExpressions",null),xs([xe({attribute:!1})],Ts.prototype,"filterExpressions",null),xs([nr("columns")],Ts.prototype,"watchColumns",null),xs([nr("data")],Ts.prototype,"dataChanged",null),xs([nr($e)],Ts.prototype,"pipeline",null),xs([ke({capture:!0})],Ts.prototype,"bodyClickHandler",null),Ts=xs([jo({bootstrap:ar,fluent:sr,indigo:lr,material:cr})],Ts)},2483:function(e,t,r){"use strict";r.d(t,{p7:function(){return rt},r5:function(){return V}});r(7658);var o=r(3396),i=r(4870);
/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
const n="undefined"!==typeof window;function a(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const s=Object.assign;function l(e,t){const r={};for(const o in t){const i=t[o];r[o]=u(i)?i.map(e):e(i)}return r}const c=()=>{},u=Array.isArray;const d=/\/$/,h=e=>e.replace(d,"");function p(e,t,r="/"){let o,i={},n="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(o=t.slice(0,l),n=t.slice(l+1,s>-1?s:t.length),i=e(n)),s>-1&&(o=o||t.slice(0,s),a=t.slice(s,t.length)),o=C(null!=o?o:t,r),{fullPath:o+(n&&"?")+n+a,path:o,query:i,hash:a}}function f(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function g(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function v(e,t,r){const o=t.matched.length-1,i=r.matched.length-1;return o>-1&&o===i&&m(t.matched[o],r.matched[i])&&b(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function m(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function b(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!y(e[r],t[r]))return!1;return!0}function y(e,t){return u(e)?w(e,t):u(t)?w(t,e):e===t}function w(e,t){return u(t)?e.length===t.length&&e.every(((e,r)=>e===t[r])):1===e.length&&e[0]===t}function C(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),o=e.split("/"),i=o[o.length-1];".."!==i&&"."!==i||o.push("");let n,a,s=r.length-1;for(n=0;n<o.length;n++)if(a=o[n],"."!==a){if(".."!==a)break;s>1&&s--}return r.slice(0,s).join("/")+"/"+o.slice(n-(n===o.length?1:0)).join("/")}var E,S;(function(e){e["pop"]="pop",e["push"]="push"})(E||(E={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(S||(S={}));function x(e){if(!e)if(n){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),h(e)}const T=/^[^#]+#/;function k(e,t){return e.replace(T,"#")+t}function _(e,t){const r=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-r.left-(t.left||0),top:o.top-r.top-(t.top||0)}}const R=()=>({left:window.pageXOffset,top:window.pageYOffset});function O(e){let t;if("el"in e){const r=e.el,o="string"===typeof r&&r.startsWith("#");0;const i="string"===typeof r?o?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=_(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function D(e,t){const r=history.state?history.state.position-t:-1;return r+e}const A=new Map;function P(e,t){A.set(e,t)}function M(e){const t=A.get(e);return A.delete(e),t}let L=()=>location.protocol+"//"+location.host;function F(e,t){const{pathname:r,search:o,hash:i}=t,n=e.indexOf("#");if(n>-1){let t=i.includes(e.slice(n))?e.slice(n).length:1,r=i.slice(t);return"/"!==r[0]&&(r="/"+r),g(r,"")}const a=g(r,e);return a+o+i}function I(e,t,r,o){let i=[],n=[],a=null;const l=({state:n})=>{const s=F(e,location),l=r.value,c=t.value;let u=0;if(n){if(r.value=s,t.value=n,a&&a===l)return void(a=null);u=c?n.position-c.position:0}else o(s);i.forEach((e=>{e(r.value,l,{delta:u,type:E.pop,direction:u?u>0?S.forward:S.back:S.unknown})}))};function c(){a=r.value}function u(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return n.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(s({},e.state,{scroll:R()}),"")}function h(){for(const e of n)e();n=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:u,destroy:h}}function N(e,t,r,o=!1,i=!1){return{back:e,current:t,forward:r,replaced:o,position:window.history.length,scroll:i?R():null}}function H(e){const{history:t,location:r}=window,o={value:F(e,r)},i={value:t.state};function n(o,n,a){const s=e.indexOf("#"),l=s>-1?(r.host&&document.querySelector("base")?e:e.slice(s))+o:L()+e+o;try{t[a?"replaceState":"pushState"](n,"",l),i.value=n}catch(c){console.error(c),r[a?"replace":"assign"](l)}}function a(e,r){const a=s({},t.state,N(i.value.back,e,i.value.forward,!0),r,{position:i.value.position});n(e,a,!0),o.value=e}function l(e,r){const a=s({},i.value,t.state,{forward:e,scroll:R()});n(a.current,a,!0);const l=s({},N(o.value,e,null),{position:a.position+1},r);n(e,l,!1),o.value=e}return i.value||n(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:i,push:l,replace:a}}function G(e){e=x(e);const t=H(e),r=I(e,t.state,t.location,t.replace);function o(e,t=!0){t||r.pauseListeners(),history.go(e)}const i=s({location:"",base:e,go:o,createHref:k.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function V(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),G(e)}function z(e){return"string"===typeof e||e&&"object"===typeof e}function B(e){return"string"===typeof e||"symbol"===typeof e}const j={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},W=Symbol("");var U;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(U||(U={}));function $(e,t){return s(new Error,{type:e,[W]:!0},t)}function K(e,t){return e instanceof Error&&W in e&&(null==t||!!(e.type&t))}const Y="[^/]+?",q={sensitive:!1,strict:!1,start:!0,end:!0},X=/[.+*?^${}()[\]/\\]/g;function J(e,t){const r=s({},q,t),o=[];let i=r.start?"^":"";const n=[];for(const s of e){const e=s.length?[]:[90];r.strict&&!s.length&&(i+="/");for(let t=0;t<s.length;t++){const o=s[t];let a=40+(r.sensitive?.25:0);if(0===o.type)t||(i+="/"),i+=o.value.replace(X,"\\$&"),a+=40;else if(1===o.type){const{value:e,repeatable:r,optional:l,regexp:c}=o;n.push({name:e,repeatable:r,optional:l});const u=c||Y;if(u!==Y){a+=10;try{new RegExp(`(${u})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+d.message)}}let h=r?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(h=l&&s.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),i+=h,a+=20,l&&(a+=-8),r&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}o.push(e)}if(r.strict&&r.end){const e=o.length-1;o[e][o[e].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const a=new RegExp(i,r.sensitive?"":"i");function l(e){const t=e.match(a),r={};if(!t)return null;for(let o=1;o<t.length;o++){const e=t[o]||"",i=n[o-1];r[i.name]=e&&i.repeatable?e.split("/"):e}return r}function c(t){let r="",o=!1;for(const i of e){o&&r.endsWith("/")||(r+="/"),o=!1;for(const e of i)if(0===e.type)r+=e.value;else if(1===e.type){const{value:n,repeatable:a,optional:s}=e,l=n in t?t[n]:"";if(u(l)&&!a)throw new Error(`Provided param "${n}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${n}"`);i.length<2&&(r.endsWith("/")?r=r.slice(0,-1):o=!0)}r+=c}}return r||"/"}return{re:a,score:o,keys:n,parse:l,stringify:c}}function Q(e,t){let r=0;while(r<e.length&&r<t.length){const o=t[r]-e[r];if(o)return o;r++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Z(e,t){let r=0;const o=e.score,i=t.score;while(r<o.length&&r<i.length){const e=Q(o[r],i[r]);if(e)return e;r++}if(1===Math.abs(i.length-o.length)){if(ee(o))return 1;if(ee(i))return-1}return i.length-o.length}function ee(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const te={type:0,value:""},re=/[a-zA-Z0-9_]/;function oe(e){if(!e)return[[]];if("/"===e)return[[te]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${r})/"${c}": ${e}`)}let r=0,o=r;const i=[];let n;function a(){n&&i.push(n),n=[]}let s,l=0,c="",u="";function d(){c&&(0===r?n.push({type:0,value:c}):1===r||2===r||3===r?(n.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function h(){c+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===r)switch(r){case 0:"/"===s?(c&&d(),a()):":"===s?(d(),r=1):h();break;case 4:h(),r=o;break;case 1:"("===s?r=2:re.test(s)?h():(d(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:r=3:u+=s;break;case 3:d(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state");break}else o=r,r=4;return 2===r&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),i}function ie(e,t,r){const o=J(oe(e.path),r);const i=s(o,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ne(e,t){const r=[],o=new Map;function i(e){return o.get(e)}function n(e,r,o){const i=!o,l=se(e);l.aliasOf=o&&o.record;const d=de(t,e),h=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)h.push(s({},l,{components:o?o.record.components:l.components,path:e,aliasOf:o?o.record:l}))}let p,f;for(const t of h){const{path:s}=t;if(r&&"/"!==s[0]){const e=r.record.path,o="/"===e[e.length-1]?"":"/";t.path=r.record.path+(s&&o+s)}if(p=ie(t,r,d),o?o.alias.push(p):(f=f||p,f!==p&&f.alias.push(p),i&&e.name&&!ce(p)&&a(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)n(e[t],p,o&&o.children[t])}o=o||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&u(p)}return f?()=>{a(f)}:c}function a(e){if(B(e)){const t=o.get(e);t&&(o.delete(e),r.splice(r.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=r.indexOf(e);t>-1&&(r.splice(t,1),e.record.name&&o.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function l(){return r}function u(e){let t=0;while(t<r.length&&Z(e,r[t])>=0&&(e.record.path!==r[t].record.path||!he(e,r[t])))t++;r.splice(t,0,e),e.record.name&&!ce(e)&&o.set(e.record.name,e)}function d(e,t){let i,n,a,l={};if("name"in e&&e.name){if(i=o.get(e.name),!i)throw $(1,{location:e});0,a=i.record.name,l=s(ae(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&ae(e.params,i.keys.map((e=>e.name)))),n=i.stringify(l)}else if("path"in e)n=e.path,i=r.find((e=>e.re.test(n))),i&&(l=i.parse(n),a=i.record.name);else{if(i=t.name?o.get(t.name):r.find((e=>e.re.test(t.path))),!i)throw $(1,{location:e,currentLocation:t});a=i.record.name,l=s({},t.params,e.params),n=i.stringify(l)}const c=[];let u=i;while(u)c.unshift(u.record),u=u.parent;return{name:a,path:n,params:l,matched:c,meta:ue(c)}}return t=de({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>n(e))),{addRoute:n,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function ae(e,t){const r={};for(const o of t)o in e&&(r[o]=e[o]);return r}function se(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:le(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function le(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const o in e.components)t[o]="object"===typeof r?r[o]:r;return t}function ce(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ue(e){return e.reduce(((e,t)=>s(e,t.meta)),{})}function de(e,t){const r={};for(const o in e)r[o]=o in t?t[o]:e[o];return r}function he(e,t){return t.children.some((t=>t===e||he(e,t)))}const pe=/#/g,fe=/&/g,ge=/\//g,ve=/=/g,me=/\?/g,be=/\+/g,ye=/%5B/g,we=/%5D/g,Ce=/%5E/g,Ee=/%60/g,Se=/%7B/g,xe=/%7C/g,Te=/%7D/g,ke=/%20/g;function _e(e){return encodeURI(""+e).replace(xe,"|").replace(ye,"[").replace(we,"]")}function Re(e){return _e(e).replace(Se,"{").replace(Te,"}").replace(Ce,"^")}function Oe(e){return _e(e).replace(be,"%2B").replace(ke,"+").replace(pe,"%23").replace(fe,"%26").replace(Ee,"`").replace(Se,"{").replace(Te,"}").replace(Ce,"^")}function De(e){return Oe(e).replace(ve,"%3D")}function Ae(e){return _e(e).replace(pe,"%23").replace(me,"%3F")}function Pe(e){return null==e?"":Ae(e).replace(ge,"%2F")}function Me(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Le(e){const t={};if(""===e||"?"===e)return t;const r="?"===e[0],o=(r?e.slice(1):e).split("&");for(let i=0;i<o.length;++i){const e=o[i].replace(be," "),r=e.indexOf("="),n=Me(r<0?e:e.slice(0,r)),a=r<0?null:Me(e.slice(r+1));if(n in t){let e=t[n];u(e)||(e=t[n]=[e]),e.push(a)}else t[n]=a}return t}function Fe(e){let t="";for(let r in e){const o=e[r];if(r=De(r),null==o){void 0!==o&&(t+=(t.length?"&":"")+r);continue}const i=u(o)?o.map((e=>e&&Oe(e))):[o&&Oe(o)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+r,null!=e&&(t+="="+e))}))}return t}function Ie(e){const t={};for(const r in e){const o=e[r];void 0!==o&&(t[r]=u(o)?o.map((e=>null==e?null:""+e)):null==o?o:""+o)}return t}const Ne=Symbol(""),He=Symbol(""),Ge=Symbol(""),Ve=Symbol(""),ze=Symbol("");function Be(){let e=[];function t(t){return e.push(t),()=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function je(e,t,r,o,i){const n=o&&(o.enterCallbacks[i]=o.enterCallbacks[i]||[]);return()=>new Promise(((a,s)=>{const l=e=>{!1===e?s($(4,{from:r,to:t})):e instanceof Error?s(e):z(e)?s($(2,{from:t,to:e})):(n&&o.enterCallbacks[i]===n&&"function"===typeof e&&n.push(e),a())},c=e.call(o&&o.instances[i],t,r,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>s(e)))}))}function We(e,t,r,o){const i=[];for(const n of e){0;for(const e in n.components){let s=n.components[e];if("beforeRouteEnter"===t||n.instances[e])if(Ue(s)){const a=s.__vccOpts||s,l=a[t];l&&i.push(je(l,r,o,n,e))}else{let l=s();0,i.push((()=>l.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${n.path}"`));const s=a(i)?i.default:i;n.components[e]=s;const l=s.__vccOpts||s,c=l[t];return c&&je(c,r,o,n,e)()}))))}}}return i}function Ue(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function $e(e){const t=(0,o.f3)(Ge),r=(0,o.f3)(Ve),n=(0,o.Fl)((()=>t.resolve((0,i.SU)(e.to)))),a=(0,o.Fl)((()=>{const{matched:e}=n.value,{length:t}=e,o=e[t-1],i=r.matched;if(!o||!i.length)return-1;const a=i.findIndex(m.bind(null,o));if(a>-1)return a;const s=Je(e[t-2]);return t>1&&Je(o)===s&&i[i.length-1].path!==s?i.findIndex(m.bind(null,e[t-2])):a})),s=(0,o.Fl)((()=>a.value>-1&&Xe(r.params,n.value.params))),l=(0,o.Fl)((()=>a.value>-1&&a.value===r.matched.length-1&&b(r.params,n.value.params)));function u(r={}){return qe(r)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(c):Promise.resolve()}return{route:n,href:(0,o.Fl)((()=>n.value.href)),isActive:s,isExactActive:l,navigate:u}}const Ke=(0,o.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$e,setup(e,{slots:t}){const r=(0,i.qj)($e(e)),{options:n}=(0,o.f3)(Ge),a=(0,o.Fl)((()=>({[Qe(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Qe(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const i=t.default&&t.default(r);return e.custom?i:(0,o.h)("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),Ye=Ke;function qe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xe(e,t){for(const r in t){const o=t[r],i=e[r];if("string"===typeof o){if(o!==i)return!1}else if(!u(i)||i.length!==o.length||o.some(((e,t)=>e!==i[t])))return!1}return!0}function Je(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qe=(e,t,r)=>null!=e?e:null!=t?t:r,Ze=(0,o.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=(0,o.f3)(ze),a=(0,o.Fl)((()=>e.route||n.value)),l=(0,o.f3)(He,0),c=(0,o.Fl)((()=>{let e=(0,i.SU)(l);const{matched:t}=a.value;let r;while((r=t[e])&&!r.components)e++;return e})),u=(0,o.Fl)((()=>a.value.matched[c.value]));(0,o.JJ)(He,(0,o.Fl)((()=>c.value+1))),(0,o.JJ)(Ne,u),(0,o.JJ)(ze,a);const d=(0,i.iH)();return(0,o.YP)((()=>[d.value,u.value,e.name]),(([e,t,r],[o,i,n])=>{t&&(t.instances[r]=e,i&&i!==t&&e&&e===o&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&m(t,i)&&o||(t.enterCallbacks[r]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=a.value,n=e.name,l=u.value,c=l&&l.components[n];if(!c)return et(r.default,{Component:c,route:i});const h=l.props[n],p=h?!0===h?i.params:"function"===typeof h?h(i):h:null,f=e=>{e.component.isUnmounted&&(l.instances[n]=null)},g=(0,o.h)(c,s({},p,t,{onVnodeUnmounted:f,ref:d}));return et(r.default,{Component:g,route:i})||g}}});function et(e,t){if(!e)return null;const r=e(t);return 1===r.length?r[0]:r}const tt=Ze;function rt(e){const t=ne(e.routes,e),r=e.parseQuery||Le,a=e.stringifyQuery||Fe,d=e.history;const h=Be(),g=Be(),m=Be(),b=(0,i.XI)(j);let y=j;n&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=l.bind(null,(e=>""+e)),C=l.bind(null,Pe),S=l.bind(null,Me);function x(e,r){let o,i;return B(e)?(o=t.getRecordMatcher(e),i=r):i=e,t.addRoute(i,o)}function T(e){const r=t.getRecordMatcher(e);r&&t.removeRoute(r)}function k(){return t.getRoutes().map((e=>e.record))}function _(e){return!!t.getRecordMatcher(e)}function A(e,o){if(o=s({},o||b.value),"string"===typeof e){const i=p(r,e,o.path),n=t.resolve({path:i.path},o),a=d.createHref(i.fullPath);return s(i,n,{params:S(n.params),hash:Me(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in e)i=s({},e,{path:p(r,e.path,o.path).path});else{const t=s({},e.params);for(const e in t)null==t[e]&&delete t[e];i=s({},e,{params:C(t)}),o.params=C(o.params)}const n=t.resolve(i,o),l=e.hash||"";n.params=w(S(n.params));const c=f(a,s({},e,{hash:Re(l),path:n.path})),u=d.createHref(c);return s({fullPath:c,hash:l,query:a===Fe?Ie(e.query):e.query||{}},n,{redirectedFrom:void 0,href:u})}function L(e){return"string"===typeof e?p(r,e,b.value.path):s({},e)}function F(e,t){if(y!==e)return $(8,{from:t,to:e})}function I(e){return G(e)}function N(e){return I(s(L(e),{replace:!0}))}function H(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:r}=t;let o="function"===typeof r?r(e):r;return"string"===typeof o&&(o=o.includes("?")||o.includes("#")?o=L(o):{path:o},o.params={}),s({query:e.query,hash:e.hash,params:"path"in o?{}:e.params},o)}}function G(e,t){const r=y=A(e),o=b.value,i=e.state,n=e.force,l=!0===e.replace,c=H(r);if(c)return G(s(L(c),{state:"object"===typeof c?s({},i,c.state):i,force:n,replace:l}),t||r);const u=r;let d;return u.redirectedFrom=t,!n&&v(a,o,r)&&(d=$(16,{to:u,from:o}),oe(o,o,!0,!1)),(d?Promise.resolve(d):W(u,o)).catch((e=>K(e)?K(e,2)?e:re(e):ee(e,u,o))).then((e=>{if(e){if(K(e,2))return G(s({replace:l},L(e.to),{state:"object"===typeof e.to?s({},i,e.to.state):i,force:n}),t||u)}else e=Y(u,o,!0,l,i);return U(u,o,e),e}))}function V(e,t){const r=F(e,t);return r?Promise.reject(r):Promise.resolve()}function z(e){const t=se.values().next().value;return t&&"function"===typeof t.runWithContext?t.runWithContext(e):e()}function W(e,t){let r;const[o,i,n]=ot(e,t);r=We(o.reverse(),"beforeRouteLeave",e,t);for(const s of o)s.leaveGuards.forEach((o=>{r.push(je(o,e,t))}));const a=V.bind(null,e,t);return r.push(a),ce(r).then((()=>{r=[];for(const o of h.list())r.push(je(o,e,t));return r.push(a),ce(r)})).then((()=>{r=We(i,"beforeRouteUpdate",e,t);for(const o of i)o.updateGuards.forEach((o=>{r.push(je(o,e,t))}));return r.push(a),ce(r)})).then((()=>{r=[];for(const o of n)if(o.beforeEnter)if(u(o.beforeEnter))for(const i of o.beforeEnter)r.push(je(i,e,t));else r.push(je(o.beforeEnter,e,t));return r.push(a),ce(r)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),r=We(n,"beforeRouteEnter",e,t),r.push(a),ce(r)))).then((()=>{r=[];for(const o of g.list())r.push(je(o,e,t));return r.push(a),ce(r)})).catch((e=>K(e,8)?e:Promise.reject(e)))}function U(e,t,r){m.list().forEach((o=>z((()=>o(e,t,r)))))}function Y(e,t,r,o,i){const a=F(e,t);if(a)return a;const l=t===j,c=n?history.state:{};r&&(o||l?d.replace(e.fullPath,s({scroll:l&&c&&c.scroll},i)):d.push(e.fullPath,i)),b.value=e,oe(e,t,r,l),re()}let q;function X(){q||(q=d.listen(((e,t,r)=>{if(!le.listening)return;const o=A(e),i=H(o);if(i)return void G(s(i,{replace:!0}),o).catch(c);y=o;const a=b.value;n&&P(D(a.fullPath,r.delta),R()),W(o,a).catch((e=>K(e,12)?e:K(e,2)?(G(e.to,o).then((e=>{K(e,20)&&!r.delta&&r.type===E.pop&&d.go(-1,!1)})).catch(c),Promise.reject()):(r.delta&&d.go(-r.delta,!1),ee(e,o,a)))).then((e=>{e=e||Y(o,a,!1),e&&(r.delta&&!K(e,8)?d.go(-r.delta,!1):r.type===E.pop&&K(e,20)&&d.go(-1,!1)),U(o,a,e)})).catch(c)})))}let J,Q=Be(),Z=Be();function ee(e,t,r){re(e);const o=Z.list();return o.length?o.forEach((o=>o(e,t,r))):console.error(e),Promise.reject(e)}function te(){return J&&b.value!==j?Promise.resolve():new Promise(((e,t)=>{Q.add([e,t])}))}function re(e){return J||(J=!e,X(),Q.list().forEach((([t,r])=>e?r(e):t())),Q.reset()),e}function oe(t,r,i,a){const{scrollBehavior:s}=e;if(!n||!s)return Promise.resolve();const l=!i&&M(D(t.fullPath,0))||(a||!i)&&history.state&&history.state.scroll||null;return(0,o.Y3)().then((()=>s(t,r,l))).then((e=>e&&O(e))).catch((e=>ee(e,t,r)))}const ie=e=>d.go(e);let ae;const se=new Set,le={currentRoute:b,listening:!0,addRoute:x,removeRoute:T,hasRoute:_,getRoutes:k,resolve:A,options:e,push:I,replace:N,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:h.add,beforeResolve:g.add,afterEach:m.add,onError:Z.add,isReady:te,install(e){const t=this;e.component("RouterLink",Ye),e.component("RouterView",tt),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(b)}),n&&!ae&&b.value===j&&(ae=!0,I(d.location).catch((e=>{0})));const r={};for(const i in j)Object.defineProperty(r,i,{get:()=>b.value[i],enumerable:!0});e.provide(Ge,t),e.provide(Ve,(0,i.Um)(r)),e.provide(ze,b);const o=e.unmount;se.add(e),e.unmount=function(){se.delete(e),se.size<1&&(y=j,q&&q(),q=null,b.value=j,ae=!1,J=!1),o()}}};function ce(e){return e.reduce(((e,t)=>e.then((()=>z(t)))),Promise.resolve())}return le}function ot(e,t){const r=[],o=[],i=[],n=Math.max(t.matched.length,e.matched.length);for(let a=0;a<n;a++){const n=t.matched[a];n&&(e.matched.find((e=>m(e,n)))?o.push(n):r.push(n));const s=e.matched[a];s&&(t.matched.find((e=>m(e,s)))||i.push(s))}return[r,o,i]}}}]);
//# sourceMappingURL=chunk-vendors.beec8705.js.map